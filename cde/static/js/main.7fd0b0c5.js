/*! For license information please see main.7fd0b0c5.js.LICENSE.txt */
(function(){var __webpack_modules__={1506:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},4575:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3913:function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},9842:function(e,t,n){var r=n(9754),i=n(7067),o=n(8585);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var s=r(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return o(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},9754:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},2205:function(e,t,n){var r=n(9489);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},7067:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},8585:function(e,t,n){var r=n(8).default,i=n(1506);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9489:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},8:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7757:function(e,t,n){e.exports=n(8937)},9980:function(e,t,n){"use strict";n.d(t,{a:function(){return r}});var r={CAT_EVENTS:"Events",CAT_IO:"Input/Output",CAT_LOGIC:"Logic",CAT_LOOPS:"Loops",CAT_MATH:"Math",CAT_TIMING:"Timing",CAT_VARS:"Variables",CAT_FUNC:"Functions",CAT_FLIGHT_COMMANDS:"Flight Commands",CAT_FLIGHT_SEQUENCES:"Flight Sequences",CAT_FLIGHT_VARIABLES:"Flight Variables",CAT_STATUS_CHECKERS:"Status Checkers",CAT_LIGHTS:"Lights",CAT_SOUND:"Sounds",CAT_SENSORS:"Sensors",CAT_SCREEN:"Screen",CAT_COLOR:"Colors",FLIGHT_TAKE_OFF:"%1 take off",FLIGHT_LAND:"%1 land",FLIGHT_EMERGENCY_STOP:"%1 stop motors",FLIGHT_HOVER:"%1 hover for %2 second(s)",FLIGHT_GO:"%4 go %1 for %2 second(s) at %3% power",FLIGHT_TURN_DEGREES:"%3 turn %1 %2 degrees",FLIGHT_TURN_POWER:"%3 turn %1 for %2 second(s) at %4 % power",FLIGHT_FLIP:"%1 flip %2",STATUS_CODE_IS_RUNNING:"code is running",LIGHTS_DRONE_LED:"%1 set drone LED color to %2, with a brightness of %3 %4",LIGHTS_OFF_DRONE_LED:"%1 turn drone LED off",LIGHTS_CONTROLLER_LED:"%1 set controller LED color to %2, with a brightness of %3 %4",LIGHTS_OFF_CONTROLLER_LED:"%1 turn controller LED off",SOUND_DRONE:"%1 play this note %2 for %3 second(s) on drone",SOUND_CONTROLLER:"%1 play this note %2 for %3 second(s) on controller",VAR_FORWARD:"forward",VAR_BACKWARD:"backward",VAR_UP:"up",VAR_DOWN:"down",VAR_LEFT:"left",VAR_RIGHT:"right",IO_RUN_CLICKED:"when %1 clicked",IO_WHEN_KEY_PRESS:"when %1 key press",TIME_WAIT:"%2 wait %1 second(s)",XML_JUNIOR:"junior",XML_SENIOR:"senior",WARN_REQUIREMENTS:"Please make sure your computer has the %1 to use Blockly for Robolink",WARN_MINIMUM:"minimum requirements",CODE_APPROXIMATION:"This is an approximation of Python code",CODE_COPY:"Copy",MENU_MENU:"Menu",MENU_SAVE:"Save",MENU_OPEN:"Open...",MENU_NEW:"New",MENU_CLEAN_UP:"Clean up",MENU_UNDO:"Undo",MENU_REDO:"Redo",MENU_HELP:"Robolink Help",MENU_SYSTEM:"System Requirements",BTN_RUN:"Run code",BTN_STOP:"Stop",BTN_RUNNING:"Code running...",CONN_NOT_PAIRED:"Not Paired",CONN_HOW_TO_PAIR:"How to pair",CONN_PAIR:"Pair",CONN_BATT_ALERT_TEXT1:"Before connecting Blockly to your controller:",CONN_BATT_ALERT_TEXT2:"Remove any AA batteries from the controller",CONN_BATT_ALERT_TEXT3:"Be sure you're using the included USB cable. Some USB cables are charge-only, so won't transfer data.",CONN_BATT_ALERT_TEXT4:"Click here to read more.",CONN_LEARN_MORE:"Learn More",CONN_PAIRED:"Paired",CONN_SPEED:"Speed",CONN_TRIMMING:"Trimming",CONN_PITCH:"pitch",CONN_ROLL:"roll",CONN_DISCONNECT:"Disconnect",CONSOLE_TAB:"Console",CONSOLE_CLEAR:"clear console",CLEAR_WARNING:"Warning! Starting a new project will clear your workspace. Do you want to continue?",BTN_CANCEL:"Cancel",BTN_OK:"Ok",IMAGE_UPLOAD:"Upload image",COLOR_CAT_BTN_CALIBRATE:"Calibrate color",COLOR_CAT_BTN_LOAD_DATASET:"Load dataset",COLOR_ALERT_PAIR:"Please pair with a CoDrone EDU first",COLOR_WARNING_NEW:"Warning! Starting a new color set will clear your current set. Do you want to continue?",COLOR_HEADER:"Color Calibration",COLOR_MAIN_BTN_NEW:"New color set",COLOR_MAIN_BTN_EXISTING:"Add to existing set",COLOR_TITLE_COLOR_SET_NAME:"What do you want to name this color set?",COLOR_TITLE_COLLECT_SAMPLE:"How many samples do you want to collect for %1?",COLOR_CALIBRATING:"Calibrating...",COLOR_TITLE_DETECTING:"Detecting:",COLOR_BTN_NEXT:"Next",COLOR_BTN_COLLECT:"Collect",COLOR_BTN_CALIBRATE:"Calibrate",COLOR_BTN_STARTOVER:"Start over",COLOR_BTN_USE:"Use this color set",COLOR_BTN_DOWNLOAD:"Download",COLOR_LOAD_CLASSIFIER:"load classifier: %1 ",ALERT_WHICH_DRONE:"Which drone do you have?",MENU_SETTINGS:"Settings",MENU_LANGUAGE:"Language",SD_NO_DRONE_PAIRED:"No drone paired",SD_INACTIVE_NOT_ON_SURFACE:"Inactive when not on surface",SD_ACCEL:"Accelerometer",SD_GYRO:"Gyroscope",VALUE_YAW:"yaw",SD_FRONT_RANGE:"Front range",SD_BOTTOM_RANGE:"Bottom range",SD_FRONT_COLOR:"Front color",SD_REAR_COLOR:"Rear color",VALUE_HUE:"hue",VALUE_SAT:"saturation",VALUE_VAL:"value",SD_TEMP:"Drone Temperature",SD_PRESSURE:"Pressure",SD_POS:"Position",SD_BTN_REFRESH:"Refresh",SD_MSG_REQUEST:"Request with code to display sensor data",SD_OUT_OF_RANGE:"out of range",FLIGHT_TAKE_OFF_SENIOR:"takeoff()",FLIGHT_LAND_SENIOR:"land()",FLIGHT_EMERGENCY_STOP_SENIOR:"stop_motors()",FLIGHT_HOVER_SENIOR:"hover( %1 sec)",FLIGHT_MOVE_SENIOR:"move(%2 %, %3 %, %4 %, %5 %, %1 sec)",FLIGHT_FLIP_SENIOR:"flip(%1)",FLIGHT_TURN_DEGREE_SENIOR:"turn_degree(%1\xb0)",FLIGHT_AVOID_WALL_SENIOR:"avoid_wall(%1, %2)",FLIGHT_SETROLL_SENIOR:"set_roll(%1 %)",FLIGHT_SETPITCH_SENIOR:"set_pitch(%1 %)",FLIGHT_SETYAW_SENIOR:"set_yaw(%1 %)",FLIGHT_SETTHROTTLE_SENIOR:"set_throttle(%1 %)",FLIGHT_MOVE_NO_PARAM_SENIOR:"move()",FLIGHT_MOVE_DURATION_SENIOR:"move(%1 sec)",FLIGHT_SET_TRIM_SENIOR:"set_trim(%1, %2)",FLIGHT_GET_TRIM_SENIOR:"get_trim()",FLIGHT_RESET_TRIM_SENIOR:"reset_trim()",SENSORS_GET_RANGE_SENIOR:"get_range(%1, %2)",VAR_RANGE_FORWARD:"front",VAR_RANGE_BOTTOM:"bottom",SENSORS_GET_ANGLE_SENIOR:"get_angle(%1)",SENSORS_GET_GYRO_SENIOR:"get_gyro(%1)",SENSORS_GET_ACCEL_SENIOR:"get_accel(%1)",SENSORS_GET_POS_SENIOR:"get_pos(%1, %2)",SENSORS_GET_BATTERY_SENIOR:"get_battery()",SENSORS_GET_HEIGHT_SENIOR:"get_height(%1)",SENSORS_GET_PRESSURE_SENIOR:"get_pressure(%1)",SENSORS_GET_TEMPERATURE_SENIOR:"get_temperature(%1)",VAR_TEMPERATURE_FAHRENHEIT:"Fahrenheit",VAR_TEMPERATURE_CELSIUS:"Celsius",VAR_TEMPERATURE_KELVIN:"Kelvin",SENSORS_GET_ALTITUDE_SENIOR:"get_altitude_data()",SENSORS_GET_COLORS_SENIOR:"get_color(%1)",VAR_COLORS_FRONT:"front",VAR_COLORS_BACK:"back",SENSORS_GET_COLOR_HSVL_SENIOR:"get_%1_hsvl(%2)",VAR_HSVL_HUE:"hue",VAR_HSVL_SATURATION:"saturation",VAR_HSVL_VALUE:"value",VAR_HSVL_LIGHTNESS:"lightness",SENSORS_GET_STATE_SENIOR:"get_state_data(%1)",VAR_STATE_MODEFLIGHT:"modeFlight",VAR_STATE_MODEMOVEMENT:"modeMovement",LIGHTS_SET_DRONE_LED_SENIOR:"set_drone_LED(%1, %2, %3, %4)",LIGHTS_DRONE_LED_OFF_SENIOR:"drone_LED_off()",LIGHTS_SET_CONTROLLER_LED_SENIOR:"set_controller_LED(%1, %2, %3, %4)",LIGHTS_CONTROLLER_LED_OFF_SENIOR:"controller_LED_off()",DRONE_BUZZER_SENIOR:"drone_buzzer(Note.%1, %2 milliseconds)",CONTROLLER_BUZZER_SENIOR:"controller_buzzer(Note.%1, %2 milliseconds)",DRONE_BUZZER_HERTZ_SENIOR:"drone_buzzer(%1 Hertz, %2 milliseconds)",CONTROLLER_BUZZER_HERTZ_SENIOR:"controller_buzzer(%1 Hertz, %2 milliseconds)",SCREEN_CONTROLLER_DRAW_LINE_SENIOR:"controller_draw_line(%1, %2, %3, %4)",SCREEN_CONTROLLER_DRAW_STRING_SENIOR:"controller_draw_string(%1, %2, %3)",SCREEN_CONTROLLER_DRAW_RECTANGLE_SENIOR:"controller_draw_rectangle(%1, %2, %3, %4, %5)",SCREEN_CONTROLLER_DRAW_SQUARE_SENIOR:"controller_draw_square(%1, %2, %3, %4)",SCREEN_CONTROLLER_DRAW_POINT_SENIOR:"controller_draw_point(%1, %2)",SCREEN_CONTROLLER_DRAW_IMAGE_SENIOR:"controller_draw_image(%1)",SCREEN_CONTROLLER_CLEAR_SCREEN_SENIOR:"controller_clear_screen()",COLOR_GET_COLOR_DATA:"predict_color(%1)",PLAY_BLOCK_REMOVED:'The "when [play] clicked" block is being removed from the workspace. The page will reload and you will need to re-pair with your drone in Blockly.',SENSORS_RESET:"reset_sensor()",BTN_CONTINUE:"Continue",PANEL_LESSONS:"Lessons",PANEL_SENSORS:"Sensors",PANEL_PYTHON:"Python",PANEL_DOCS:"Docs",PANEL_EXAMPLES:"Examples",SAVE_FILE_NAME:"File name:",NEW_WARNING:"Warning! Opening a project will clear your workspace. Do you want to continue?",FLIGHT_STOP_AT_OBSTACLE_SENIOR:"stop_at_obstacle(%1, %2)",FLIGHT_DETECT_OBSTACLE_SENIOR:"detect_obstacle()",FLIGHT_GO_SENIOR:"go(%2 %, %3 %, %4 %, %5 %, %1 sec)",SENSORS_GET_ELEVATION_SENIOR:"get_elevation(%1)"}},6393:function(e,t,n){"use strict";n.d(t,{Y:function(){return r}});var r={CAT_EVENTS:"\u30a4\u30d9\u30f3\u30c8",CAT_IO:"\u30a4\u30f3\u30d7\u30c3\u30c8/\u30a2\u30a6\u30c8\u30d7\u30c3\u30c8",CAT_LOGIC:"\u8ad6\u7406",CAT_LOOPS:"\u7e70\u308a\u8fd4\u3057",CAT_MATH:"\u6570\u5b66",CAT_TIMING:"\u30bf\u30a4\u30df\u30f3\u30b0",CAT_VARS:"\u5909\u6570",CAT_FUNC:"\u95a2\u6570",CAT_FLIGHT_COMMANDS:"\u30d5\u30e9\u30a4\u30c8\u30b3\u30de\u30f3\u30c9",CAT_FLIGHT_SEQUENCES:"\u30d5\u30e9\u30a4\u30c8\u30b7\u30fc\u30b1\u30f3\u30b9",CAT_FLIGHT_VARIABLES:"\u30d5\u30e9\u30a4\u30c8\u5909\u6570",CAT_STATUS_CHECKERS:"\u30b9\u30c6\u30fc\u30bf\u30b9\u30c1\u30a7\u30c3\u30ab\u30fc",CAT_LIGHTS:"\u30e9\u30a4\u30c8",CAT_SOUND:"\u30b5\u30a6\u30f3\u30c9",CAT_SENSORS:"\u30bb\u30f3\u30b5\u30fc",CAT_SCREEN:"\u30b9\u30af\u30ea\u30fc\u30f3",CAT_COLOR:"\u30ab\u30e9\u30fc",FLIGHT_TAKE_OFF:"%1 \u96e2\u9678",FLIGHT_LAND:"%1 \u7740\u9678",FLIGHT_EMERGENCY_STOP:"%1 \u7dca\u6025\u505c\u6b62",FLIGHT_HOVER:"%1 \u30db\u30d0\u30ea\u30f3\u30b0 %2 \u79d2",FLIGHT_GO:"%4 \u9032\u3080 %1 \u3067 %2 \u79d2\u9593 %3% \u30d1\u30ef\u30fc",FLIGHT_TURN_DEGREES:"%3 \u65cb\u56de %1 %2 \u5ea6",FLIGHT_TURN_POWER:"%3 \u65cb\u56de %1 \u3067 %2 \u79d2\u9593 %4 % \u30d1\u30ef\u30fc",FLIGHT_FLIP:"%1 \u30d5\u30ea\u30c3\u30d7 %2",STATUS_CODE_IS_RUNNING:"\u30b3\u30fc\u30c9\u5b9f\u884c\u4e2d",LIGHTS_DRONE_LED:"%1 \u30c9\u30ed\u30fc\u30f3\uff2c\uff25\uff24\u30ab\u30e9\u30fc\u3092\u30bb\u30c3\u30c8 %2, \u306e\u660e\u308b\u3055\u3067 %3 %4",LIGHTS_OFF_DRONE_LED:"%1 \u30c9\u30ed\u30fc\u30f3\uff2c\uff25\uff24\u30aa\u30d5",LIGHTS_CONTROLLER_LED:"%1 \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\uff2c\uff25\uff24\u30ab\u30e9\u30fc\u3092\u30bb\u30c3\u30c8 %2, \u306e\u660e\u308b\u3055\u3067 %3 %4",LIGHTS_OFF_CONTROLLER_LED:"%1 \u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\uff2c\uff25\uff24\u30aa\u30d5",SOUND_DRONE:"%1 \u97f3\u968e\u3092\u518d\u751f %2 \u3067 %3 \u79d2\u9593\u30c9\u30ed\u30fc\u30f3\u3067",SOUND_CONTROLLER:"%1 \u97f3\u968e\u3092\u518d\u751f %2 \u3067 %3 \u79d2\u9593\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u3067",VAR_FORWARD:"\u524d\u9032",VAR_BACKWARD:"\u5f8c\u9000",VAR_UP:"\u4e0a\u6607",VAR_DOWN:"\u4e0b\u964d",VAR_LEFT:"\u5de6",VAR_RIGHT:"\u53f3",IO_RUN_CLICKED:"\u5834\u5408 %1 \u30af\u30ea\u30c3\u30af\u3057\u305f",IO_WHEN_KEY_PRESS:"\u5834\u5408 %1 \u30ad\u30fc\u5165\u529b\u3057\u305f",TIME_WAIT:"%2 \u5f85\u3064 %1 \u79d2\u9593",XML_JUNIOR:"\u30b8\u30e5\u30cb\u30a2",XML_SENIOR:"\u30b7\u30cb\u30a2",WARN_REQUIREMENTS:"\u304a\u4f7f\u3044\u306e\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u30fc\u304cBlockly for Robolink\u3092\u4f7f\u7528\u3059\u308b\u306e\u306b%1\u3092\u6e80\u305f\u3057\u3066\u3044\u308b\u304b\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044",WARN_MINIMUM:"\u6700\u4f4e\u8981\u4ef6",CODE_APPROXIMATION:"\u3053\u308c\u306fPython\u30b3\u30fc\u30c9\u306e\u985e\u4f3c\u3067\u3059",CODE_COPY:"Copy",MENU_MENU:"\u30e1\u30cb\u30e5\u30fc",MENU_SAVE:"\u30bb\u30fc\u30d6",MENU_OPEN:"\u958b\u304f...",MENU_NEW:"\u65b0\u3057\u3044",MENU_CLEAN_UP:"\u30af\u30ea\u30fc\u30f3\u30a2\u30c3\u30d7",MENU_UNDO:"\u5143\u306b\u623b\u3059",MENU_REDO:"\u3084\u308a\u76f4\u3059",MENU_HELP:"Robolink\u30d8\u30eb\u30d7",MENU_SYSTEM:"\u30b7\u30b9\u30c6\u30e0\u8981\u4ef6",BTN_RUN:"\u30b3\u30fc\u30c9\u5b9f\u884c",BTN_STOP:"\u505c\u6b62",BTN_RUNNING:"\u30b3\u30fc\u30c9\u5b9f\u884c\u4e2d",CONN_NOT_PAIRED:"\u30da\u30a2\u30ea\u30f3\u30b0\u3055\u308c\u3066\u3044\u307e\u305b\u3093",CONN_HOW_TO_PAIR:"\u30da\u30a2\u30ea\u30f3\u30b0\u65b9\u6cd5",CONN_PAIR:"\u30da\u30a2\u30ea\u30f3\u30b0",CONN_BATT_ALERT_TEXT1:"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u3092Blockly\u306b\u63a5\u7d9a\u3059\u308b\u524d\u306b",CONN_BATT_ALERT_TEXT2:"\u5358\u4e09\u96fb\u6c60\u3092\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u304b\u3089\u629c\u3044\u3066\u304f\u3060\u3055\u3044",CONN_BATT_ALERT_TEXT3:"\u4ed8\u5c5e\u306eUSB\u30b1\u30fc\u30d6\u30eb\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u4e00\u90e8\u306eUSB\u30b1\u30fc\u30d6\u30eb\u306f\u5145\u96fb\u5c02\u7528\u3067\u3001\u30c7\u30fc\u30bf\u8ee2\u9001\u304c\u3067\u304d\u307e\u305b\u3093\u3002",CONN_BATT_ALERT_TEXT4:"\u8a73\u7d30\u306f\u3053\u3061\u3089",CONN_LEARN_MORE:"\u3082\u3063\u3068\u5b66\u3076",CONN_PAIRED:"\u30da\u30a2\u30ea\u30f3\u30b0\u72b6\u614b",CONN_SPEED:"\u901f\u5ea6",CONN_TRIMMING:"\u30c8\u30ea\u30df\u30f3\u30b0",CONN_PITCH:"\u30d4\u30c3\u30c1",CONN_ROLL:"\u30ed\u30fc\u30eb",CONN_DISCONNECT:"\u5207\u65ad",CONSOLE_TAB:"\u30b3\u30f3\u30bd\u30fc\u30eb",CONSOLE_CLEAR:"\u30b3\u30f3\u30bd\u30fc\u30eb\u3092\u30af\u30ea\u30a2",CLEAR_WARNING:"\u8b66\u544a\uff01\u65b0\u3057\u3044\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u958b\u59cb\u3059\u308b\u3068\u3001\u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9\u304c\u30af\u30ea\u30a2\u3055\u308c\u307e\u3059\u3002\u7d9a\u3051\u305f\u3044\u3067\u3059\u304b\uff1f",BTN_CANCEL:"\u30ad\u30e3\u30f3\u30bb\u30eb",BTN_OK:"OK",IMAGE_UPLOAD:"\u753b\u50cf\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9",COLOR_CAT_BTN_CALIBRATE:"\u8272\u3092\u8abf\u6574",COLOR_CAT_BTN_LOAD_DATASET:"\u30c7\u30fc\u30bf\u30bb\u30c3\u30c8\u306e\u8aad\u307f\u8fbc\u307f",COLOR_ALERT_PAIR:"\u307e\u305aCoDrone EDU\u3068\u30da\u30a2\u30ea\u30f3\u30b0\u3057\u3066\u304f\u3060\u3055\u3044",COLOR_WARNING_NEW:"\u8b66\u544a\uff01\u65b0\u3057\u3044\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8\u3092\u958b\u59cb\u3059\u308b\u3068\u3001\u73fe\u5728\u306e\u30bb\u30c3\u30c8\u304c\u30af\u30ea\u30a2\u3055\u308c\u307e\u3059\u3002\u7d9a\u3051\u305f\u3044\u3067\u3059\u304b\uff1f",COLOR_HEADER:"\u8272\u8abf\u6574",COLOR_MAIN_BTN_NEW:"\u65b0\u3057\u3044\u30ab\u30e9\u30fc\u3092\u30bb\u30c3\u30c8",COLOR_MAIN_BTN_EXISTING:"\u65e2\u5b58\u306e\u30bb\u30c3\u30c8\u306b\u8ffd\u52a0",COLOR_TITLE_COLOR_SET_NAME:"\u3053\u306e\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8\u306e\u540d\u524d\u3092\u8a2d\u5b9a",COLOR_TITLE_COLLECT_SAMPLE:"%1\u306b\u5bfe\u3057\u3066\u3044\u304f\u3064\u306e\u30b5\u30f3\u30d7\u30eb\u3092\u53ce\u96c6\u3057\u307e\u3059\u304b?",COLOR_CALIBRATING:"\u8abf\u6574\u4e2d...",COLOR_TITLE_DETECTING:"\u63a2\u7d22\u4e2d:",COLOR_BTN_NEXT:"\u6b21",COLOR_BTN_COLLECT:"\u53ce\u96c6",COLOR_BTN_CALIBRATE:"\u8abf\u6574",COLOR_BTN_STARTOVER:"\u6700\u521d\u304b\u3089\u3084\u308a\u76f4\u3059",COLOR_BTN_USE:"\u3053\u306e\u30ab\u30e9\u30fc\u30bb\u30c3\u30c8\u3092\u4f7f\u3046",COLOR_BTN_DOWNLOAD:"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9",COLOR_LOAD_CLASSIFIER:"\u5206\u985e\u9805\u76ee\u306e\u8aad\u307f\u8fbc\u307f: %1",ALERT_WHICH_DRONE:"\u3069\u3061\u3089\u306e\u30c9\u30ed\u30fc\u30f3\u3092\u304a\u6301\u3061\u3067\u3059\u304b\uff1f",MENU_SETTINGS:"\u8a2d\u5b9a",MENU_LANGUAGE:"\u8a00\u8a9e",SD_NO_DRONE_PAIRED:"\u30da\u30a2\u30ea\u30f3\u30b0\u3055\u308c\u3066\u3044\u308b\u30c9\u30ed\u30fc\u30f3\u306f\u3042\u308a\u307e\u305b\u3093",SD_INACTIVE_NOT_ON_SURFACE:"\u8868\u5074\u306b\u306a\u3044\u3068\u304d\u306f\u975e\u30a2\u30af\u30c6\u30a3\u30d6\u72b6\u614b",SD_ACCEL:"\u52a0\u901f\u5ea6\u8a08",SD_GYRO:"\u30b8\u30e3\u30a4\u30ed\u30b9\u30b3\u30fc\u30d7",VALUE_YAW:"\u30e8\u30fc",SD_FRONT_RANGE:"\u524d\u65b9\u8ddd\u96e2",SD_BOTTOM_RANGE:"\u4e0b\u65b9\u8ddd\u96e2",SD_FRONT_COLOR:"\u524d\u65b9\u30ab\u30e9\u30fc",SD_REAR_COLOR:"\u5f8c\u65b9\u30ab\u30e9\u30fc",VALUE_HUE:"\u8272\u76f8",VALUE_SAT:"\u5f69\u5ea6",VALUE_VAL:"\u5024",SD_TEMP:"\u30c9\u30ed\u30fc\u30f3\u6e29\u5ea6",SD_PRESSURE:"\u6c17\u5727",SD_POS:"\u4f4d\u7f6e",SD_BTN_REFRESH:"\u30ea\u30d5\u30ec\u30c3\u30b7\u30e5",SD_MSG_REQUEST:"\u30bb\u30f3\u30b5\u30fc\u30c7\u30fc\u30bf\u3092\u8868\u793a\u3059\u308b\u305f\u3081\u306e\u30b3\u30fc\u30c9\u4ed8\u304d\u30ea\u30af\u30a8\u30b9\u30c8",SD_OUT_OF_RANGE:"\u7bc4\u56f2\u5916",FLIGHT_TAKE_OFF_SENIOR:"\u96e2\u9678()",FLIGHT_LAND_SENIOR:"\u7740\u9678()",FLIGHT_EMERGENCY_STOP_SENIOR:"\u7dca\u6025\u505c\u6b62()",FLIGHT_HOVER_SENIOR:"\u30db\u30d0\u30ea\u30f3\u30b0(%1 \u79d2\u9593)",FLIGHT_MOVE_SENIOR:"\u9032\u3080(%2 \uff05,%3 \uff05,%4 \uff05,%5 \uff05, %1 \u79d2\u9593)",FLIGHT_FLIP_SENIOR:"\u30d5\u30ea\u30c3\u30d7(%1)",FLIGHT_TURN_DEGREE_SENIOR:"\u56de\u8ee2(%1 \u02da )",FLIGHT_AVOID_WALL_SENIOR:"\u58c1\u3092\u3088\u3051\u308b(%1, %2)",FLIGHT_SETROLL_SENIOR:"\u30ed\u30fc\u30eb\u5024\u30bb\u30c3\u30c8(%1 %)",FLIGHT_SETPITCH_SENIOR:"\u30d4\u30c3\u30c1\u5024\u30bb\u30c3\u30c8(%1 %)",FLIGHT_SETYAW_SENIOR:"\u30e8\u30fc\u5024\u30bb\u30c3\u30c8(%1 %)",FLIGHT_SETTHROTTLE_SENIOR:"\u30b9\u30ed\u30c3\u30c8\u30eb\u5024\u30bb\u30c3\u30c8(%1 %)",FLIGHT_MOVE_NO_PARAM_SENIOR:"\u52d5\u304f()",FLIGHT_MOVE_DURATION_SENIOR:"\u52d5\u304f(%1 \u79d2\u9593)",FLIGHT_SET_TRIM_SENIOR:"\u30c8\u30ea\u30e0\u30bb\u30c3\u30c8(%1, %2)",FLIGHT_GET_TRIM_SENIOR:"\u30c8\u30ea\u30e0\u53d6\u5f97()",FLIGHT_RESET_TRIM_SENIOR:"\u30c8\u30ea\u30e0\u30ea\u30bb\u30c3\u30c8()",SENSORS_GET_RANGE_SENIOR:"\u8ddd\u96e2\u53d6\u5f97(%1, %2)",VAR_RANGE_FORWARD:"\u524d\u65b9",VAR_RANGE_BOTTOM:"\u4e0b\u65b9",SENSORS_GET_ANGLE_SENIOR:"\u89d2\u5ea6\u53d6\u5f97(%1)",SENSORS_GET_GYRO_SENIOR:"\u89d2\u901f\u5ea6\u53d6\u5f97(%1)",SENSORS_GET_ACCEL_SENIOR:"\u52a0\u901f\u5ea6\u53d6\u5f97(%1)",SENSORS_GET_POS_SENIOR:"\u4f4d\u7f6e\u53d6\u5f97(%1, %2)",SENSORS_GET_BATTERY_SENIOR:"\u30d0\u30c3\u30c6\u30ea\u30fc\u60c5\u5831\u53d6\u5f97()",SENSORS_GET_HEIGHT_SENIOR:"\u9ad8\u3055\u53d6\u5f97(%1)",SENSORS_GET_PRESSURE_SENIOR:"\u6c17\u5727\u53d6\u5f97(%1)",SENSORS_GET_TEMPERATURE_SENIOR:"\u30c9\u30ed\u30fc\u30f3\u6e29\u5ea6\u53d6\u5f97(%1)",VAR_TEMPERATURE_FAHRENHEIT:"\u83ef\u6c0f",VAR_TEMPERATURE_CELSIUS:"\u6442\u6c0f",VAR_TEMPERATURE_KELVIN:"Kelvin",SENSORS_GET_ALTITUDE_SENIOR:"\u9ad8\u5ea6\u53d6\u5f97()",SENSORS_GET_COLORS_SENIOR:"\u8272\u53d6\u5f97(%1)",VAR_COLORS_FRONT:"\u524d\u65b9",VAR_COLORS_BACK:"\u5f8c\u65b9",SENSORS_GET_COLOR_HSVL_SENIOR:"\u8272%1\u7a7a\u9593\u53d6\u5f97(%2)",VAR_HSVL_HUE:"\u8272\u76f8",VAR_HSVL_SATURATION:"\u5f69\u5ea6",VAR_HSVL_VALUE:"\u5024",VAR_HSVL_LIGHTNESS:"\u8f1d\u5ea6",SENSORS_GET_STATE_SENIOR:"\u72b6\u6cc1\u30c7\u30fc\u30bf\u53d6\u5f97(%1)",VAR_STATE_MODEFLIGHT:"\u30d5\u30e9\u30a4\u30c8\u30e2\u30fc\u30c9",VAR_STATE_MODEMOVEMENT:"\u30e2\u30fc\u30b7\u30e7\u30f3\u30e2\u30fc\u30c9",LIGHTS_SET_DRONE_LED_SENIOR:"\u30c9\u30ed\u30fc\u30f3LED\u30bb\u30c3\u30c8(%1, %2, %3, %4)",LIGHTS_DRONE_LED_OFF_SENIOR:"\u30c9\u30ed\u30fc\u30f3LED\u30aa\u30d5()",LIGHTS_SET_CONTROLLER_LED_SENIOR:"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fcLED\u30bb\u30c3\u30c8(%1, %2, %3, %4)",LIGHTS_CONTROLLER_LED_OFF_SENIOR:"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fcLED\u30aa\u30d5()",DRONE_BUZZER_SENIOR:"\u30c9\u30ed\u30fc\u30f3\u30d6\u30b6\u30fc(\u97f3\u968e. %1, %2 \u30df\u30ea\u79d2)",CONTROLLER_BUZZER_SENIOR:"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u30d6\u30b6\u30fc(\u97f3\u968e. %1, %2 \u30df\u30ea\u79d2)",DRONE_BUZZER_HERTZ_SENIOR:"\u30c9\u30ed\u30fc\u30f3\u30d6\u30b6\u30fc(%1 Hertz, %2 \u30df\u30ea\u79d2)",CONTROLLER_BUZZER_HERTZ_SENIOR:"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u30d6\u30b6\u30fc(%1 Hertz, %2 \u30df\u30ea\u79d2)",SCREEN_CONTROLLER_DRAW_LINE_SENIOR:"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u76f4\u7dda\u63cf\u5199(%1, %2, %3, %4)",SCREEN_CONTROLLER_DRAW_STRING_SENIOR:"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u6587\u5b57\u5217\u63cf\u5199(%1, %2, %3)",SCREEN_CONTROLLER_DRAW_RECTANGLE_SENIOR:"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u77e9\u5f62\u63cf\u5199(%1, %2, %3, %4, %5)",SCREEN_CONTROLLER_DRAW_SQUARE_SENIOR:"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u65b9\u5f62(%1, %2, %3, %4)",SCREEN_CONTROLLER_DRAW_POINT_SENIOR:"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u30dd\u30a4\u30f3\u30c8\u63cf\u5199(%1, %2)",SCREEN_CONTROLLER_DRAW_IMAGE_SENIOR:"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u753b\u50cf\u63cf\u5199(%1)",SCREEN_CONTROLLER_CLEAR_SCREEN_SENIOR:"\u30b3\u30f3\u30c8\u30ed\u30fc\u30e9\u30fc\u30b9\u30af\u30ea\u30fc\u30f3\u30af\u30ea\u30a2()",COLOR_GET_COLOR_DATA:"\u8272\u60c5\u5831\u53d6\u5f97(%1)",PLAY_BLOCK_REMOVED:"\u300c\u30d7\u30ec\u30a4\u304c\u30af\u30ea\u30c3\u30af\u3055\u308c\u305f\u6642\u300d\u306e\u30d6\u30ed\u30c3\u30af\u304c\u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9\u304b\u3089\u524a\u9664\u3055\u308c\u307e\u3057\u305f\u3002\u30da\u30fc\u30b8\u3092\u30ea\u30ed\u30fc\u30c9\u3057\u3066\u30c9\u30ed\u30fc\u30f3\u3092blockly\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3068\u518d\u63a5\u7d9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002",SENSORS_RESET:"\u30bb\u30f3\u30b5\u30fc\u30ea\u30bb\u30c3\u30c8()",BTN_CONTINUE:"\u7d9a\u3051\u308b",PANEL_LESSONS:"\u30ec\u30c3\u30b9\u30f3",PANEL_SENSORS:"\u30bb\u30f3\u30b5\u30fc",PANEL_PYTHON:"Python",PANEL_DOCS:"\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8",PANEL_EXAMPLES:"\u4f8b",SAVE_FILE_NAME:"\u30d5\u30a1\u30a4\u30eb\u540d",NEW_WARNING:"\u8b66\u544a!\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u958b\u304f\u3068\u3001\u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9\u304c\u6d88\u53bb\u3055\u308c\u307e\u3059\u3002\u7d9a\u884c\u3057\u307e\u3059\u304b\uff1f",FLIGHT_STOP_AT_OBSTACLE_SENIOR:"\u969c\u5bb3\u7269\u505c\u6b62(%1, %2)",FLIGHT_DETECT_OBSTACLE_SENIOR:"\u969c\u5bb3\u7269\u63a2\u77e5()",FLIGHT_GO_SENIOR:"\u9032\u3080(%2 %, %3 %, %4 %, %5 %, %1 \u79d2)",SENSORS_GET_ELEVATION_SENIOR:"get_elevation(%1)"}},5891:function(e,t,n){"use strict";n.d(t,{B:function(){return r}});var r={CAT_EVENTS:"\uc774\ubca4\ud2b8",CAT_IO:"\uc785\ucd9c\ub825",CAT_LOGIC:"\ub17c\ub9ac",CAT_LOOPS:"\ubc18\ubcf5",CAT_MATH:"\uc218\ud559",CAT_TIMING:"\uc2dc\uac04",CAT_VARS:"\ubcc0\uc218",CAT_FUNC:"\ud568\uc218",CAT_FLIGHT_COMMANDS:"\ube44\ud589 \uba85\ub839",CAT_FLIGHT_SEQUENCES:"\ube44\ud589 \uc2dc\ud000\uc2a4",CAT_FLIGHT_VARIABLES:"\ube44\ud589 \ubcc0\uc218",CAT_STATUS_CHECKERS:"\uc0c1\ud0dc \ud655\uc778",CAT_LIGHTS:"LED",CAT_SOUND:"\uc18c\ub9ac",CAT_SENSORS:"\uc13c\uc11c",CAT_SCREEN:"\ud654\uba74",CAT_COLOR:"\uc0c9\uc0c1",FLIGHT_TAKE_OFF:"%1 \uc774\ub959",FLIGHT_LAND:"%1 \ucc29\ub959",FLIGHT_EMERGENCY_STOP:"%1 \ube44\uc0c1 \ucc29\ub959",FLIGHT_HOVER:"%1 %2 \ucd08 \ub3d9\uc548 \ub9f4\ub3cc\uae30",FLIGHT_GO:"%4 %2 \ucd08 \ub3d9\uc548 %3 % \ud30c\uc6cc\ub85c %1 (\uc73c)\ub85c \uc774\ub3d9",FLIGHT_TURN_DEGREES:"%3 %2 \ub3c4 %1 \uc73c\ub85c \ud68c\uc804",FLIGHT_TURN_POWER:"%3 %2 \ucd08 \ub3d9\uc548 %4 % \ud30c\uc6cc\ub85c %1 \uc73c\ub85c \ud68c\uc804",FLIGHT_FLIP:"%1 %2 (\uc73c)\ub85c \uacf5\uc911\uc81c\ube44",STATUS_CODE_IS_RUNNING:"\ucf54\ub4dc\uac00 \uc2e4\ud589 \uc911",LIGHTS_DRONE_LED:"%1 \ub4dc\ub860 LED \uc0c9\uc0c1\uc744 %2\ub85c %3 \ubc1d\uae30\ub85c \uc124\uc815\ud558\uae30 %4",LIGHTS_OFF_DRONE_LED:"%1 \ub4dc\ub860 LED \ub044\uae30",LIGHTS_CONTROLLER_LED:"%1 \uc870\uc885\uae30 LED \uc0c9\uc0c1\uc744 %2\ub85c %3 \ubc1d\uae30\ub85c \uc124\uc815\ud558\uae30 %4",LIGHTS_OFF_CONTROLLER_LED:"%1 \uc870\uc885\uae30 LED \ub044\uae30",SOUND_DRONE:"%1 %2 \ub178\ud2b8 %3 \ucd08 \ub3d9\uc548 \ub4dc\ub860\uc5d0 \uc5f0\uc8fc\ud558\uae30",SOUND_CONTROLLER:"%1 %2 \ub178\ud2b8 %3 \ucd08 \ub3d9\uc548 \uc870\uc885\uae30\uc5d0 \uc5f0\uc8fc\ud558\uae30",VAR_FORWARD:"\uc55e",VAR_BACKWARD:"\ub4a4",VAR_UP:"\uc704",VAR_DOWN:"\uc544\ub798",VAR_LEFT:"\uc67c\ucabd",VAR_RIGHT:"\uc624\ub978\ucabd",IO_RUN_CLICKED:"%1 \ubc84\ud2bc\uc744 \ud074\ub9ad\ud588\uc744 \ub54c",IO_WHEN_KEY_PRESS:"%1 \ud0a4\ub97c \ub20c\ub800\uc744 \ub54c",TIME_WAIT:"%2 %1 \ucd08 \ub3d9\uc548 \uae30\ub2e4\ub9ac\uae30",XML_JUNIOR:"\ucd08\uae09",XML_SENIOR:"\uace0\uae09",WARN_REQUIREMENTS:"\ube14\ub85d\ud074\ub9ac\ub97c \uc0ac\uc6a9\ud558\uae30 \uc804\uc5d0 \ucef4\ud4e8\ud130\uac00 %1 \uc744 \ucda9\uc871\ud558\ub294\uc9c0 \ud655\uc778\ud574\uc8fc\uc138\uc694.",WARN_MINIMUM:"\ucd5c\uc18c \uc0ac\uc591",CODE_APPROXIMATION:"\uc544\ub798 Python \ucf54\ub4dc\ub294 \uadfc\uc0ac\uce58\uc785\ub2c8\ub2e4.",CODE_COPY:"\ubcf5\uc0ac",MENU_MENU:"\uba54\ub274",MENU_SAVE:"\uc800\uc7a5",MENU_OPEN:"\uc5f4\uae30...",MENU_NEW:"\uc0c8 \ud504\ub85c\uc81d\ud2b8",MENU_CLEAN_UP:"\uc815\ub82c",MENU_UNDO:"\ucde8\uc18c",MENU_REDO:"\ub2e4\uc2dc\ud558\uae30",MENU_HELP:"\ub3c4\uc6c0\ub9d0",MENU_SYSTEM:"\uc2dc\uc2a4\ud15c \ud658\uacbd",BTN_RUN:"\uc2e4\ud589",BTN_STOP:"\uba48\ucda4",BTN_RUNNING:"\uc2e4\ud589\uc911...",CONN_NOT_PAIRED:"\uc5f0\uacb0\ub418\uc9c0\uc54a\uc74c",CONN_HOW_TO_PAIR:"\uc5b4\ub5bb\uac8c \uc5f0\uacb0\ud558\ub098\uc694?",CONN_PAIR:"\uc5f0\uacb0",CONN_BATT_ALERT_TEXT1:"\ube14\ub85d\ud074\ub9ac\uc5d0 \ucee8\ud2b8\ub864\ub7ec\ub97c \uc5f0\uacb0\ud558\uae30 \uc804:",CONN_BATT_ALERT_TEXT2:"\ucee8\ud2b8\ub864\ub7ec\uc758 AA \ubc30\ud130\ub9ac\ub97c \ubaa8\ub450 \uc81c\uac70\ud574\uc8fc\uc138\uc694.",CONN_BATT_ALERT_TEXT3:"\uc81c\ud488\uc5d0 \ud3ec\ud568\ub41c USB \ucf00\uc774\ube14\uc744 \uc0ac\uc6a9\ud574\uc8fc\uc138\uc694. \uc77c\ubd80 USB \ucf00\uc774\ube14\uc740 \ucda9\uc804\ub9cc \uac00\ub2a5\ud558\uba70 \ub370\uc774\ud130 \uc804\uc1a1\uc774 \ubd88\uac00\ub2a5\ud569\ub2c8\ub2e4.",CONN_BATT_ALERT_TEXT4:"\ub354 \uc54c\uc544\ubcf4\uae30",CONN_LEARN_MORE:"\ub354 \uc54c\uc544\ubcf4\uae30",CONN_PAIRED:"\uc5f0\uacb0\ub428",CONN_SPEED:"\uc18d\ub3c4",CONN_TRIMMING:"\ud2b8\ub9ac\ubc0d",CONN_PITCH:"\ud53c\uce58",CONN_ROLL:"\ub864",CONN_DISCONNECT:"\uc5f0\uacb0 \ub04a\uae30",CONSOLE_TAB:"\ucf58\uc194",CONSOLE_CLEAR:"\ubaa8\ub450 \uc9c0\uc6b0\uae30",CLEAR_WARNING:"\uacbd\uace0! \uc0c8\ub85c\uc6b4 \ud504\ub85c\uc81d\ud2b8\ub97c \uc2dc\uc791\ud558\uac8c \ub418\uba74 \ud604\uc7ac \uc788\ub294 \ucf54\ub4dc\uac00 \uc0ac\ub77c\uc9d1\ub2c8\ub2e4. \uacc4\uc18d \uc9c4\ud589\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",BTN_CANCEL:"\ucde8\uc18c",BTN_OK:"\ud655\uc778",IMAGE_UPLOAD:"\uc774\ubbf8\uc9c0 \uc5c5\ub85c\ub4dc",COLOR_CAT_BTN_CALIBRATE:"\uc0c9\uc0c1 \uad50\uc815\ud558\uae30",COLOR_CAT_BTN_LOAD_DATASET:"\ub370\uc774\ud130\uc14b \ubd88\ub7ec\uc624\uae30",COLOR_ALERT_PAIR:"\ub4dc\ub860\uc744 \uc5f0\uacb0\ud574 \uc8fc\uc138\uc694.",COLOR_WARNING_NEW:"\uacbd\uace0! \uc0c8\ub85c\uc6b4 \uc0c9\uc0c1 \uc138\ud2b8\ub97c \ub9cc\ub4e4\uac8c \ub418\uba74 \ud604\uc7ac \uc788\ub294 \uc0c9\uc0c1 \uc138\ud2b8\uac00 \uc0ac\ub77c\uc9d1\ub2c8\ub2e4. \uacc4\uc18d \uc9c4\ud589\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",COLOR_HEADER:"\uc0c9\uc0c1 \uad50\uc815",COLOR_MAIN_BTN_NEW:"\uc0c8\ub85c\uc6b4 \uc0c9\uc0c1 \uc138\ud2b8 \ub9cc\ub4e4\uae30",COLOR_MAIN_BTN_EXISTING:"\uae30\uc874 \uc0c9\uc0c1 \uc138\ud2b8\uc5d0\uc11c \uad50\uc815\ud558\uae30",COLOR_TITLE_COLOR_SET_NAME:"\uc0c9\uc0c1 \uc138\ud2b8 \uc774\ub984\uc744 \ubb34\uc5c7\uc73c\ub85c \ud560\uae4c\uc694?",COLOR_TITLE_COLLECT_SAMPLE:"%1 \uc0c9\uc758 \uc0d8\ud50c\uc744 \uba87 \uac1c \ubaa8\uc744\uae4c\uc694?",COLOR_CALIBRATING:"\uad50\uc815\uc911...",COLOR_TITLE_DETECTING:"\uc778\uc2dd \uc911:",COLOR_BTN_NEXT:"\ub2e4\uc74c",COLOR_BTN_COLLECT:"\uc218\uc9d1\ud558\uae30",COLOR_BTN_CALIBRATE:"\uad50\uc815\ud558\uae30",COLOR_BTN_STARTOVER:"\ub2e4\uc2dc \uc2dc\uc791",COLOR_BTN_USE:"\uc774 \uc0c9\uc0c1 \uc138\ud2b8 \uc0ac\uc6a9\ud558\uae30",COLOR_BTN_DOWNLOAD:"\ub2e4\uc6b4\ub85c\ub4dc",COLOR_LOAD_CLASSIFIER:"\uc0c9\uc0c1 \uc138\ud2b8 \ubd88\ub7ec\uc624\uae30: %1 ",ALERT_WHICH_DRONE:"\uc5b4\ub5a4 \ub4dc\ub860\uc744 \uac00\uc9c0\uace0 \uc788\ub098\uc694?",MENU_SETTINGS:"\uc124\uc815",MENU_LANGUAGE:"\uc5b8\uc5b4",SD_NO_DRONE_PAIRED:"\uc5f0\uacb0\ub41c \ub4dc\ub860 \uc5c6\uc74c",SD_INACTIVE_NOT_ON_SURFACE:"\ud45c\uba74\uc5d0\uc11c \ub5a8\uc5b4\uc838 \uc788\uc744 \ub54c \ube44\ud65c\uc131\ud654",SD_ACCEL:"\uac00\uc18d\ub3c4",SD_GYRO:"\uc790\uc774\ub85c",VALUE_YAW:"\uc694",SD_FRONT_RANGE:"\uc804\ubc29 \uac70\ub9ac",SD_BOTTOM_RANGE:"\ud558\ub2e8 \uac70\ub9ac",SD_FRONT_COLOR:"\uc55e \uceec\ub7ec",SD_REAR_COLOR:"\ub4a4 \uceec\ub7ec",VALUE_HUE:"\uc0c9\uc870",VALUE_SAT:"\ucc44\ub3c4",VALUE_VAL:"\uba85\ub3c4",SD_TEMP:"\ub4dc\ub860 \uc628\ub3c4",SD_PRESSURE:"\uc555\ub825",SD_POS:"\uc704\uce58",SD_BTN_REFRESH:"\uc0c8\ub85c\uace0\uce68",SD_MSG_REQUEST:"\uc13c\uc11c \ub370\uc774\ud130\ub97c \ud45c\uc2dc\ud558\uae30 \uc704\ud574 \ucf54\ub4dc\ub97c \uc2e4\ud589\ud574\uc8fc\uc138\uc694",TEXT_PRINT_TITLE:"\ucf58\uc194\uc5d0 \ud45c\uc2dc\ud558\uae30 %1",TEXT_CREATE_JOIN_TITLE_JOIN:"\uc870\ud569",CONTROLS_REPEAT_INPUT_DO:"\uc2e4\ud589",CONTROLS_IF_MSG_THEN:"\uc2e4\ud589",CONTROLS_WHILEUNTIL_OPERATOR_UNTIL:"\ub420 \ub54c\uae4c\uc9c0 \ubc18\ubcf5",CONTROLS_FOR_TITLE:"%1 (\uac12)\uc744 \uc2dc\uc791 %2 \uc5d0\uc11c \uc885\ub8cc %3 \uae4c\uc9c0 %4 \ub9cc\ud07c \ubcc0\ud654",CONTROLS_FOREACH_TITLE:"\ub9ac\uc2a4\ud2b8 %1 \uc758 \uac01 \ud56d\ubaa9\uc744 %2",CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE:"\uac74\ub108\ub6f0\uae30",MATH_CHANGE_TITLE:"%1 \ub97c %2 \ub9cc\ud07c \ubc14\uafb8\uae30",SD_OUT_OF_RANGE:"\ubc94\uc704 \ubc97\uc5b4\ub0a8",FLIGHT_TAKE_OFF_SENIOR:"\uc774\ub959()",FLIGHT_LAND_SENIOR:"\ucc29\ub959()",FLIGHT_EMERGENCY_STOP_SENIOR:"\uae34\uae09_\uc815\uc9c0()",FLIGHT_HOVER_SENIOR:"\ud638\ubc84\ub9c1(%1 \ucd08)",FLIGHT_MOVE_SENIOR:"\uc774\ub3d9\ud558\uae30(%2 %, %3 %, %4 %, %5 %, %1 \ucd08)",FLIGHT_FLIP_SENIOR:"\uacf5\uc911\uc81c\ube44(%1)",FLIGHT_TURN_DEGREE_SENIOR:"\uac01\ub3c4_\ud68c\uc804(%1\xb0)",FLIGHT_AVOID_WALL_SENIOR:"\ubcbd_\ud68c\ud53c\ud558\uae30(%1, %2)",FLIGHT_SETROLL_SENIOR:"\ub864_\uc124\uc815\ud558\uae30(%1 %)",FLIGHT_SETPITCH_SENIOR:"\ud53c\uce58_\uc124\uc815\ud558\uae30(%1 %)",FLIGHT_SETYAW_SENIOR:"\uc694_\uc124\uc815\ud558\uae30(%1 %)",FLIGHT_SETTHROTTLE_SENIOR:"\uc2a4\ub85c\ud2c0_\uc124\uc815\ud558\uae30(%1 %)",FLIGHT_MOVE_NO_PARAM_SENIOR:"\uc774\ub3d9\ud558\uae30()",FLIGHT_MOVE_DURATION_SENIOR:"\uc774\ub3d9\ud558\uae30(%1 \ucd08)",FLIGHT_SET_TRIM_SENIOR:"\ud2b8\ub9bc_\uc124\uc815\ud558\uae30(%1, %2)",FLIGHT_GET_TRIM_SENIOR:"\ud2b8\ub9bc_\uac00\uc838\uc624\uae30()",FLIGHT_RESET_TRIM_SENIOR:"\ud2b8\ub9bc_\ucd08\uae30\ud654()",SENSORS_GET_RANGE_SENIOR:"\uac70\ub9ac_\uac00\uc838\uc624\uae30(%1, %2)",VAR_RANGE_FORWARD:"\uc804\ubc29",VAR_RANGE_BOTTOM:"\ud558\ub2e8",SENSORS_GET_ANGLE_SENIOR:"\uac01\ub3c4_\uac00\uc838\uc624\uae30(%1)",SENSORS_GET_GYRO_SENIOR:"\uc790\uc774\ub85c_\uac00\uc838\uc624\uae30(%1)",SENSORS_GET_ACCEL_SENIOR:"\uac00\uc18d\ub3c4_\uac00\uc838\uc624\uae30(%1)",SENSORS_GET_POS_SENIOR:"\uc704\uce58_\uac00\uc838\uc624\uae30(%1, %2)",SENSORS_GET_BATTERY_SENIOR:"\ubc30\ud130\ub9ac_\uac00\uc838\uc624\uae30()",SENSORS_GET_HEIGHT_SENIOR:"\ub192\uc774_\uac00\uc838\uc624\uae30(%1)",SENSORS_GET_PRESSURE_SENIOR:"\uae30\uc555_\uac00\uc838\uc624\uae30(%1)",SENSORS_GET_TEMPERATURE_SENIOR:"\uc628\ub3c4_\uac00\uc838\uc624\uae30(%1)",VAR_TEMPERATURE_FAHRENHEIT:"\ud654\uc528",VAR_TEMPERATURE_CELSIUS:"\uc12d\uc528",VAR_TEMPERATURE_KELVIN:"\ucf08\ube48",SENSORS_GET_ALTITUDE_SENIOR:"\uc790\uc138_\ub370\uc774\ud130_\uac00\uc838\uc624\uae30()",SENSORS_GET_COLORS_SENIOR:"\uc0c9\uc0c1_\uac00\uc838\uc624\uae30(%1 \uceec\ub7ec \uc13c\uc11c)",VAR_COLORS_FRONT:"\uc55e\ucabd",VAR_COLORS_BACK:"\ub4a4\ucabd",SENSORS_GET_COLOR_HSVL_SENIOR:"%1 \uceec\ub7ec \uc13c\uc11c\uc758_hsvl(%2)\uac00\uc838\uc624\uae30",VAR_HSVL_HUE:"\uc0c9\uc870",VAR_HSVL_SATURATION:"\ucc44\ub3c4",VAR_HSVL_VALUE:"\uba85\ub3c4",VAR_HSVL_LIGHTNESS:"\ubc1d\uae30",SENSORS_GET_STATE_SENIOR:"\uc0c1\ud0dc_\ub370\uc774\ud130_\uac00\uc838\uc624\uae30(%1)",VAR_STATE_MODEFLIGHT:"\ube44\ud589\ub3d9\uc791\uc0c1\ud0dc",VAR_STATE_MODEMOVEMENT:"\uc774\ub3d9\uc0c1\ud0dc",LIGHTS_SET_DRONE_LED_SENIOR:"\ub4dc\ub860_LED_\uc124\uc815(%1, %2, %3, %4)",LIGHTS_DRONE_LED_OFF_SENIOR:"\ub4dc\ub860_LED_\ub044\uae30()",LIGHTS_SET_CONTROLLER_LED_SENIOR:"\uc870\uc885\uae30_LED_\uc124\uc815(%1, %2, %3, %4)",LIGHTS_CONTROLLER_LED_OFF_SENIOR:"\uc870\uc885\uae30_LED_\ub044\uae30()",DRONE_BUZZER_SENIOR:"\ub4dc\ub860\uc5d0\uc11c_\uc18c\ub9ac\ub0b4\uae30(Note.%1, %2 \ubc00\ub9ac\ucd08)",CONTROLLER_BUZZER_SENIOR:"\uc870\uc885\uae30\uc5d0\uc11c_\uc18c\ub9ac\ub0b4\uae30(Note.%1, %2 \ubc00\ub9ac\ucd08)",DRONE_BUZZER_HERTZ_SENIOR:"\ub4dc\ub860\uc5d0\uc11c_\uc18c\ub9ac\ub0b4\uae30(%1 Hertz, %2 \ubc00\ub9ac\ucd08)",CONTROLLER_BUZZER_HERTZ_SENIOR:"\uc870\uc885\uae30\uc5d0\uc11c_\uc18c\ub9ac\ub0b4\uae30(%1 Hertz, %2 \ubc00\ub9ac\ucd08)",SCREEN_CONTROLLER_DRAW_LINE_SENIOR:"\uc870\uc885\uae30\uc5d0_\uc120_\uadf8\ub9ac\uae30(%1, %2, %3, %4)",SCREEN_CONTROLLER_DRAW_STRING_SENIOR:"\uc870\uc885\uae30\uc5d0_\ubb38\uc790_\uadf8\ub9ac\uae30(%1, %2, %3)",SCREEN_CONTROLLER_DRAW_RECTANGLE_SENIOR:"\uc870\uc885\uae30\uc5d0_\uc0ac\uac01\ud615_\uadf8\ub9ac\uae30(%1, %2, %3, %4, %5)",SCREEN_CONTROLLER_DRAW_SQUARE_SENIOR:"\uc870\uc885\uae30\uc5d0_\uc815\uc0ac\uac01\ud615_\uadf8\ub9ac\uae30(%1, %2, %3, %4)",SCREEN_CONTROLLER_DRAW_POINT_SENIOR:"\uc870\uc885\uae30\uc5d0_\uc810_\uadf8\ub9ac\uae30(%1, %2)",SCREEN_CONTROLLER_DRAW_IMAGE_SENIOR:"\uc870\uc885\uae30\uc5d0_\uc774\ubbf8\uc9c0_\uadf8\ub9ac\uae30(%1)",SCREEN_CONTROLLER_CLEAR_SCREEN_SENIOR:"\uc870\uc885\uae30_\ud654\uba74_\uc9c0\uc6b0\uae30()",COLOR_GET_COLOR_DATA:"\uceec\ub7ec_\ub370\uc774\ud130_\uc608\uce21\ud558\uae30(%1)",PLAY_BLOCK_REMOVED:'"[\uc2e4\ud589] \ubc84\ud2bc\uc744 \ud074\ub9ad\ud588\uc744\ub54c" \ube14\ub85d\uc774 \uc81c\uac70\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \ud398\uc774\uc9c0\ub97c \uc0c8\ub85c\uace0\uce68\ud558\uace0 Blockly\uc5d0 \ub4dc\ub860\uc744 \ub2e4\uc2dc \uc5f0\uacb0\ud574\uc8fc\uc138\uc694.',SENSORS_RESET:"\uc13c\uc11c_\ub9ac\uc14b()",BTN_CONTINUE:"\uacc4\uc18d",PANEL_LESSONS:"Lessons",PANEL_SENSORS:"Sensors",PANEL_PYTHON:"Python",PANEL_DOCS:"Docs",PANEL_EXAMPLES:"Examples",SAVE_FILE_NAME:"File name:",NEW_WARNING:"Warning! Opening a project will clear your workspace. Do you want to continue?",FLIGHT_STOP_AT_OBSTACLE_SENIOR:"stop_at_obstacle(%1, %2)",FLIGHT_DETECT_OBSTACLE_SENIOR:"detect_obstacle()",FLIGHT_GO_SENIOR:"go(%2 %, %3 %, %4 %, %5 %, %1 sec)",SENSORS_GET_ELEVATION_SENIOR:"get_elevation(%1)"}},2744:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(1413),i=n(5861),o=n(5671),s=n(3144),a=n(7757),l=n.n(a),c=64,u=82,h=65,p=66,d=67,f=69,_=68,g=49,m=147,v=160,y=113,T=112,E={0:"Unknown",1:"White",2:"Red",3:"Yellow",4:"Green",5:"Cyan",6:"Blue",7:"Magenta",8:"Black",9:"Grey"};n.g.convert2BytesIntoInt16=function(e,t){var n=(255&t)<<8|255&e;return 128&t&&(n|=4294901760),n},n.g.convert4BytesIntoFloat32=function(e){var t=new ArrayBuffer(4),n=new DataView(t);return e.forEach((function(e,t){n.setUint8(t,e)})),n.getFloat32(0)};var b=function(){function e(t,n){(0,o.Z)(this,e),this.package=t,this.eventName=n,this.handleNotification=this.handleNotification.bind(this)}return(0,s.Z)(e,[{key:"run",value:function(){var e=(0,i.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(this.package);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleNotification",value:function(){var e=(0,i.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"generateCRC",value:function(){var e=this.package.length,t=this.package.slice(2,e-2),n=window.crc.crc16xmodem(t);this.package[e-1]=n>>8&255,this.package[e-2]=255&n}},{key:"setUint8Array",value:function(){this.package=new Uint8Array(this.package)}},{key:"sendSerialCommand",value:function(){var e=(0,i.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("---- Running command: "+this.eventName),n.g.START_TIME&&console.log("Timestamp: ",Date.now()-n.g.START_TIME),e.prev=2,Code.device.port.writable.locked){e.next=9;break}return t=Code.device.port.writable.getWriter(),e.next=7,t.write(this.package);case 7:return e.next=9,t.releaseLock();case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0);case 14:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"sendSerialCommand2",value:function(){var e=(0,i.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getState",value:function(){var e=(0,i.Z)(l().mark((function e(){var t,r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=8;break}return console.log("Package sent:",this),"not-running"!==(null===(t=document.getElementById("runButton"))||void 0===t||null===(r=t.nextSibling)||void 0===r?void 0:r.className)&&(0===n.g.getInitialTimeStampSensors()&&n.g.setInitialTimeStampSensors(new Date),console.log("============================="),console.log("== Package Sent "+n.g.getTimeStampSensorsDiference()+" : "+this.eventName+" ["+this.package+"]"),console.log("=============================")),i=Code.device.port.writable.getWriter(),e.next=6,i.write(new Uint8Array(this.package));case 6:return e.next=8,i.releaseLock();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}],[{key:"listener",value:function(){var t=(0,i.Z)(l().mark((function t(){var r,o,s;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=Code.device.port.readable.getReader();case 1:if(!Code.listener){t.next=17;break}return t.prev=2,t.next=5,r.read();case 5:o=t.sent,s=o.value,e.parseData(s),t.next=15;break;case 10:if(t.prev=10,t.t0=t.catch(2),!t.t0.toString().includes("The device has been lost")){t.next=15;break}return setTimeout((0,i.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.releaseLock();case 2:return e.next=4,n.g.disconnect();case 4:case"end":return e.stop()}}),e)}))),1e3),t.abrupt("break",17);case 15:t.next=1;break;case 17:if(Code.listener){t.next=20;break}return t.next=20,r.releaseLock();case 20:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(){return t.apply(this,arguments)}}()},{key:"showTimeStamp",value:function(e){var t,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"receive";"not-running"!==(null===(t=document.getElementById("runButton"))||void 0===t||null===(r=t.nextSibling)||void 0===r?void 0:r.className)&&(0===n.g.getInitialTimeStampSensors()&&n.g.setInitialTimeStampSensors(new Date),console.log("============================="),console.log("== Package "+i+" "+n.g.getTimeStampSensorsDiference()+" : ["+e+"]"),console.log("============================="))}},{key:"storeData",value:function(e,t){var n=localStorage.getItem("droneData")?JSON.parse(localStorage.getItem("droneData")):{},i=(0,r.Z)({},n),o=i[e]?i[e]:[];o.push(t),i[e]=o;var s=document.createEvent("StorageEvent");s.initStorageEvent("storage",!1,!1,"droneData_".concat(e),JSON.stringify(n),JSON.stringify(i),null,window.localStorage),window.dispatchEvent(s),localStorage.setItem("droneData",JSON.stringify(i))}},{key:"parseData",value:function(e){var t,n,r,i=0;if(10===(t=new Uint16Array(e))[0]&&85===t[1]&&(i=t.length,n=t[3]+8,r=t[2],i===n)){var o,s,a,l,b=window.crc.crc16xmodem(t.slice(2,t.length-2));if(o=255&b,s=(65280&b)>>8,t[t.length-2]===o&&t[t.length-1]===s)switch(r){case c:16===t[4]?(Code.droneData.battery=t[13],Code.droneData.state={modeSystem:t[6],modeFlight:t[7],modeControlFlight:t[8],modeMovement:t[9],headless:t[10],controlSpeed:t[11],sensorOrientation:t[12]}):32===t[4]&&(Code.droneData.connection=t[8]),this.showTimeStamp(t,"receive");break;case h:var O=t[7]<<8|t[6];128&t[7]&&(O|=4294901760);var k=t[9]<<8|t[8];128&t[9]&&(k|=4294901760);var w=t[11]<<8|t[10];128&t[11]&&(w|=4294901760),Code.droneData.angle={roll:O,pitch:k,yaw:w},this.showTimeStamp(t,"receive");break;case u:var S=255!==t[7]?t[6]:-1*(t[7]-t[6]+1),I=255!==t[9]?t[8]:-1*(t[9]-t[8]+1);Code.droneData.trim={roll:S,pitch:I},this.showTimeStamp(t,"receive");break;case f:var R=128&t[9],C=(255&t[9])<<8|255&t[8];R&&(C|=4294901760);var A=128&t[17],x=(255&t[17])<<8|255&t[16];A&&(x|=4294901760),C>=9999&&(C=2e3),x<0&&(x=0),Code.droneData.range={front:C,bottom:x},a="range",l=Code.droneData.range,this.storeData(a,l,t),this.showTimeStamp(t,"receive");break;case _:var M=convert2BytesIntoInt16(t[6],t[7]),N=convert2BytesIntoInt16(t[8],t[9]),L=convert2BytesIntoInt16(t[10],t[11]),D=convert2BytesIntoInt16(t[12],t[13]),P=convert2BytesIntoInt16(t[14],t[15]),B=convert2BytesIntoInt16(t[16],t[17]),U=convert2BytesIntoInt16(t[18],t[19]),F=convert2BytesIntoInt16(t[20],t[21]),W=convert2BytesIntoInt16(t[22],t[23]);Code.droneData.motion={accelX:M,accelY:N,accelZ:L,gyroRoll:D,gyroPitch:P,gyroYaw:B,angleRoll:U,anglePitch:F,angleYaw:W},a="motion",l=Code.droneData.motion,this.storeData(a,l,t),this.showTimeStamp(t,"receive");break;case d:var H=convert4BytesIntoFloat32([t[9],t[8],t[7],t[6]]),G=convert4BytesIntoFloat32([t[13],t[12],t[11],t[10]]),V=convert4BytesIntoFloat32([t[17],t[16],t[15],t[14]]),j=convert4BytesIntoFloat32([t[21],t[20],t[19],t[18]]);Code.droneData.altitude={height:j,temp:H,pressure:G,altitude:V},a="altitude",l=Code.droneData.altitude,this.storeData(a,l,t),this.showTimeStamp(t,"receive");break;case p:var Z=convert4BytesIntoFloat32([t[9],t[8],t[7],t[6]]),q=convert4BytesIntoFloat32([t[13],t[12],t[11],t[10]]),X=convert4BytesIntoFloat32([t[17],t[16],t[15],t[14]]);Code.droneData.position={x:Z,y:parseFloat(-1*q),z:X},a="position",l=Code.droneData.position,this.storeData(a,l,t),this.showTimeStamp(t,"receive");break;case g:var $=convert4BytesIntoFloat32([t[9],t[8],t[7],t[6]]),Y=convert4BytesIntoFloat32([t[13],t[12],t[11],t[10]]);Code.droneData.flow={x:$,y:Y};break;case y:Code.droneData.joystick={left:{x:t[6],y:t[7],direction:t[8],event:t[9]},right:{x:t[10],y:t[11],direction:t[12],event:t[13]}};break;case T:var z=convert2BytesIntoInt16(t[6],t[7]),Q=t[8];Code.droneData.button={button:z,event:Q};break;case m:var K=convert2BytesIntoInt16(t[6],t[7]),J=convert2BytesIntoInt16(t[8],t[9]),ee=convert2BytesIntoInt16(t[10],t[11]),te=convert2BytesIntoInt16(t[12],t[13]),ne=convert2BytesIntoInt16(t[14],t[15]),re=convert2BytesIntoInt16(t[16],t[17]),ie=convert2BytesIntoInt16(t[18],t[19]),oe=convert2BytesIntoInt16(t[20],t[21]),se=t[22],ae=t[23];Code.droneData.cardColor={frontHSVL:[K,J,ee,te],backHSVL:[ne,re,ie,oe],front:E[se],back:E[ae]},a="cardColor",l=Code.droneData.cardColor,this.storeData(a,l,t),this.showTimeStamp(t,"receive");break;case v:var le=convert2BytesIntoInt16(t[6],t[7]),ce=convert2BytesIntoInt16(t[8],t[9]),ue=convert2BytesIntoInt16(t[10],t[11]),he=convert2BytesIntoInt16(t[12],t[13]),pe=convert2BytesIntoInt16(t[14],t[15]),de=convert2BytesIntoInt16(t[16],t[17]),fe=convert2BytesIntoInt16(t[18],t[19]),_e=t[20],ge=t[21],me=t[22],ve=t[23];Code.droneData.allSensor={angleRoll:le,anglePitch:ce,angleYaw:ue,rpm:he,positionX:pe,positionY:de,positionZ:fe,speedX:_e,speedY:ge,rangeHeight:me,rssi:ve},a="allSensor",l=Code.droneData.allSensor,this.storeData(a,l,t),this.showTimeStamp(t,"receive")}}}}]),e}()},4773:function(e,t,n){"use strict";n.d(t,{j:function(){return c}});var r=n(5861),i=n(5671),o=n(3144),s=n(7757),a=n.n(s),l=function(){function e(){(0,i.Z)(this,e),this.stack=[],this.commandConsummerOn=!1,this.inProgress=!1,this.commandLoop=null,this.checkStopLoop=null}return(0,o.Z)(e,[{key:"addCommand",value:function(e){this.stack.push(e)}},{key:"initCommandConsumer",value:function(){this.commandConsummerOn=!0,this.clearCheckStopLoop(),this.checkIsStopped(),this.commandLoop=setInterval(function(){if(Code.commandManagerCDEInProgress)return!0;if(this.stack&&this.stack.length>0&&this.commandConsummerOn){var e=this.stack.shift();this.execute(e)}}.bind(this),100)}},{key:"checkIsStopped",value:function(){var e=this;this.checkStopLoop=setInterval((function(){n.g.RUNNING?e.stack.length>0?Code.executionTimesCDE=0:(Code.executionTimesCDE=Code.executionInProgress||Code.commandManagerCDEInProgress?0:Code.executionTimesCDE+1,Code.executionTimesCDE>2e3&&(Code.keypressInProgress||(n.g.callstopExternalEvent(),Code.executionTimesCDE=0))):Code.executionTimesCDE=0}),10)}},{key:"restartCommandConsumer",value:function(){this.commandConsummerOn=!1,this.cleanStack(),clearInterval(this.commandLoop),this.clearCheckStopLoop(),this.initCommandConsumer()}},{key:"cleanStack",value:function(){this.stack=[]}},{key:"clearCheckStopLoop",value:function(){try{this.checkStopLoop&&(clearInterval(this.checkStopLoop),this.checkStopLoop=null)}catch(e){console.log(e)}}},{key:"execute",value:function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Code.commandManagerCDEInProgress=!0,e.next=3,t.run();case 3:Code.commandManagerCDEInProgress=!1;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),c=new l},2336:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(5861),i=n(5671),o=n(3144),s=n(7757),a=n.n(s),l=64,c=82,u=65,h=67,p=function(){function e(t,n){(0,i.Z)(this,e),this.package=t,this.eventName=n,this.handleNotification=this.handleNotification.bind(this)}return(0,o.Z)(e,[{key:"run",value:function(){var e=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(this.package);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleNotification",value:function(){var e=(0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"generateCRC",value:function(){var e=this.package.length,t=this.package.slice(2,e-2),n=window.crc.crc16xmodem(t);this.package[e-1]=n>>8&255,this.package[e-2]=255&n}},{key:"setUint8Array",value:function(){this.package=new Uint8Array(this.package)}},{key:"sendSerialCommand",value:function(){var e=(0,r.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("---- Running command: "+this.eventName),e.prev=1,Code.device.port.writable.locked){e.next=9;break}return t=Code.device.port.writable.getWriter(),console.log("write",this.package),e.next=7,t.write(this.package);case 7:return e.next=9,t.releaseLock();case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("error in command "+this.eventName,e.t0),e.t0&&console.log(e.t0);case 15:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"getState",value:function(){var e=(0,r.Z)(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=5;break}return(r=Code.device.port.writable.getWriter()).write(new Uint8Array(t)),e.next=5,r.releaseLock();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"listener",value:function(){var t=(0,r.Z)(a().mark((function t(){var i,o,s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=Code.device.port.readable.getReader();case 1:if(!Code.listener){t.next=17;break}return t.prev=2,t.next=5,i.read();case 5:o=t.sent,s=o.value,e.parseData(s),t.next=15;break;case 10:if(t.prev=10,t.t0=t.catch(2),!t.t0.toString().includes("The device has been lost")){t.next=15;break}return setTimeout((0,r.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.releaseLock();case 2:return e.next=4,n.g.disconnect();case 4:case"end":return e.stop()}}),e)}))),1e3),t.abrupt("break",17);case 15:t.next=1;break;case 17:if(Code.listener){t.next=20;break}return t.next=20,i.releaseLock();case 20:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(){return t.apply(this,arguments)}}()},{key:"parseData",value:function(e){var t,n,r,i=0;if(10==(t=new Uint16Array(e))[0]&&85==t[1]&&(i=t.length,n=t[3]+8,r=t[2],i==n)){var o,s,a=crc.crc16xmodem(t.slice(2,t.length-2));if(o=255&a,s=(65280&a)>>8,t[t.length-2]==o&&t[t.length-1]==s)switch(r){case l:Code.droneData.battery=t[13];break;case u:var p=t[7]<<8|t[6];128&t[7]&&(p|=4294901760);var d=t[9]<<8|t[8];128&t[9]&&(d|=4294901760);var f=t[11]<<8|t[10];128&t[11]&&(f|=4294901760),console.log("angle",{roll:p,pitch:d,yaw:f}),Code.droneData.angle={roll:p,pitch:d,yaw:f};break;case h:var _=[t[9],t[8],t[7],t[6]],g=new DataView(new ArrayBuffer(4));_.forEach((function(e,t){g.setUint8(t,e)})),Code.droneData.temp=g.getFloat32(0);var m=[t[17],t[16],t[15],t[14]],v=new DataView(new ArrayBuffer(4));m.forEach((function(e,t){v.setUint8(t,e)})),Code.droneData.height=v.getFloat32(0);var y=[t[13],t[12],t[11],t[10]],T=new DataView(new ArrayBuffer(4));y.forEach((function(e,t){T.setUint8(t,e)})),Code.droneData.pressure=T.getFloat32(0);break;case c:console.log("Trim");var E=255!=t[7]?t[6]:-1*(t[7]-t[6]+1),b=255!=t[9]?t[8]:-1*(t[9]-t[8]+1);Code.droneData.trim={roll:E,pitch:b}}}}}]),e}()},3235:function(e,t,n){"use strict";n.d(t,{C:function(){return c}});var r=n(5861),i=n(5671),o=n(3144),s=n(7757),a=n.n(s),l=function(){function e(){(0,i.Z)(this,e),this.stack=[],this.commandConsummerOn=!1,this.inProgress=!1,this.commandLoop=null}return(0,o.Z)(e,[{key:"addCommand",value:function(e){this.stack.push(e),console.log(this.stack)}},{key:"initCommandConsumer",value:function(){this.commandConsummerOn=!0,this.checkIsStopped(),this.commandLoop=setInterval(function(){if(Code.commandManagerCDMInProgress)return!0;if(this.stack&&this.stack.length>0&&this.commandConsummerOn){console.log(" this.stack",this.stack);var e=this.stack.shift();this.execute(e)}}.bind(this),100)}},{key:"checkIsStopped",value:function(){var e=this;setInterval((function(){n.g.RUNNING?e.stack.length>0?Code.executionTimesCDM=0:(Code.executionTimesCDM=Code.executionInProgress||Code.commandManagerCDMInProgress?0:Code.executionTimesCDM+1,Code.executionTimesCDM>400&&(n.g.callstopExternalEvent(),Code.executionTimesCDM=0)):Code.executionTimesCDM=0}),10)}},{key:"restartCommandConsumer",value:function(){this.commandConsummerOn=!1,this.cleanStack(),clearInterval(this.commandLoop),this.initCommandConsumer()}},{key:"cleanStack",value:function(){this.stack=[]}},{key:"execute",value:function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Code.commandManagerCDMInProgress=!0,e.next=3,t.run();case 3:Code.commandManagerCDMInProgress=!1;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),c=new l},6612:function(e,t,n){"use strict";n.d(t,{n:function(){return c}});var r=n(5861),i=n(5671),o=n(3144),s=n(7757),a=n.n(s);n.g.keydownInProgress=!1;var l=function(){function e(){(0,i.Z)(this,e),this.keyPressMap={},this.keydownCallback=null,n.g.addEventListener("keyup",(function(e){if(n.g.keydownInProgress=!1,e&&e.keyCode&&(n.g.KEY_PRESSED[e.keyCode]=null,this.keyPressMap&&this.keyPressMap[e.keyCode]))try{return n.g.RUNNING=!0,this.keyPressMap[e.keyCode].callback()}catch(e){}}))}return(0,o.Z)(e,[{key:"addKeyPressCode",value:function(e,t){e&&(this.keyPressMap[e]={callback:t}),this.keydownCallback||(this.keydownCallback=function(){var e=(0,r.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.keydownInProgress){e.next=2;break}return e.abrupt("return");case 2:if(n.g.RUNNING){e.next=4;break}return e.abrupt("return");case 4:if(t&&t.keyCode&&(n.g.KEY_PRESSED[t.keyCode]=t.keyCode),!this.keyPressMap||!this.keyPressMap[t.keyCode]){e.next=14;break}return e.prev=6,n.g.RUNNING=!0,n.g.keydownInProgress=!0,e.abrupt("return",this.keyPressMap[t.keyCode].callback());case 12:e.prev=12,e.t0=e.catch(6);case 14:case"end":return e.stop()}}),e,this,[[6,12]])})));return function(t){return e.apply(this,arguments)}}().bind(this),n.g.addEventListener("keydown",this.keydownCallback))}},{key:"removeKeyPressEvents",value:function(){this.keydownCallback&&(this.keyPressMap={},this.keydownCallback=null)}},{key:"hasKeyEventsAttached",value:function(){return 0===!Object.keys(this.keyPressMap).length}}]),e}(),c=new l},2029:function(e,t){t.I={value:0},t.K={yaw:0,roll:0,pitch:0,throttle:0}},6882:function(e,t){t.K={yaw:0,roll:0,pitch:0,throttle:0}},3703:function(e,t){var n=new Uint8Array(18);n[0]=10,n[1]=85,n[2]=131,n[3]=10,n[4]=112,n[5]=32,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=0,n[16]=0,n[17]=0;var r=new Uint8Array(19);r[0]=10,r[1]=85,r[2]=132,r[3]=11,r[4]=112,r[5]=32,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=0,r[16]=0,r[17]=0,r[18]=0;var i=new Uint8Array(13);i[0]=10,i[1]=85,i[2]=130,i[3]=5,i[4]=112,i[5]=32,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=0,i[11]=0,i[12]=0;var o=new Uint8Array(9);o[0]=10,o[1]=85,o[2]=128,o[3]=1,o[4]=112,o[5]=32,o[6]=0,o[7]=0,o[8]=0,t.e4=r,t.JC=o},4067:function(e,t){var n=new Uint8Array(12);n[0]=10,n[1]=85,n[2]=16,n[3]=4,n[4]=112,n[5]=16,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=0,n[11]=0;var r=new Uint8Array(10);r[0]=10,r[1]=85,r[2]=17,r[3]=2,r[4]=112,r[5]=16,r[6]=7,r[7]=0,r[8]=0,r[9]=0;var i=new Uint8Array(14);i[0]=10,i[1]=85,i[2]=35,i[3]=6,i[4]=112,i[5]=16,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=0,i[11]=0,i[12]=0,i[13]=0;var o=new Uint8Array(14);o[0]=10,o[1]=85,o[2]=35,o[3]=6,o[4]=112,o[5]=32,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=0,o[11]=0,o[12]=0,o[13]=0;var s=new Uint16Array(16);s[0]=10,s[1]=85,s[2]=82,s[3]=8,s[4]=112,s[5]=16,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=0,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=0;var a=new Uint8Array(13);a[0]=10,a[1]=85,a[2]=98,a[3]=5,a[4]=128,a[5]=32,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=0,a[11]=0,a[12]=0;var l=new Uint8Array(13);l[0]=10,l[1]=85,l[2]=98,l[3]=5,l[4]=128,l[5]=16,l[6]=0,l[7]=0,l[8]=0,l[9]=0,l[10]=0,l[11]=0,l[12]=0;var c=new Uint8Array(13);c[0]=10,c[1]=85,c[2]=98,c[3]=5,c[4]=128,c[5]=32,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=0,c[11]=0,c[12]=0;var u=new Uint8Array(9);u[0]=10,u[1]=85,u[2]=4,u[3]=1,u[4]=128,u[5]=16,u[6]=0,u[7]=0,u[8]=0;var h=new Uint8Array(10);h[0]=10,h[1]=85,h[2]=17,h[3]=2,h[4]=112,h[5]=16,h[6]=0,h[7]=0,h[8]=0,h[9]=0,t.Ei=n,t.p=i,t.R9=r,t.kq=s,t.A$=u,t.wf=h,t.cL=o,t.WM=l,t.HF=c},7885:function(e,t){var n=new Uint8Array(12);n[0]=10,n[1]=85,n[2]=16,n[3]=4,n[4]=112,n[5]=16,n[6]=0,n[7]=0,n[8]=0,n[9]=0,n[10]=0,n[11]=0;var r=new Uint8Array(10);r[0]=10,r[1]=85,r[2]=17,r[3]=2,r[4]=112,r[5]=16,r[6]=7,r[7]=0,r[8]=0,r[9]=0;var i=new Uint8Array(14);i[0]=10,i[1]=85,i[2]=35,i[3]=6,i[4]=128,i[5]=16,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=0,i[11]=0,i[12]=0,i[13]=0;var o=new Uint16Array(16);o[0]=10,o[1]=85,o[2]=82,o[3]=8,o[4]=112,o[5]=16,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=0,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=0;var s=new Uint8Array(13);s[0]=10,s[1]=85,s[2]=98,s[3]=5,s[4]=112,s[5]=32,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=0,s[11]=0,s[12]=0;var a=new Uint8Array(9);a[0]=10,a[1]=85,a[2]=4,a[3]=1,a[4]=128,a[5]=16,a[6]=0,a[7]=0,a[8]=0;var l=new Uint8Array(10);l[0]=10,l[1]=85,l[2]=17,l[3]=2,l[4]=112,l[5]=16,l[6]=0,l[7]=0,l[8]=0,l[9]=0,t.Ei=n,t.p=i,t.R9=r,t.ot=s,t.kq=o,t.A$=a,t.wf=l},6047:function(e,t,n){"use strict";var r=n(2649),i=n(8541),o=(0,r.noConflict)();try{o.setLevel("error")}catch(u){o.setLevel("error"),o.error(u)}var s=[],a=[],l=[];try{l.push("Version: v".concat(i.S)),l.push(window.navigator.userAgent),l.push("--------------------")}catch(u){o.error(u)}var c={info:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];o.info.apply(o,t);for(var r=[],i=0,s=t;i<s.length;i++){var a=s[i];"object"===typeof a?r.push(JSON.stringify(a)):r.push(a),r.push("--------------------")}l.push.apply(l,r)},warn:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];o.warn.apply(o,t);for(var r=[],i=0,a=t;i<a.length;i++){var c=a[i];"object"===typeof c?r.push(JSON.stringify(c)):r.push(c),r.push("--------------------")}s.push.apply(s,r),l.push.apply(l,r)},error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];o.error.apply(o,t);for(var r=[],i=0,s=t;i<s.length;i++){var c=s[i];"object"===typeof c?r.push(JSON.stringify(c)):r.push(c),r.push("--------------------")}a.push.apply(a,r),l.push.apply(l,r)},getAllWarnLogs:function(){return s.join("\n")},getAllErrorLogs:function(){return a.join("\n")},getAllLogs:function(){return l.join("\n")}};t.Z=c},8088:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{GH:function(){return MSG},FY:function(){return getLangFromStorage},J0:function(){return loadGlobalFunctions},Ii:function(){return loadBlocksAndGenerators},Nq:function(){return checkXMLParam},mK:function(){return addClassToCategories},Ru:function(){return loadWorkspace},Pg:function(){return clearWorkspace},QP:function(){return loadClassifierAndLabelBlocks},PT:function(){return readXmlFile},l1:function(){return downloadCode},mB:function(){return convertReactElementToXml},is:function(){return checkIfHasKeyPress},zS:function(){return runJS},Gx:function(){return reArrangeListenerEvents},fJ:function(){return setOrphanFunc},$q:function(){return allowDrop},Cw:function(){return drop},DU:function(){return customPyGenerator},GT:function(){return openAndClearExamples},Yi:function(){return checkIfTimeBlockExists}});var C_Users_Pablo_src_codrone_blockly_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(2982),C_Users_Pablo_src_codrone_blockly_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(5861),C_Users_Pablo_src_codrone_blockly_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(7762),C_Users_Pablo_src_codrone_blockly_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7757),C_Users_Pablo_src_codrone_blockly_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(C_Users_Pablo_src_codrone_blockly_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0__),blockly__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7496),blockly__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(blockly__WEBPACK_IMPORTED_MODULE_1__),blockly_javascript__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4173),blockly_javascript__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(blockly_javascript__WEBPACK_IMPORTED_MODULE_2__),react_dom_server__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4389),jquery__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6666),jquery__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_4__),_ConnectionHelper__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9656),_DroneHelper__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(5317),_lib_keyPressManager__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6612),_log__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6047),blockly_msg_ko__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(7161),blockly_msg_ko__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(blockly_msg_ko__WEBPACK_IMPORTED_MODULE_8__),blockly_msg_ja__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(145),blockly_msg_ja__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(blockly_msg_ja__WEBPACK_IMPORTED_MODULE_9__),_Blockly_msg_en__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(9980),_Blockly_msg_ko__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(5891),_Blockly_msg_ja__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(6393),DEFAULT_XML='<xml xmlns="https://developers.google.com/blockly/xml"></xml>',orphansFunc=null,requestedReloading=!1,MSG=getMsgObj();function getLangFromStorage(){return"cdm"===(0,_DroneHelper__WEBPACK_IMPORTED_MODULE_13__.g)()?"en":localStorage.getItem("cde_lang")?localStorage.getItem("cde_lang"):"en"}function getMsgObj(){var e=getLangFromStorage();return"ko"===e?_Blockly_msg_ko__WEBPACK_IMPORTED_MODULE_11__.B:"ja"===e?_Blockly_msg_ja__WEBPACK_IMPORTED_MODULE_12__.Y:_Blockly_msg_en__WEBPACK_IMPORTED_MODULE_10__.a}function setBlocklyLocale(){var e=getLangFromStorage();"ko"===e?(blockly__WEBPACK_IMPORTED_MODULE_1___default().setLocale(blockly_msg_ko__WEBPACK_IMPORTED_MODULE_8__),blockly__WEBPACK_IMPORTED_MODULE_1___default().setLocale(_Blockly_msg_ko__WEBPACK_IMPORTED_MODULE_11__.B)):"ja"===e?(blockly__WEBPACK_IMPORTED_MODULE_1___default().setLocale(blockly_msg_ja__WEBPACK_IMPORTED_MODULE_9__),blockly__WEBPACK_IMPORTED_MODULE_1___default().setLocale(_Blockly_msg_ja__WEBPACK_IMPORTED_MODULE_12__.Y)):blockly__WEBPACK_IMPORTED_MODULE_1___default().setLocale(_Blockly_msg_en__WEBPACK_IMPORTED_MODULE_10__.a)}function loadGlobalFunctions(e){return _loadGlobalFunctions.apply(this,arguments)}function _loadGlobalFunctions(){return(_loadGlobalFunctions=(0,C_Users_Pablo_src_codrone_blockly_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_15__.Z)(C_Users_Pablo_src_codrone_blockly_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default().mark((function e(t){return C_Users_Pablo_src_codrone_blockly_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("cdm"!==t){e.next=5;break}return e.next=3,__webpack_require__.e(605).then(__webpack_require__.bind(__webpack_require__,3605));case 3:e.next=7;break;case 5:return e.next=7,__webpack_require__.e(565).then(__webpack_require__.bind(__webpack_require__,4565));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function loadBlocksAndGenerators(e){return _loadBlocksAndGenerators.apply(this,arguments)}function _loadBlocksAndGenerators(){return(_loadBlocksAndGenerators=(0,C_Users_Pablo_src_codrone_blockly_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_15__.Z)(C_Users_Pablo_src_codrone_blockly_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default().mark((function e(t){return C_Users_Pablo_src_codrone_blockly_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("cde"!==t){e.next=13;break}return e.next=3,Promise.all([__webpack_require__.e(309),__webpack_require__.e(585)]).then(__webpack_require__.bind(__webpack_require__,7585));case 3:return e.sent,e.next=6,__webpack_require__.e(459).then(__webpack_require__.bind(__webpack_require__,8459));case 6:return e.sent,e.next=9,__webpack_require__.e(31).then(__webpack_require__.bind(__webpack_require__,6031));case 9:e.sent,_log__WEBPACK_IMPORTED_MODULE_7__.Z.info("loaded blocks and generators"),e.next=24;break;case 13:if("cdm"!==t){e.next=24;break}return e.next=16,Promise.all([__webpack_require__.e(309),__webpack_require__.e(964)]).then(__webpack_require__.bind(__webpack_require__,7964));case 16:return e.sent,e.next=19,__webpack_require__.e(933).then(__webpack_require__.bind(__webpack_require__,5401));case 19:return e.sent,e.next=22,__webpack_require__.e(893).then(__webpack_require__.bind(__webpack_require__,9893));case 22:e.sent,_log__WEBPACK_IMPORTED_MODULE_7__.Z.info("loaded blocks and generators");case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function checkXMLParam(e){var t=new URLSearchParams(window.location.search);if(t.has("xml")){var n=t.get("xml");localStorage.setItem(e,n),window.location=window.location.pathname}}function addClassToCategories(){var e=jquery__WEBPACK_IMPORTED_MODULE_4___default()(".blocklyTreeLabel");jquery__WEBPACK_IMPORTED_MODULE_4___default().each(e,(function(e,t){var n=t.textContent.replace(" ","-").toLowerCase();jquery__WEBPACK_IMPORTED_MODULE_4___default()(t).addClass(n)}))}function loadWorkspace(e){blockly__WEBPACK_IMPORTED_MODULE_1___default().getMainWorkspace().clear(),setTimeout((function(){if("undefined"!==typeof Storage)if(null!==localStorage.getItem(e))try{var t=blockly__WEBPACK_IMPORTED_MODULE_1___default().Xml.textToDom(localStorage.getItem(e));blockly__WEBPACK_IMPORTED_MODULE_1___default().Xml.domToWorkspace(t,blockly__WEBPACK_IMPORTED_MODULE_1___default().getMainWorkspace())}catch(r){_log__WEBPACK_IMPORTED_MODULE_7__.Z.error(r)}else try{var n=blockly__WEBPACK_IMPORTED_MODULE_1___default().Xml.textToDom(DEFAULT_XML);blockly__WEBPACK_IMPORTED_MODULE_1___default().Xml.domToWorkspace(n,blockly__WEBPACK_IMPORTED_MODULE_1___default().getMainWorkspace())}catch(r){_log__WEBPACK_IMPORTED_MODULE_7__.Z.error(r)}else _log__WEBPACK_IMPORTED_MODULE_7__.Z.error("Storage is not support.");setCallbackColorTraining()}),1e3)}function clearWorkspace(){blockly__WEBPACK_IMPORTED_MODULE_1___default().getMainWorkspace().clear();var e=blockly__WEBPACK_IMPORTED_MODULE_1___default().Xml.textToDom(DEFAULT_XML);blockly__WEBPACK_IMPORTED_MODULE_1___default().Xml.domToWorkspace(e,blockly__WEBPACK_IMPORTED_MODULE_1___default().getMainWorkspace())}function setCallbackColorTraining(){blockly__WEBPACK_IMPORTED_MODULE_1___default().getMainWorkspace().registerToolboxCategoryCallback("colorTraining",registerColorTrainingCategory),blockly__WEBPACK_IMPORTED_MODULE_1___default().getMainWorkspace().registerButtonCallback("openColorTrainingModal",openColorTrainingModal),blockly__WEBPACK_IMPORTED_MODULE_1___default().getMainWorkspace().registerButtonCallback("openLoadingColorModal",openLoadingColorModal)}function registerColorTrainingCategory(e){var t=[],n='<button text="'.concat(MSG.COLOR_CAT_BTN_CALIBRATE,'" callbackKey="openColorTrainingModal"></button>'),r=blockly__WEBPACK_IMPORTED_MODULE_1___default().Xml.textToDom(n);return t.push(r),n='<button text="'.concat(MSG.COLOR_CAT_BTN_LOAD_DATASET,'" callbackKey="openLoadingColorModal"></button>'),r=blockly__WEBPACK_IMPORTED_MODULE_1___default().Xml.textToDom(n),t.push(r),t}function openColorTrainingModal(e){(0,_ConnectionHelper__WEBPACK_IMPORTED_MODULE_5__.zd)()?__webpack_require__.g.openColorModal():alert(MSG.COLOR_ALERT_PAIR)}function openLoadingColorModal(e){readColorFolder()}function readColorFolder(){var e=document.createElement("input");e.type="file",e.id="text-selector",e.multiple=!0,e.webkitdirectory=!0,e.addEventListener("change",(function(){var e=this;if(Array.from(this.files).filter((function(e){return"txt"!==e.name.slice(-3)})).length>0)alert("There is a wrong file format in the folder");else{var t=this.files[0].webkitRelativePath.split("/")[0];window.localStorage.setItem("cde-color-model-name",t);for(var n={},r=this.files.length-1,i=function(t){var i=e.files[t],o=new FileReader,s=i.name.replace(".txt","");o.onload=function(){n[s]=o.result,t===r&&(window.localStorage.setItem("cde-color-model",JSON.stringify(n)),setTimeout((function(){loadClassifierAndLabelBlocks(),__webpack_require__.g.loadClassifier()}),1500))},o.readAsText(i)},o=0;o<this.files.length;o++)i(o)}})),e.click()}function loadClassifierAndLabelBlocks(){blockly__WEBPACK_IMPORTED_MODULE_1___default().getMainWorkspace().registerToolboxCategoryCallback("colorTraining",registerColorLabelBlocks),blockly__WEBPACK_IMPORTED_MODULE_1___default().getMainWorkspace().getToolbox("colorTraining").refreshSelection()}function registerColorLabelBlocks(e){var t=[],n='<button text="'.concat(MSG.COLOR_CAT_BTN_CALIBRATE,'" callbackKey="openColorTrainingModal"></button>'),r=blockly__WEBPACK_IMPORTED_MODULE_1___default().Xml.textToDom(n);t.push(r),n='<button text="'.concat(MSG.COLOR_CAT_BTN_LOAD_DATASET,'" callbackKey="openLoadingColorModal"></button>'),r=blockly__WEBPACK_IMPORTED_MODULE_1___default().Xml.textToDom(n),t.push(r),n='<block type="predict_color_senior"></block>',r=blockly__WEBPACK_IMPORTED_MODULE_1___default().Xml.textToDom(n),t.push(r);var i=JSON.parse(window.localStorage.getItem("cde-color-model")),o=window.localStorage.getItem("cde-color-model-name");n='<block type="color_classifier"><field name="NAME">'.concat(o,"</field></block>"),r=blockly__WEBPACK_IMPORTED_MODULE_1___default().Xml.textToDom(n),t.push(r);var s=Object.keys(i);if(blockly__WEBPACK_IMPORTED_MODULE_1___default().Blocks.color_label){var a,l=(0,C_Users_Pablo_src_codrone_blockly_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_14__.Z)(s);try{for(l.s();!(a=l.n()).done;){var c=a.value;n='<block type="color_label"><field name="LABEL">'.concat(c,"</field></block>"),r=blockly__WEBPACK_IMPORTED_MODULE_1___default().Xml.textToDom(n),t.push(r)}}catch(u){l.e(u)}finally{l.f()}}return t}function readXmlFile(){var e=document.createElement("input");e.type="file",e.id="xml-selector",e.addEventListener("change",(function(){var e=new FileReader;e.onload=function(){clearWorkspace();var t=e.result,n=blockly__WEBPACK_IMPORTED_MODULE_1___default().Xml.textToDom(t);try{blockly__WEBPACK_IMPORTED_MODULE_1___default().Xml.domToWorkspace(n,blockly__WEBPACK_IMPORTED_MODULE_1___default().mainWorkspace)}catch(r){if(r.toString().includes("Error: Variable")){_log__WEBPACK_IMPORTED_MODULE_7__.Z.error("The XML file has a variable name(s) that conflicts with this project's variable name(s).\n\nPlease change the variable name(s) using the \"Variables\" tab so that they don't overlap, then open the XML again.")}}},e.readAsText(this.files[0])})),e.click()}function downloadCode(e,t){var n=blockly__WEBPACK_IMPORTED_MODULE_1___default().Xml.domToText(t),r=document.createElement("a"),i=e+".xml",o=new Blob([n],{type:"text/plain"});r.setAttribute("href",window.URL.createObjectURL(o)),r.setAttribute("download",i),r.dataset.downloadurl=["text/plain",r.download,r.href].join(":"),r.draggable=!0,r.classList.add("dragout"),r.click()}function convertReactElementToXml(e){var t=(0,react_dom_server__WEBPACK_IMPORTED_MODULE_3__.renderToString)(e);return blockly__WEBPACK_IMPORTED_MODULE_1___default().Xml.textToDom(t)}function checkIfHasKeyPress(e){if(!e)try{var t=blockly__WEBPACK_IMPORTED_MODULE_1___default().getMainWorkspace().getBlocksByType("controls_whileUntil");if(!(t.length>0))return!1;e=t[0]}catch(c){return console.log(c),!1}var n,r=!1,i=(0,C_Users_Pablo_src_codrone_blockly_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_14__.Z)(e.childBlocks_);try{for(i.s();!(n=i.n()).done;){var o=n.value;if("controls_if"===o.type){var s,a=o,l=(0,C_Users_Pablo_src_codrone_blockly_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_14__.Z)(a.childBlocks_);try{for(l.s();!(s=l.n()).done;){if("whenKeyPressGet_junior"===s.value.type){r=!0;break}}}catch(u){l.e(u)}finally{l.f()}break}}}catch(u){i.e(u)}finally{i.f()}return r}function getStartFlagBlocks(){var e=blockly__WEBPACK_IMPORTED_MODULE_1___default().getMainWorkspace().blockDB_,t=[];for(var n in e)"start_flag"===e[n].type&&t.push(e[n]);return t}function getStatementBlocks(){var e=blockly__WEBPACK_IMPORTED_MODULE_1___default().getMainWorkspace().blockDB_,t=[];for(var n in e)e[n].statementInputCount>0&&t.push(e[n]);return t}function getTopBlocks(){return Blockly.getMainWorkspace().getTopBlocks()}function getAllConnectedBlocks(e){var t=[],n=[];n.push(e);for(var r=0;n.length>0&&r<200;){var i=n.shift();t.push(i),n.push.apply(n,(0,C_Users_Pablo_src_codrone_blockly_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_16__.Z)(i.getChildren())),r++}return t}function runJS(){_lib_keyPressManager__WEBPACK_IMPORTED_MODULE_6__.n.addKeyPressCode(null,(function(){})),blockly__WEBPACK_IMPORTED_MODULE_1___default().JavaScript.INFINITE_LOOP_TRAP=" checkTimeout();\n";var timeouts=0,checkTimeout=function(){var e=(0,C_Users_Pablo_src_codrone_blockly_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_15__.Z)(C_Users_Pablo_src_codrone_blockly_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default().mark((function e(){return C_Users_Pablo_src_codrone_blockly_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_0___default().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(timeouts++>1e13)){e.next=3;break}throw console.log("timeout"),"timeout";case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),code=null;setOrphanFunc(),code=blockly_javascript__WEBPACK_IMPORTED_MODULE_2___default().workspaceToCode(blockly__WEBPACK_IMPORTED_MODULE_1___default().getMainWorkspace()),code=reArrangeListenerEvents(code),blockly__WEBPACK_IMPORTED_MODULE_1___default().JavaScript.INFINITE_LOOP_TRAP=null;try{__webpack_require__.g.setInitialTimeStampSensors(0),-1!==code.indexOf("onKeyPressEvent")&&(Code.keypressInProgress=!0),-1!==code.indexOf("checkTimeout();")?(_log__WEBPACK_IMPORTED_MODULE_7__.Z.info("(async function(){"+code+"})()"),eval("(async function(){"+code+"await callStopFromCodeExecution();setInitialTimeStampSensors(0);})()")):(_log__WEBPACK_IMPORTED_MODULE_7__.Z.info("(async function(){"+code+" await callstopExternalEvent();})()"),eval("(async function(){"+code+" await callstopExternalEvent();})()"))}catch(e){_log__WEBPACK_IMPORTED_MODULE_7__.Z.error(e)}}function reArrangeListenerEvents(e){for(var t=[],n=e.match(/onKeyPressEvent((.|\n)*?)}\){1}/);n;)t.push(n),n=(e=e.replace(n[0],"")).match(/onKeyPressEvent((.|\n)*?)}\){1}/);for(var r=0;r<t.length;r++)e=t[r][0]+"\n"+e;return e}function setOrphanFunc(){var e=getStartFlagBlocks(),t=getStatementBlocks();if(e.length>0){if(!orphansFunc){orphansFunc=blockly__WEBPACK_IMPORTED_MODULE_1___default().getMainWorkspace().addChangeListener(blockly__WEBPACK_IMPORTED_MODULE_1___default().Events.disableOrphans);var n=(0,C_Users_Pablo_src_codrone_blockly_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_16__.Z)(t);e.map((function(e){n=[].concat((0,C_Users_Pablo_src_codrone_blockly_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_16__.Z)(n),(0,C_Users_Pablo_src_codrone_blockly_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_16__.Z)(getAllConnectedBlocks(e)))})),t.map((function(e){n=[].concat((0,C_Users_Pablo_src_codrone_blockly_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_16__.Z)(n),(0,C_Users_Pablo_src_codrone_blockly_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_16__.Z)(getAllConnectedBlocks(e)))}));var r,i=blockly__WEBPACK_IMPORTED_MODULE_1___default().getMainWorkspace().getAllBlocks().filter((function(e){return-1===n.indexOf(e)})),o=(0,C_Users_Pablo_src_codrone_blockly_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_14__.Z)(i);try{for(o.s();!(r=o.n()).done;){r.value.setEnabled(!1)}}catch(c){o.e(c)}finally{o.f()}}}else if(orphansFunc){var s,a=blockly__WEBPACK_IMPORTED_MODULE_1___default().getMainWorkspace().getAllBlocks(),l=(0,C_Users_Pablo_src_codrone_blockly_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_14__.Z)(a);try{for(l.s();!(s=l.n()).done;){s.value.setEnabled(!0)}}catch(c){l.e(c)}finally{l.f()}if(requestedReloading)return;alert(MSG.PLAY_BLOCK_REMOVED),window.location.reload(),requestedReloading=!0}}function allowDrop(e){e.preventDefault()}function drop(e){e.preventDefault();var t=e.dataTransfer.getData("text");t.includes("xml")&&openExamples(t)}function copyXmlInWorkspace(e){var t=blockly__WEBPACK_IMPORTED_MODULE_1___default().Xml.textToDom(e);try{blockly__WEBPACK_IMPORTED_MODULE_1___default().Xml.domToWorkspace(t,blockly__WEBPACK_IMPORTED_MODULE_1___default().mainWorkspace)}catch(n){if(n.toString().includes("Error: Variable")){_log__WEBPACK_IMPORTED_MODULE_7__.Z.error("The XML file has a variable name(s) that conflicts with this project's variable name(s).\n\nPlease change the variable name(s) using the \"Variables\" tab so that they don't overlap, then open the XML again.")}}}function customPyGenerator(e){var t=e.split("\n");return(t=t.map((function(e,t){return-1!==e.indexOf("predict_colors")?"color_data = drone.get_color_data()\n".concat(e):e}))).join("\n")}function openExamples(e){var t=blockly__WEBPACK_IMPORTED_MODULE_1___default().Xml.textToDom(e);try{blockly__WEBPACK_IMPORTED_MODULE_1___default().Xml.appendDomToWorkspace(t,blockly__WEBPACK_IMPORTED_MODULE_1___default().mainWorkspace)}catch(n){if(n.toString().includes("Error: Variable")){_log__WEBPACK_IMPORTED_MODULE_7__.Z.error("The XML file has a variable name(s) that conflicts with this project's variable name(s).\n\nPlease change the variable name(s) using the \"Variables\" tab so that they don't overlap, then open the XML again.")}}}function openAndClearExamples(e){var t=blockly__WEBPACK_IMPORTED_MODULE_1___default().Xml.textToDom(e);try{blockly__WEBPACK_IMPORTED_MODULE_1___default().Xml.clearWorkspaceAndLoadFromXml(t,blockly__WEBPACK_IMPORTED_MODULE_1___default().mainWorkspace)}catch(n){if(n.toString().includes("Error: Variable")){_log__WEBPACK_IMPORTED_MODULE_7__.Z.error("The XML file has a variable name(s) that conflicts with this project's variable name(s).\n\nPlease change the variable name(s) using the \"Variables\" tab so that they don't overlap, then open the XML again.")}}}function checkIfTimeBlockExists(){return blockly__WEBPACK_IMPORTED_MODULE_1___default().getMainWorkspace().getAllBlocks().filter((function(e){return"get_time_from_start"===e.type})).length>0}setBlocklyLocale(),blockly__WEBPACK_IMPORTED_MODULE_1___default().Generator.prototype.blockToCode=function(e,t){if(!1===this.isInitialized&&console.warn("Generator init was not called before blockToCode was called."),!e)return"";if(e.isInsertionMarker())return t?"":this.blockToCode(e.getChildren(!1)[0]);var n=this[e.type];if("function"!==typeof n)throw Error('Language "'+this.name_+'" does not know how to generate code for block type "'+e.type+'".');var r=n.call(e,e);if(Array.isArray(r)){if(!e.outputConnection)throw TypeError("Expecting string from statement block: "+e.type);var i=r[0];return e.isEnabled()||("JavaScript"===this.name_?i="// "+i:"Python"===this.name_&&(i="# "+i)),[this.scrub_(e,i,t),r[1]]}if("string"===typeof r){if(this.STATEMENT_PREFIX&&!e.suppressPrefixSuffix&&(r=this.injectId(this.STATEMENT_PREFIX,e)+r),this.STATEMENT_SUFFIX&&!e.suppressPrefixSuffix&&(r+=this.injectId(this.STATEMENT_SUFFIX,e)),null!==e.comment&&(e.comment.cachedText_=""),!e.isEnabled()){var o,s=r.split("\n"),a=[],l=(0,C_Users_Pablo_src_codrone_blockly_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper_js__WEBPACK_IMPORTED_MODULE_14__.Z)(s);try{for(l.s();!(o=l.n()).done;){var c=o.value;""!==c&&("JavaScript"===this.name_?a.push("// ".concat(c)):"Python"===this.name_&&a.push("# ".concat(c)))}}catch(u){l.e(u)}finally{l.f()}r=a.join("\n")+"\n"}return this.scrub_(e,r,t)}if(null===r)return"";throw SyntaxError("Invalid code generated: "+r)},blockly__WEBPACK_IMPORTED_MODULE_1___default().Themes.CoDrone=blockly__WEBPACK_IMPORTED_MODULE_1___default().Theme.defineTheme("codrone",{base:blockly__WEBPACK_IMPORTED_MODULE_1___default().Themes.Classic,blockStyles:{loop_blocks:{colourPrimary:"#a56b6b"},text_blocks:{colourPrimary:"#a9a9a9"},logic_blocks:{colourPrimary:"#a0a1d9"},math_blocks:{colourPrimary:"#8a90a8",colourSecondary:"#8a90a8"},variable_blocks:{colourPrimary:"#e0908f"},procedure_blocks:{colourPrimary:"#db8ab3"}},fontStyle:{weight:"bold"},startHats:!0}),blockly__WEBPACK_IMPORTED_MODULE_1___default().Themes.CoDroneDark=blockly__WEBPACK_IMPORTED_MODULE_1___default().Theme.defineTheme("codroneDark",{base:blockly__WEBPACK_IMPORTED_MODULE_1___default().Themes.Classic,componentStyles:{workspaceBackgroundColour:"#1e1e1e",toolboxBackgroundColour:"blackBackground",toolboxForegroundColour:"#fff",flyoutBackgroundColour:"#252526",flyoutForegroundColour:"#ccc",flyoutOpacity:1,scrollbarColour:"#797979",insertionMarkerColour:"#fff",insertionMarkerOpacity:.3,scrollbarOpacity:.4,cursorColour:"#d0d0d0",blackBackground:"#333"},blockStyles:{loop_blocks:{colourPrimary:"#a56b6b"},text_blocks:{colourPrimary:"#a9a9a9"},logic_blocks:{colourPrimary:"#a0a1d9"},math_blocks:{colourPrimary:"#8a90a8",colourSecondary:"#8a90a8"},variable_blocks:{colourPrimary:"#e0908f"},procedure_blocks:{colourPrimary:"#db8ab3"}},fontStyle:{weight:"bold"},startHats:!0})},9656:function(e,t,n){"use strict";n.d(t,{zd:function(){return u},fS:function(){return h},Vg:function(){return d},o4:function(){return _},hG:function(){return m},jQ:function(){return v},S3:function(){return S},DN:function(){return I},bu:function(){return C}});var r=n(5861),i=n(7757),o=n.n(i),s=n(4773),a=n(3235),l=n(2744),c=n(2336);function u(){return!!Code.device}function h(e){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="cde"===t?1155:"cdm"===t?6790:1155,e.next=3,navigator.serial.requestPort({filters:[{usbVendorId:n}]});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.open({baudrate:57600,baudRate:57600});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.close();case 2:Code.device=null;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t){Code.device={port:e},"cdm"===t?(a.C.initCommandConsumer(),Code.listener=!0,c.Z.listener()):(s.j.initCommandConsumer(),Code.listener=!0,l.Z.listener())}function v(e,t){return y.apply(this,arguments)}function y(){return(y=(0,r.Z)(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("cdm"!==n){e.next=5;break}return e.next=3,b(t);case 3:e.next=7;break;case 5:return e.next=7,T(t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return E.apply(this,arguments)}function E(){return(E=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=9;break}return e.next=3,k(t);case 3:return e.next=5,n.g.getHeight();case 5:return e.next=7,n.g.setSpeed(2);case 7:return e.next=9,n.g.setPreviousLand([0,0]);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return O.apply(this,arguments)}function O(){return(O=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.g.isSerialRunning()){e.next=5;break}return e.next=3,k(t);case 3:return e.next=5,n.g.getHeight(!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return w.apply(this,arguments)}function w(){return(w=(0,r.Z)(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.g.getTrim();case 2:r=e.sent,t(r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){console.log(e),Code.listener=!1,Code.device=null}function I(){return R.apply(this,arguments)}function R(){return(R=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.g.disconnect();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return A.apply(this,arguments)}function A(){return(A=(0,r.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.g.CONNECTION_INTERVAL=setInterval((0,r.Z)(o().mark((function e(){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.g.checkLostConnection();case 3:r=e.sent,t(r?"dropped":"paired"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Disconnected");case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),2e3);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},5317:function(e,t,n){"use strict";function r(){if(window.location.origin.includes("localhost")){var e=window.location.href.match(/(?<=localhost:3000\/)(.*?)(?=\/blockly)/);return e&&e.length>0?"edu"===e[0]?"cde":"mini"===e[0]?"cdm":"cde":"cde"}var t=window.location.href.match(/(?<=codrone.robolink.com\/)(.*?)(?=\/blockly)/);return t&&t.length>0?"edu"===t[0]?"cde":"mini"===t[0]?"cdm":"cde":"cde"}n.d(t,{g:function(){return r}})},2968:function(e,t,n){"use strict";n.d(t,{R7:function(){return s},An:function(){return a},Im:function(){return l},Fc:function(){return c}});var r=n(5861),i=n(7757),o=n.n(i),s={ALL_INACTIVE:0,ALL_ACTIVE:1,COLOR_INACTIVE:2,PARTIALLY_ACTIVE:3,DRONE_NOT_PAIRED:4},a=!1,l=function(){var e=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(document.querySelector(".content-panel.content-4").classList.contains("active")){e.next=2;break}return e.abrupt("return");case 2:if(!a&&n.g.isSerialRunning()){e.next=4;break}return e.abrupt("return");case 4:if(!n.g.FREEZEDASHBOARD){e.next=7;break}return n.g.enableRefreshBtn(),e.abrupt("return");case 7:console.log("Start reading sensor data"),n.g.resetDataItem(),a=!0,n.g.changeSDMode(s.ALL_ACTIVE);case 11:if(!a){e.next=22;break}return e.prev=12,e.next=15,n.g.getAllSensorData();case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(12),console.log(e.t0);case 20:e.next=11;break;case 22:case"end":return e.stop()}}),e,null,[[12,17]])})));return function(){return e.apply(this,arguments)}}(),c=function(){console.log("Stop reading sensor data"),a=!1,n.g.isSerialRunning()?n.g.changeSDMode(s.ALL_INACTIVE):n.g.changeSDMode(s.DRONE_NOT_PAIRED)}},8541:function(e,t,n){"use strict";n.d(t,{S:function(){return r}});var r="2.0.6"},2470:function(e,t){"use strict";t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,o=l(e),s=o[0],a=o[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,s,a)),u=0,h=a>0?s-4:s;for(n=0;n<h;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;2===a&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[u++]=255&t);1===a&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=16383,a=0,l=r-i;a<l;a+=s)o.push(c(e,a,a+s>l?l:a+s));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],r=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var i,o,s=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},2845:function(e,t,n){var r,i,o;i=[n(9810)],void 0===(o="function"===typeof(r=function(e){"use strict";return e})?r.apply(t,i):r)||(e.exports=o)},9810:function(e,t,n){var r,i,o;i=[],void 0===(o="function"===typeof(r=function(){"use strict";var e={connectionTypes:{INPUT_VALUE:1,OUTPUT_VALUE:2,NEXT_STATEMENT:3,PREVIOUS_STATEMENT:4},constants:{},LINE_MODE_MULTIPLIER:40,PAGE_MODE_MULTIPLIER:125,DRAG_RADIUS:5,FLYOUT_DRAG_RADIUS:10,SNAP_RADIUS:28};return e.CONNECTING_SNAP_RADIUS=e.SNAP_RADIUS,e.CURRENT_CONNECTION_PREFERENCE=8,e.BUMP_DELAY=250,e.BUMP_RANDOMNESS=10,e.COLLAPSE_CHARS=30,e.LONGPRESS=750,e.SOUND_LIMIT=100,e.DRAG_STACK=!0,e.HSV_SATURATION=.45,e.HSV_VALUE=.65,e.SPRITE={width:96,height:124,url:"sprites.png"},e.constants.ALIGN={LEFT:-1,CENTRE:0,RIGHT:1},e.DRAG_NONE=0,e.DRAG_STICKY=1,e.DRAG_BEGIN=1,e.DRAG_FREE=2,e.OPPOSITE_TYPE=[],e.OPPOSITE_TYPE[e.connectionTypes.INPUT_VALUE]=e.connectionTypes.OUTPUT_VALUE,e.OPPOSITE_TYPE[e.connectionTypes.OUTPUT_VALUE]=e.connectionTypes.INPUT_VALUE,e.OPPOSITE_TYPE[e.connectionTypes.NEXT_STATEMENT]=e.connectionTypes.PREVIOUS_STATEMENT,e.OPPOSITE_TYPE[e.connectionTypes.PREVIOUS_STATEMENT]=e.connectionTypes.NEXT_STATEMENT,e.VARIABLE_CATEGORY_NAME="VARIABLE",e.VARIABLE_DYNAMIC_CATEGORY_NAME="VARIABLE_DYNAMIC",e.PROCEDURE_CATEGORY_NAME="PROCEDURE",e.RENAME_VARIABLE_ID="RENAME_VARIABLE_ID",e.DELETE_VARIABLE_ID="DELETE_VARIABLE_ID",e.constants.COLLAPSED_INPUT_NAME="_TEMP_COLLAPSED_INPUT",e.constants.COLLAPSED_FIELD_NAME="_TEMP_COLLAPSED_FIELD",e.utils={},e.utils.global=function(){return"object"===typeof self?self:"object"===typeof window?window:"object"===typeof n.g?n.g:this}(),e.Msg={},e.utils.global.Blockly||(e.utils.global.Blockly={}),e.utils.global.Blockly.Msg||(e.utils.global.Blockly.Msg=e.Msg),e.utils.colour={},e.utils.colour.parse=function(t){t=String(t).toLowerCase().trim();var n=e.utils.colour.names[t];if(n)return n;if(n="#"==(n="0x"==t.substring(0,2)?"#"+t.substring(2):t)[0]?n:"#"+n,/^#[0-9a-f]{6}$/.test(n))return n;if(/^#[0-9a-f]{3}$/.test(n))return["#",n[1],n[1],n[2],n[2],n[3],n[3]].join("");var r=t.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return r&&(t=Number(r[1]),n=Number(r[2]),r=Number(r[3]),0<=t&&256>t&&0<=n&&256>n&&0<=r&&256>r)?e.utils.colour.rgbToHex(t,n,r):null},e.utils.colour.rgbToHex=function(e,t,n){return t=e<<16|t<<8|n,16>e?"#"+(16777216|t).toString(16).substr(1):"#"+t.toString(16)},e.utils.colour.hexToRgb=function(t){return(t=e.utils.colour.parse(t))?[(t=parseInt(t.substr(1),16))>>16,t>>8&255,255&t]:[0,0,0]},e.utils.colour.hsvToHex=function(t,n,r){var i=0,o=0,s=0;if(0==n)s=o=i=r;else{var a=Math.floor(t/60),l=t/60-a;t=r*(1-n);var c=r*(1-n*l);switch(n=r*(1-n*(1-l)),a){case 1:i=c,o=r,s=t;break;case 2:i=t,o=r,s=n;break;case 3:i=t,o=c,s=r;break;case 4:i=n,o=t,s=r;break;case 5:i=r,o=t,s=c;break;case 6:case 0:i=r,o=n,s=t}}return e.utils.colour.rgbToHex(Math.floor(i),Math.floor(o),Math.floor(s))},e.utils.colour.blend=function(t,n,r){return(t=e.utils.colour.parse(t))&&(n=e.utils.colour.parse(n))?(t=e.utils.colour.hexToRgb(t),n=e.utils.colour.hexToRgb(n),e.utils.colour.rgbToHex(Math.round(n[0]+r*(t[0]-n[0])),Math.round(n[1]+r*(t[1]-n[1])),Math.round(n[2]+r*(t[2]-n[2])))):null},e.utils.colour.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"},e.utils.Coordinate=function(e,t){this.x=e,this.y=t},e.utils.Coordinate.equals=function(e,t){return e==t||!(!e||!t)&&e.x==t.x&&e.y==t.y},e.utils.Coordinate.distance=function(e,t){var n=e.x-t.x;return e=e.y-t.y,Math.sqrt(n*n+e*e)},e.utils.Coordinate.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},e.utils.Coordinate.difference=function(t,n){return new e.utils.Coordinate(t.x-n.x,t.y-n.y)},e.utils.Coordinate.sum=function(t,n){return new e.utils.Coordinate(t.x+n.x,t.y+n.y)},e.utils.Coordinate.prototype.clone=function(){return new e.utils.Coordinate(this.x,this.y)},e.utils.Coordinate.prototype.scale=function(e){return this.x*=e,this.y*=e,this},e.utils.Coordinate.prototype.translate=function(e,t){return this.x+=e,this.y+=t,this},e.utils.Rect=function(e,t,n,r){this.top=e,this.bottom=t,this.left=n,this.right=r},e.utils.Rect.prototype.contains=function(e,t){return e>=this.left&&e<=this.right&&t>=this.top&&t<=this.bottom},e.utils.Rect.prototype.intersects=function(e){return!(this.left>e.right||this.right<e.left||this.top>e.bottom||this.bottom<e.top)},e.utils.string={},e.utils.string.startsWith=function(e,t){return 0==e.lastIndexOf(t,0)},e.utils.string.shortestStringLength=function(e){return e.length?e.reduce((function(e,t){return e.length<t.length?e:t})).length:0},e.utils.string.commonWordPrefix=function(t,n){if(!t.length)return 0;if(1==t.length)return t[0].length;var r=0;n=n||e.utils.string.shortestStringLength(t);for(var i=0;i<n;i++){for(var o=t[0][i],s=1;s<t.length;s++)if(o!=t[s][i])return r;" "==o&&(r=i+1)}for(s=1;s<t.length;s++)if((o=t[s][i])&&" "!=o)return r;return n},e.utils.string.commonWordSuffix=function(t,n){if(!t.length)return 0;if(1==t.length)return t[0].length;var r=0;n=n||e.utils.string.shortestStringLength(t);for(var i=0;i<n;i++){for(var o=t[0].substr(-i-1,1),s=1;s<t.length;s++)if(o!=t[s].substr(-i-1,1))return r;" "==o&&(r=i+1)}for(s=1;s<t.length;s++)if((o=t[s].charAt(t[s].length-i-1))&&" "!=o)return r;return n},e.utils.string.wrap=function(t,n){t=t.split("\n");for(var r=0;r<t.length;r++)t[r]=e.utils.string.wrapLine_(t[r],n);return t.join("\n")},e.utils.string.wrapLine_=function(t,n){if(t.length<=n)return t;for(var r=t.trim().split(/\s+/),i=0;i<r.length;i++)r[i].length>n&&(n=r[i].length);i=-1/0;var o=1;do{var s=i,a=t;t=[];var l=r.length/o,c=1;for(i=0;i<r.length-1;i++)c<(i+1.5)/l?(c++,t[i]=!0):t[i]=!1;t=e.utils.string.wrapMutate_(r,t,n),i=e.utils.string.wrapScore_(r,t,n),t=e.utils.string.wrapToText_(r,t),o++}while(i>s);return a},e.utils.string.wrapScore_=function(e,t,n){for(var r=[0],i=[],o=0;o<e.length;o++)r[r.length-1]+=e[o].length,!0===t[o]?(r.push(0),i.push(e[o].charAt(e[o].length-1))):!1===t[o]&&r[r.length-1]++;for(e=Math.max.apply(Math,r),o=t=0;o<r.length;o++)t-=2*Math.pow(Math.abs(n-r[o]),1.5),t-=Math.pow(e-r[o],1.5),-1!=".?!".indexOf(i[o])?t+=n/3:-1!=",;)]}".indexOf(i[o])&&(t+=n/4);return 1<r.length&&r[r.length-1]<=r[r.length-2]&&(t+=.5),t},e.utils.string.wrapMutate_=function(t,n,r){for(var i,o=e.utils.string.wrapScore_(t,n,r),s=0;s<n.length-1;s++)if(n[s]!=n[s+1]){var a=[].concat(n);a[s]=!a[s],a[s+1]=!a[s+1];var l=e.utils.string.wrapScore_(t,a,r);l>o&&(o=l,i=a)}return i?e.utils.string.wrapMutate_(t,i,r):n},e.utils.string.wrapToText_=function(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e[r]),void 0!==t[r]&&n.push(t[r]?"\n":" ");return n.join("")},e.utils.Size=function(e,t){this.width=e,this.height=t},e.utils.Size.equals=function(e,t){return e==t||!(!e||!t)&&e.width==t.width&&e.height==t.height},e.utils.style={},e.utils.style.getSize=function(t){if("none"!=e.utils.style.getStyle_(t,"display"))return e.utils.style.getSizeWithDisplay_(t);var n=t.style,r=n.display,i=n.visibility,o=n.position;n.visibility="hidden",n.position="absolute",n.display="inline";var s=t.offsetWidth;return t=t.offsetHeight,n.display=r,n.position=o,n.visibility=i,new e.utils.Size(s,t)},e.utils.style.getSizeWithDisplay_=function(t){return new e.utils.Size(t.offsetWidth,t.offsetHeight)},e.utils.style.getStyle_=function(t,n){return e.utils.style.getComputedStyle(t,n)||e.utils.style.getCascadedStyle(t,n)||t.style&&t.style[n]},e.utils.style.getComputedStyle=function(e,t){return document.defaultView&&document.defaultView.getComputedStyle&&(e=document.defaultView.getComputedStyle(e,null))&&(e[t]||e.getPropertyValue(t))||""},e.utils.style.getCascadedStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:null},e.utils.style.getPageOffset=function(t){var n=new e.utils.Coordinate(0,0);t=t.getBoundingClientRect();var r=document.documentElement;return r=new e.utils.Coordinate(window.pageXOffset||r.scrollLeft,window.pageYOffset||r.scrollTop),n.x=t.left+r.x,n.y=t.top+r.y,n},e.utils.style.getViewportPageOffset=function(){var t=document.body,n=document.documentElement;return new e.utils.Coordinate(t.scrollLeft||n.scrollLeft,t.scrollTop||n.scrollTop)},e.utils.style.setElementShown=function(e,t){e.style.display=t?"":"none"},e.utils.style.isRightToLeft=function(t){return"rtl"==e.utils.style.getStyle_(t,"direction")},e.utils.style.getBorderBox=function(t){var n=e.utils.style.getComputedStyle(t,"borderLeftWidth"),r=e.utils.style.getComputedStyle(t,"borderRightWidth"),i=e.utils.style.getComputedStyle(t,"borderTopWidth");return t=e.utils.style.getComputedStyle(t,"borderBottomWidth"),{top:parseFloat(i),right:parseFloat(r),bottom:parseFloat(t),left:parseFloat(n)}},e.utils.style.scrollIntoContainerView=function(t,n,r){t=e.utils.style.getContainerOffsetToScrollInto(t,n,r),n.scrollLeft=t.x,n.scrollTop=t.y},e.utils.style.getContainerOffsetToScrollInto=function(t,n,r){var i=e.utils.style.getPageOffset(t),o=e.utils.style.getPageOffset(n),s=e.utils.style.getBorderBox(n),a=i.x-o.x-s.left;return i=i.y-o.y-s.top,o=e.utils.style.getSizeWithDisplay_(t),t=n.clientWidth-o.width,o=n.clientHeight-o.height,s=n.scrollLeft,n=n.scrollTop,r?(s+=a-t/2,n+=i-o/2):(s+=Math.min(a,Math.max(a-t,0)),n+=Math.min(i,Math.max(i-o,0))),new e.utils.Coordinate(s,n)},e.utils.userAgent={},function(t){function n(e){return-1!=r.indexOf(e.toUpperCase())}e.utils.userAgent.raw=t;var r=e.utils.userAgent.raw.toUpperCase();e.utils.userAgent.IE=n("Trident")||n("MSIE"),e.utils.userAgent.EDGE=n("Edge"),e.utils.userAgent.JAVA_FX=n("JavaFX"),e.utils.userAgent.CHROME=(n("Chrome")||n("CriOS"))&&!e.utils.userAgent.EDGE,e.utils.userAgent.WEBKIT=n("WebKit")&&!e.utils.userAgent.EDGE,e.utils.userAgent.GECKO=n("Gecko")&&!e.utils.userAgent.WEBKIT&&!e.utils.userAgent.IE&&!e.utils.userAgent.EDGE,e.utils.userAgent.ANDROID=n("Android"),t=e.utils.global.navigator&&e.utils.global.navigator.maxTouchPoints,e.utils.userAgent.IPAD=n("iPad")||n("Macintosh")&&0<t,e.utils.userAgent.IPOD=n("iPod"),e.utils.userAgent.IPHONE=n("iPhone")&&!e.utils.userAgent.IPAD&&!e.utils.userAgent.IPOD,e.utils.userAgent.MAC=n("Macintosh"),e.utils.userAgent.TABLET=e.utils.userAgent.IPAD||e.utils.userAgent.ANDROID&&!n("Mobile")||n("Silk"),e.utils.userAgent.MOBILE=!e.utils.userAgent.TABLET&&(e.utils.userAgent.IPOD||e.utils.userAgent.IPHONE||e.utils.userAgent.ANDROID||n("IEMobile"))}(e.utils.global.navigator&&e.utils.global.navigator.userAgent||""),e.utils.noEvent=function(e){e.preventDefault(),e.stopPropagation()},e.utils.isTargetInput=function(e){return"textarea"==e.target.type||"text"==e.target.type||"number"==e.target.type||"email"==e.target.type||"password"==e.target.type||"search"==e.target.type||"tel"==e.target.type||"url"==e.target.type||e.target.isContentEditable||e.target.dataset&&"true"==e.target.dataset.isTextInput},e.utils.getRelativeXY=function(t){var n=new e.utils.Coordinate(0,0),r=t.getAttribute("x");return r&&(n.x=parseInt(r,10)),(r=t.getAttribute("y"))&&(n.y=parseInt(r,10)),(r=(r=t.getAttribute("transform"))&&r.match(e.utils.getRelativeXY.XY_REGEX_))&&(n.x+=Number(r[1]),r[3]&&(n.y+=Number(r[3]))),(t=t.getAttribute("style"))&&-1<t.indexOf("translate")&&(t=t.match(e.utils.getRelativeXY.XY_STYLE_REGEX_))&&(n.x+=Number(t[1]),t[3]&&(n.y+=Number(t[3]))),n},e.utils.getInjectionDivXY_=function(t){for(var n=0,r=0;t;){var i=e.utils.getRelativeXY(t);if(n+=i.x,r+=i.y,-1!=(" "+(t.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;t=t.parentNode}return new e.utils.Coordinate(n,r)},e.utils.getRelativeXY.XY_REGEX_=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,e.utils.getRelativeXY.XY_STYLE_REGEX_=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/,e.utils.isRightButton=function(t){return!(!t.ctrlKey||!e.utils.userAgent.MAC)||2==t.button},e.utils.mouseToSvg=function(e,t,n){var r=t.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,n||(n=t.getScreenCTM().inverse()),r.matrixTransform(n)},e.utils.getScrollDeltaPixels=function(t){switch(t.deltaMode){default:return{x:t.deltaX,y:t.deltaY};case 1:return{x:t.deltaX*e.LINE_MODE_MULTIPLIER,y:t.deltaY*e.LINE_MODE_MULTIPLIER};case 2:return{x:t.deltaX*e.PAGE_MODE_MULTIPLIER,y:t.deltaY*e.PAGE_MODE_MULTIPLIER}}},e.utils.tokenizeInterpolation=function(t){return e.utils.tokenizeInterpolation_(t,!0)},e.utils.replaceMessageReferences=function(t){return"string"!=typeof t?t:(t=e.utils.tokenizeInterpolation_(t,!1)).length?String(t[0]):""},e.utils.checkMessageReferences=function(t){for(var n=!0,r=e.Msg,i=t.match(/%{BKY_[A-Z]\w*}/gi),o=0;o<i.length;o++)void 0==r[i[o].toUpperCase().slice(6,-1)]&&(console.warn("No message string for "+i[o]+" in "+t),n=!1);return n},e.utils.tokenizeInterpolation_=function(t,n){var r=[],i=t.split("");i.push("");var o=0;t=[];for(var s=null,a=0;a<i.length;a++){var l=i[a];0==o?"%"==l?((l=t.join(""))&&r.push(l),t.length=0,o=1):t.push(l):1==o?"%"==l?(t.push(l),o=0):n&&"0"<=l&&"9">=l?(o=2,s=l,(l=t.join(""))&&r.push(l),t.length=0):"{"==l?o=3:(t.push("%",l),o=0):2==o?"0"<=l&&"9">=l?s+=l:(r.push(parseInt(s,10)),a--,o=0):3==o&&(""==l?(t.splice(0,0,"%{"),a--,o=0):"}"!=l?t.push(l):(o=t.join(""),/[A-Z]\w*/i.test(o)?(l=o.toUpperCase(),(l=e.utils.string.startsWith(l,"BKY_")?l.substring(4):null)&&l in e.Msg?"string"==typeof(o=e.Msg[l])?Array.prototype.push.apply(r,e.utils.tokenizeInterpolation_(o,n)):n?r.push(String(o)):r.push(o):r.push("%{"+o+"}")):r.push("%{"+o+"}"),o=t.length=0))}for((l=t.join(""))&&r.push(l),n=[],a=t.length=0;a<r.length;++a)"string"==typeof r[a]?t.push(r[a]):((l=t.join(""))&&n.push(l),t.length=0,n.push(r[a]));return(l=t.join(""))&&n.push(l),t.length=0,n},e.utils.genUid=function(){for(var t=e.utils.genUid.soup_.length,n=[],r=0;20>r;r++)n[r]=e.utils.genUid.soup_.charAt(Math.random()*t);return n.join("")},e.utils.genUid.soup_="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e.utils.is3dSupported=function(){if(void 0!==e.utils.is3dSupported.cached_)return e.utils.is3dSupported.cached_;if(!e.utils.global.getComputedStyle)return!1;var t=document.createElement("p"),n="none",r={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(var i in document.body.insertBefore(t,null),r)if(void 0!==t.style[i]){if(t.style[i]="translate3d(1px,1px,1px)",!(n=e.utils.global.getComputedStyle(t)))return document.body.removeChild(t),!1;n=n.getPropertyValue(r[i])}return document.body.removeChild(t),e.utils.is3dSupported.cached_="none"!==n,e.utils.is3dSupported.cached_},e.utils.runAfterPageLoad=function(e){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)e();else var t=setInterval((function(){"complete"==document.readyState&&(clearInterval(t),e())}),10)},e.utils.getViewportBBox=function(){var t=e.utils.style.getViewportPageOffset();return new e.utils.Rect(t.y,document.documentElement.clientHeight+t.y,t.x,document.documentElement.clientWidth+t.x)},e.utils.arrayRemove=function(e,t){return-1!=(t=e.indexOf(t))&&(e.splice(t,1),!0)},e.utils.getDocumentScroll=function(){var t=document.documentElement,n=window;return e.utils.userAgent.IE&&n.pageYOffset!=t.scrollTop?new e.utils.Coordinate(t.scrollLeft,t.scrollTop):new e.utils.Coordinate(n.pageXOffset||t.scrollLeft,n.pageYOffset||t.scrollTop)},e.utils.getBlockTypeCounts=function(e,t){var n=Object.create(null),r=e.getDescendants(!0);for(t&&(e=e.getNextBlock())&&(e=r.indexOf(e),r.splice(e,r.length-e)),e=0;t=r[e];e++)n[t.type]?n[t.type]++:n[t.type]=1;return n},e.utils.screenToWsCoordinates=function(t,n){var r=n.x;n=n.y;var i=t.getInjectionDiv().getBoundingClientRect();return r=new e.utils.Coordinate(r-i.left,n-i.top),n=t.getOriginOffsetInPixels(),e.utils.Coordinate.difference(r,n).scale(1/t.scale)},e.utils.parseBlockColour=function(t){var n="string"==typeof t?e.utils.replaceMessageReferences(t):t,r=Number(n);if(!isNaN(r)&&0<=r&&360>=r)return{hue:r,hex:e.utils.colour.hsvToHex(r,e.HSV_SATURATION,255*e.HSV_VALUE)};if(r=e.utils.colour.parse(n))return{hue:null,hex:r};throw r='Invalid colour: "'+n+'"',t!=n&&(r+=' (from "'+t+'")'),Error(r)},e.Touch={},e.Touch.TOUCH_ENABLED="ontouchstart"in e.utils.global||!!(e.utils.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!e.utils.global.navigator||!e.utils.global.navigator.maxTouchPoints&&!e.utils.global.navigator.msMaxTouchPoints),e.Touch.touchIdentifier_=null,e.Touch.TOUCH_MAP={},e.utils.global.PointerEvent?e.Touch.TOUCH_MAP={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:e.Touch.TOUCH_ENABLED&&(e.Touch.TOUCH_MAP={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]}),e.longPid_=0,e.longStart=function(t,n){e.longStop_(),t.changedTouches&&1!=t.changedTouches.length||(e.longPid_=setTimeout((function(){t.changedTouches&&(t.button=2,t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY),n&&n.handleRightClick(t)}),e.LONGPRESS))},e.longStop_=function(){e.longPid_&&(clearTimeout(e.longPid_),e.longPid_=0)},e.Touch.clearTouchIdentifier=function(){e.Touch.touchIdentifier_=null},e.Touch.shouldHandleEvent=function(t){return!e.Touch.isMouseOrTouchEvent(t)||e.Touch.checkTouchIdentifier(t)},e.Touch.getTouchIdentifierFromEvent=function(e){return void 0!=e.pointerId?e.pointerId:e.changedTouches&&e.changedTouches[0]&&void 0!==e.changedTouches[0].identifier&&null!==e.changedTouches[0].identifier?e.changedTouches[0].identifier:"mouse"},e.Touch.checkTouchIdentifier=function(t){var n=e.Touch.getTouchIdentifierFromEvent(t);return void 0!==e.Touch.touchIdentifier_&&null!==e.Touch.touchIdentifier_?e.Touch.touchIdentifier_==n:("mousedown"==t.type||"touchstart"==t.type||"pointerdown"==t.type)&&(e.Touch.touchIdentifier_=n,!0)},e.Touch.setClientFromTouch=function(t){if(e.utils.string.startsWith(t.type,"touch")){var n=t.changedTouches[0];t.clientX=n.clientX,t.clientY=n.clientY}},e.Touch.isMouseOrTouchEvent=function(t){return e.utils.string.startsWith(t.type,"touch")||e.utils.string.startsWith(t.type,"mouse")||e.utils.string.startsWith(t.type,"pointer")},e.Touch.isTouchEvent=function(t){return e.utils.string.startsWith(t.type,"touch")||e.utils.string.startsWith(t.type,"pointer")},e.Touch.splitEventByTouches=function(e){var t=[];if(e.changedTouches)for(var n=0;n<e.changedTouches.length;n++)t[n]={type:e.type,changedTouches:[e.changedTouches[n]],target:e.target,stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()}};else t.push(e);return t},e.browserEvents={},e.browserEvents.conditionalBind=function(t,n,r,i,o,s){var a=!1,l=function(t){var n=!o;t=e.Touch.splitEventByTouches(t);for(var s,l=0;s=t[l];l++)n&&!e.Touch.shouldHandleEvent(s)||(e.Touch.setClientFromTouch(s),r?i.call(r,s):i(s),a=!0)},c=[];if(e.utils.global.PointerEvent&&n in e.Touch.TOUCH_MAP)for(var u,h=0;u=e.Touch.TOUCH_MAP[n][h];h++)t.addEventListener(u,l,!1),c.push([t,u,l]);else if(t.addEventListener(n,l,!1),c.push([t,n,l]),n in e.Touch.TOUCH_MAP){var p=function(e){l(e),a&&!s&&e.preventDefault()};for(h=0;u=e.Touch.TOUCH_MAP[n][h];h++)t.addEventListener(u,p,!1),c.push([t,u,p])}return c},e.browserEvents.bind=function(t,n,r,i){var o=function(e){r?i.call(r,e):i(e)},s=[];if(e.utils.global.PointerEvent&&n in e.Touch.TOUCH_MAP)for(var a,l=0;a=e.Touch.TOUCH_MAP[n][l];l++)t.addEventListener(a,o,!1),s.push([t,a,o]);else if(t.addEventListener(n,o,!1),s.push([t,n,o]),n in e.Touch.TOUCH_MAP){var c=function(e){if(e.changedTouches&&1==e.changedTouches.length){var t=e.changedTouches[0];e.clientX=t.clientX,e.clientY=t.clientY}o(e),e.preventDefault()};for(l=0;a=e.Touch.TOUCH_MAP[n][l];l++)t.addEventListener(a,c,!1),s.push([t,a,c])}return s},e.browserEvents.unbind=function(e){for(;e.length;){var t=e.pop(),n=t[2];t[0].removeEventListener(t[1],n,!1)}return n},e.ComponentManager=function(){this.componentData_=Object.create(null),this.capabilityToComponentIds_=Object.create(null)},e.ComponentManager.prototype.addComponent=function(e,t){var n=e.component.id;if(!t&&this.componentData_[n])throw Error('Plugin "'+n+'" with capabilities "'+this.componentData_[n].capabilities+'" already added.');this.componentData_[n]=e,t=[];for(var r=0;r<e.capabilities.length;r++){var i=String(e.capabilities[r]).toLowerCase();t.push(i),void 0===this.capabilityToComponentIds_[i]?this.capabilityToComponentIds_[i]=[n]:this.capabilityToComponentIds_[i].push(n)}this.componentData_[n].capabilities=t},e.ComponentManager.prototype.removeComponent=function(e){var t=this.componentData_[e];if(t){for(var n=0;n<t.capabilities.length;n++){var r=String(t.capabilities[n]).toLowerCase();this.capabilityToComponentIds_[r].splice(this.capabilityToComponentIds_[r].indexOf(e),1)}delete this.componentData_[e]}},e.ComponentManager.prototype.addCapability=function(e,t){if(!this.getComponent(e))throw Error('Cannot add capability, "'+t+'". Plugin "'+e+'" has not been added to the ComponentManager');this.hasCapability(e,t)?console.warn('Plugin "'+e+'already has capability "'+t+'"'):(t=String(t).toLowerCase(),this.componentData_[e].capabilities.push(t),this.capabilityToComponentIds_[t].push(e))},e.ComponentManager.prototype.removeCapability=function(e,t){if(!this.getComponent(e))throw Error('Cannot remove capability, "'+t+'". Plugin "'+e+'" has not been added to the ComponentManager');this.hasCapability(e,t)?(t=String(t).toLowerCase(),this.componentData_[e].capabilities.splice(this.componentData_[e].capabilities.indexOf(t),1),this.capabilityToComponentIds_[t].splice(this.capabilityToComponentIds_[t].indexOf(e),1)):console.warn('Plugin "'+e+"doesn't have capability \""+t+'" to remove')},e.ComponentManager.prototype.hasCapability=function(e,t){return t=String(t).toLowerCase(),-1!==this.componentData_[e].capabilities.indexOf(t)},e.ComponentManager.prototype.getComponent=function(e){return this.componentData_[e]&&this.componentData_[e].component},e.ComponentManager.prototype.getComponents=function(e,t){if(e=String(e).toLowerCase(),!(e=this.capabilityToComponentIds_[e]))return[];var n=[];if(t){var r=[],i=this.componentData_;e.forEach((function(e){r.push(i[e])})),r.sort((function(e,t){return e.weight-t.weight})),r.forEach((function(e){n.push(e.component)}))}else i=this.componentData_,e.forEach((function(e){n.push(i[e].component)}));return n},e.ComponentManager.Capability=function(e){this.name_=e},e.ComponentManager.Capability.prototype.toString=function(){return this.name_},e.ComponentManager.Capability.POSITIONABLE=new e.ComponentManager.Capability("positionable"),e.ComponentManager.Capability.DRAG_TARGET=new e.ComponentManager.Capability("drag_target"),e.ComponentManager.Capability.DELETE_AREA=new e.ComponentManager.Capability("delete_area"),e.ComponentManager.Capability.AUTOHIDEABLE=new e.ComponentManager.Capability("autohideable"),e.utils.Svg=function(e){this.tagName_=e},e.utils.Svg.prototype.toString=function(){return this.tagName_},e.utils.Svg.ANIMATE=new e.utils.Svg("animate"),e.utils.Svg.CIRCLE=new e.utils.Svg("circle"),e.utils.Svg.CLIPPATH=new e.utils.Svg("clipPath"),e.utils.Svg.DEFS=new e.utils.Svg("defs"),e.utils.Svg.FECOMPOSITE=new e.utils.Svg("feComposite"),e.utils.Svg.FECOMPONENTTRANSFER=new e.utils.Svg("feComponentTransfer"),e.utils.Svg.FEFLOOD=new e.utils.Svg("feFlood"),e.utils.Svg.FEFUNCA=new e.utils.Svg("feFuncA"),e.utils.Svg.FEGAUSSIANBLUR=new e.utils.Svg("feGaussianBlur"),e.utils.Svg.FEPOINTLIGHT=new e.utils.Svg("fePointLight"),e.utils.Svg.FESPECULARLIGHTING=new e.utils.Svg("feSpecularLighting"),e.utils.Svg.FILTER=new e.utils.Svg("filter"),e.utils.Svg.FOREIGNOBJECT=new e.utils.Svg("foreignObject"),e.utils.Svg.G=new e.utils.Svg("g"),e.utils.Svg.IMAGE=new e.utils.Svg("image"),e.utils.Svg.LINE=new e.utils.Svg("line"),e.utils.Svg.PATH=new e.utils.Svg("path"),e.utils.Svg.PATTERN=new e.utils.Svg("pattern"),e.utils.Svg.POLYGON=new e.utils.Svg("polygon"),e.utils.Svg.RECT=new e.utils.Svg("rect"),e.utils.Svg.SVG=new e.utils.Svg("svg"),e.utils.Svg.TEXT=new e.utils.Svg("text"),e.utils.Svg.TSPAN=new e.utils.Svg("tspan"),e.utils.dom={},e.utils.dom.SVG_NS="http://www.w3.org/2000/svg",e.utils.dom.HTML_NS="http://www.w3.org/1999/xhtml",e.utils.dom.XLINK_NS="http://www.w3.org/1999/xlink",e.utils.dom.NodeType={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_POSITION_CONTAINED_BY:16},e.utils.dom.cacheWidths_=null,e.utils.dom.cacheReference_=0,e.utils.dom.canvasContext_=null,e.utils.dom.createSvgElement=function(t,n,r){for(var i in t=document.createElementNS(e.utils.dom.SVG_NS,String(t)),n)t.setAttribute(i,n[i]);return document.body.runtimeStyle&&(t.runtimeStyle=t.currentStyle=t.style),r&&r.appendChild(t),t},e.utils.dom.addClass=function(e,t){var n=e.getAttribute("class")||"";return-1==(" "+n+" ").indexOf(" "+t+" ")&&(n&&(n+=" "),e.setAttribute("class",n+t),!0)},e.utils.dom.removeClasses=function(t,n){n=n.split(" ");for(var r=0;r<n.length;r++)e.utils.dom.removeClass(t,n[r])},e.utils.dom.removeClass=function(e,t){var n=e.getAttribute("class");if(-1==(" "+n+" ").indexOf(" "+t+" "))return!1;n=n.split(/\s+/);for(var r=0;r<n.length;r++)n[r]&&n[r]!=t||(n.splice(r,1),r--);return n.length?e.setAttribute("class",n.join(" ")):e.removeAttribute("class"),!0},e.utils.dom.hasClass=function(e,t){return-1!=(" "+e.getAttribute("class")+" ").indexOf(" "+t+" ")},e.utils.dom.removeNode=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},e.utils.dom.insertAfter=function(e,t){var n=t.nextSibling;if(!(t=t.parentNode))throw Error("Reference node has no parent.");n?t.insertBefore(e,n):t.appendChild(e)},e.utils.dom.containsNode=function(t,n){return!!(t.compareDocumentPosition(n)&e.utils.dom.NodeType.DOCUMENT_POSITION_CONTAINED_BY)},e.utils.dom.setCssTransform=function(e,t){e.style.transform=t,e.style["-webkit-transform"]=t},e.utils.dom.startTextWidthCache=function(){e.utils.dom.cacheReference_++,e.utils.dom.cacheWidths_||(e.utils.dom.cacheWidths_=Object.create(null))},e.utils.dom.stopTextWidthCache=function(){e.utils.dom.cacheReference_--,e.utils.dom.cacheReference_||(e.utils.dom.cacheWidths_=null)},e.utils.dom.getTextWidth=function(t){var n,r=t.textContent+"\n"+t.className.baseVal;if(e.utils.dom.cacheWidths_&&(n=e.utils.dom.cacheWidths_[r]))return n;try{n=e.utils.userAgent.IE||e.utils.userAgent.EDGE?t.getBBox().width:t.getComputedTextLength()}catch(i){return 8*t.textContent.length}return e.utils.dom.cacheWidths_&&(e.utils.dom.cacheWidths_[r]=n),n},e.utils.dom.getFastTextWidth=function(t,n,r,i){return e.utils.dom.getFastTextWidthWithSizeString(t,n+"pt",r,i)},e.utils.dom.getFastTextWidthWithSizeString=function(t,n,r,i){var o,s=t.textContent;return t=s+"\n"+t.className.baseVal,e.utils.dom.cacheWidths_&&(o=e.utils.dom.cacheWidths_[t])||(e.utils.dom.canvasContext_||((o=document.createElement("canvas")).className="blocklyComputeCanvas",document.body.appendChild(o),e.utils.dom.canvasContext_=o.getContext("2d")),e.utils.dom.canvasContext_.font=r+" "+n+" "+i,o=e.utils.dom.canvasContext_.measureText(s).width,e.utils.dom.cacheWidths_&&(e.utils.dom.cacheWidths_[t]=o)),o},e.utils.dom.measureFontMetrics=function(e,t,n,r){var i=document.createElement("span");i.style.font=n+" "+t+" "+r,i.textContent=e,(e=document.createElement("div")).style.width="1px",e.style.height="0px",(t=document.createElement("div")).setAttribute("style","position: fixed; top: 0; left: 0; display: flex;"),t.appendChild(i),t.appendChild(e),document.body.appendChild(t);try{n={},t.style.alignItems="baseline",n.baseline=e.offsetTop-i.offsetTop,t.style.alignItems="flex-end",n.height=e.offsetTop-i.offsetTop}finally{document.body.removeChild(t)}return n},e.utils.math={},e.utils.math.toRadians=function(e){return e*Math.PI/180},e.utils.math.toDegrees=function(e){return 180*e/Math.PI},e.utils.math.clamp=function(e,t,n){if(n<e){var r=n;n=e,e=r}return Math.max(e,Math.min(t,n))},e.DropDownDiv=function(){},e.DropDownDiv.boundsElement_=null,e.DropDownDiv.owner_=null,e.DropDownDiv.positionToField_=null,e.DropDownDiv.ARROW_SIZE=16,e.DropDownDiv.BORDER_SIZE=1,e.DropDownDiv.ARROW_HORIZONTAL_PADDING=12,e.DropDownDiv.PADDING_Y=16,e.DropDownDiv.ANIMATION_TIME=.25,e.DropDownDiv.animateOutTimer_=null,e.DropDownDiv.onHide_=null,e.DropDownDiv.rendererClassName_="",e.DropDownDiv.themeClassName_="",e.DropDownDiv.createDom=function(){if(!e.DropDownDiv.DIV_){var t=document.createElement("div");t.className="blocklyDropDownDiv",(e.parentContainer||document.body).appendChild(t),e.DropDownDiv.DIV_=t;var n=document.createElement("div");n.className="blocklyDropDownContent",t.appendChild(n),e.DropDownDiv.content_=n,(n=document.createElement("div")).className="blocklyDropDownArrow",t.appendChild(n),e.DropDownDiv.arrow_=n,e.DropDownDiv.DIV_.style.opacity=0,e.DropDownDiv.DIV_.style.transition="transform "+e.DropDownDiv.ANIMATION_TIME+"s, opacity "+e.DropDownDiv.ANIMATION_TIME+"s",t.addEventListener("focusin",(function(){e.utils.dom.addClass(t,"blocklyFocused")})),t.addEventListener("focusout",(function(){e.utils.dom.removeClass(t,"blocklyFocused")}))}},e.DropDownDiv.setBoundsElement=function(t){e.DropDownDiv.boundsElement_=t},e.DropDownDiv.getContentDiv=function(){return e.DropDownDiv.content_},e.DropDownDiv.clearContent=function(){e.DropDownDiv.content_.textContent="",e.DropDownDiv.content_.style.width=""},e.DropDownDiv.setColour=function(t,n){e.DropDownDiv.DIV_.style.backgroundColor=t,e.DropDownDiv.DIV_.style.borderColor=n},e.DropDownDiv.showPositionedByBlock=function(t,n,r,i){return e.DropDownDiv.showPositionedByRect_(e.DropDownDiv.getScaledBboxOfBlock_(n),t,r,i)},e.DropDownDiv.showPositionedByField=function(t,n,r){return e.DropDownDiv.positionToField_=!0,e.DropDownDiv.showPositionedByRect_(e.DropDownDiv.getScaledBboxOfField_(t),t,n,r)},e.DropDownDiv.getScaledBboxOfBlock_=function(t){var n=t.getSvgRoot(),r=n.getBBox(),i=t.workspace.scale;return t=r.height*i,r=r.width*i,n=e.utils.style.getPageOffset(n),new e.utils.Rect(n.y,n.y+t,n.x,n.x+r)},e.DropDownDiv.getScaledBboxOfField_=function(t){return t=t.getScaledBBox(),new e.utils.Rect(t.top,t.bottom,t.left,t.right)},e.DropDownDiv.showPositionedByRect_=function(t,n,r,i){var o=t.left+(t.right-t.left)/2,s=t.bottom;t=t.top,i&&(t+=i);for(var a=(i=n.getSourceBlock()).workspace;a.options.parentWorkspace;)a=a.options.parentWorkspace;return e.DropDownDiv.setBoundsElement(a.getParentSvg().parentNode),e.DropDownDiv.show(n,i.RTL,o,s,o,t,r)},e.DropDownDiv.show=function(t,n,r,i,o,s,a){return e.DropDownDiv.owner_=t,e.DropDownDiv.onHide_=a||null,(t=e.DropDownDiv.DIV_).style.direction=n?"rtl":"ltr",n=e.getMainWorkspace(),e.DropDownDiv.rendererClassName_=n.getRenderer().getClassName(),e.DropDownDiv.themeClassName_=n.getTheme().getClassName(),e.utils.dom.addClass(t,e.DropDownDiv.rendererClassName_),e.utils.dom.addClass(t,e.DropDownDiv.themeClassName_),e.DropDownDiv.positionInternal_(r,i,o,s)},e.DropDownDiv.getBoundsInfo_=function(){var t=e.utils.style.getPageOffset(e.DropDownDiv.boundsElement_),n=e.utils.style.getSize(e.DropDownDiv.boundsElement_);return{left:t.x,right:t.x+n.width,top:t.y,bottom:t.y+n.height,width:n.width,height:n.height}},e.DropDownDiv.getPositionMetrics_=function(t,n,r,i){var o=e.DropDownDiv.getBoundsInfo_(),s=e.utils.style.getSize(e.DropDownDiv.DIV_);return n+s.height<o.bottom?e.DropDownDiv.getPositionBelowMetrics_(t,n,o,s):i-s.height>o.top?e.DropDownDiv.getPositionAboveMetrics_(r,i,o,s):n+s.height<document.documentElement.clientHeight?e.DropDownDiv.getPositionBelowMetrics_(t,n,o,s):i-s.height>document.documentElement.clientTop?e.DropDownDiv.getPositionAboveMetrics_(r,i,o,s):e.DropDownDiv.getPositionTopOfPageMetrics_(t,o,s)},e.DropDownDiv.getPositionBelowMetrics_=function(t,n,r,i){return{initialX:(t=e.DropDownDiv.getPositionX(t,r.left,r.right,i.width)).divX,initialY:n,finalX:t.divX,finalY:n+e.DropDownDiv.PADDING_Y,arrowX:t.arrowX,arrowY:-(e.DropDownDiv.ARROW_SIZE/2+e.DropDownDiv.BORDER_SIZE),arrowAtTop:!0,arrowVisible:!0}},e.DropDownDiv.getPositionAboveMetrics_=function(t,n,r,i){return{initialX:(t=e.DropDownDiv.getPositionX(t,r.left,r.right,i.width)).divX,initialY:n-i.height,finalX:t.divX,finalY:n-i.height-e.DropDownDiv.PADDING_Y,arrowX:t.arrowX,arrowY:i.height-2*e.DropDownDiv.BORDER_SIZE-e.DropDownDiv.ARROW_SIZE/2,arrowAtTop:!1,arrowVisible:!0}},e.DropDownDiv.getPositionTopOfPageMetrics_=function(t,n,r){return{initialX:(t=e.DropDownDiv.getPositionX(t,n.left,n.right,r.width)).divX,initialY:0,finalX:t.divX,finalY:0,arrowAtTop:null,arrowX:null,arrowY:null,arrowVisible:!1}},e.DropDownDiv.getPositionX=function(t,n,r,i){var o=t;return t=e.utils.math.clamp(n,t-i/2,r-i),o-=e.DropDownDiv.ARROW_SIZE/2,n=e.DropDownDiv.ARROW_HORIZONTAL_PADDING,{arrowX:i=e.utils.math.clamp(n,o-t,i-n-e.DropDownDiv.ARROW_SIZE),divX:t}},e.DropDownDiv.isVisible=function(){return!!e.DropDownDiv.owner_},e.DropDownDiv.hideIfOwner=function(t,n){return e.DropDownDiv.owner_===t&&(n?e.DropDownDiv.hideWithoutAnimation():e.DropDownDiv.hide(),!0)},e.DropDownDiv.hide=function(){var t=e.DropDownDiv.DIV_;t.style.transform="translate(0, 0)",t.style.opacity=0,e.DropDownDiv.animateOutTimer_=setTimeout((function(){e.DropDownDiv.hideWithoutAnimation()}),1e3*e.DropDownDiv.ANIMATION_TIME),e.DropDownDiv.onHide_&&(e.DropDownDiv.onHide_(),e.DropDownDiv.onHide_=null)},e.DropDownDiv.hideWithoutAnimation=function(){if(e.DropDownDiv.isVisible()){e.DropDownDiv.animateOutTimer_&&clearTimeout(e.DropDownDiv.animateOutTimer_);var t=e.DropDownDiv.DIV_;t.style.transform="",t.style.left="",t.style.top="",t.style.opacity=0,t.style.display="none",t.style.backgroundColor="",t.style.borderColor="",e.DropDownDiv.onHide_&&(e.DropDownDiv.onHide_(),e.DropDownDiv.onHide_=null),e.DropDownDiv.clearContent(),e.DropDownDiv.owner_=null,e.DropDownDiv.rendererClassName_&&(e.utils.dom.removeClass(t,e.DropDownDiv.rendererClassName_),e.DropDownDiv.rendererClassName_=""),e.DropDownDiv.themeClassName_&&(e.utils.dom.removeClass(t,e.DropDownDiv.themeClassName_),e.DropDownDiv.themeClassName_=""),e.getMainWorkspace().markFocused()}},e.DropDownDiv.positionInternal_=function(t,n,r,i){(t=e.DropDownDiv.getPositionMetrics_(t,n,r,i)).arrowVisible?(e.DropDownDiv.arrow_.style.display="",e.DropDownDiv.arrow_.style.transform="translate("+t.arrowX+"px,"+t.arrowY+"px) rotate(45deg)",e.DropDownDiv.arrow_.setAttribute("class",t.arrowAtTop?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):e.DropDownDiv.arrow_.style.display="none",n=Math.floor(t.initialX),r=Math.floor(t.initialY),i=Math.floor(t.finalX);var o=Math.floor(t.finalY),s=e.DropDownDiv.DIV_;return s.style.left=n+"px",s.style.top=r+"px",s.style.display="block",s.style.opacity=1,s.style.transform="translate("+(i-n)+"px,"+(o-r)+"px)",!!t.arrowAtTop},e.DropDownDiv.repositionForWindowResize=function(){if(e.DropDownDiv.owner_){var t=e.DropDownDiv.owner_,n=t.getSourceBlock();n=(t=e.DropDownDiv.positionToField_?e.DropDownDiv.getScaledBboxOfField_(t):e.DropDownDiv.getScaledBboxOfBlock_(n)).left+(t.right-t.left)/2,e.DropDownDiv.positionInternal_(n,t.bottom,n,t.top)}else e.DropDownDiv.hide()},e.registry={},e.registry.typeMap_=Object.create(null),e.registry.DEFAULT="default",e.registry.Type=function(e){this.name_=e},e.registry.Type.prototype.toString=function(){return this.name_},e.registry.Type.CONNECTION_CHECKER=new e.registry.Type("connectionChecker"),e.registry.Type.CURSOR=new e.registry.Type("cursor"),e.registry.Type.EVENT=new e.registry.Type("event"),e.registry.Type.FIELD=new e.registry.Type("field"),e.registry.Type.RENDERER=new e.registry.Type("renderer"),e.registry.Type.TOOLBOX=new e.registry.Type("toolbox"),e.registry.Type.THEME=new e.registry.Type("theme"),e.registry.Type.TOOLBOX_ITEM=new e.registry.Type("toolboxItem"),e.registry.Type.FLYOUTS_VERTICAL_TOOLBOX=new e.registry.Type("flyoutsVerticalToolbox"),e.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX=new e.registry.Type("flyoutsHorizontalToolbox"),e.registry.Type.METRICS_MANAGER=new e.registry.Type("metricsManager"),e.registry.Type.BLOCK_DRAGGER=new e.registry.Type("blockDragger"),e.registry.register=function(t,n,r,i){if(!(t instanceof e.registry.Type)&&"string"!=typeof t||""==String(t).trim())throw Error('Invalid type "'+t+'". The type must be a non-empty string or a Blockly.registry.Type.');if(t=String(t).toLowerCase(),"string"!=typeof n||""==n.trim())throw Error('Invalid name "'+n+'". The name must be a non-empty string.');if(n=n.toLowerCase(),!r)throw Error("Can not register a null value");var o=e.registry.typeMap_[t];if(o||(o=e.registry.typeMap_[t]=Object.create(null)),e.registry.validate_(t,r),!i&&o[n])throw Error('Name "'+n+'" with type "'+t+'" already registered.');o[n]=r},e.registry.validate_=function(t,n){if(t===String(e.registry.Type.FIELD)&&"function"!=typeof n.fromJson)throw Error('Type "'+t+'" must have a fromJson function')},e.registry.unregister=function(t,n){t=String(t).toLowerCase(),n=n.toLowerCase();var r=e.registry.typeMap_[t];r&&r[n]?delete e.registry.typeMap_[t][n]:console.warn("Unable to unregister ["+n+"]["+t+"] from the registry.")},e.registry.getItem_=function(t,n,r){t=String(t).toLowerCase(),n=n.toLowerCase();var i=e.registry.typeMap_[t];if(!i||!i[n]){if(n="Unable to find ["+n+"]["+t+"] in the registry.",r)throw Error(n+" You must require or register a "+t+" plugin.");return console.warn(n),null}return i[n]},e.registry.hasItem=function(t,n){return t=String(t).toLowerCase(),n=n.toLowerCase(),!!(t=e.registry.typeMap_[t])&&!!t[n]},e.registry.getClass=function(t,n,r){return e.registry.getItem_(t,n,r)},e.registry.getObject=function(t,n,r){return e.registry.getItem_(t,n,r)},e.registry.getClassFromOptions=function(t,n,r){return"function"==typeof(n=n.plugins[t.toString()]||e.registry.DEFAULT)?n:e.registry.getClass(t,n,r)},e.Events={},e.Events.group_="",e.Events.recordUndo=!0,e.Events.disabled_=0,e.Events.CREATE="create",e.Events.BLOCK_CREATE=e.Events.CREATE,e.Events.DELETE="delete",e.Events.BLOCK_DELETE=e.Events.DELETE,e.Events.CHANGE="change",e.Events.BLOCK_CHANGE=e.Events.CHANGE,e.Events.MOVE="move",e.Events.BLOCK_MOVE=e.Events.MOVE,e.Events.VAR_CREATE="var_create",e.Events.VAR_DELETE="var_delete",e.Events.VAR_RENAME="var_rename",e.Events.UI="ui",e.Events.BLOCK_DRAG="drag",e.Events.SELECTED="selected",e.Events.CLICK="click",e.Events.MARKER_MOVE="marker_move",e.Events.BUBBLE_OPEN="bubble_open",e.Events.TRASHCAN_OPEN="trashcan_open",e.Events.TOOLBOX_ITEM_SELECT="toolbox_item_select",e.Events.THEME_CHANGE="theme_change",e.Events.VIEWPORT_CHANGE="viewport_change",e.Events.COMMENT_CREATE="comment_create",e.Events.COMMENT_DELETE="comment_delete",e.Events.COMMENT_CHANGE="comment_change",e.Events.COMMENT_MOVE="comment_move",e.Events.FINISHED_LOADING="finished_loading",e.Events.BUMP_EVENTS=[e.Events.BLOCK_CREATE,e.Events.BLOCK_MOVE,e.Events.COMMENT_CREATE,e.Events.COMMENT_MOVE],e.Events.FIRE_QUEUE_=[],e.Events.fire=function(t){e.Events.isEnabled()&&(e.Events.FIRE_QUEUE_.length||setTimeout(e.Events.fireNow_,0),e.Events.FIRE_QUEUE_.push(t))},e.Events.fireNow_=function(){for(var t,n=e.Events.filter(e.Events.FIRE_QUEUE_,!0),r=e.Events.FIRE_QUEUE_.length=0;t=n[r];r++)if(t.workspaceId){var i=e.Workspace.getById(t.workspaceId);i&&i.fireChangeListener(t)}},e.Events.filter=function(t,n){t=t.slice(),n||t.reverse();for(var r,i=[],o=Object.create(null),s=0;r=t[s];s++)if(!r.isNull()){var a=[r.isUiEvent?e.Events.UI:r.type,r.blockId,r.workspaceId].join(" "),l=o[a],c=l?l.event:null;l?r.type==e.Events.MOVE&&l.index==s-1?(c.newParentId=r.newParentId,c.newInputName=r.newInputName,c.newCoordinate=r.newCoordinate,l.index=s):r.type==e.Events.CHANGE&&r.element==c.element&&r.name==c.name?c.newValue=r.newValue:r.type==e.Events.VIEWPORT_CHANGE?(c.viewTop=r.viewTop,c.viewLeft=r.viewLeft,c.scale=r.scale,c.oldScale=r.oldScale):r.type==e.Events.CLICK&&c.type==e.Events.BUBBLE_OPEN||(o[a]={event:r,index:s},i.push(r)):(o[a]={event:r,index:s},i.push(r))}for(t=i.filter((function(e){return!e.isNull()})),n||t.reverse(),s=1;r=t[s];s++)r.type==e.Events.CHANGE&&"mutation"==r.element&&t.unshift(t.splice(s,1)[0]);return t},e.Events.clearPendingUndo=function(){for(var t,n=0;t=e.Events.FIRE_QUEUE_[n];n++)t.recordUndo=!1},e.Events.disable=function(){e.Events.disabled_++},e.Events.enable=function(){e.Events.disabled_--},e.Events.isEnabled=function(){return 0==e.Events.disabled_},e.Events.getGroup=function(){return e.Events.group_},e.Events.setGroup=function(t){e.Events.group_="boolean"==typeof t?t?e.utils.genUid():"":t},e.Events.getDescendantIds=function(e){var t=[];e=e.getDescendants(!1);for(var n,r=0;n=e[r];r++)t[r]=n.id;return t},e.Events.fromJson=function(t,n){var r=e.Events.get(t.type);if(!r)throw Error("Unknown event type.");return(r=new r).fromJson(t),r.workspaceId=n.id,r},e.Events.get=function(t){return e.registry.getClass(e.registry.Type.EVENT,t)},e.Events.disableOrphans=function(t){if((t.type==e.Events.MOVE||t.type==e.Events.CREATE)&&t.workspaceId){var n=e.Workspace.getById(t.workspaceId),r=n.getBlockById(t.blockId);if(r){t=e.Events.recordUndo;try{e.Events.recordUndo=!1;var i=r.getParent();if(i&&i.isEnabled()){var o,s=r.getDescendants(!1);for(n=0;o=s[n];n++)o.setEnabled(!0)}else if((r.outputConnection||r.previousConnection)&&!n.isDragging())do{r.setEnabled(!1),r=r.getNextBlock()}while(r)}finally{e.Events.recordUndo=t}}}},e.Events.Abstract=function(){this.isBlank=null,this.workspaceId=void 0,this.group=e.Events.getGroup(),this.recordUndo=e.Events.recordUndo},e.Events.Abstract.prototype.isUiEvent=!1,e.Events.Abstract.prototype.toJson=function(){var e={type:this.type};return this.group&&(e.group=this.group),e},e.Events.Abstract.prototype.fromJson=function(e){this.isBlank=!1,this.group=e.group},e.Events.Abstract.prototype.isNull=function(){return!1},e.Events.Abstract.prototype.run=function(e){},e.Events.Abstract.prototype.getEventWorkspace_=function(){if(this.workspaceId)var t=e.Workspace.getById(this.workspaceId);if(!t)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return t},e.utils.object={},e.utils.object.inherits=function(e,t){e.superClass_=t.prototype,e.prototype=Object.create(t.prototype),e.prototype.constructor=e},e.utils.object.mixin=function(e,t){for(var n in t)e[n]=t[n]},e.utils.object.deepMerge=function(t,n){for(var r in n)t[r]=null!=n[r]&&"object"===typeof n[r]?e.utils.object.deepMerge(t[r]||Object.create(null),n[r]):n[r];return t},e.utils.object.values=function(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))},e.utils.xml={},e.utils.xml.NAME_SPACE="https://developers.google.com/blockly/xml",e.utils.xml.document=function(){return document},e.utils.xml.createElement=function(t){return e.utils.xml.document().createElementNS(e.utils.xml.NAME_SPACE,t)},e.utils.xml.createTextNode=function(t){return e.utils.xml.document().createTextNode(t)},e.utils.xml.textToDomDocument=function(e){return(new DOMParser).parseFromString(e,"text/xml")},e.utils.xml.domToText=function(e){return(new XMLSerializer).serializeToString(e)},e.inputTypes={VALUE:e.connectionTypes.INPUT_VALUE,STATEMENT:e.connectionTypes.NEXT_STATEMENT,DUMMY:5},e.Xml={},e.Xml.workspaceToDom=function(t,n){var r=e.utils.xml.createElement("xml"),i=e.Xml.variablesToDom(e.Variables.allUsedVarModels(t));i.hasChildNodes()&&r.appendChild(i);var o,s=t.getTopComments(!0);for(i=0;o=s[i];i++)r.appendChild(o.toXmlWithXY(n));for(t=t.getTopBlocks(!0),i=0;s=t[i];i++)r.appendChild(e.Xml.blockToDomWithXY(s,n));return r},e.Xml.variablesToDom=function(t){for(var n,r=e.utils.xml.createElement("variables"),i=0;n=t[i];i++){var o=e.utils.xml.createElement("variable");o.appendChild(e.utils.xml.createTextNode(n.name)),n.type&&o.setAttribute("type",n.type),o.id=n.getId(),r.appendChild(o)}return r},e.Xml.blockToDomWithXY=function(t,n){if(t.isInsertionMarker()&&!(t=t.getChildren(!1)[0]))return new DocumentFragment;var r;t.workspace.RTL&&(r=t.workspace.getWidth()),n=e.Xml.blockToDom(t,n);var i=t.getRelativeToSurfaceXY();return n.setAttribute("x",Math.round(t.workspace.RTL?r-i.x:i.x)),n.setAttribute("y",Math.round(i.y)),n},e.Xml.fieldToDom_=function(t){if(t.isSerializable()){var n=e.utils.xml.createElement("field");return n.setAttribute("name",t.name||""),t.toXml(n)}return null},e.Xml.allFieldsToDom_=function(t,n){for(var r,i=0;r=t.inputList[i];i++)for(var o,s=0;o=r.fieldRow[s];s++)(o=e.Xml.fieldToDom_(o))&&n.appendChild(o)},e.Xml.blockToDom=function(t,n){if(t.isInsertionMarker())return(t=t.getChildren(!1)[0])?e.Xml.blockToDom(t):new DocumentFragment;var r=e.utils.xml.createElement(t.isShadow()?"shadow":"block");if(r.setAttribute("type",t.type),n||r.setAttribute("id",t.id),t.mutationToDom){var i=t.mutationToDom();i&&(i.hasChildNodes()||i.hasAttributes())&&r.appendChild(i)}if(e.Xml.allFieldsToDom_(t,r),i=t.getCommentText()){var o=t.commentModel.size,s=t.commentModel.pinned,a=e.utils.xml.createElement("comment");a.appendChild(e.utils.xml.createTextNode(i)),a.setAttribute("pinned",s),a.setAttribute("h",o.height),a.setAttribute("w",o.width),r.appendChild(a)}for(t.data&&((i=e.utils.xml.createElement("data")).appendChild(e.utils.xml.createTextNode(t.data)),r.appendChild(i)),i=0;o=t.inputList[i];i++){var l;if(s=!0,o.type!=e.inputTypes.DUMMY){var c=o.connection.targetBlock();o.type==e.inputTypes.VALUE?l=e.utils.xml.createElement("value"):o.type==e.inputTypes.STATEMENT&&(l=e.utils.xml.createElement("statement")),!(a=o.connection.getShadowDom())||c&&c.isShadow()||l.appendChild(e.Xml.cloneShadow_(a,n)),c&&(a=e.Xml.blockToDom(c,n)).nodeType==e.utils.dom.NodeType.ELEMENT_NODE&&(l.appendChild(a),s=!1),l.setAttribute("name",o.name),s||r.appendChild(l)}}return void 0!=t.inputsInline&&t.inputsInline!=t.inputsInlineDefault&&r.setAttribute("inline",t.inputsInline),t.isCollapsed()&&r.setAttribute("collapsed",!0),t.isEnabled()||r.setAttribute("disabled",!0),t.isDeletable()||t.isShadow()||r.setAttribute("deletable",!1),t.isMovable()||t.isShadow()||r.setAttribute("movable",!1),t.isEditable()||r.setAttribute("editable",!1),(i=t.getNextBlock())&&(a=e.Xml.blockToDom(i,n)).nodeType==e.utils.dom.NodeType.ELEMENT_NODE&&((l=e.utils.xml.createElement("next")).appendChild(a),r.appendChild(l)),!(a=t.nextConnection&&t.nextConnection.getShadowDom())||i&&i.isShadow()||l.appendChild(e.Xml.cloneShadow_(a,n)),r},e.Xml.cloneShadow_=function(t,n){for(var r,i=t=t.cloneNode(!0);i;)if(n&&"shadow"==i.nodeName&&i.removeAttribute("id"),i.firstChild)i=i.firstChild;else{for(;i&&!i.nextSibling;)r=i,i=i.parentNode,r.nodeType==e.utils.dom.NodeType.TEXT_NODE&&""==r.data.trim()&&i.firstChild!=r&&e.utils.dom.removeNode(r);i&&(r=i,i=i.nextSibling,r.nodeType==e.utils.dom.NodeType.TEXT_NODE&&""==r.data.trim()&&e.utils.dom.removeNode(r))}return t},e.Xml.domToText=function(t){return e.utils.xml.domToText(t).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")},e.Xml.domToPrettyText=function(t){t=e.Xml.domToText(t).split("<");for(var n="",r=1;r<t.length;r++){var i=t[r];"/"==i[0]&&(n=n.substring(2)),t[r]=n+"<"+i,"/"!=i[0]&&"/>"!=i.slice(-2)&&(n+="  ")}return(t=(t=t.join("\n")).replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>")).replace(/^\n/,"")},e.Xml.textToDom=function(t){var n=e.utils.xml.textToDomDocument(t);if(!n||!n.documentElement||n.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+t);return n.documentElement},e.Xml.clearWorkspaceAndLoadFromXml=function(t,n){return n.setResizesEnabled(!1),n.clear(),t=e.Xml.domToWorkspace(t,n),n.setResizesEnabled(!0),t},e.Xml.domToWorkspace=function(t,n){if(t instanceof e.Workspace){var r=t;t=n,n=r,console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var i;n.RTL&&(i=n.getWidth()),r=[],e.utils.dom.startTextWidthCache();var o=e.Events.getGroup();o||e.Events.setGroup(!0),n.setResizesEnabled&&n.setResizesEnabled(!1);var s=!0;try{for(var a,l=0;a=t.childNodes[l];l++){var c=a.nodeName.toLowerCase(),u=a;if("block"==c||"shadow"==c&&!e.Events.recordUndo){var h=e.Xml.domToBlock(u,n);r.push(h.id);var p=u.hasAttribute("x")?parseInt(u.getAttribute("x"),10):10,d=u.hasAttribute("y")?parseInt(u.getAttribute("y"),10):10;isNaN(p)||isNaN(d)||h.moveBy(n.RTL?i-p:p,d),s=!1}else{if("shadow"==c)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==c)n.rendered?e.WorkspaceCommentSvg?e.WorkspaceCommentSvg.fromXml(u,n,i):console.warn("Missing require for Blockly.WorkspaceCommentSvg, ignoring workspace comment."):e.WorkspaceComment?e.WorkspaceComment.fromXml(u,n):console.warn("Missing require for Blockly.WorkspaceComment, ignoring workspace comment.");else if("variables"==c){if(!s)throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");e.Xml.domToVariables(u,n),s=!1}}}}finally{o||e.Events.setGroup(!1),e.utils.dom.stopTextWidthCache()}return n.setResizesEnabled&&n.setResizesEnabled(!0),e.Events.fire(new(e.Events.get(e.Events.FINISHED_LOADING))(n)),r},e.Xml.appendDomToWorkspace=function(t,n){var r;if(Object.prototype.hasOwnProperty.call(n,"scale")&&(r=n.getBlocksBoundingBox()),t=e.Xml.domToWorkspace(t,n),r&&r.top!=r.bottom){var i=r.bottom,o=n.RTL?r.right:r.left,s=1/0,a=-1/0,l=1/0;for(r=0;r<t.length;r++){var c=n.getBlockById(t[r]).getRelativeToSurfaceXY();c.y<l&&(l=c.y),c.x<s&&(s=c.x),c.x>a&&(a=c.x)}for(i=i-l+10,o=n.RTL?o-a:o-s,r=0;r<t.length;r++)n.getBlockById(t[r]).moveBy(o,i)}return t},e.Xml.domToBlock=function(t,n){if(t instanceof e.Workspace){var r=t;t=n,n=r,console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}e.Events.disable(),r=n.getAllVariables();try{var i=e.Xml.domToBlockHeadless_(t,n),o=i.getDescendants(!1);if(n.rendered){i.setConnectionTracking(!1);for(var s=o.length-1;0<=s;s--)o[s].initSvg();for(s=o.length-1;0<=s;s--)o[s].render(!1);setTimeout((function(){i.disposed||i.setConnectionTracking(!0)}),1),i.updateDisabled(),n.resizeContents()}else for(s=o.length-1;0<=s;s--)o[s].initModel()}finally{e.Events.enable()}if(e.Events.isEnabled()){for(t=e.Variables.getAddedVariables(n,r),s=0;s<t.length;s++)n=t[s],e.Events.fire(new(e.Events.get(e.Events.VAR_CREATE))(n));e.Events.fire(new(e.Events.get(e.Events.CREATE))(i))}return i},e.Xml.domToVariables=function(t,n){for(var r,i=0;r=t.childNodes[i];i++)if(r.nodeType==e.utils.dom.NodeType.ELEMENT_NODE){var o=r.getAttribute("type"),s=r.getAttribute("id");n.createVariable(r.textContent,o,s)}},e.Xml.mapSupportedXmlTags_=function(t){for(var n,r={mutation:[],comment:[],data:[],field:[],input:[],next:[]},i=0;n=t.childNodes[i];i++)if(n.nodeType!=e.utils.dom.NodeType.TEXT_NODE)switch(n.nodeName.toLowerCase()){case"mutation":r.mutation.push(n);break;case"comment":if(!e.Comment){console.warn("Missing require for Blockly.Comment, ignoring block comment.");break}r.comment.push(n);break;case"data":r.data.push(n);break;case"title":case"field":r.field.push(n);break;case"value":case"statement":r.input.push(n);break;case"next":r.next.push(n);break;default:console.warn("Ignoring unknown tag: "+n.nodeName)}return r},e.Xml.applyMutationTagNodes_=function(e,t){for(var n,r=!1,i=0;n=e[i];i++)t.domToMutation&&(t.domToMutation(n),t.initSvg&&(r=!0));return r},e.Xml.applyCommentTagNodes_=function(t,n){for(var r,i=0;r=t[i];i++){var o=r.textContent,s="true"==r.getAttribute("pinned"),a=parseInt(r.getAttribute("w"),10);r=parseInt(r.getAttribute("h"),10),n.setCommentText(o),n.commentModel.pinned=s,isNaN(a)||isNaN(r)||(n.commentModel.size=new e.utils.Size(a,r)),s&&n.getCommentIcon&&!n.isInFlyout&&setTimeout((function(){n.getCommentIcon().setVisible(!0)}),1)}},e.Xml.applyDataTagNodes_=function(e,t){for(var n,r=0;n=e[r];r++)t.data=n.textContent},e.Xml.applyFieldTagNodes_=function(t,n){for(var r,i=0;r=t[i];i++){var o=r.getAttribute("name");e.Xml.domToField_(n,o,r)}},e.Xml.findChildBlocks_=function(t){for(var n,r={childBlockElement:null,childShadowElement:null},i=0;n=t.childNodes[i];i++)n.nodeType==e.utils.dom.NodeType.ELEMENT_NODE&&("block"==n.nodeName.toLowerCase()?r.childBlockElement=n:"shadow"==n.nodeName.toLowerCase()&&(r.childShadowElement=n));return r},e.Xml.applyInputTagNodes_=function(t,n,r,i){for(var o,s=0;o=t[s];s++){var a=o.getAttribute("name"),l=r.getInput(a);if(!l){console.warn("Ignoring non-existent input "+a+" in block "+i);break}if((o=e.Xml.findChildBlocks_(o)).childBlockElement){if(!l.connection)throw TypeError("Input connection does not exist.");e.Xml.domToBlockHeadless_(o.childBlockElement,n,l.connection,!1)}o.childShadowElement&&l.connection.setShadowDom(o.childShadowElement)}},e.Xml.applyNextTagNodes_=function(t,n,r){for(var i,o=0;i=t[o];o++){if((i=e.Xml.findChildBlocks_(i)).childBlockElement){if(!r.nextConnection)throw TypeError("Next statement does not exist.");if(r.nextConnection.isConnected())throw TypeError("Next statement is already connected.");e.Xml.domToBlockHeadless_(i.childBlockElement,n,r.nextConnection,!0)}i.childShadowElement&&r.nextConnection&&r.nextConnection.setShadowDom(i.childShadowElement)}},e.Xml.domToBlockHeadless_=function(t,n,r,i){var o=t.getAttribute("type");if(!o)throw TypeError("Block type unspecified: "+t.outerHTML);var s=t.getAttribute("id");s=n.newBlock(o,s);var a=e.Xml.mapSupportedXmlTags_(t),l=e.Xml.applyMutationTagNodes_(a.mutation,s);if(e.Xml.applyCommentTagNodes_(a.comment,s),e.Xml.applyDataTagNodes_(a.data,s),r)if(i){if(!s.previousConnection)throw TypeError("Next block does not have previous statement.");r.connect(s.previousConnection)}else if(s.outputConnection)r.connect(s.outputConnection);else{if(!s.previousConnection)throw TypeError("Child block does not have output or previous statement.");r.connect(s.previousConnection)}if(e.Xml.applyFieldTagNodes_(a.field,s),e.Xml.applyInputTagNodes_(a.input,n,s,o),e.Xml.applyNextTagNodes_(a.next,n,s),l&&s.initSvg(),(n=t.getAttribute("inline"))&&s.setInputsInline("true"==n),(n=t.getAttribute("disabled"))&&s.setEnabled("true"!=n&&"disabled"!=n),(n=t.getAttribute("deletable"))&&s.setDeletable("true"==n),(n=t.getAttribute("movable"))&&s.setMovable("true"==n),(n=t.getAttribute("editable"))&&s.setEditable("true"==n),(n=t.getAttribute("collapsed"))&&s.setCollapsed("true"==n),"shadow"==t.nodeName.toLowerCase()){for(t=s.getChildren(!1),n=0;r=t[n];n++)if(!r.isShadow())throw TypeError("Shadow block not allowed non-shadow child.");if(s.getVarModels().length)throw TypeError("Shadow blocks cannot have variable references.");s.setShadow(!0)}return s},e.Xml.domToField_=function(e,t,n){var r=e.getField(t);r?r.fromXml(n):console.warn("Ignoring non-existent field "+t+" in block "+e.type)},e.Xml.deleteNext=function(e){for(var t,n=0;t=e.childNodes[n];n++)if("next"==t.nodeName.toLowerCase()){e.removeChild(t);break}},e.Events.BlockBase=function(t){e.Events.BlockBase.superClass_.constructor.call(this),this.blockId=(this.isBlank="undefined"==typeof t)?"":t.id,this.workspaceId=this.isBlank?"":t.workspace.id},e.utils.object.inherits(e.Events.BlockBase,e.Events.Abstract),e.Events.BlockBase.prototype.toJson=function(){var t=e.Events.BlockBase.superClass_.toJson.call(this);return t.blockId=this.blockId,t},e.Events.BlockBase.prototype.fromJson=function(t){e.Events.BlockBase.superClass_.fromJson.call(this,t),this.blockId=t.blockId},e.Events.BlockChange=function(t,n,r,i,o){e.Events.Change.superClass_.constructor.call(this,t),t&&(this.element="undefined"==typeof n?"":n,this.name="undefined"==typeof r?"":r,this.oldValue="undefined"==typeof i?"":i,this.newValue="undefined"==typeof o?"":o)},e.utils.object.inherits(e.Events.BlockChange,e.Events.BlockBase),e.Events.Change=e.Events.BlockChange,e.Events.BlockChange.prototype.type=e.Events.CHANGE,e.Events.BlockChange.prototype.toJson=function(){var t=e.Events.BlockChange.superClass_.toJson.call(this);return t.element=this.element,this.name&&(t.name=this.name),t.oldValue=this.oldValue,t.newValue=this.newValue,t},e.Events.BlockChange.prototype.fromJson=function(t){e.Events.BlockChange.superClass_.fromJson.call(this,t),this.element=t.element,this.name=t.name,this.oldValue=t.oldValue,this.newValue=t.newValue},e.Events.BlockChange.prototype.isNull=function(){return this.oldValue==this.newValue},e.Events.BlockChange.prototype.run=function(t){var n=this.getEventWorkspace_().getBlockById(this.blockId);if(n)switch(n.mutator&&n.mutator.setVisible(!1),t=t?this.newValue:this.oldValue,this.element){case"field":(n=n.getField(this.name))?n.setValue(t):console.warn("Can't set non-existent field: "+this.name);break;case"comment":n.setCommentText(t||null);break;case"collapsed":n.setCollapsed(!!t);break;case"disabled":n.setEnabled(!t);break;case"inline":n.setInputsInline(!!t);break;case"mutation":var r="";if(n.mutationToDom&&(r=(r=n.mutationToDom())&&e.Xml.domToText(r)),n.domToMutation){var i=e.Xml.textToDom(t||"<mutation/>");n.domToMutation(i)}e.Events.fire(new e.Events.BlockChange(n,"mutation",null,r,t));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.blockId)},e.Events.Create=function(t){e.Events.Create.superClass_.constructor.call(this,t),t&&(t.isShadow()&&(this.recordUndo=!1),this.xml=t.workspace.rendered?e.Xml.blockToDomWithXY(t):e.Xml.blockToDom(t),this.ids=e.Events.getDescendantIds(t))},e.utils.object.inherits(e.Events.Create,e.Events.BlockBase),e.Events.BlockCreate=e.Events.Create,e.Events.Create.prototype.type=e.Events.CREATE,e.Events.Create.prototype.toJson=function(){var t=e.Events.Create.superClass_.toJson.call(this);return t.xml=e.Xml.domToText(this.xml),t.ids=this.ids,this.recordUndo||(t.recordUndo=this.recordUndo),t},e.Events.Create.prototype.fromJson=function(t){e.Events.Create.superClass_.fromJson.call(this,t),this.xml=e.Xml.textToDom(t.xml),this.ids=t.ids,void 0!==t.recordUndo&&(this.recordUndo=t.recordUndo)},e.Events.Create.prototype.run=function(t){var n=this.getEventWorkspace_();if(t)(t=e.utils.xml.createElement("xml")).appendChild(this.xml),e.Xml.domToWorkspace(t,n);else{t=0;for(var r;r=this.ids[t];t++){var i=n.getBlockById(r);i?i.dispose(!1):r==this.blockId&&console.warn("Can't uncreate non-existent block: "+r)}}},e.Events.Delete=function(t){if(e.Events.Delete.superClass_.constructor.call(this,t),t){if(t.getParent())throw Error("Connected blocks cannot be deleted.");t.isShadow()&&(this.recordUndo=!1),this.oldXml=t.workspace.rendered?e.Xml.blockToDomWithXY(t):e.Xml.blockToDom(t),this.ids=e.Events.getDescendantIds(t)}},e.utils.object.inherits(e.Events.Delete,e.Events.BlockBase),e.Events.BlockDelete=e.Events.Delete,e.Events.Delete.prototype.type=e.Events.DELETE,e.Events.Delete.prototype.toJson=function(){var t=e.Events.Delete.superClass_.toJson.call(this);return t.oldXml=e.Xml.domToText(this.oldXml),t.ids=this.ids,this.recordUndo||(t.recordUndo=this.recordUndo),t},e.Events.Delete.prototype.fromJson=function(t){e.Events.Delete.superClass_.fromJson.call(this,t),this.oldXml=e.Xml.textToDom(t.oldXml),this.ids=t.ids,void 0!==t.recordUndo&&(this.recordUndo=t.recordUndo)},e.Events.Delete.prototype.run=function(t){var n=this.getEventWorkspace_();if(t){t=0;for(var r;r=this.ids[t];t++){var i=n.getBlockById(r);i?i.dispose(!1):r==this.blockId&&console.warn("Can't delete non-existent block: "+r)}}else(t=e.utils.xml.createElement("xml")).appendChild(this.oldXml),e.Xml.domToWorkspace(t,n)},e.Events.Move=function(t){e.Events.Move.superClass_.constructor.call(this,t),t&&(t.isShadow()&&(this.recordUndo=!1),t=this.currentLocation_(),this.oldParentId=t.parentId,this.oldInputName=t.inputName,this.oldCoordinate=t.coordinate)},e.utils.object.inherits(e.Events.Move,e.Events.BlockBase),e.Events.BlockMove=e.Events.Move,e.Events.Move.prototype.type=e.Events.MOVE,e.Events.Move.prototype.toJson=function(){var t=e.Events.Move.superClass_.toJson.call(this);return this.newParentId&&(t.newParentId=this.newParentId),this.newInputName&&(t.newInputName=this.newInputName),this.newCoordinate&&(t.newCoordinate=Math.round(this.newCoordinate.x)+","+Math.round(this.newCoordinate.y)),this.recordUndo||(t.recordUndo=this.recordUndo),t},e.Events.Move.prototype.fromJson=function(t){if(e.Events.Move.superClass_.fromJson.call(this,t),this.newParentId=t.newParentId,this.newInputName=t.newInputName,t.newCoordinate){var n=t.newCoordinate.split(",");this.newCoordinate=new e.utils.Coordinate(Number(n[0]),Number(n[1]))}void 0!==t.recordUndo&&(this.recordUndo=t.recordUndo)},e.Events.Move.prototype.recordNew=function(){var e=this.currentLocation_();this.newParentId=e.parentId,this.newInputName=e.inputName,this.newCoordinate=e.coordinate},e.Events.Move.prototype.currentLocation_=function(){var e=this.getEventWorkspace_().getBlockById(this.blockId),t={},n=e.getParent();return n?(t.parentId=n.id,(e=n.getInputWithBlock(e))&&(t.inputName=e.name)):t.coordinate=e.getRelativeToSurfaceXY(),t},e.Events.Move.prototype.isNull=function(){return this.oldParentId==this.newParentId&&this.oldInputName==this.newInputName&&e.utils.Coordinate.equals(this.oldCoordinate,this.newCoordinate)},e.Events.Move.prototype.run=function(t){var n=this.getEventWorkspace_(),r=n.getBlockById(this.blockId);if(r){var i=t?this.newParentId:this.oldParentId,o=t?this.newInputName:this.oldInputName,s=t?this.newCoordinate:this.oldCoordinate;if(t=null,i&&!(t=n.getBlockById(i)))return void console.warn("Can't connect to non-existent block: "+i);if(r.getParent()&&r.unplug(),s)o=r.getRelativeToSurfaceXY(),r.moveBy(s.x-o.x,s.y-o.y);else{if(n=(r=r.outputConnection||r.previousConnection).type,o){if(t=t.getInput(o))var a=t.connection}else n==e.connectionTypes.PREVIOUS_STATEMENT&&(a=t.nextConnection);a?r.connect(a):console.warn("Can't connect to non-existent input: "+o)}}else console.warn("Can't move non-existent block: "+this.blockId)},e.registry.register(e.registry.Type.EVENT,e.Events.CREATE,e.Events.Create),e.registry.register(e.registry.Type.EVENT,e.Events.DELETE,e.Events.Delete),e.registry.register(e.registry.Type.EVENT,e.Events.CHANGE,e.Events.BlockChange),e.registry.register(e.registry.Type.EVENT,e.Events.MOVE,e.Events.Move),e.Events.FinishedLoading=function(t){this.isBlank="undefined"==typeof t,this.workspaceId=t?t.id:"",this.group=e.Events.getGroup(),this.recordUndo=!1},e.utils.object.inherits(e.Events.FinishedLoading,e.Events.Abstract),e.Events.FinishedLoading.prototype.type=e.Events.FINISHED_LOADING,e.Events.FinishedLoading.prototype.toJson=function(){var e={type:this.type};return this.group&&(e.group=this.group),this.workspaceId&&(e.workspaceId=this.workspaceId),e},e.Events.FinishedLoading.prototype.fromJson=function(e){this.isBlank=!1,this.workspaceId=e.workspaceId,this.group=e.group},e.registry.register(e.registry.Type.EVENT,e.Events.FINISHED_LOADING,e.Events.FinishedLoading),e.Events.UiBase=function(t){e.Events.UiBase.superClass_.constructor.call(this),this.isBlank="undefined"==typeof t,this.workspaceId=t||"",this.recordUndo=!1},e.utils.object.inherits(e.Events.UiBase,e.Events.Abstract),e.Events.UiBase.prototype.isUiEvent=!0,e.Events.Ui=function(t,n,r,i){e.Events.Ui.superClass_.constructor.call(this,t?t.workspace.id:void 0),this.blockId=t?t.id:null,this.element="undefined"==typeof n?"":n,this.oldValue="undefined"==typeof r?"":r,this.newValue="undefined"==typeof i?"":i},e.utils.object.inherits(e.Events.Ui,e.Events.UiBase),e.Events.Ui.prototype.type=e.Events.UI,e.Events.Ui.prototype.toJson=function(){var t=e.Events.Ui.superClass_.toJson.call(this);return t.element=this.element,void 0!==this.newValue&&(t.newValue=this.newValue),this.blockId&&(t.blockId=this.blockId),t},e.Events.Ui.prototype.fromJson=function(t){e.Events.Ui.superClass_.fromJson.call(this,t),this.element=t.element,this.newValue=t.newValue,this.blockId=t.blockId},e.registry.register(e.registry.Type.EVENT,e.Events.UI,e.Events.Ui),e.Events.VarBase=function(t){e.Events.VarBase.superClass_.constructor.call(this),this.varId=(this.isBlank="undefined"==typeof t)?"":t.getId(),this.workspaceId=this.isBlank?"":t.workspace.id},e.utils.object.inherits(e.Events.VarBase,e.Events.Abstract),e.Events.VarBase.prototype.toJson=function(){var t=e.Events.VarBase.superClass_.toJson.call(this);return t.varId=this.varId,t},e.Events.VarBase.prototype.fromJson=function(t){e.Events.VarBase.superClass_.toJson.call(this),this.varId=t.varId},e.Events.VarCreate=function(t){e.Events.VarCreate.superClass_.constructor.call(this,t),t&&(this.varType=t.type,this.varName=t.name)},e.utils.object.inherits(e.Events.VarCreate,e.Events.VarBase),e.Events.VarCreate.prototype.type=e.Events.VAR_CREATE,e.Events.VarCreate.prototype.toJson=function(){var t=e.Events.VarCreate.superClass_.toJson.call(this);return t.varType=this.varType,t.varName=this.varName,t},e.Events.VarCreate.prototype.fromJson=function(t){e.Events.VarCreate.superClass_.fromJson.call(this,t),this.varType=t.varType,this.varName=t.varName},e.Events.VarCreate.prototype.run=function(e){var t=this.getEventWorkspace_();e?t.createVariable(this.varName,this.varType,this.varId):t.deleteVariableById(this.varId)},e.Events.VarDelete=function(t){e.Events.VarDelete.superClass_.constructor.call(this,t),t&&(this.varType=t.type,this.varName=t.name)},e.utils.object.inherits(e.Events.VarDelete,e.Events.VarBase),e.Events.VarDelete.prototype.type=e.Events.VAR_DELETE,e.Events.VarDelete.prototype.toJson=function(){var t=e.Events.VarDelete.superClass_.toJson.call(this);return t.varType=this.varType,t.varName=this.varName,t},e.Events.VarDelete.prototype.fromJson=function(t){e.Events.VarDelete.superClass_.fromJson.call(this,t),this.varType=t.varType,this.varName=t.varName},e.Events.VarDelete.prototype.run=function(e){var t=this.getEventWorkspace_();e?t.deleteVariableById(this.varId):t.createVariable(this.varName,this.varType,this.varId)},e.Events.VarRename=function(t,n){e.Events.VarRename.superClass_.constructor.call(this,t),t&&(this.oldName=t.name,this.newName="undefined"==typeof n?"":n)},e.utils.object.inherits(e.Events.VarRename,e.Events.VarBase),e.Events.VarRename.prototype.type=e.Events.VAR_RENAME,e.Events.VarRename.prototype.toJson=function(){var t=e.Events.VarRename.superClass_.toJson.call(this);return t.oldName=this.oldName,t.newName=this.newName,t},e.Events.VarRename.prototype.fromJson=function(t){e.Events.VarRename.superClass_.fromJson.call(this,t),this.oldName=t.oldName,this.newName=t.newName},e.Events.VarRename.prototype.run=function(e){var t=this.getEventWorkspace_();e?t.renameVariableById(this.varId,this.newName):t.renameVariableById(this.varId,this.oldName)},e.registry.register(e.registry.Type.EVENT,e.Events.VAR_CREATE,e.Events.VarCreate),e.registry.register(e.registry.Type.EVENT,e.Events.VAR_DELETE,e.Events.VarDelete),e.registry.register(e.registry.Type.EVENT,e.Events.VAR_RENAME,e.Events.VarRename),e.BlockDragSurfaceSvg=function(e){this.container_=e,this.createDom()},e.BlockDragSurfaceSvg.prototype.SVG_=null,e.BlockDragSurfaceSvg.prototype.dragGroup_=null,e.BlockDragSurfaceSvg.prototype.container_=null,e.BlockDragSurfaceSvg.prototype.scale_=1,e.BlockDragSurfaceSvg.prototype.surfaceXY_=null,e.BlockDragSurfaceSvg.prototype.childSurfaceXY_=new e.utils.Coordinate(0,0),e.BlockDragSurfaceSvg.prototype.createDom=function(){this.SVG_||(this.SVG_=e.utils.dom.createSvgElement(e.utils.Svg.SVG,{xmlns:e.utils.dom.SVG_NS,"xmlns:html":e.utils.dom.HTML_NS,"xmlns:xlink":e.utils.dom.XLINK_NS,version:"1.1",class:"blocklyBlockDragSurface"},this.container_),this.dragGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{},this.SVG_))},e.BlockDragSurfaceSvg.prototype.setBlocksAndShow=function(t){if(this.dragGroup_.childNodes.length)throw Error("Already dragging a block.");this.dragGroup_.appendChild(t),this.SVG_.style.display="block",this.surfaceXY_=new e.utils.Coordinate(0,0)},e.BlockDragSurfaceSvg.prototype.translateAndScaleGroup=function(e,t,n){this.scale_=n,e=e.toFixed(0),t=t.toFixed(0),this.childSurfaceXY_.x=parseInt(e,10),this.childSurfaceXY_.y=parseInt(t,10),this.dragGroup_.setAttribute("transform","translate("+e+","+t+") scale("+n+")")},e.BlockDragSurfaceSvg.prototype.translateSurfaceInternal_=function(){var t=this.surfaceXY_.x,n=this.surfaceXY_.y;t=t.toFixed(0),n=n.toFixed(0),this.SVG_.style.display="block",e.utils.dom.setCssTransform(this.SVG_,"translate3d("+t+"px, "+n+"px, 0px)")},e.BlockDragSurfaceSvg.prototype.translateBy=function(t,n){this.surfaceXY_=new e.utils.Coordinate(this.surfaceXY_.x+t,this.surfaceXY_.y+n),this.translateSurfaceInternal_()},e.BlockDragSurfaceSvg.prototype.translateSurface=function(t,n){this.surfaceXY_=new e.utils.Coordinate(t*this.scale_,n*this.scale_),this.translateSurfaceInternal_()},e.BlockDragSurfaceSvg.prototype.getSurfaceTranslation=function(){var t=e.utils.getRelativeXY(this.SVG_);return new e.utils.Coordinate(t.x/this.scale_,t.y/this.scale_)},e.BlockDragSurfaceSvg.prototype.getGroup=function(){return this.dragGroup_},e.BlockDragSurfaceSvg.prototype.getSvgRoot=function(){return this.SVG_},e.BlockDragSurfaceSvg.prototype.getCurrentBlock=function(){return this.dragGroup_.firstChild},e.BlockDragSurfaceSvg.prototype.getWsTranslation=function(){return this.childSurfaceXY_.clone()},e.BlockDragSurfaceSvg.prototype.clearAndHide=function(e){if(e?e.appendChild(this.getCurrentBlock()):this.dragGroup_.removeChild(this.getCurrentBlock()),this.SVG_.style.display="none",this.dragGroup_.childNodes.length)throw Error("Drag group was not cleared.");this.surfaceXY_=null},e.Css={},e.Css.injected_=!1,e.Css.register=function(t){if(e.Css.injected_)throw Error("CSS already injected");Array.prototype.push.apply(e.Css.CONTENT,t),t.length=0},e.Css.inject=function(t,n){if(!e.Css.injected_){e.Css.injected_=!0;var r=e.Css.CONTENT.join("\n");e.Css.CONTENT.length=0,t&&(t=n.replace(/[\\/]$/,""),r=r.replace(/<<<PATH>>>/g,t),(t=document.createElement("style")).id="blockly-common-style",r=document.createTextNode(r),t.appendChild(r),document.head.insertBefore(t,document.head.firstChild))}},e.Css.CONTENT=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none;","}",".blocklyNonSelectable {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);","color: #000;","display: none;","font: 9pt sans-serif;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: absolute;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-color: #dadce0;","background-color: #fff;","border-radius: 2px;","padding: 4px;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {","max-height: 300px;","overflow: auto;","overflow-x: hidden;","position: relative;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".blocklyArrowTop {","border-top: 1px solid;","border-left: 1px solid;","border-top-left-radius: 4px;","border-color: inherit;","}",".blocklyArrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;","}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none;","}",".blocklyMultilineText {","font-family: monospace;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyText text {","cursor: default;","}",".blocklySvg text,",".blocklyBlockDragSurface text {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {","margin: 0;","padding: 0;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","display: block;","box-sizing: border-box;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;","}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal,",".blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyVerticalMarker {","stroke-width: 3px;","fill: rgba(255,255,255,.5);","pointer-events: none;","}",".blocklyComputeCanvas {","position: absolute;","width: 0;","height: 0;","}",".blocklyNoPointerEvents {","pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",".blocklyDropdownMenu .blocklyMenuItem {","padding-left: 28px;","}",".blocklyDropdownMenu .blocklyMenuItemRtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .blocklyMenu {","background: #fff;","border: 1px solid transparent;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyWidgetDiv .blocklyMenu.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv .blocklyMenu {","background: inherit;","border: inherit;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","position: relative;","z-index: 20000;","}",".blocklyMenuItem {","border: none;","color: #000;","cursor: pointer;","list-style: none;","margin: 0;","min-width: 7em;","padding: 6px 15px;","white-space: nowrap;","}",".blocklyMenuItemDisabled {","color: #ccc;","cursor: inherit;","}",".blocklyMenuItemHighlight {","background-color: rgba(0,0,0,.1);","}",".blocklyMenuItemCheckbox {","height: 16px;","position: absolute;","width: 16px;","}",".blocklyMenuItemSelected .blocklyMenuItemCheckbox {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","float: left;","margin-left: -24px;","position: static;","}",".blocklyMenuItemRtl .blocklyMenuItemCheckbox {","float: right;","margin-right: -24px;","}"],e.Grid=function(e,t){this.gridPattern_=e,this.spacing_=t.spacing,this.length_=t.length,this.line2_=(this.line1_=e.firstChild)&&this.line1_.nextSibling,this.snapToGrid_=t.snap},e.Grid.prototype.scale_=1,e.Grid.prototype.dispose=function(){this.gridPattern_=null},e.Grid.prototype.shouldSnap=function(){return this.snapToGrid_},e.Grid.prototype.getSpacing=function(){return this.spacing_},e.Grid.prototype.getPatternId=function(){return this.gridPattern_.id},e.Grid.prototype.update=function(e){this.scale_=e;var t=this.spacing_*e||100;this.gridPattern_.setAttribute("width",t),this.gridPattern_.setAttribute("height",t);var n=(t=Math.floor(this.spacing_/2)+.5)-this.length_/2,r=t+this.length_/2;t*=e,n*=e,r*=e,this.setLineAttributes_(this.line1_,e,n,r,t,t),this.setLineAttributes_(this.line2_,e,t,t,n,r)},e.Grid.prototype.setLineAttributes_=function(e,t,n,r,i,o){e&&(e.setAttribute("stroke-width",t),e.setAttribute("x1",n),e.setAttribute("y1",i),e.setAttribute("x2",r),e.setAttribute("y2",o))},e.Grid.prototype.moveTo=function(t,n){this.gridPattern_.setAttribute("x",t),this.gridPattern_.setAttribute("y",n),(e.utils.userAgent.IE||e.utils.userAgent.EDGE)&&this.update(this.scale_)},e.Grid.createDom=function(t,n,r){return t=e.utils.dom.createSvgElement(e.utils.Svg.PATTERN,{id:"blocklyGridPattern"+t,patternUnits:"userSpaceOnUse"},r),0<n.length&&0<n.spacing?(e.utils.dom.createSvgElement(e.utils.Svg.LINE,{stroke:n.colour},t),1<n.length&&e.utils.dom.createSvgElement(e.utils.Svg.LINE,{stroke:n.colour},t)):e.utils.dom.createSvgElement(e.utils.Svg.LINE,{},t),t},e.Theme=function(t,n,r,i){this.name=t,this.blockStyles=n||Object.create(null),this.categoryStyles=r||Object.create(null),this.componentStyles=i||Object.create(null),this.fontStyle=Object.create(null),this.startHats=null,e.registry.register(e.registry.Type.THEME,t,this)},e.Theme.prototype.getClassName=function(){return this.name+"-theme"},e.Theme.prototype.setBlockStyle=function(e,t){this.blockStyles[e]=t},e.Theme.prototype.setCategoryStyle=function(e,t){this.categoryStyles[e]=t},e.Theme.prototype.getComponentStyle=function(e){return(e=this.componentStyles[e])&&"string"==typeof e&&this.getComponentStyle(e)?this.getComponentStyle(e):e?String(e):null},e.Theme.prototype.setComponentStyle=function(e,t){this.componentStyles[e]=t},e.Theme.prototype.setFontStyle=function(e){this.fontStyle=e},e.Theme.prototype.setStartHats=function(e){this.startHats=e},e.Theme.defineTheme=function(t,n){var r=new e.Theme(t),i=n.base;return i&&("string"==typeof i&&(i=e.registry.getObject(e.registry.Type.THEME,i)),i instanceof e.Theme&&(e.utils.object.deepMerge(r,i),r.name=t)),e.utils.object.deepMerge(r.blockStyles,n.blockStyles),e.utils.object.deepMerge(r.categoryStyles,n.categoryStyles),e.utils.object.deepMerge(r.componentStyles,n.componentStyles),e.utils.object.deepMerge(r.fontStyle,n.fontStyle),null!=n.startHats&&(r.startHats=n.startHats),r},e.Themes={},e.Themes.Classic={},e.Themes.Classic.defaultBlockStyles={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}},e.Themes.Classic.categoryStyles={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}},e.Themes.Classic=new e.Theme("classic",e.Themes.Classic.defaultBlockStyles,e.Themes.Classic.categoryStyles),e.utils.IdGenerator={},e.utils.IdGenerator.nextId_=0,e.utils.IdGenerator.getNextUniqueId=function(){return"blockly-"+(e.utils.IdGenerator.nextId_++).toString(36)},e.utils.Metrics=function(){},e.utils.toolbox={},e.utils.toolbox.CATEGORY_TOOLBOX_KIND="categoryToolbox",e.utils.toolbox.FLYOUT_TOOLBOX_KIND="flyoutToolbox",e.utils.toolbox.Position={TOP:0,BOTTOM:1,LEFT:2,RIGHT:3},e.utils.toolbox.convertToolboxDefToJson=function(t){return t?((t instanceof Element||"string"==typeof t)&&(t=e.utils.toolbox.parseToolboxTree(t),t=e.utils.toolbox.convertToToolboxJson_(t)),e.utils.toolbox.validateToolbox_(t),t):null},e.utils.toolbox.validateToolbox_=function(t){var n=t.kind;if(t=t.contents,n&&n!=e.utils.toolbox.FLYOUT_TOOLBOX_KIND&&n!=e.utils.toolbox.CATEGORY_TOOLBOX_KIND)throw Error("Invalid toolbox kind "+n+". Please supply either "+e.utils.toolbox.FLYOUT_TOOLBOX_KIND+" or "+e.utils.toolbox.CATEGORY_TOOLBOX_KIND);if(!t)throw Error("Toolbox must have a contents attribute.")},e.utils.toolbox.convertFlyoutDefToJsonArray=function(t){return t?t.contents?t.contents:Array.isArray(t)&&0<t.length&&!t[0].nodeType?t:e.utils.toolbox.xmlToJsonArray_(t):[]},e.utils.toolbox.hasCategories=function(t){if(!t)return!1;var n=t.kind;return n?n==e.utils.toolbox.CATEGORY_TOOLBOX_KIND:!!t.contents.filter((function(e){return"CATEGORY"==e.kind.toUpperCase()})).length},e.utils.toolbox.isCategoryCollapsible=function(e){return!(!e||!e.contents)&&!!e.contents.filter((function(e){return"CATEGORY"==e.kind.toUpperCase()})).length},e.utils.toolbox.convertToToolboxJson_=function(t){var n={contents:e.utils.toolbox.xmlToJsonArray_(t)};return t instanceof Node&&e.utils.toolbox.addAttributes_(t,n),n},e.utils.toolbox.xmlToJsonArray_=function(t){var n,r=[],i=t.childNodes;for(i||(i=t),t=0;n=i[t];t++)if(n.tagName){var o={},s=n.tagName.toUpperCase();o.kind=s,"BLOCK"==s?o.blockxml=n:n.childNodes&&0<n.childNodes.length&&(o.contents=e.utils.toolbox.xmlToJsonArray_(n)),e.utils.toolbox.addAttributes_(n,o),r.push(o)}return r},e.utils.toolbox.addAttributes_=function(e,t){for(var n=0;n<e.attributes.length;n++){var r=e.attributes[n];-1<r.nodeName.indexOf("css-")?(t.cssconfig=t.cssconfig||{},t.cssconfig[r.nodeName.replace("css-","")]=r.value):t[r.nodeName]=r.value}},e.utils.toolbox.parseToolboxTree=function(t){if(t){if("string"!=typeof t&&(e.utils.userAgent.IE&&t.outerHTML?t=t.outerHTML:t instanceof Element||(t=null)),"string"==typeof t&&"xml"!=(t=e.Xml.textToDom(t)).nodeName.toLowerCase())throw TypeError("Toolbox should be an <xml> document.")}else t=null;return t},e.Options=function(t){var n=!!t.readOnly;if(n)var r=null,i=!1,o=!1,s=!1,a=!1,l=!1,c=!1;else{r=e.utils.toolbox.convertToolboxDefToJson(t.toolbox),i=e.utils.toolbox.hasCategories(r),void 0===(o=t.trashcan)&&(o=i);var u=t.maxTrashcanContents;o?void 0===u&&(u=32):u=0,void 0===(s=t.collapse)&&(s=i),void 0===(a=t.comments)&&(a=i),void 0===(l=t.disable)&&(l=i),void 0===(c=t.sounds)&&(c=!0)}var h=!!t.rtl,p=t.horizontalLayout;void 0===p&&(p=!1);var d=t.toolboxPosition;d="end"!==d,d=p?d?e.utils.toolbox.Position.TOP:e.utils.toolbox.Position.BOTTOM:d==h?e.utils.toolbox.Position.RIGHT:e.utils.toolbox.Position.LEFT;var f=t.css;void 0===f&&(f=!0);var _="https://blockly-demo.appspot.com/static/media/";t.media?_=t.media:t.path&&(_=t.path+"media/");var g=void 0===t.oneBasedIndex||!!t.oneBasedIndex,m=t.renderer||"geras",v=t.plugins||{};this.RTL=h,this.oneBasedIndex=g,this.collapse=s,this.comments=a,this.disable=l,this.readOnly=n,this.maxBlocks=t.maxBlocks||1/0,this.maxInstances=t.maxInstances,this.pathToMedia=_,this.hasCategories=i,this.moveOptions=e.Options.parseMoveOptions_(t,i),this.hasScrollbars=!!this.moveOptions.scrollbars,this.hasTrashcan=o,this.maxTrashcanContents=u,this.hasSounds=c,this.hasCss=f,this.horizontalLayout=p,this.languageTree=r,this.gridOptions=e.Options.parseGridOptions_(t),this.zoomOptions=e.Options.parseZoomOptions_(t),this.toolboxPosition=d,this.theme=e.Options.parseThemeOptions_(t),this.renderer=m,this.rendererOverrides=t.rendererOverrides,this.gridPattern=null,this.parentWorkspace=t.parentWorkspace,this.plugins=v},e.BlocklyOptions=function(){},e.Options.parseMoveOptions_=function(e,t){var n=e.move||{},r={};return void 0===n.scrollbars&&void 0===e.scrollbars?r.scrollbars=t:"object"==typeof n.scrollbars?(r.scrollbars={},r.scrollbars.horizontal=!!n.scrollbars.horizontal,r.scrollbars.vertical=!!n.scrollbars.vertical,r.scrollbars.horizontal&&r.scrollbars.vertical?r.scrollbars=!0:r.scrollbars.horizontal||r.scrollbars.vertical||(r.scrollbars=!1)):r.scrollbars=!!n.scrollbars||!!e.scrollbars,r.wheel=r.scrollbars&&void 0!==n.wheel?!!n.wheel:"object"==typeof r.scrollbars,r.drag=!!r.scrollbars&&(void 0===n.drag||!!n.drag),r},e.Options.parseZoomOptions_=function(e){e=e.zoom||{};var t={};return t.controls=void 0!==e.controls&&!!e.controls,t.wheel=void 0!==e.wheel&&!!e.wheel,t.startScale=void 0===e.startScale?1:Number(e.startScale),t.maxScale=void 0===e.maxScale?3:Number(e.maxScale),t.minScale=void 0===e.minScale?.3:Number(e.minScale),t.scaleSpeed=void 0===e.scaleSpeed?1.2:Number(e.scaleSpeed),t.pinch=void 0===e.pinch?t.wheel||t.controls:!!e.pinch,t},e.Options.parseGridOptions_=function(e){e=e.grid||{};var t={};return t.spacing=Number(e.spacing)||0,t.colour=e.colour||"#888",t.length=void 0===e.length?1:Number(e.length),t.snap=0<t.spacing&&!!e.snap,t},e.Options.parseThemeOptions_=function(t){return"string"==typeof(t=t.theme||e.Themes.Classic)?e.registry.getObject(e.registry.Type.THEME,t):t instanceof e.Theme?t:e.Theme.defineTheme(t.name||"builtin"+e.utils.IdGenerator.getNextUniqueId(),t)},e.Options.parseToolboxTree=function(t){return e.utils.deprecation.warn("Blockly.Options.parseToolboxTree","September 2020","September 2021","Blockly.utils.toolbox.parseToolboxTree"),e.utils.toolbox.parseToolboxTree(t)},e.ScrollbarPair=function(t,n,r,i,o){this.workspace_=t,r=void 0===r||r;var s=(n=void 0===n||n)&&r;n&&(this.hScroll=new e.Scrollbar(t,!0,s,i,o)),r&&(this.vScroll=new e.Scrollbar(t,!1,s,i,o)),s&&(this.corner_=e.utils.dom.createSvgElement(e.utils.Svg.RECT,{height:e.Scrollbar.scrollbarThickness,width:e.Scrollbar.scrollbarThickness,class:"blocklyScrollbarBackground"},null),e.utils.dom.insertAfter(this.corner_,t.getBubbleCanvas())),this.oldHostMetrics_=null},e.ScrollbarPair.prototype.dispose=function(){e.utils.dom.removeNode(this.corner_),this.oldHostMetrics_=this.workspace_=this.corner_=null,this.hScroll&&(this.hScroll.dispose(),this.hScroll=null),this.vScroll&&(this.vScroll.dispose(),this.vScroll=null)},e.ScrollbarPair.prototype.resize=function(){var t=this.workspace_.getMetrics();if(t){var n=!1,r=!1;if(this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth==t.viewWidth&&this.oldHostMetrics_.viewHeight==t.viewHeight&&this.oldHostMetrics_.absoluteTop==t.absoluteTop&&this.oldHostMetrics_.absoluteLeft==t.absoluteLeft?(this.oldHostMetrics_&&this.oldHostMetrics_.scrollWidth==t.scrollWidth&&this.oldHostMetrics_.viewLeft==t.viewLeft&&this.oldHostMetrics_.scrollLeft==t.scrollLeft||(n=!0),this.oldHostMetrics_&&this.oldHostMetrics_.scrollHeight==t.scrollHeight&&this.oldHostMetrics_.viewTop==t.viewTop&&this.oldHostMetrics_.scrollTop==t.scrollTop||(r=!0)):r=n=!0,n||r){try{e.Events.disable(),this.hScroll&&n&&this.hScroll.resize(t),this.vScroll&&r&&this.vScroll.resize(t)}finally{e.Events.enable()}this.workspace_.maybeFireViewportChangeEvent()}this.hScroll&&this.vScroll&&(this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth==t.viewWidth&&this.oldHostMetrics_.absoluteLeft==t.absoluteLeft||this.corner_.setAttribute("x",this.vScroll.position.x),this.oldHostMetrics_&&this.oldHostMetrics_.viewHeight==t.viewHeight&&this.oldHostMetrics_.absoluteTop==t.absoluteTop||this.corner_.setAttribute("y",this.hScroll.position.y)),this.oldHostMetrics_=t}},e.ScrollbarPair.prototype.canScrollHorizontally=function(){return!!this.hScroll},e.ScrollbarPair.prototype.canScrollVertically=function(){return!!this.vScroll},e.ScrollbarPair.prototype.setOrigin=function(e,t){this.hScroll&&this.hScroll.setOrigin(e,t),this.vScroll&&this.vScroll.setOrigin(e,t)},e.ScrollbarPair.prototype.set=function(e,t,n){this.hScroll&&this.hScroll.set(e,!1),this.vScroll&&this.vScroll.set(t,!1),(n||void 0===n)&&(e={},this.hScroll&&(e.x=this.hScroll.getRatio_()),this.vScroll&&(e.y=this.vScroll.getRatio_()),this.workspace_.setMetrics(e))},e.ScrollbarPair.prototype.setX=function(e){this.hScroll&&this.hScroll.set(e,!0)},e.ScrollbarPair.prototype.setY=function(e){this.vScroll&&this.vScroll.set(e,!0)},e.ScrollbarPair.prototype.setContainerVisible=function(e){this.hScroll&&this.hScroll.setContainerVisible(e),this.vScroll&&this.vScroll.setContainerVisible(e)},e.ScrollbarPair.prototype.isVisible=function(){var e=!1;return this.hScroll&&(e=this.hScroll.isVisible()),this.vScroll&&(e=e||this.vScroll.isVisible()),e},e.ScrollbarPair.prototype.resizeContent=function(e){this.hScroll&&this.hScroll.resizeContentHorizontal(e),this.vScroll&&this.vScroll.resizeContentVertical(e)},e.ScrollbarPair.prototype.resizeView=function(e){this.hScroll&&this.hScroll.resizeViewHorizontal(e),this.vScroll&&this.vScroll.resizeViewVertical(e)},e.Scrollbar=function(t,n,r,i,o){this.workspace_=t,this.pair_=r||!1,this.horizontal_=n,this.margin_=void 0!==o?o:e.Scrollbar.DEFAULT_SCROLLBAR_MARGIN,this.ratio=this.oldHostMetrics_=null,this.createDom_(i),this.position=new e.utils.Coordinate(0,0),t=e.Scrollbar.scrollbarThickness,n?(this.svgBackground_.setAttribute("height",t),this.outerSvg_.setAttribute("height",t),this.svgHandle_.setAttribute("height",t-5),this.svgHandle_.setAttribute("y",2.5),this.lengthAttribute_="width",this.positionAttribute_="x"):(this.svgBackground_.setAttribute("width",t),this.outerSvg_.setAttribute("width",t),this.svgHandle_.setAttribute("width",t-5),this.svgHandle_.setAttribute("x",2.5),this.lengthAttribute_="height",this.positionAttribute_="y"),this.onMouseDownBarWrapper_=e.browserEvents.conditionalBind(this.svgBackground_,"mousedown",this,this.onMouseDownBar_),this.onMouseDownHandleWrapper_=e.browserEvents.conditionalBind(this.svgHandle_,"mousedown",this,this.onMouseDownHandle_)},e.Scrollbar.prototype.origin_=new e.utils.Coordinate(0,0),e.Scrollbar.prototype.startDragMouse_=0,e.Scrollbar.prototype.scrollbarLength_=0,e.Scrollbar.prototype.handleLength_=0,e.Scrollbar.prototype.handlePosition_=0,e.Scrollbar.prototype.isVisible_=!0,e.Scrollbar.prototype.containerVisible_=!0,e.Scrollbar.scrollbarThickness=15,e.Touch.TOUCH_ENABLED&&(e.Scrollbar.scrollbarThickness=25),e.Scrollbar.DEFAULT_SCROLLBAR_MARGIN=.5,e.Scrollbar.metricsAreEquivalent_=function(e,t){return e.viewWidth==t.viewWidth&&e.viewHeight==t.viewHeight&&e.viewLeft==t.viewLeft&&e.viewTop==t.viewTop&&e.absoluteTop==t.absoluteTop&&e.absoluteLeft==t.absoluteLeft&&e.scrollWidth==t.scrollWidth&&e.scrollHeight==t.scrollHeight&&e.scrollLeft==t.scrollLeft&&e.scrollTop==t.scrollTop},e.Scrollbar.prototype.dispose=function(){this.cleanUp_(),e.browserEvents.unbind(this.onMouseDownBarWrapper_),this.onMouseDownBarWrapper_=null,e.browserEvents.unbind(this.onMouseDownHandleWrapper_),this.onMouseDownHandleWrapper_=null,e.utils.dom.removeNode(this.outerSvg_),this.svgBackground_=this.svgGroup_=this.outerSvg_=null,this.svgHandle_&&(this.workspace_.getThemeManager().unsubscribe(this.svgHandle_),this.svgHandle_=null),this.workspace_=null},e.Scrollbar.prototype.constrainHandleLength_=function(e){return 0>=e||isNaN(e)?0:Math.min(e,this.scrollbarLength_)},e.Scrollbar.prototype.setHandleLength_=function(e){this.handleLength_=e,this.svgHandle_.setAttribute(this.lengthAttribute_,this.handleLength_)},e.Scrollbar.prototype.constrainHandlePosition_=function(e){return 0>=e||isNaN(e)?0:Math.min(e,this.scrollbarLength_-this.handleLength_)},e.Scrollbar.prototype.setHandlePosition=function(e){this.handlePosition_=e,this.svgHandle_.setAttribute(this.positionAttribute_,this.handlePosition_)},e.Scrollbar.prototype.setScrollbarLength_=function(e){this.scrollbarLength_=e,this.outerSvg_.setAttribute(this.lengthAttribute_,this.scrollbarLength_),this.svgBackground_.setAttribute(this.lengthAttribute_,this.scrollbarLength_)},e.Scrollbar.prototype.setPosition=function(t,n){this.position.x=t,this.position.y=n,e.utils.dom.setCssTransform(this.outerSvg_,"translate("+(this.position.x+this.origin_.x)+"px,"+(this.position.y+this.origin_.y)+"px)")},e.Scrollbar.prototype.resize=function(t){(t||(t=this.workspace_.getMetrics()))&&(this.oldHostMetrics_&&e.Scrollbar.metricsAreEquivalent_(t,this.oldHostMetrics_)||(this.horizontal_?this.resizeHorizontal_(t):this.resizeVertical_(t),this.oldHostMetrics_=t,this.updateMetrics_()))},e.Scrollbar.prototype.requiresViewResize_=function(e){return!this.oldHostMetrics_||this.oldHostMetrics_.viewWidth!==e.viewWidth||this.oldHostMetrics_.viewHeight!==e.viewHeight||this.oldHostMetrics_.absoluteLeft!==e.absoluteLeft||this.oldHostMetrics_.absoluteTop!==e.absoluteTop},e.Scrollbar.prototype.resizeHorizontal_=function(e){this.requiresViewResize_(e)?this.resizeViewHorizontal(e):this.resizeContentHorizontal(e)},e.Scrollbar.prototype.resizeViewHorizontal=function(t){var n=t.viewWidth-2*this.margin_;this.pair_&&(n-=e.Scrollbar.scrollbarThickness),this.setScrollbarLength_(Math.max(0,n)),n=t.absoluteLeft+this.margin_,this.pair_&&this.workspace_.RTL&&(n+=e.Scrollbar.scrollbarThickness),this.setPosition(n,t.absoluteTop+t.viewHeight-e.Scrollbar.scrollbarThickness-this.margin_),this.resizeContentHorizontal(t)},e.Scrollbar.prototype.resizeContentHorizontal=function(e){if(e.viewWidth>=e.scrollWidth)this.setHandleLength_(this.scrollbarLength_),this.setHandlePosition(0),this.pair_||this.setVisible(!1);else{this.pair_||this.setVisible(!0);var t=this.scrollbarLength_*e.viewWidth/e.scrollWidth;t=this.constrainHandleLength_(t),this.setHandleLength_(t),t=e.scrollWidth-e.viewWidth;var n=this.scrollbarLength_-this.handleLength_;e=(e.viewLeft-e.scrollLeft)/t*n,e=this.constrainHandlePosition_(e),this.setHandlePosition(e),this.ratio=n/t}},e.Scrollbar.prototype.resizeVertical_=function(e){this.requiresViewResize_(e)?this.resizeViewVertical(e):this.resizeContentVertical(e)},e.Scrollbar.prototype.resizeViewVertical=function(t){var n=t.viewHeight-2*this.margin_;this.pair_&&(n-=e.Scrollbar.scrollbarThickness),this.setScrollbarLength_(Math.max(0,n)),this.setPosition(this.workspace_.RTL?t.absoluteLeft+this.margin_:t.absoluteLeft+t.viewWidth-e.Scrollbar.scrollbarThickness-this.margin_,t.absoluteTop+this.margin_),this.resizeContentVertical(t)},e.Scrollbar.prototype.resizeContentVertical=function(e){if(e.viewHeight>=e.scrollHeight)this.setHandleLength_(this.scrollbarLength_),this.setHandlePosition(0),this.pair_||this.setVisible(!1);else{this.pair_||this.setVisible(!0);var t=this.scrollbarLength_*e.viewHeight/e.scrollHeight;t=this.constrainHandleLength_(t),this.setHandleLength_(t),t=e.scrollHeight-e.viewHeight;var n=this.scrollbarLength_-this.handleLength_;e=(e.viewTop-e.scrollTop)/t*n,e=this.constrainHandlePosition_(e),this.setHandlePosition(e),this.ratio=n/t}},e.Scrollbar.prototype.createDom_=function(t){var n="blocklyScrollbar"+(this.horizontal_?"Horizontal":"Vertical");t&&(n+=" "+t),this.outerSvg_=e.utils.dom.createSvgElement(e.utils.Svg.SVG,{class:n},null),this.svgGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{},this.outerSvg_),this.svgBackground_=e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"blocklyScrollbarBackground"},this.svgGroup_),t=Math.floor((e.Scrollbar.scrollbarThickness-5)/2),this.svgHandle_=e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"blocklyScrollbarHandle",rx:t,ry:t},this.svgGroup_),this.workspace_.getThemeManager().subscribe(this.svgHandle_,"scrollbarColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgHandle_,"scrollbarOpacity","fill-opacity"),e.utils.dom.insertAfter(this.outerSvg_,this.workspace_.getParentSvg())},e.Scrollbar.prototype.isVisible=function(){return this.isVisible_},e.Scrollbar.prototype.setContainerVisible=function(e){var t=e!=this.containerVisible_;this.containerVisible_=e,t&&this.updateDisplay_()},e.Scrollbar.prototype.setVisible=function(e){var t=e!=this.isVisible();if(this.pair_)throw Error("Unable to toggle visibility of paired scrollbars.");this.isVisible_=e,t&&this.updateDisplay_()},e.Scrollbar.prototype.updateDisplay_=function(){this.containerVisible_&&this.isVisible()?this.outerSvg_.setAttribute("display","block"):this.outerSvg_.setAttribute("display","none")},e.Scrollbar.prototype.onMouseDownBar_=function(t){if(this.workspace_.markFocused(),e.Touch.clearTouchIdentifier(),this.cleanUp_(),e.utils.isRightButton(t))t.stopPropagation();else{var n=e.utils.mouseToSvg(t,this.workspace_.getParentSvg(),this.workspace_.getInverseScreenCTM());n=this.horizontal_?n.x:n.y;var r=e.utils.getInjectionDivXY_(this.svgHandle_);r=this.horizontal_?r.x:r.y;var i=this.handlePosition_,o=.95*this.handleLength_;n<=r?i-=o:n>=r+this.handleLength_&&(i+=o),this.setHandlePosition(this.constrainHandlePosition_(i)),this.updateMetrics_(),t.stopPropagation(),t.preventDefault()}},e.Scrollbar.prototype.onMouseDownHandle_=function(t){this.workspace_.markFocused(),this.cleanUp_(),e.utils.isRightButton(t)?t.stopPropagation():(this.startDragHandle=this.handlePosition_,this.workspace_.setupDragSurface(),this.startDragMouse_=this.horizontal_?t.clientX:t.clientY,e.Scrollbar.onMouseUpWrapper_=e.browserEvents.conditionalBind(document,"mouseup",this,this.onMouseUpHandle_),e.Scrollbar.onMouseMoveWrapper_=e.browserEvents.conditionalBind(document,"mousemove",this,this.onMouseMoveHandle_),t.stopPropagation(),t.preventDefault())},e.Scrollbar.prototype.onMouseMoveHandle_=function(e){this.setHandlePosition(this.constrainHandlePosition_(this.startDragHandle+((this.horizontal_?e.clientX:e.clientY)-this.startDragMouse_))),this.updateMetrics_()},e.Scrollbar.prototype.onMouseUpHandle_=function(){this.workspace_.resetDragSurface(),e.Touch.clearTouchIdentifier(),this.cleanUp_()},e.Scrollbar.prototype.cleanUp_=function(){e.hideChaff(!0),e.Scrollbar.onMouseUpWrapper_&&(e.browserEvents.unbind(e.Scrollbar.onMouseUpWrapper_),e.Scrollbar.onMouseUpWrapper_=null),e.Scrollbar.onMouseMoveWrapper_&&(e.browserEvents.unbind(e.Scrollbar.onMouseMoveWrapper_),e.Scrollbar.onMouseMoveWrapper_=null)},e.Scrollbar.prototype.getRatio_=function(){var e=this.handlePosition_/(this.scrollbarLength_-this.handleLength_);return isNaN(e)&&(e=0),e},e.Scrollbar.prototype.updateMetrics_=function(){var e=this.getRatio_(),t={};this.horizontal_?t.x=e:t.y=e,this.workspace_.setMetrics(t)},e.Scrollbar.prototype.set=function(e,t){this.setHandlePosition(this.constrainHandlePosition_(e*this.ratio)),(t||void 0===t)&&this.updateMetrics_()},e.Scrollbar.prototype.setOrigin=function(t,n){this.origin_=new e.utils.Coordinate(t,n)},e.Tooltip={},e.Tooltip.visible=!1,e.Tooltip.blocked_=!1,e.Tooltip.LIMIT=50,e.Tooltip.mouseOutPid_=0,e.Tooltip.showPid_=0,e.Tooltip.lastX_=0,e.Tooltip.lastY_=0,e.Tooltip.element_=null,e.Tooltip.poisonedElement_=null,e.Tooltip.OFFSET_X=0,e.Tooltip.OFFSET_Y=10,e.Tooltip.RADIUS_OK=10,e.Tooltip.HOVER_MS=750,e.Tooltip.MARGINS=5,e.Tooltip.DIV=null,e.Tooltip.getTooltipOfObject=function(t){if(t=e.Tooltip.getTargetObject_(t)){for(t=t.tooltip;"function"==typeof t;)t=t();if("string"!=typeof t)throw Error("Tooltip function must return a string.");return t}return""},e.Tooltip.getTargetObject_=function(e){for(;e&&e.tooltip;){if("string"==typeof e.tooltip||"function"==typeof e.tooltip)return e;e=e.tooltip}return null},e.Tooltip.createDom=function(){e.Tooltip.DIV||(e.Tooltip.DIV=document.createElement("div"),e.Tooltip.DIV.className="blocklyTooltipDiv",(e.parentContainer||document.body).appendChild(e.Tooltip.DIV))},e.Tooltip.bindMouseEvents=function(t){t.mouseOverWrapper_=e.browserEvents.bind(t,"mouseover",null,e.Tooltip.onMouseOver_),t.mouseOutWrapper_=e.browserEvents.bind(t,"mouseout",null,e.Tooltip.onMouseOut_),t.addEventListener("mousemove",e.Tooltip.onMouseMove_,!1)},e.Tooltip.unbindMouseEvents=function(t){t&&(e.browserEvents.unbind(t.mouseOverWrapper_),e.browserEvents.unbind(t.mouseOutWrapper_),t.removeEventListener("mousemove",e.Tooltip.onMouseMove_))},e.Tooltip.onMouseOver_=function(t){e.Tooltip.blocked_||(t=e.Tooltip.getTargetObject_(t.currentTarget),e.Tooltip.element_!=t&&(e.Tooltip.hide(),e.Tooltip.poisonedElement_=null,e.Tooltip.element_=t),clearTimeout(e.Tooltip.mouseOutPid_))},e.Tooltip.onMouseOut_=function(t){e.Tooltip.blocked_||(e.Tooltip.mouseOutPid_=setTimeout((function(){e.Tooltip.element_=null,e.Tooltip.poisonedElement_=null,e.Tooltip.hide()}),1),clearTimeout(e.Tooltip.showPid_))},e.Tooltip.onMouseMove_=function(t){if(e.Tooltip.element_&&e.Tooltip.element_.tooltip&&!e.Tooltip.blocked_)if(e.Tooltip.visible){var n=e.Tooltip.lastX_-t.pageX;t=e.Tooltip.lastY_-t.pageY,Math.sqrt(n*n+t*t)>e.Tooltip.RADIUS_OK&&e.Tooltip.hide()}else e.Tooltip.poisonedElement_!=e.Tooltip.element_&&(clearTimeout(e.Tooltip.showPid_),e.Tooltip.lastX_=t.pageX,e.Tooltip.lastY_=t.pageY,e.Tooltip.showPid_=setTimeout(e.Tooltip.show_,e.Tooltip.HOVER_MS))},e.Tooltip.dispose=function(){e.Tooltip.element_=null,e.Tooltip.poisonedElement_=null,e.Tooltip.hide()},e.Tooltip.hide=function(){e.Tooltip.visible&&(e.Tooltip.visible=!1,e.Tooltip.DIV&&(e.Tooltip.DIV.style.display="none")),e.Tooltip.showPid_&&clearTimeout(e.Tooltip.showPid_)},e.Tooltip.block=function(){e.Tooltip.hide(),e.Tooltip.blocked_=!0},e.Tooltip.unblock=function(){e.Tooltip.blocked_=!1},e.Tooltip.show_=function(){if(!e.Tooltip.blocked_&&(e.Tooltip.poisonedElement_=e.Tooltip.element_,e.Tooltip.DIV)){e.Tooltip.DIV.textContent="";var t=e.Tooltip.getTooltipOfObject(e.Tooltip.element_);t=(t=e.utils.string.wrap(t,e.Tooltip.LIMIT)).split("\n");for(var n=0;n<t.length;n++){var r=document.createElement("div");r.appendChild(document.createTextNode(t[n])),e.Tooltip.DIV.appendChild(r)}t=e.Tooltip.element_.RTL,n=document.documentElement.clientWidth,r=document.documentElement.clientHeight,e.Tooltip.DIV.style.direction=t?"rtl":"ltr",e.Tooltip.DIV.style.display="block",e.Tooltip.visible=!0;var i=e.Tooltip.lastX_;i=t?i-(e.Tooltip.OFFSET_X+e.Tooltip.DIV.offsetWidth):i+e.Tooltip.OFFSET_X;var o=e.Tooltip.lastY_+e.Tooltip.OFFSET_Y;o+e.Tooltip.DIV.offsetHeight>r+window.scrollY&&(o-=e.Tooltip.DIV.offsetHeight+2*e.Tooltip.OFFSET_Y),t?i=Math.max(e.Tooltip.MARGINS-window.scrollX,i):i+e.Tooltip.DIV.offsetWidth>n+window.scrollX-2*e.Tooltip.MARGINS&&(i=n-e.Tooltip.DIV.offsetWidth-2*e.Tooltip.MARGINS),e.Tooltip.DIV.style.top=o+"px",e.Tooltip.DIV.style.left=i+"px"}},e.utils.aria={},e.utils.aria.ARIA_PREFIX_="aria-",e.utils.aria.ROLE_ATTRIBUTE_="role",e.utils.aria.Role={GRID:"grid",GRIDCELL:"gridcell",GROUP:"group",LISTBOX:"listbox",MENU:"menu",MENUITEM:"menuitem",MENUITEMCHECKBOX:"menuitemcheckbox",OPTION:"option",PRESENTATION:"presentation",ROW:"row",TREE:"tree",TREEITEM:"treeitem"},e.utils.aria.State={ACTIVEDESCENDANT:"activedescendant",COLCOUNT:"colcount",DISABLED:"disabled",EXPANDED:"expanded",INVALID:"invalid",LABEL:"label",LABELLEDBY:"labelledby",LEVEL:"level",ORIENTATION:"orientation",POSINSET:"posinset",ROWCOUNT:"rowcount",SELECTED:"selected",SETSIZE:"setsize",VALUEMAX:"valuemax",VALUEMIN:"valuemin"},e.utils.aria.setRole=function(t,n){t.setAttribute(e.utils.aria.ROLE_ATTRIBUTE_,n)},e.utils.aria.setState=function(t,n,r){Array.isArray(r)&&(r=r.join(" ")),t.setAttribute(e.utils.aria.ARIA_PREFIX_+n,r)},e.IASTNodeLocation=function(){},e.IASTNodeLocationSvg=function(){},e.IASTNodeLocationWithBlock=function(){},e.IKeyboardAccessible=function(){},e.utils.deprecation={},e.utils.deprecation.warn=function(e,t,n,r){e=e+" was deprecated on "+t+" and will be deleted on "+n+".",r&&(e+="\nUse "+r+" instead."),console.warn(e)},e.Connection=function(e,t){this.sourceBlock_=e,this.type=t},e.Connection.CAN_CONNECT=0,e.Connection.REASON_SELF_CONNECTION=1,e.Connection.REASON_WRONG_TYPE=2,e.Connection.REASON_TARGET_NULL=3,e.Connection.REASON_CHECKS_FAILED=4,e.Connection.REASON_DIFFERENT_WORKSPACES=5,e.Connection.REASON_SHADOW_PARENT=6,e.Connection.REASON_DRAG_CHECKS_FAILED=7,e.Connection.prototype.targetConnection=null,e.Connection.prototype.disposed=!1,e.Connection.prototype.check_=null,e.Connection.prototype.shadowDom_=null,e.Connection.prototype.x=0,e.Connection.prototype.y=0,e.Connection.prototype.connect_=function(t){var n,r=e.connectionTypes.INPUT_VALUE,i=this.getSourceBlock(),o=t.getSourceBlock();if(t.isConnected()&&t.disconnect(),this.isConnected()){var s=this.getShadowDom(!0);this.shadowDom_=null;var a=this.targetBlock();if(a.isShadow())a.dispose(!1);else{this.disconnect();var l=a}this.shadowDom_=s}e.Events.isEnabled()&&(n=new(e.Events.get(e.Events.BLOCK_MOVE))(o)),e.Connection.connectReciprocally_(this,t),o.setParent(i),n&&(n.recordNew(),e.Events.fire(n)),l&&(t=this.type===r?l.outputConnection:l.previousConnection,(o=e.Connection.getConnectionForOrphanedConnection(o,t))?t.connect(o):t.onFailedConnect(this))},e.Connection.prototype.dispose=function(){if(this.isConnected()){this.setShadowDom(null);var e=this.targetBlock();e&&e.unplug()}this.disposed=!0},e.Connection.prototype.getSourceBlock=function(){return this.sourceBlock_},e.Connection.prototype.isSuperior=function(){return this.type==e.connectionTypes.INPUT_VALUE||this.type==e.connectionTypes.NEXT_STATEMENT},e.Connection.prototype.isConnected=function(){return!!this.targetConnection},e.Connection.prototype.canConnectWithReason=function(t){return e.utils.deprecation.warn("Connection.prototype.canConnectWithReason","July 2020","July 2021","the workspace's connection checker"),this.getConnectionChecker().canConnectWithReason(this,t,!1)},e.Connection.prototype.checkConnection=function(t){e.utils.deprecation.warn("Connection.prototype.checkConnection","July 2020","July 2021","the workspace's connection checker");var n=this.getConnectionChecker(),r=n.canConnectWithReason(this,t,!1);if(r!=e.Connection.CAN_CONNECT)throw Error(n.getErrorMessage(r,this,t))},e.Connection.prototype.getConnectionChecker=function(){return this.sourceBlock_.workspace.connectionChecker},e.Connection.prototype.isConnectionAllowed=function(t){return e.utils.deprecation.warn("Connection.prototype.isConnectionAllowed","July 2020","July 2021","the workspace's connection checker"),this.getConnectionChecker().canConnect(this,t,!0)},e.Connection.prototype.onFailedConnect=function(e){},e.Connection.prototype.connect=function(t){if(this.targetConnection!=t&&this.getConnectionChecker().canConnect(this,t,!1)){var n=e.Events.getGroup();n||e.Events.setGroup(!0),this.isSuperior()?this.connect_(t):t.connect_(this),n||e.Events.setGroup(!1)}},e.Connection.connectReciprocally_=function(e,t){if(!e||!t)throw Error("Cannot connect null connections.");e.targetConnection=t,t.targetConnection=e},e.Connection.getSingleConnection_=function(e,t){for(var n,r=null,i=(t=t.outputConnection).getConnectionChecker(),o=0;n=e.inputList[o];o++)if((n=n.connection)&&i.canConnect(t,n,!1)){if(r)return null;r=n}return r},e.Connection.getConnectionForOrphanedOutput_=function(t,n){for(var r;r=e.Connection.getSingleConnection_(t,n);)if(!(t=r.targetBlock())||t.isShadow())return r;return null},e.Connection.getConnectionForOrphanedConnection=function(t,n){if(n.type===e.connectionTypes.OUTPUT_VALUE)return e.Connection.getConnectionForOrphanedOutput_(t,n.getSourceBlock());t=t.lastConnectionInStack(!0);var r=n.getConnectionChecker();return t&&r.canConnect(n,t,!1)?t:null},e.Connection.prototype.disconnect=function(){var t=this.targetConnection;if(!t)throw Error("Source connection not connected.");if(t.targetConnection!=this)throw Error("Target connection not connected to source connection.");if(this.isSuperior()){var n=this.sourceBlock_,r=t.getSourceBlock();t=this}else n=t.getSourceBlock(),r=this.sourceBlock_;var i=e.Events.getGroup();i||e.Events.setGroup(!0),this.disconnectInternal_(n,r),r.isShadow()||t.respawnShadow_(),i||e.Events.setGroup(!1)},e.Connection.prototype.disconnectInternal_=function(t,n){var r;e.Events.isEnabled()&&(r=new(e.Events.get(e.Events.BLOCK_MOVE))(n)),this.targetConnection=this.targetConnection.targetConnection=null,n.setParent(null),r&&(r.recordNew(),e.Events.fire(r))},e.Connection.prototype.respawnShadow_=function(){var t=this.getSourceBlock(),n=this.getShadowDom();if(t.workspace&&n)if((t=e.Xml.domToBlock(n,t.workspace)).outputConnection)this.connect(t.outputConnection);else{if(!t.previousConnection)throw Error("Child block does not have output or previous statement.");this.connect(t.previousConnection)}},e.Connection.prototype.targetBlock=function(){return this.isConnected()?this.targetConnection.getSourceBlock():null},e.Connection.prototype.checkType=function(t){return e.utils.deprecation.warn("Connection.prototype.checkType","October 2019","January 2021","the workspace's connection checker"),this.getConnectionChecker().canConnect(this,t,!1)},e.Connection.prototype.checkType_=function(t){return e.utils.deprecation.warn("Connection.prototype.checkType_","October 2019","January 2021","the workspace's connection checker"),this.checkType(t)},e.Connection.prototype.onCheckChanged_=function(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()},e.Connection.prototype.setCheck=function(e){return e?(Array.isArray(e)||(e=[e]),this.check_=e,this.onCheckChanged_()):this.check_=null,this},e.Connection.prototype.getCheck=function(){return this.check_},e.Connection.prototype.setShadowDom=function(e){this.shadowDom_=e,(e=this.targetBlock())?e.isShadow()&&(e.dispose(!1),this.respawnShadow_()):this.respawnShadow_()},e.Connection.prototype.getShadowDom=function(t){return t&&this.targetBlock().isShadow()?e.Xml.blockToDom(this.targetBlock()):this.shadowDom_},e.Connection.prototype.neighbours=function(e){return[]},e.Connection.prototype.getParentInput=function(){for(var e=null,t=this.sourceBlock_.inputList,n=0;n<t.length;n++)if(t[n].connection===this){e=t[n];break}return e},e.Connection.prototype.toString=function(){var e=this.sourceBlock_;if(!e)return"Orphan Connection";if(e.outputConnection==this)var t="Output Connection of ";else if(e.previousConnection==this)t="Previous Connection of ";else if(e.nextConnection==this)t="Next Connection of ";else{t=null;for(var n,r=0;n=e.inputList[r];r++)if(n.connection==this){t=n;break}if(!t)return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection";t='Input "'+t.name+'" connection on '}return t+e.toDevString()},e.IConnectionChecker=function(){},e.ConnectionChecker=function(){},e.ConnectionChecker.prototype.canConnect=function(t,n,r,i){return this.canConnectWithReason(t,n,r,i)==e.Connection.CAN_CONNECT},e.ConnectionChecker.prototype.canConnectWithReason=function(t,n,r,i){var o=this.doSafetyChecks(t,n);return o!=e.Connection.CAN_CONNECT?o:this.doTypeChecks(t,n)?r&&!this.doDragChecks(t,n,i||0)?e.Connection.REASON_DRAG_CHECKS_FAILED:e.Connection.CAN_CONNECT:e.Connection.REASON_CHECKS_FAILED},e.ConnectionChecker.prototype.getErrorMessage=function(t,n,r){switch(t){case e.Connection.REASON_SELF_CONNECTION:return"Attempted to connect a block to itself.";case e.Connection.REASON_DIFFERENT_WORKSPACES:return"Blocks not on same workspace.";case e.Connection.REASON_WRONG_TYPE:return"Attempt to connect incompatible types.";case e.Connection.REASON_TARGET_NULL:return"Target connection is null.";case e.Connection.REASON_CHECKS_FAILED:return"Connection checks failed. "+n+" expected "+n.getCheck()+", found "+r.getCheck();case e.Connection.REASON_SHADOW_PARENT:return"Connecting non-shadow to shadow block.";case e.Connection.REASON_DRAG_CHECKS_FAILED:return"Drag checks failed.";default:return"Unknown connection failure: this should never happen!"}},e.ConnectionChecker.prototype.doSafetyChecks=function(t,n){if(!t||!n)return e.Connection.REASON_TARGET_NULL;if(t.isSuperior())var r=t.getSourceBlock(),i=n.getSourceBlock();else i=t.getSourceBlock(),r=n.getSourceBlock();return r==i?e.Connection.REASON_SELF_CONNECTION:n.type!=e.OPPOSITE_TYPE[t.type]?e.Connection.REASON_WRONG_TYPE:r.workspace!==i.workspace?e.Connection.REASON_DIFFERENT_WORKSPACES:r.isShadow()&&!i.isShadow()?e.Connection.REASON_SHADOW_PARENT:e.Connection.CAN_CONNECT},e.ConnectionChecker.prototype.doTypeChecks=function(e,t){if(e=e.getCheck(),t=t.getCheck(),!e||!t)return!0;for(var n=0;n<e.length;n++)if(-1!=t.indexOf(e[n]))return!0;return!1},e.ConnectionChecker.prototype.doDragChecks=function(t,n,r){if(t.distanceFrom(n)>r||n.getSourceBlock().isInsertionMarker())return!1;switch(n.type){case e.connectionTypes.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(t,n);case e.connectionTypes.OUTPUT_VALUE:if(n.isConnected()&&!n.targetBlock().isInsertionMarker()||t.isConnected())return!1;break;case e.connectionTypes.INPUT_VALUE:if(n.isConnected()&&!n.targetBlock().isMovable()&&!n.targetBlock().isShadow())return!1;break;case e.connectionTypes.NEXT_STATEMENT:if(n.isConnected()&&!t.getSourceBlock().nextConnection&&!n.targetBlock().isShadow()&&n.targetBlock().nextConnection)return!1;break;default:return!1}return-1==e.draggingConnections.indexOf(n)},e.ConnectionChecker.prototype.canConnectToPrevious_=function(t,n){return!t.targetConnection&&-1==e.draggingConnections.indexOf(n)&&(!n.targetConnection||!!(t=n.targetBlock()).isInsertionMarker()&&!t.getPreviousBlock())},e.registry.register(e.registry.Type.CONNECTION_CHECKER,e.registry.DEFAULT,e.ConnectionChecker),e.VariableMap=function(e){this.variableMap_=Object.create(null),this.workspace=e},e.VariableMap.prototype.clear=function(){this.variableMap_=Object.create(null)},e.VariableMap.prototype.renameVariable=function(t,n){var r=this.getVariable(n,t.type),i=this.workspace.getAllBlocks(!1);e.Events.setGroup(!0);try{r&&r.getId()!=t.getId()?this.renameVariableWithConflict_(t,n,r,i):this.renameVariableAndUses_(t,n,i)}finally{e.Events.setGroup(!1)}},e.VariableMap.prototype.renameVariableById=function(e,t){var n=this.getVariableById(e);if(!n)throw Error("Tried to rename a variable that didn't exist. ID: "+e);this.renameVariable(n,t)},e.VariableMap.prototype.renameVariableAndUses_=function(t,n,r){for(e.Events.fire(new(e.Events.get(e.Events.VAR_RENAME))(t,n)),t.name=n,n=0;n<r.length;n++)r[n].updateVarName(t)},e.VariableMap.prototype.renameVariableWithConflict_=function(t,n,r,i){var o=t.type;for(n!=r.name&&this.renameVariableAndUses_(r,n,i),n=0;n<i.length;n++)i[n].renameVarById(t.getId(),r.getId());e.Events.fire(new(e.Events.get(e.Events.VAR_DELETE))(t)),t=this.getVariablesOfType(o).indexOf(t),this.variableMap_[o].splice(t,1)},e.VariableMap.prototype.createVariable=function(t,n,r){var i=this.getVariable(t,n);if(i){if(r&&i.getId()!=r)throw Error('Variable "'+t+'" is already in use and its id is "'+i.getId()+'" which conflicts with the passed in id, "'+r+'".');return i}if(r&&this.getVariableById(r))throw Error('Variable id, "'+r+'", is already in use.');return i=r||e.utils.genUid(),n=n||"",i=new e.VariableModel(this.workspace,t,n,i),(t=this.variableMap_[n]||[]).push(i),delete this.variableMap_[n],this.variableMap_[n]=t,i},e.VariableMap.prototype.deleteVariable=function(t){for(var n,r=this.variableMap_[t.type],i=0;n=r[i];i++)if(n.getId()==t.getId()){r.splice(i,1),e.Events.fire(new(e.Events.get(e.Events.VAR_DELETE))(t));break}},e.VariableMap.prototype.deleteVariableById=function(t){var n=this.getVariableById(t);if(n){var r,i=n.name,o=this.getVariableUsesById(t);for(t=0;r=o[t];t++)if("procedures_defnoreturn"==r.type||"procedures_defreturn"==r.type)return t=r.getFieldValue("NAME"),i=e.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",i).replace("%2",t),void e.alert(i);var s=this;1<o.length?(i=e.Msg.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(o.length)).replace("%2",i),e.confirm(i,(function(e){e&&n&&s.deleteVariableInternal(n,o)}))):s.deleteVariableInternal(n,o)}else console.warn("Can't delete non-existent variable: "+t)},e.VariableMap.prototype.deleteVariableInternal=function(t,n){var r=e.Events.getGroup();r||e.Events.setGroup(!0);try{for(var i=0;i<n.length;i++)n[i].dispose(!0);this.deleteVariable(t)}finally{r||e.Events.setGroup(!1)}},e.VariableMap.prototype.getVariable=function(t,n){if(n=this.variableMap_[n||""])for(var r,i=0;r=n[i];i++)if(e.Names.equals(r.name,t))return r;return null},e.VariableMap.prototype.getVariableById=function(e){for(var t=Object.keys(this.variableMap_),n=0;n<t.length;n++)for(var r,i=t[n],o=0;r=this.variableMap_[i][o];o++)if(r.getId()==e)return r;return null},e.VariableMap.prototype.getVariablesOfType=function(e){return(e=this.variableMap_[e||""])?e.slice():[]},e.VariableMap.prototype.getVariableTypes=function(t){var n={};e.utils.object.mixin(n,this.variableMap_),t&&t.getPotentialVariableMap()&&e.utils.object.mixin(n,t.getPotentialVariableMap().variableMap_),t=Object.keys(n),n=!1;for(var r=0;r<t.length;r++)""==t[r]&&(n=!0);return n||t.push(""),t},e.VariableMap.prototype.getAllVariables=function(){var e,t=[];for(e in this.variableMap_)t=t.concat(this.variableMap_[e]);return t},e.VariableMap.prototype.getAllVariableNames=function(){var e,t=[];for(e in this.variableMap_)for(var n,r=this.variableMap_[e],i=0;n=r[i];i++)t.push(n.name);return t},e.VariableMap.prototype.getVariableUsesById=function(e){for(var t=[],n=this.workspace.getAllBlocks(!1),r=0;r<n.length;r++){var i=n[r].getVarModels();if(i)for(var o=0;o<i.length;o++)i[o].getId()==e&&t.push(n[r])}return t},e.Workspace=function(t){this.id=e.utils.genUid(),e.Workspace.WorkspaceDB_[this.id]=this,this.options=t||new e.Options({}),this.RTL=!!this.options.RTL,this.horizontalLayout=!!this.options.horizontalLayout,this.toolboxPosition=this.options.toolboxPosition,this.connectionChecker=new(e.registry.getClassFromOptions(e.registry.Type.CONNECTION_CHECKER,this.options,!0))(this),this.topBlocks_=[],this.topComments_=[],this.commentDB_=Object.create(null),this.listeners_=[],this.undoStack_=[],this.redoStack_=[],this.blockDB_=Object.create(null),this.typedBlocksDB_=Object.create(null),this.variableMap_=new e.VariableMap(this),this.potentialVariableMap_=null},e.Workspace.prototype.rendered=!1,e.Workspace.prototype.isClearing=!1,e.Workspace.prototype.MAX_UNDO=1024,e.Workspace.prototype.connectionDBList=null,e.Workspace.prototype.dispose=function(){this.listeners_.length=0,this.clear(),delete e.Workspace.WorkspaceDB_[this.id]},e.Workspace.SCAN_ANGLE=3,e.Workspace.prototype.sortObjects_=function(t,n){return t=t.getRelativeToSurfaceXY(),n=n.getRelativeToSurfaceXY(),t.y+e.Workspace.prototype.sortObjects_.offset*t.x-(n.y+e.Workspace.prototype.sortObjects_.offset*n.x)},e.Workspace.prototype.addTopBlock=function(e){this.topBlocks_.push(e)},e.Workspace.prototype.removeTopBlock=function(t){if(!e.utils.arrayRemove(this.topBlocks_,t))throw Error("Block not present in workspace's list of top-most blocks.")},e.Workspace.prototype.getTopBlocks=function(t){var n=[].concat(this.topBlocks_);return t&&1<n.length&&(this.sortObjects_.offset=Math.sin(e.utils.math.toRadians(e.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),n.sort(this.sortObjects_)),n},e.Workspace.prototype.addTypedBlock=function(e){this.typedBlocksDB_[e.type]||(this.typedBlocksDB_[e.type]=[]),this.typedBlocksDB_[e.type].push(e)},e.Workspace.prototype.removeTypedBlock=function(e){this.typedBlocksDB_[e.type].splice(this.typedBlocksDB_[e.type].indexOf(e),1),this.typedBlocksDB_[e.type].length||delete this.typedBlocksDB_[e.type]},e.Workspace.prototype.getBlocksByType=function(t,n){return this.typedBlocksDB_[t]?(t=this.typedBlocksDB_[t].slice(0),n&&1<t.length&&(this.sortObjects_.offset=Math.sin(e.utils.math.toRadians(e.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),t.sort(this.sortObjects_)),t):[]},e.Workspace.prototype.addTopComment=function(e){this.topComments_.push(e),this.commentDB_[e.id]&&console.warn('Overriding an existing comment on this workspace, with id "'+e.id+'"'),this.commentDB_[e.id]=e},e.Workspace.prototype.removeTopComment=function(t){if(!e.utils.arrayRemove(this.topComments_,t))throw Error("Comment not present in workspace's list of top-most comments.");delete this.commentDB_[t.id]},e.Workspace.prototype.getTopComments=function(t){var n=[].concat(this.topComments_);return t&&1<n.length&&(this.sortObjects_.offset=Math.sin(e.utils.math.toRadians(e.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),n.sort(this.sortObjects_)),n},e.Workspace.prototype.getAllBlocks=function(e){if(e){e=this.getTopBlocks(!0);for(var t=[],n=0;n<e.length;n++)t.push.apply(t,e[n].getDescendants(!0))}else for(t=this.getTopBlocks(!1),n=0;n<t.length;n++)t.push.apply(t,t[n].getChildren(!1));return t.filter((function(e){return!e.isInsertionMarker()}))},e.Workspace.prototype.clear=function(){this.isClearing=!0;try{var t=e.Events.getGroup();for(t||e.Events.setGroup(!0);this.topBlocks_.length;)this.topBlocks_[0].dispose(!1);for(;this.topComments_.length;)this.topComments_[this.topComments_.length-1].dispose(!1);t||e.Events.setGroup(!1),this.variableMap_.clear(),this.potentialVariableMap_&&this.potentialVariableMap_.clear()}finally{this.isClearing=!1}},e.Workspace.prototype.renameVariableById=function(e,t){this.variableMap_.renameVariableById(e,t)},e.Workspace.prototype.createVariable=function(e,t,n){return this.variableMap_.createVariable(e,t,n)},e.Workspace.prototype.getVariableUsesById=function(e){return this.variableMap_.getVariableUsesById(e)},e.Workspace.prototype.deleteVariableById=function(e){this.variableMap_.deleteVariableById(e)},e.Workspace.prototype.getVariable=function(e,t){return this.variableMap_.getVariable(e,t)},e.Workspace.prototype.getVariableById=function(e){return this.variableMap_.getVariableById(e)},e.Workspace.prototype.getVariablesOfType=function(e){return this.variableMap_.getVariablesOfType(e)},e.Workspace.prototype.getVariableTypes=function(){return this.variableMap_.getVariableTypes(this)},e.Workspace.prototype.getAllVariables=function(){return this.variableMap_.getAllVariables()},e.Workspace.prototype.getAllVariableNames=function(){return this.variableMap_.getAllVariableNames()},e.Workspace.prototype.getWidth=function(){return 0},e.Workspace.prototype.newBlock=function(t,n){return new e.Block(this,t,n)},e.Workspace.prototype.remainingCapacity=function(){return isNaN(this.options.maxBlocks)?1/0:this.options.maxBlocks-this.getAllBlocks(!1).length},e.Workspace.prototype.remainingCapacityOfType=function(e){return this.options.maxInstances?(void 0!==this.options.maxInstances[e]?this.options.maxInstances[e]:1/0)-this.getBlocksByType(e,!1).length:1/0},e.Workspace.prototype.isCapacityAvailable=function(e){if(!this.hasBlockLimits())return!0;var t,n=0;for(t in e){if(e[t]>this.remainingCapacityOfType(t))return!1;n+=e[t]}return!(n>this.remainingCapacity())},e.Workspace.prototype.hasBlockLimits=function(){return 1/0!=this.options.maxBlocks||!!this.options.maxInstances},e.Workspace.prototype.getUndoStack=function(){return this.undoStack_},e.Workspace.prototype.getRedoStack=function(){return this.redoStack_},e.Workspace.prototype.undo=function(t){var n=t?this.redoStack_:this.undoStack_,r=t?this.undoStack_:this.redoStack_,i=n.pop();if(i){for(var o=[i];n.length&&i.group&&i.group==n[n.length-1].group;)o.push(n.pop());for(n=0;i=o[n];n++)r.push(i);o=e.Events.filter(o,t),e.Events.recordUndo=!1;try{for(n=0;i=o[n];n++)i.run(t)}finally{e.Events.recordUndo=!0}}},e.Workspace.prototype.clearUndo=function(){this.undoStack_.length=0,this.redoStack_.length=0,e.Events.clearPendingUndo()},e.Workspace.prototype.addChangeListener=function(e){return this.listeners_.push(e),e},e.Workspace.prototype.removeChangeListener=function(t){e.utils.arrayRemove(this.listeners_,t)},e.Workspace.prototype.fireChangeListener=function(e){if(e.recordUndo)for(this.undoStack_.push(e),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&0<=this.MAX_UNDO;)this.undoStack_.shift();for(var t,n=0;t=this.listeners_[n];n++)t(e)},e.Workspace.prototype.getBlockById=function(e){return this.blockDB_[e]||null},e.Workspace.prototype.setBlockById=function(e,t){this.blockDB_[e]=t},e.Workspace.prototype.removeBlockById=function(e){delete this.blockDB_[e]},e.Workspace.prototype.getCommentById=function(e){return this.commentDB_[e]||null},e.Workspace.prototype.allInputsFilled=function(e){for(var t,n=this.getTopBlocks(!1),r=0;t=n[r];r++)if(!t.allInputsFilled(e))return!1;return!0},e.Workspace.prototype.getPotentialVariableMap=function(){return this.potentialVariableMap_},e.Workspace.prototype.createPotentialVariableMap=function(){this.potentialVariableMap_=new e.VariableMap(this)},e.Workspace.prototype.getVariableMap=function(){return this.variableMap_},e.Workspace.prototype.setVariableMap=function(e){this.variableMap_=e},e.Workspace.WorkspaceDB_=Object.create(null),e.Workspace.getById=function(t){return e.Workspace.WorkspaceDB_[t]||null},e.Workspace.getAll=function(){var t,n=[];for(t in e.Workspace.WorkspaceDB_)n.push(e.Workspace.WorkspaceDB_[t]);return n},e.WorkspaceDragSurfaceSvg=function(e){this.container_=e,this.createDom()},e.WorkspaceDragSurfaceSvg.prototype.SVG_=null,e.WorkspaceDragSurfaceSvg.prototype.container_=null,e.WorkspaceDragSurfaceSvg.prototype.createDom=function(){this.SVG_||(this.SVG_=e.utils.dom.createSvgElement(e.utils.Svg.SVG,{xmlns:e.utils.dom.SVG_NS,"xmlns:html":e.utils.dom.HTML_NS,"xmlns:xlink":e.utils.dom.XLINK_NS,version:"1.1",class:"blocklyWsDragSurface blocklyOverflowVisible"},null),this.container_.appendChild(this.SVG_))},e.WorkspaceDragSurfaceSvg.prototype.translateSurface=function(t,n){t=t.toFixed(0),n=n.toFixed(0),this.SVG_.style.display="block",e.utils.dom.setCssTransform(this.SVG_,"translate3d("+t+"px, "+n+"px, 0px)")},e.WorkspaceDragSurfaceSvg.prototype.getSurfaceTranslation=function(){return e.utils.getRelativeXY(this.SVG_)},e.WorkspaceDragSurfaceSvg.prototype.clearAndHide=function(t){if(!t)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var n=this.SVG_.childNodes[0],r=this.SVG_.childNodes[1];if(!(n&&r&&e.utils.dom.hasClass(n,"blocklyBlockCanvas")&&e.utils.dom.hasClass(r,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");if(null!=this.previousSibling_?e.utils.dom.insertAfter(n,this.previousSibling_):t.insertBefore(n,t.firstChild),e.utils.dom.insertAfter(r,n),this.SVG_.style.display="none",this.SVG_.childNodes.length)throw Error("Drag surface was not cleared.");e.utils.dom.setCssTransform(this.SVG_,""),this.previousSibling_=null},e.WorkspaceDragSurfaceSvg.prototype.setContentsAndShow=function(e,t,n,r,i,o){if(this.SVG_.childNodes.length)throw Error("Already dragging a block.");this.previousSibling_=n,e.setAttribute("transform","translate(0, 0) scale("+o+")"),t.setAttribute("transform","translate(0, 0) scale("+o+")"),this.SVG_.setAttribute("width",r),this.SVG_.setAttribute("height",i),this.SVG_.appendChild(e),this.SVG_.appendChild(t),this.SVG_.style.display="block"},e.blockRendering={},e.blockRendering.useDebugger=!1,e.blockRendering.register=function(t,n){e.registry.register(e.registry.Type.RENDERER,t,n)},e.blockRendering.unregister=function(t){e.registry.unregister(e.registry.Type.RENDERER,t)},e.blockRendering.startDebugger=function(){e.blockRendering.useDebugger=!0},e.blockRendering.stopDebugger=function(){e.blockRendering.useDebugger=!1},e.blockRendering.init=function(t,n,r){return(t=new(e.registry.getClass(e.registry.Type.RENDERER,t))(t)).init(n,r),t},e.ASTNode=function(t,n,r){if(!n)throw Error("Cannot create a node without a location.");this.type_=t,this.isConnection_=e.ASTNode.isConnectionType_(t),this.location_=n,this.wsCoordinate_=null,this.processParams_(r||null)},e.ASTNode.types={FIELD:"field",BLOCK:"block",INPUT:"input",OUTPUT:"output",NEXT:"next",PREVIOUS:"previous",STACK:"stack",WORKSPACE:"workspace"},e.ASTNode.NAVIGATE_ALL_FIELDS=!1,e.ASTNode.DEFAULT_OFFSET_Y=-20,e.ASTNode.isConnectionType_=function(t){switch(t){case e.ASTNode.types.PREVIOUS:case e.ASTNode.types.NEXT:case e.ASTNode.types.INPUT:case e.ASTNode.types.OUTPUT:return!0}return!1},e.ASTNode.createFieldNode=function(t){return t?new e.ASTNode(e.ASTNode.types.FIELD,t):null},e.ASTNode.createConnectionNode=function(t){if(!t)return null;var n=t.type;return n==e.connectionTypes.INPUT_VALUE||n==e.connectionTypes.NEXT_STATEMENT&&t.getParentInput()?e.ASTNode.createInputNode(t.getParentInput()):n==e.connectionTypes.NEXT_STATEMENT?new e.ASTNode(e.ASTNode.types.NEXT,t):n==e.connectionTypes.OUTPUT_VALUE?new e.ASTNode(e.ASTNode.types.OUTPUT,t):n==e.connectionTypes.PREVIOUS_STATEMENT?new e.ASTNode(e.ASTNode.types.PREVIOUS,t):null},e.ASTNode.createInputNode=function(t){return t&&t.connection?new e.ASTNode(e.ASTNode.types.INPUT,t.connection):null},e.ASTNode.createBlockNode=function(t){return t?new e.ASTNode(e.ASTNode.types.BLOCK,t):null},e.ASTNode.createStackNode=function(t){return t?new e.ASTNode(e.ASTNode.types.STACK,t):null},e.ASTNode.createWorkspaceNode=function(t,n){return n&&t?new e.ASTNode(e.ASTNode.types.WORKSPACE,t,{wsCoordinate:n}):null},e.ASTNode.createTopNode=function(t){var n=t.previousConnection||t.outputConnection;return n?e.ASTNode.createConnectionNode(n):e.ASTNode.createBlockNode(t)},e.ASTNode.prototype.processParams_=function(e){e&&e.wsCoordinate&&(this.wsCoordinate_=e.wsCoordinate)},e.ASTNode.prototype.getLocation=function(){return this.location_},e.ASTNode.prototype.getType=function(){return this.type_},e.ASTNode.prototype.getWsCoordinate=function(){return this.wsCoordinate_},e.ASTNode.prototype.isConnection=function(){return this.isConnection_},e.ASTNode.prototype.findNextForInput_=function(){var t,n=this.location_.getParentInput(),r=n.getSourceBlock();for(n=r.inputList.indexOf(n)+1;t=r.inputList[n];n++){for(var i,o=t.fieldRow,s=0;i=o[s];s++)if(i.isClickable()||e.ASTNode.NAVIGATE_ALL_FIELDS)return e.ASTNode.createFieldNode(i);if(t.connection)return e.ASTNode.createInputNode(t)}return null},e.ASTNode.prototype.findNextForField_=function(){var t=this.location_,n=t.getParentInput(),r=t.getSourceBlock(),i=r.inputList.indexOf(n);for(t=n.fieldRow.indexOf(t)+1;n=r.inputList[i];i++){for(var o=n.fieldRow;t<o.length;){if(o[t].isClickable()||e.ASTNode.NAVIGATE_ALL_FIELDS)return e.ASTNode.createFieldNode(o[t]);t++}if(t=0,n.connection)return e.ASTNode.createInputNode(n)}return null},e.ASTNode.prototype.findPrevForInput_=function(){for(var t,n=this.location_.getParentInput(),r=n.getSourceBlock(),i=r.inputList.indexOf(n);t=r.inputList[i];i--){if(t.connection&&t!==n)return e.ASTNode.createInputNode(t);for(var o,s=(t=t.fieldRow).length-1;o=t[s];s--)if(o.isClickable()||e.ASTNode.NAVIGATE_ALL_FIELDS)return e.ASTNode.createFieldNode(o)}return null},e.ASTNode.prototype.findPrevForField_=function(){var t,n=this.location_,r=n.getParentInput(),i=n.getSourceBlock(),o=i.inputList.indexOf(r);for(n=r.fieldRow.indexOf(n)-1;t=i.inputList[o];o--){if(t.connection&&t!==r)return e.ASTNode.createInputNode(t);for(t=t.fieldRow;-1<n;){if(t[n].isClickable()||e.ASTNode.NAVIGATE_ALL_FIELDS)return e.ASTNode.createFieldNode(t[n]);n--}0<=o-1&&(n=i.inputList[o-1].fieldRow.length-1)}return null},e.ASTNode.prototype.navigateBetweenStacks_=function(t){var n=this.getLocation();if(n instanceof e.Block||(n=n.getSourceBlock()),!n||!n.workspace)return null;var r=n.getRootBlock();n=r.workspace.getTopBlocks(!0);for(var i,o=0;i=n[o];o++)if(r.id==i.id)return-1==(t=o+(t?1:-1))||t==n.length?null:e.ASTNode.createStackNode(n[t]);throw Error("Couldn't find "+(t?"next":"previous")+" stack?!")},e.ASTNode.prototype.findTopASTNodeForBlock_=function(t){var n=t.previousConnection||t.outputConnection;return n?e.ASTNode.createConnectionNode(n):e.ASTNode.createBlockNode(t)},e.ASTNode.prototype.getOutAstNodeForBlock_=function(t){if(!t)return null;var n=(t=t.getTopStackBlock()).previousConnection||t.outputConnection;return n&&n.targetConnection&&n.targetConnection.getParentInput()?e.ASTNode.createInputNode(n.targetConnection.getParentInput()):e.ASTNode.createStackNode(t)},e.ASTNode.prototype.findFirstFieldOrInput_=function(t){t=t.inputList;for(var n,r=0;n=t[r];r++){for(var i,o=n.fieldRow,s=0;i=o[s];s++)if(i.isClickable()||e.ASTNode.NAVIGATE_ALL_FIELDS)return e.ASTNode.createFieldNode(i);if(n.connection)return e.ASTNode.createInputNode(n)}return null},e.ASTNode.prototype.getSourceBlock=function(){return this.getType()===e.ASTNode.types.BLOCK||this.getType()===e.ASTNode.types.STACK?this.getLocation():this.getType()===e.ASTNode.types.WORKSPACE?null:this.getLocation().getSourceBlock()},e.ASTNode.prototype.next=function(){switch(this.type_){case e.ASTNode.types.STACK:return this.navigateBetweenStacks_(!0);case e.ASTNode.types.OUTPUT:var t=this.location_;return e.ASTNode.createBlockNode(t.getSourceBlock());case e.ASTNode.types.FIELD:return this.findNextForField_();case e.ASTNode.types.INPUT:return this.findNextForInput_();case e.ASTNode.types.BLOCK:return e.ASTNode.createConnectionNode(this.location_.nextConnection);case e.ASTNode.types.PREVIOUS:return t=this.location_,e.ASTNode.createBlockNode(t.getSourceBlock());case e.ASTNode.types.NEXT:return t=this.location_,e.ASTNode.createConnectionNode(t.targetConnection)}return null},e.ASTNode.prototype.in=function(){switch(this.type_){case e.ASTNode.types.WORKSPACE:var t=this.location_.getTopBlocks(!0);if(0<t.length)return e.ASTNode.createStackNode(t[0]);break;case e.ASTNode.types.STACK:return t=this.location_,this.findTopASTNodeForBlock_(t);case e.ASTNode.types.BLOCK:return t=this.location_,this.findFirstFieldOrInput_(t);case e.ASTNode.types.INPUT:return e.ASTNode.createConnectionNode(this.location_.targetConnection)}return null},e.ASTNode.prototype.prev=function(){switch(this.type_){case e.ASTNode.types.STACK:return this.navigateBetweenStacks_(!1);case e.ASTNode.types.FIELD:return this.findPrevForField_();case e.ASTNode.types.INPUT:return this.findPrevForInput_();case e.ASTNode.types.BLOCK:var t=this.location_;return e.ASTNode.createConnectionNode(t.previousConnection||t.outputConnection);case e.ASTNode.types.PREVIOUS:if((t=(t=this.location_).targetConnection)&&!t.getParentInput())return e.ASTNode.createConnectionNode(t);break;case e.ASTNode.types.NEXT:return t=this.location_,e.ASTNode.createBlockNode(t.getSourceBlock())}return null},e.ASTNode.prototype.out=function(){switch(this.type_){case e.ASTNode.types.STACK:var t=this.location_,n=t.getRelativeToSurfaceXY();return n=new e.utils.Coordinate(n.x,n.y+e.ASTNode.DEFAULT_OFFSET_Y),e.ASTNode.createWorkspaceNode(t.workspace,n);case e.ASTNode.types.OUTPUT:return(n=(t=this.location_).targetConnection)?e.ASTNode.createConnectionNode(n):e.ASTNode.createStackNode(t.getSourceBlock());case e.ASTNode.types.FIELD:return e.ASTNode.createBlockNode(this.location_.getSourceBlock());case e.ASTNode.types.INPUT:return t=this.location_,e.ASTNode.createBlockNode(t.getSourceBlock());case e.ASTNode.types.BLOCK:return t=this.location_,this.getOutAstNodeForBlock_(t);case e.ASTNode.types.PREVIOUS:case e.ASTNode.types.NEXT:return t=this.location_,this.getOutAstNodeForBlock_(t.getSourceBlock())}return null},e.Blocks=Object.create(null),e.Extensions={},e.Extensions.ALL_=Object.create(null),e.Extensions.register=function(t,n){if("string"!=typeof t||""==t.trim())throw Error('Error: Invalid extension name "'+t+'"');if(e.Extensions.ALL_[t])throw Error('Error: Extension "'+t+'" is already registered.');if("function"!=typeof n)throw Error('Error: Extension "'+t+'" must be a function');e.Extensions.ALL_[t]=n},e.Extensions.registerMixin=function(t,n){if(!n||"object"!=typeof n)throw Error('Error: Mixin "'+t+'" must be a object');e.Extensions.register(t,(function(){this.mixin(n)}))},e.Extensions.registerMutator=function(t,n,r,i){var o='Error when registering mutator "'+t+'": ';e.Extensions.checkHasFunction_(o,n.domToMutation,"domToMutation"),e.Extensions.checkHasFunction_(o,n.mutationToDom,"mutationToDom");var s=e.Extensions.checkMutatorDialog_(n,o);if(r&&"function"!=typeof r)throw Error('Extension "'+t+'" is not a function');e.Extensions.register(t,(function(){if(s){if(!e.Mutator)throw Error(o+"Missing require for Blockly.Mutator");this.setMutator(new e.Mutator(i||[]))}this.mixin(n),r&&r.apply(this)}))},e.Extensions.unregister=function(t){e.Extensions.ALL_[t]?delete e.Extensions.ALL_[t]:console.warn('No extension mapping for name "'+t+'" found to unregister')},e.Extensions.apply=function(t,n,r){var i=e.Extensions.ALL_[t];if("function"!=typeof i)throw Error('Error: Extension "'+t+'" not found.');if(r)e.Extensions.checkNoMutatorProperties_(t,n);else var o=e.Extensions.getMutatorProperties_(n);if(i.apply(n),r)e.Extensions.checkBlockHasMutatorProperties_('Error after applying mutator "'+t+'": ',n);else if(!e.Extensions.mutatorPropertiesMatch_(o,n))throw Error('Error when applying extension "'+t+'": mutation properties changed when applying a non-mutator extension.')},e.Extensions.checkHasFunction_=function(e,t,n){if(!t)throw Error(e+'missing required property "'+n+'"');if("function"!=typeof t)throw Error(e+'" required property "'+n+'" must be a function')},e.Extensions.checkNoMutatorProperties_=function(t,n){if(e.Extensions.getMutatorProperties_(n).length)throw Error('Error: tried to apply mutation "'+t+'" to a block that already has mutator functions.  Block id: '+n.id)},e.Extensions.checkMutatorDialog_=function(e,t){var n=void 0!==e.compose,r=void 0!==e.decompose;if(n&&r){if("function"!=typeof e.compose)throw Error(t+"compose must be a function.");if("function"!=typeof e.decompose)throw Error(t+"decompose must be a function.");return!0}if(!n&&!r)return!1;throw Error(t+'Must have both or neither of "compose" and "decompose"')},e.Extensions.checkBlockHasMutatorProperties_=function(t,n){if("function"!=typeof n.domToMutation)throw Error(t+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof n.mutationToDom)throw Error(t+'Applying a mutator didn\'t add "mutationToDom"');e.Extensions.checkMutatorDialog_(n,t)},e.Extensions.getMutatorProperties_=function(e){var t=[];return void 0!==e.domToMutation&&t.push(e.domToMutation),void 0!==e.mutationToDom&&t.push(e.mutationToDom),void 0!==e.compose&&t.push(e.compose),void 0!==e.decompose&&t.push(e.decompose),t},e.Extensions.mutatorPropertiesMatch_=function(t,n){if((n=e.Extensions.getMutatorProperties_(n)).length!=t.length)return!1;for(var r=0;r<n.length;r++)if(t[r]!=n[r])return!1;return!0},e.Extensions.buildTooltipForDropdown=function(t,n){var r=[];return"object"==typeof document&&e.utils.runAfterPageLoad((function(){for(var t in n)e.utils.checkMessageReferences(n[t])})),function(){this.type&&-1==r.indexOf(this.type)&&(e.Extensions.checkDropdownOptionsInTable_(this,t,n),r.push(this.type)),this.setTooltip(function(){var i=String(this.getFieldValue(t)),o=n[i];return null==o?-1==r.indexOf(this.type)&&(i="No tooltip mapping for value "+i+" of field "+t,null!=this.type&&(i+=" of block type "+this.type),console.warn(i+".")):o=e.utils.replaceMessageReferences(o),o}.bind(this))}},e.Extensions.checkDropdownOptionsInTable_=function(e,t,n){var r=e.getField(t);if(!r.isOptionListDynamic()){r=r.getOptions();for(var i=0;i<r.length;++i){var o=r[i][1];null==n[o]&&console.warn("No tooltip mapping for value "+o+" of field "+t+" of block type "+e.type)}}},e.Extensions.buildTooltipWithFieldText=function(t,n){return"object"==typeof document&&e.utils.runAfterPageLoad((function(){e.utils.checkMessageReferences(t)})),function(){this.setTooltip(function(){var r=this.getField(n);return e.utils.replaceMessageReferences(t).replace("%1",r?r.getText():"")}.bind(this))}},e.Extensions.extensionParentTooltip_=function(){this.tooltipWhenNotConnected_=this.tooltip,this.setTooltip(function(){var e=this.getParent();return e&&e.getInputsInline()&&e.tooltip||this.tooltipWhenNotConnected_}.bind(this))},e.Extensions.register("parent_tooltip_when_inline",e.Extensions.extensionParentTooltip_),e.fieldRegistry={},e.fieldRegistry.register=function(t,n){e.registry.register(e.registry.Type.FIELD,t,n)},e.fieldRegistry.unregister=function(t){e.registry.unregister(e.registry.Type.FIELD,t)},e.fieldRegistry.fromJson=function(t){var n=e.registry.getObject(e.registry.Type.FIELD,t.type);return n?n.fromJson(t):(console.warn("Blockly could not create a field of type "+t.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)},e.IDeletable=function(){},e.blockAnimations={},e.blockAnimations.disconnectPid_=0,e.blockAnimations.disconnectGroup_=null,e.blockAnimations.disposeUiEffect=function(t){var n=t.workspace,r=t.getSvgRoot();n.getAudioManager().play("delete"),t=n.getSvgXY(r),(r=r.cloneNode(!0)).translateX_=t.x,r.translateY_=t.y,r.setAttribute("transform","translate("+t.x+","+t.y+")"),n.getParentSvg().appendChild(r),r.bBox_=r.getBBox(),e.blockAnimations.disposeUiStep_(r,n.RTL,new Date,n.scale)},e.blockAnimations.disposeUiStep_=function(t,n,r,i){var o=(new Date-r)/150;1<o?e.utils.dom.removeNode(t):(t.setAttribute("transform","translate("+(t.translateX_+(n?-1:1)*t.bBox_.width*i/2*o)+","+(t.translateY_+t.bBox_.height*i*o)+") scale("+(1-o)*i+")"),setTimeout(e.blockAnimations.disposeUiStep_,10,t,n,r,i))},e.blockAnimations.connectionUiEffect=function(t){var n=t.workspace,r=n.scale;if(n.getAudioManager().play("click"),!(1>r)){var i=n.getSvgXY(t.getSvgRoot());t.outputConnection?(i.x+=(t.RTL?3:-3)*r,i.y+=13*r):t.previousConnection&&(i.x+=(t.RTL?-23:23)*r,i.y+=3*r),t=e.utils.dom.createSvgElement(e.utils.Svg.CIRCLE,{cx:i.x,cy:i.y,r:0,fill:"none",stroke:"#888","stroke-width":10},n.getParentSvg()),e.blockAnimations.connectionUiStep_(t,new Date,r)}},e.blockAnimations.connectionUiStep_=function(t,n,r){var i=(new Date-n)/150;1<i?e.utils.dom.removeNode(t):(t.setAttribute("r",25*i*r),t.style.opacity=1-i,e.blockAnimations.disconnectPid_=setTimeout(e.blockAnimations.connectionUiStep_,10,t,n,r))},e.blockAnimations.disconnectUiEffect=function(t){if(t.workspace.getAudioManager().play("disconnect"),!(1>t.workspace.scale)){var n=t.getHeightWidth().height;n=Math.atan(10/n)/Math.PI*180,t.RTL||(n*=-1),e.blockAnimations.disconnectUiStep_(t.getSvgRoot(),n,new Date)}},e.blockAnimations.disconnectUiStep_=function(t,n,r){var i=(new Date-r)/200;1<i?t.skew_="":(t.skew_="skewX("+Math.round(Math.sin(i*Math.PI*3)*(1-i)*n)+")",e.blockAnimations.disconnectGroup_=t,e.blockAnimations.disconnectPid_=setTimeout(e.blockAnimations.disconnectUiStep_,10,t,n,r)),t.setAttribute("transform",t.translate_+t.skew_)},e.blockAnimations.disconnectUiStop=function(){if(e.blockAnimations.disconnectGroup_){clearTimeout(e.blockAnimations.disconnectPid_);var t=e.blockAnimations.disconnectGroup_;t.skew_="",t.setAttribute("transform",t.translate_),e.blockAnimations.disconnectGroup_=null}},e.Events.BlockDrag=function(t,n,r){e.Events.BlockDrag.superClass_.constructor.call(this,t?t.workspace.id:void 0),this.blockId=t?t.id:null,this.isStart=n,this.blocks=r},e.utils.object.inherits(e.Events.BlockDrag,e.Events.UiBase),e.Events.BlockDrag.prototype.type=e.Events.BLOCK_DRAG,e.Events.BlockDrag.prototype.toJson=function(){var t=e.Events.BlockDrag.superClass_.toJson.call(this);return t.isStart=this.isStart,t.blockId=this.blockId,t.blocks=this.blocks,t},e.Events.BlockDrag.prototype.fromJson=function(t){e.Events.BlockDrag.superClass_.fromJson.call(this,t),this.isStart=t.isStart,this.blockId=t.blockId,this.blocks=t.blocks},e.registry.register(e.registry.Type.EVENT,e.Events.BLOCK_DRAG,e.Events.BlockDrag),e.IBlockDragger=function(){},e.InsertionMarkerManager=function(t){this.topBlock_=e.selected=t,this.workspace_=t.workspace,this.lastMarker_=this.lastOnStack_=null,this.firstMarker_=this.createMarkerBlock_(this.topBlock_),this.localConnection_=this.closestConnection_=null,this.wouldDeleteBlock_=!1,this.fadedBlock_=this.highlightedBlock_=this.markerConnection_=null,this.availableConnections_=this.initAvailableConnections_()},e.InsertionMarkerManager.PREVIEW_TYPE={INSERTION_MARKER:0,INPUT_OUTLINE:1,REPLACEMENT_FADE:2},e.InsertionMarkerManager.DUPLICATE_BLOCK_ERROR="The insertion marker manager tried to create a marker but the result is missing %1. If you are using a mutator, make sure your domToMutation method is properly defined.",e.InsertionMarkerManager.prototype.dispose=function(){this.availableConnections_.length=0,e.Events.disable();try{this.firstMarker_&&this.firstMarker_.dispose(),this.lastMarker_&&this.lastMarker_.dispose()}finally{e.Events.enable()}},e.InsertionMarkerManager.prototype.updateAvailableConnections=function(){this.availableConnections_=this.initAvailableConnections_()},e.InsertionMarkerManager.prototype.wouldDeleteBlock=function(){return this.wouldDeleteBlock_},e.InsertionMarkerManager.prototype.wouldConnectBlock=function(){return!!this.closestConnection_},e.InsertionMarkerManager.prototype.applyConnections=function(){if(this.closestConnection_&&(e.Events.disable(),this.hidePreview_(),e.Events.enable(),this.localConnection_.connect(this.closestConnection_),this.topBlock_.rendered)){var t=this.localConnection_.isSuperior()?this.closestConnection_:this.localConnection_;e.blockAnimations.connectionUiEffect(t.getSourceBlock()),this.topBlock_.getRootBlock().bringToFront()}},e.InsertionMarkerManager.prototype.update=function(t,n){var r=this.getCandidate_(t);((this.wouldDeleteBlock_=this.shouldDelete_(r,n))||this.shouldUpdatePreviews_(r,t))&&(e.Events.disable(),this.maybeHidePreview_(r),this.maybeShowPreview_(r),e.Events.enable())},e.InsertionMarkerManager.prototype.createMarkerBlock_=function(t){var n=t.type;e.Events.disable();try{var r=this.workspace_.newBlock(n);if(r.setInsertionMarker(!0),t.mutationToDom){var i=t.mutationToDom();i&&r.domToMutation(i)}for(n=0;n<t.inputList.length;n++){var o=t.inputList[n];if(o.name!=e.constants.COLLAPSED_INPUT_NAME){var s=r.inputList[n];if(!s)throw Error(e.InsertionMarkerManager.DUPLICATE_BLOCK_ERROR.replace("%1","an input"));for(i=0;i<o.fieldRow.length;i++){var a=o.fieldRow[i],l=s.fieldRow[i];if(!l)throw Error(e.InsertionMarkerManager.DUPLICATE_BLOCK_ERROR.replace("%1","a field"));l.setValue(a.getValue())}}}r.setCollapsed(t.isCollapsed()),r.setInputsInline(t.getInputsInline()),r.initSvg(),r.getSvgRoot().setAttribute("visibility","hidden")}finally{e.Events.enable()}return r},e.InsertionMarkerManager.prototype.initAvailableConnections_=function(){var t=this.topBlock_.getConnections_(!1),n=this.topBlock_.lastConnectionInStack(!0);if(n&&n!=this.topBlock_.nextConnection){if(t.push(n),this.lastOnStack_=n,this.lastMarker_){e.Events.disable();try{this.lastMarker_.dispose()}finally{e.Events.enable()}}this.lastMarker_=this.createMarkerBlock_(n.getSourceBlock())}return t},e.InsertionMarkerManager.prototype.shouldUpdatePreviews_=function(t,n){var r=t.local,i=t.closest;return t=t.radius,r&&i?this.localConnection_&&this.closestConnection_?(this.closestConnection_!=i||this.localConnection_!=r)&&(r=this.localConnection_.x+n.x-this.closestConnection_.x,n=this.localConnection_.y+n.y-this.closestConnection_.y,n=Math.sqrt(r*r+n*n),!(i&&t>n-e.CURRENT_CONNECTION_PREFERENCE)):!this.localConnection_&&!this.closestConnection_||(console.error("Only one of localConnection_ and closestConnection_ was set."),console.error("Returning true from shouldUpdatePreviews, but it's not clear why."),!0):!(!this.localConnection_||!this.closestConnection_)},e.InsertionMarkerManager.prototype.getCandidate_=function(e){for(var t=this.getStartRadius_(),n=null,r=null,i=0;i<this.availableConnections_.length;i++){var o=this.availableConnections_[i],s=o.closest(t,e);s.connection&&(n=s.connection,r=o,t=s.radius)}return{closest:n,local:r,radius:t}},e.InsertionMarkerManager.prototype.getStartRadius_=function(){return this.closestConnection_&&this.localConnection_?e.CONNECTING_SNAP_RADIUS:e.SNAP_RADIUS},e.InsertionMarkerManager.prototype.shouldDelete_=function(t,n){return!(!n||!this.workspace_.getComponentManager().hasCapability(n.id,e.ComponentManager.Capability.DELETE_AREA))&&n.wouldDelete(this.topBlock_,t&&!!t.closest)},e.InsertionMarkerManager.prototype.maybeShowPreview_=function(e){if(!this.wouldDeleteBlock_){var t=e.closest;e=e.local,t&&(t==this.closestConnection_||t.getSourceBlock().isInsertionMarker()?console.log("Trying to connect to an insertion marker"):(this.closestConnection_=t,this.localConnection_=e,this.showPreview_()))}},e.InsertionMarkerManager.prototype.showPreview_=function(){var t=this.closestConnection_,n=this.workspace_.getRenderer();switch(n.getConnectionPreviewMethod(t,this.localConnection_,this.topBlock_)){case e.InsertionMarkerManager.PREVIEW_TYPE.INPUT_OUTLINE:this.showInsertionInputOutline_();break;case e.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER:this.showInsertionMarker_();break;case e.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:this.showReplacementFade_()}t&&n.shouldHighlightConnection(t)&&t.highlight()},e.InsertionMarkerManager.prototype.maybeHidePreview_=function(e){if(e.closest){var t=this.closestConnection_!=e.closest;e=this.localConnection_!=e.local,this.closestConnection_&&this.localConnection_&&(t||e||this.wouldDeleteBlock_)&&this.hidePreview_()}else this.hidePreview_();this.localConnection_=this.closestConnection_=this.markerConnection_=null},e.InsertionMarkerManager.prototype.hidePreview_=function(){this.closestConnection_&&this.closestConnection_.targetBlock()&&this.workspace_.getRenderer().shouldHighlightConnection(this.closestConnection_)&&this.closestConnection_.unhighlight(),this.fadedBlock_?this.hideReplacementFade_():this.highlightedBlock_?this.hideInsertionInputOutline_():this.markerConnection_&&this.hideInsertionMarker_()},e.InsertionMarkerManager.prototype.showInsertionMarker_=function(){var e=this.localConnection_,t=this.closestConnection_,n=this.lastOnStack_&&e==this.lastOnStack_?this.lastMarker_:this.firstMarker_;if((e=n.getMatchingConnection(e.getSourceBlock(),e))==this.markerConnection_)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");n.render(),n.rendered=!0,n.getSvgRoot().setAttribute("visibility","visible"),e&&t&&n.positionNearConnection(e,t),t&&e.connect(t),this.markerConnection_=e},e.InsertionMarkerManager.prototype.hideInsertionMarker_=function(){if(this.markerConnection_){var t=this.markerConnection_,n=t.getSourceBlock(),r=n.nextConnection,i=n.previousConnection,o=n.outputConnection;if(o=t.type==e.connectionTypes.INPUT_VALUE&&!(o&&o.targetConnection),!(t!=r||i&&i.targetConnection)||o?t.targetBlock().unplug(!1):t.type==e.connectionTypes.NEXT_STATEMENT&&t!=r?((r=t.targetConnection).getSourceBlock().unplug(!1),i=i?i.targetConnection:null,n.unplug(!0),i&&i.connect(r)):n.unplug(!0),t.targetConnection)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");this.markerConnection_=null,(t=n.getSvgRoot())&&t.setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")},e.InsertionMarkerManager.prototype.showInsertionInputOutline_=function(){var e=this.closestConnection_;this.highlightedBlock_=e.getSourceBlock(),this.highlightedBlock_.highlightShapeForInput(e,!0)},e.InsertionMarkerManager.prototype.hideInsertionInputOutline_=function(){this.highlightedBlock_.highlightShapeForInput(this.closestConnection_,!1),this.highlightedBlock_=null},e.InsertionMarkerManager.prototype.showReplacementFade_=function(){this.fadedBlock_=this.closestConnection_.targetBlock(),this.fadedBlock_.fadeForReplacement(!0)},e.InsertionMarkerManager.prototype.hideReplacementFade_=function(){this.fadedBlock_.fadeForReplacement(!1),this.fadedBlock_=null},e.InsertionMarkerManager.prototype.getInsertionMarkers=function(){var e=[];return this.firstMarker_&&e.push(this.firstMarker_),this.lastMarker_&&e.push(this.lastMarker_),e},e.BlockDragger=function(t,n){this.draggingBlock_=t,this.workspace_=n,this.draggedConnectionManager_=new e.InsertionMarkerManager(this.draggingBlock_),this.dragTarget_=null,this.wouldDeleteBlock_=!1,this.startXY_=this.draggingBlock_.getRelativeToSurfaceXY(),this.dragIconData_=e.BlockDragger.initIconData_(t)},e.BlockDragger.prototype.dispose=function(){this.dragIconData_.length=0,this.draggedConnectionManager_&&this.draggedConnectionManager_.dispose()},e.BlockDragger.initIconData_=function(e){var t=[];e=e.getDescendants(!1);for(var n,r=0;n=e[r];r++){n=n.getIcons();for(var i=0;i<n.length;i++){var o={location:n[i].getIconLocation(),icon:n[i]};t.push(o)}}return t},e.BlockDragger.prototype.startDrag=function(t,n){e.Events.getGroup()||e.Events.setGroup(!0),this.fireDragStartEvent_(),this.workspace_.isMutator&&this.draggingBlock_.bringToFront(),e.utils.dom.startTextWidthCache(),this.workspace_.setResizesEnabled(!1),e.blockAnimations.disconnectUiStop(),this.shouldDisconnect_(n)&&this.disconnectBlock_(n,t),this.draggingBlock_.setDragging(!0),this.draggingBlock_.moveToDragSurface()},e.BlockDragger.prototype.shouldDisconnect_=function(e){return!!(this.draggingBlock_.getParent()||e&&this.draggingBlock_.nextConnection&&this.draggingBlock_.nextConnection.targetBlock())},e.BlockDragger.prototype.disconnectBlock_=function(t,n){this.draggingBlock_.unplug(t),t=this.pixelsToWorkspaceUnits_(n),t=e.utils.Coordinate.sum(this.startXY_,t),this.draggingBlock_.translate(t.x,t.y),e.blockAnimations.disconnectUiEffect(this.draggingBlock_),this.draggedConnectionManager_.updateAvailableConnections()},e.BlockDragger.prototype.fireDragStartEvent_=function(){var t=new(e.Events.get(e.Events.BLOCK_DRAG))(this.draggingBlock_,!0,this.draggingBlock_.getDescendants(!1));e.Events.fire(t)},e.BlockDragger.prototype.drag=function(t,n){n=this.pixelsToWorkspaceUnits_(n);var r=e.utils.Coordinate.sum(this.startXY_,n);this.draggingBlock_.moveDuringDrag(r),this.dragIcons_(n),r=this.dragTarget_,this.dragTarget_=this.workspace_.getDragTarget(t),this.draggedConnectionManager_.update(n,this.dragTarget_),t=this.wouldDeleteBlock_,this.wouldDeleteBlock_=this.draggedConnectionManager_.wouldDeleteBlock(),t!=this.wouldDeleteBlock_&&this.updateCursorDuringBlockDrag_(),this.dragTarget_!==r&&(r&&r.onDragExit(this.draggingBlock_),this.dragTarget_&&this.dragTarget_.onDragEnter(this.draggingBlock_)),this.dragTarget_&&this.dragTarget_.onDragOver(this.draggingBlock_)},e.BlockDragger.prototype.endDrag=function(t,n){if(this.drag(t,n),this.dragIconData_=[],this.fireDragEndEvent_(),e.utils.dom.stopTextWidthCache(),e.blockAnimations.disconnectUiStop(),this.dragTarget_&&this.dragTarget_.shouldPreventMove(this.draggingBlock_))t=this.startXY_;else{var r=(t=this.getNewLocationAfterDrag_(n)).delta;t=t.newLocation}this.draggingBlock_.moveOffDragSurface(t),this.dragTarget_&&this.dragTarget_.onDrop(this.draggingBlock_),this.maybeDeleteBlock_()||(this.draggingBlock_.setDragging(!1),r?this.updateBlockAfterMove_(r):e.bumpObjectIntoBounds_(this.draggingBlock_.workspace,this.workspace_.getMetricsManager().getScrollMetrics(!0),this.draggingBlock_)),this.workspace_.setResizesEnabled(!0),e.Events.setGroup(!1)},e.BlockDragger.prototype.getNewLocationAfterDrag_=function(t){var n={};return n.delta=this.pixelsToWorkspaceUnits_(t),n.newLocation=e.utils.Coordinate.sum(this.startXY_,n.delta),n},e.BlockDragger.prototype.maybeDeleteBlock_=function(){return!!this.wouldDeleteBlock_&&(this.fireMoveEvent_(),this.draggingBlock_.dispose(!1,!0),e.draggingConnections=[],!0)},e.BlockDragger.prototype.updateBlockAfterMove_=function(e){this.draggingBlock_.moveConnections(e.x,e.y),this.fireMoveEvent_(),this.draggedConnectionManager_.wouldConnectBlock()?this.draggedConnectionManager_.applyConnections():this.draggingBlock_.render(),this.draggingBlock_.scheduleSnapAndBump()},e.BlockDragger.prototype.fireDragEndEvent_=function(){var t=new(e.Events.get(e.Events.BLOCK_DRAG))(this.draggingBlock_,!1,this.draggingBlock_.getDescendants(!1));e.Events.fire(t)},e.BlockDragger.prototype.updateToolboxStyle_=function(e){var t=this.workspace_.getToolbox();if(t){var n=this.draggingBlock_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab";e&&"function"==typeof t.removeStyle?t.removeStyle(n):e||"function"!=typeof t.addStyle||t.addStyle(n)}},e.BlockDragger.prototype.fireMoveEvent_=function(){var t=new(e.Events.get(e.Events.BLOCK_MOVE))(this.draggingBlock_);t.oldCoordinate=this.startXY_,t.recordNew(),e.Events.fire(t)},e.BlockDragger.prototype.updateCursorDuringBlockDrag_=function(){this.draggingBlock_.setDeleteStyle(this.wouldDeleteBlock_)},e.BlockDragger.prototype.pixelsToWorkspaceUnits_=function(t){return t=new e.utils.Coordinate(t.x/this.workspace_.scale,t.y/this.workspace_.scale),this.workspace_.isMutator&&t.scale(1/this.workspace_.options.parentWorkspace.scale),t},e.BlockDragger.prototype.dragIcons_=function(t){for(var n=0;n<this.dragIconData_.length;n++){var r=this.dragIconData_[n];r.icon.setIconLocation(e.utils.Coordinate.sum(r.location,t))}},e.BlockDragger.prototype.getInsertionMarkers=function(){return this.draggedConnectionManager_&&this.draggedConnectionManager_.getInsertionMarkers?this.draggedConnectionManager_.getInsertionMarkers():[]},e.registry.register(e.registry.Type.BLOCK_DRAGGER,e.registry.DEFAULT,e.BlockDragger),e.IContextMenu=function(){},e.IDraggable=function(){},e.IBubble=function(){},e.Bubble=function(t,n,r,i,o,s){this.workspace_=t,this.content_=n,this.shape_=r,this.onMouseDownResizeWrapper_=this.onMouseDownBubbleWrapper_=this.moveCallback_=this.resizeCallback_=null,this.disposed=!1,r=e.Bubble.ARROW_ANGLE,this.workspace_.RTL&&(r=-r),this.arrow_radians_=e.utils.math.toRadians(r),t.getBubbleCanvas().appendChild(this.createDom_(n,!(!o||!s))),this.setAnchorLocation(i),o&&s||(o=(t=this.content_.getBBox()).width+2*e.Bubble.BORDER_WIDTH,s=t.height+2*e.Bubble.BORDER_WIDTH),this.setBubbleSize(o,s),this.positionBubble_(),this.renderArrow_(),this.rendered_=!0},e.Bubble.BORDER_WIDTH=6,e.Bubble.ARROW_THICKNESS=5,e.Bubble.ARROW_ANGLE=20,e.Bubble.ARROW_BEND=4,e.Bubble.ANCHOR_RADIUS=8,e.Bubble.onMouseUpWrapper_=null,e.Bubble.onMouseMoveWrapper_=null,e.Bubble.unbindDragEvents_=function(){e.Bubble.onMouseUpWrapper_&&(e.browserEvents.unbind(e.Bubble.onMouseUpWrapper_),e.Bubble.onMouseUpWrapper_=null),e.Bubble.onMouseMoveWrapper_&&(e.browserEvents.unbind(e.Bubble.onMouseMoveWrapper_),e.Bubble.onMouseMoveWrapper_=null)},e.Bubble.bubbleMouseUp_=function(t){e.Touch.clearTouchIdentifier(),e.Bubble.unbindDragEvents_()},e.Bubble.prototype.rendered_=!1,e.Bubble.prototype.anchorXY_=null,e.Bubble.prototype.relativeLeft_=0,e.Bubble.prototype.relativeTop_=0,e.Bubble.prototype.width_=0,e.Bubble.prototype.height_=0,e.Bubble.prototype.autoLayout_=!0,e.Bubble.prototype.createDom_=function(t,n){this.bubbleGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{},null);var r={filter:"url(#"+this.workspace_.getRenderer().getConstants().embossFilterId+")"};return e.utils.userAgent.JAVA_FX&&(r={}),r=e.utils.dom.createSvgElement(e.utils.Svg.G,r,this.bubbleGroup_),this.bubbleArrow_=e.utils.dom.createSvgElement(e.utils.Svg.PATH,{},r),this.bubbleBack_=e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"blocklyDraggable",x:0,y:0,rx:e.Bubble.BORDER_WIDTH,ry:e.Bubble.BORDER_WIDTH},r),n?(this.resizeGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{class:this.workspace_.RTL?"blocklyResizeSW":"blocklyResizeSE"},this.bubbleGroup_),n=2*e.Bubble.BORDER_WIDTH,e.utils.dom.createSvgElement(e.utils.Svg.POLYGON,{points:"0,x x,x x,0".replace(/x/g,n.toString())},this.resizeGroup_),e.utils.dom.createSvgElement(e.utils.Svg.LINE,{class:"blocklyResizeLine",x1:n/3,y1:n-1,x2:n-1,y2:n/3},this.resizeGroup_),e.utils.dom.createSvgElement(e.utils.Svg.LINE,{class:"blocklyResizeLine",x1:2*n/3,y1:n-1,x2:n-1,y2:2*n/3},this.resizeGroup_)):this.resizeGroup_=null,this.workspace_.options.readOnly||(this.onMouseDownBubbleWrapper_=e.browserEvents.conditionalBind(this.bubbleBack_,"mousedown",this,this.bubbleMouseDown_),this.resizeGroup_&&(this.onMouseDownResizeWrapper_=e.browserEvents.conditionalBind(this.resizeGroup_,"mousedown",this,this.resizeMouseDown_))),this.bubbleGroup_.appendChild(t),this.bubbleGroup_},e.Bubble.prototype.getSvgRoot=function(){return this.bubbleGroup_},e.Bubble.prototype.setSvgId=function(e){this.bubbleGroup_.dataset&&(this.bubbleGroup_.dataset.blockId=e)},e.Bubble.prototype.bubbleMouseDown_=function(e){var t=this.workspace_.getGesture(e);t&&t.handleBubbleStart(e,this)},e.Bubble.prototype.showContextMenu=function(e){},e.Bubble.prototype.isDeletable=function(){return!1},e.Bubble.prototype.setDeleteStyle=function(e){},e.Bubble.prototype.resizeMouseDown_=function(t){this.promote(),e.Bubble.unbindDragEvents_(),e.utils.isRightButton(t)||(this.workspace_.startDrag(t,new e.utils.Coordinate(this.workspace_.RTL?-this.width_:this.width_,this.height_)),e.Bubble.onMouseUpWrapper_=e.browserEvents.conditionalBind(document,"mouseup",this,e.Bubble.bubbleMouseUp_),e.Bubble.onMouseMoveWrapper_=e.browserEvents.conditionalBind(document,"mousemove",this,this.resizeMouseMove_),e.hideChaff()),t.stopPropagation()},e.Bubble.prototype.resizeMouseMove_=function(e){this.autoLayout_=!1,e=this.workspace_.moveDrag(e),this.setBubbleSize(this.workspace_.RTL?-e.x:e.x,e.y),this.workspace_.RTL&&this.positionBubble_()},e.Bubble.prototype.registerResizeEvent=function(e){this.resizeCallback_=e},e.Bubble.prototype.registerMoveEvent=function(e){this.moveCallback_=e},e.Bubble.prototype.promote=function(){var e=this.bubbleGroup_.parentNode;return e.lastChild!==this.bubbleGroup_&&(e.appendChild(this.bubbleGroup_),!0)},e.Bubble.prototype.setAnchorLocation=function(e){this.anchorXY_=e,this.rendered_&&this.positionBubble_()},e.Bubble.prototype.layoutBubble_=function(){var e=this.workspace_.getMetricsManager().getViewMetrics(!0),t=this.getOptimalRelativeLeft_(e),n=this.getOptimalRelativeTop_(e),r=this.shape_.getBBox(),i={x:t,y:-this.height_-this.workspace_.getRenderer().getConstants().MIN_BLOCK_HEIGHT},o={x:-this.width_-30,y:n};n={x:r.width,y:n};var s={x:t,y:r.height};t=r.width<r.height?n:s,r=r.width<r.height?s:n,n=this.getOverlap_(i,e),s=this.getOverlap_(o,e);var a=this.getOverlap_(t,e);e=this.getOverlap_(r,e),n==(e=Math.max(n,s,a,e))?(this.relativeLeft_=i.x,this.relativeTop_=i.y):s==e?(this.relativeLeft_=o.x,this.relativeTop_=o.y):a==e?(this.relativeLeft_=t.x,this.relativeTop_=t.y):(this.relativeLeft_=r.x,this.relativeTop_=r.y)},e.Bubble.prototype.getOverlap_=function(e,t){var n=this.workspace_.RTL?this.anchorXY_.x-e.x-this.width_:e.x+this.anchorXY_.x;return e=e.y+this.anchorXY_.y,Math.max(0,Math.min(1,(Math.min(n+this.width_,t.left+t.width)-Math.max(n,t.left))*(Math.min(e+this.height_,t.top+t.height)-Math.max(e,t.top))/(this.width_*this.height_)))},e.Bubble.prototype.getOptimalRelativeLeft_=function(t){var n=-this.width_/4;if(this.width_>t.width)return n;if(this.workspace_.RTL)var r=this.anchorXY_.x-n,i=r-this.width_,o=t.left+t.width,s=t.left+e.Scrollbar.scrollbarThickness/this.workspace_.scale;else r=(i=n+this.anchorXY_.x)+this.width_,s=t.left,o=t.left+t.width-e.Scrollbar.scrollbarThickness/this.workspace_.scale;return this.workspace_.RTL?i<s?n=-(s-this.anchorXY_.x+this.width_):r>o&&(n=-(o-this.anchorXY_.x)):i<s?n=s-this.anchorXY_.x:r>o&&(n=o-this.anchorXY_.x-this.width_),n},e.Bubble.prototype.getOptimalRelativeTop_=function(t){var n=-this.height_/4;if(this.height_>t.height)return n;var r=this.anchorXY_.y+n,i=r+this.height_,o=t.top;t=t.top+t.height-e.Scrollbar.scrollbarThickness/this.workspace_.scale;var s=this.anchorXY_.y;return r<o?n=o-s:i>t&&(n=t-s-this.height_),n},e.Bubble.prototype.positionBubble_=function(){var e=this.anchorXY_.x;e=this.workspace_.RTL?e-(this.relativeLeft_+this.width_):e+this.relativeLeft_,this.moveTo(e,this.relativeTop_+this.anchorXY_.y)},e.Bubble.prototype.moveTo=function(e,t){this.bubbleGroup_.setAttribute("transform","translate("+e+","+t+")")},e.Bubble.prototype.setDragging=function(e){!e&&this.moveCallback_&&this.moveCallback_()},e.Bubble.prototype.getBubbleSize=function(){return new e.utils.Size(this.width_,this.height_)},e.Bubble.prototype.setBubbleSize=function(t,n){var r=2*e.Bubble.BORDER_WIDTH;t=Math.max(t,r+45),n=Math.max(n,r+20),this.width_=t,this.height_=n,this.bubbleBack_.setAttribute("width",t),this.bubbleBack_.setAttribute("height",n),this.resizeGroup_&&(this.workspace_.RTL?this.resizeGroup_.setAttribute("transform","translate("+2*e.Bubble.BORDER_WIDTH+","+(n-r)+") scale(-1 1)"):this.resizeGroup_.setAttribute("transform","translate("+(t-r)+","+(n-r)+")")),this.autoLayout_&&this.layoutBubble_(),this.positionBubble_(),this.renderArrow_(),this.resizeCallback_&&this.resizeCallback_()},e.Bubble.prototype.renderArrow_=function(){var t=[],n=this.width_/2,r=this.height_/2,i=-this.relativeLeft_,o=-this.relativeTop_;if(n==i&&r==o)t.push("M "+n+","+r);else{o-=r,i-=n,this.workspace_.RTL&&(i*=-1);var s=Math.sqrt(o*o+i*i),a=Math.acos(i/s);0>o&&(a=2*Math.PI-a);var l=a+Math.PI/2;l>2*Math.PI&&(l-=2*Math.PI);var c=Math.sin(l),u=Math.cos(l),h=this.getBubbleSize();l=(h.width+h.height)/e.Bubble.ARROW_THICKNESS,l=Math.min(l,h.width,h.height)/4,i=n+(h=1-e.Bubble.ANCHOR_RADIUS/s)*i,o=r+h*o,h=n+l*u;var p=r+l*c;n-=l*u,r-=l*c,(c=a+this.arrow_radians_)>2*Math.PI&&(c-=2*Math.PI),a=Math.sin(c)*s/e.Bubble.ARROW_BEND,s=Math.cos(c)*s/e.Bubble.ARROW_BEND,t.push("M"+h+","+p),t.push("C"+(h+s)+","+(p+a)+" "+i+","+o+" "+i+","+o),t.push("C"+i+","+o+" "+(n+s)+","+(r+a)+" "+n+","+r)}t.push("z"),this.bubbleArrow_.setAttribute("d",t.join(" "))},e.Bubble.prototype.setColour=function(e){this.bubbleBack_.setAttribute("fill",e),this.bubbleArrow_.setAttribute("fill",e)},e.Bubble.prototype.dispose=function(){this.onMouseDownBubbleWrapper_&&e.browserEvents.unbind(this.onMouseDownBubbleWrapper_),this.onMouseDownResizeWrapper_&&e.browserEvents.unbind(this.onMouseDownResizeWrapper_),e.Bubble.unbindDragEvents_(),e.utils.dom.removeNode(this.bubbleGroup_),this.disposed=!0},e.Bubble.prototype.moveDuringDrag=function(e,t){e?e.translateSurface(t.x,t.y):this.moveTo(t.x,t.y),this.relativeLeft_=this.workspace_.RTL?this.anchorXY_.x-t.x-this.width_:t.x-this.anchorXY_.x,this.relativeTop_=t.y-this.anchorXY_.y,this.renderArrow_()},e.Bubble.prototype.getRelativeToSurfaceXY=function(){return new e.utils.Coordinate(this.workspace_.RTL?-this.relativeLeft_+this.anchorXY_.x-this.width_:this.anchorXY_.x+this.relativeLeft_,this.anchorXY_.y+this.relativeTop_)},e.Bubble.prototype.setAutoLayout=function(e){this.autoLayout_=e},e.Bubble.textToDom=function(t){var n=e.utils.dom.createSvgElement(e.utils.Svg.TEXT,{class:"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:e.Bubble.BORDER_WIDTH},null);t=t.split("\n");for(var r=0;r<t.length;r++){var i=e.utils.dom.createSvgElement(e.utils.Svg.TSPAN,{dy:"1em",x:e.Bubble.BORDER_WIDTH},n),o=document.createTextNode(t[r]);i.appendChild(o)}return n},e.Bubble.createNonEditableBubble=function(t,n,r){if((r=new e.Bubble(n.workspace,t,n.pathObject.svgPath,r,null,null)).setSvgId(n.id),n.RTL){n=t.getBBox().width;for(var i,o=0;i=t.childNodes[o];o++)i.setAttribute("text-anchor","end"),i.setAttribute("x",n+e.Bubble.BORDER_WIDTH)}return r},e.Events.CommentBase=function(t){this.commentId=(this.isBlank="undefined"==typeof t)?"":t.id,this.workspaceId=this.isBlank?"":t.workspace.id,this.group=e.Events.getGroup(),this.recordUndo=e.Events.recordUndo},e.utils.object.inherits(e.Events.CommentBase,e.Events.Abstract),e.Events.CommentBase.prototype.toJson=function(){var t=e.Events.CommentBase.superClass_.toJson.call(this);return this.commentId&&(t.commentId=this.commentId),t},e.Events.CommentBase.prototype.fromJson=function(t){e.Events.CommentBase.superClass_.fromJson.call(this,t),this.commentId=t.commentId},e.Events.CommentChange=function(t,n,r){e.Events.CommentChange.superClass_.constructor.call(this,t),t&&(this.oldContents_="undefined"==typeof n?"":n,this.newContents_="undefined"==typeof r?"":r)},e.utils.object.inherits(e.Events.CommentChange,e.Events.CommentBase),e.Events.CommentChange.prototype.type=e.Events.COMMENT_CHANGE,e.Events.CommentChange.prototype.toJson=function(){var t=e.Events.CommentChange.superClass_.toJson.call(this);return t.oldContents=this.oldContents_,t.newContents=this.newContents_,t},e.Events.CommentChange.prototype.fromJson=function(t){e.Events.CommentChange.superClass_.fromJson.call(this,t),this.oldContents_=t.oldContents,this.newContents_=t.newContents},e.Events.CommentChange.prototype.isNull=function(){return this.oldContents_==this.newContents_},e.Events.CommentChange.prototype.run=function(e){var t=this.getEventWorkspace_().getCommentById(this.commentId);t?t.setContent(e?this.newContents_:this.oldContents_):console.warn("Can't change non-existent comment: "+this.commentId)},e.Events.CommentCreate=function(t){e.Events.CommentCreate.superClass_.constructor.call(this,t),t&&(this.xml=t.toXmlWithXY())},e.utils.object.inherits(e.Events.CommentCreate,e.Events.CommentBase),e.Events.CommentCreate.prototype.type=e.Events.COMMENT_CREATE,e.Events.CommentCreate.prototype.toJson=function(){var t=e.Events.CommentCreate.superClass_.toJson.call(this);return t.xml=e.Xml.domToText(this.xml),t},e.Events.CommentCreate.prototype.fromJson=function(t){e.Events.CommentCreate.superClass_.fromJson.call(this,t),this.xml=e.Xml.textToDom(t.xml)},e.Events.CommentCreate.prototype.run=function(t){e.Events.CommentCreateDeleteHelper(this,t)},e.Events.CommentCreateDeleteHelper=function(t,n){var r=t.getEventWorkspace_();n?((n=e.utils.xml.createElement("xml")).appendChild(t.xml),e.Xml.domToWorkspace(n,r)):(r=r.getCommentById(t.commentId))?r.dispose(!1,!1):console.warn("Can't uncreate non-existent comment: "+t.commentId)},e.Events.CommentDelete=function(t){e.Events.CommentDelete.superClass_.constructor.call(this,t),t&&(this.xml=t.toXmlWithXY())},e.utils.object.inherits(e.Events.CommentDelete,e.Events.CommentBase),e.Events.CommentDelete.prototype.type=e.Events.COMMENT_DELETE,e.Events.CommentDelete.prototype.toJson=function(){return e.Events.CommentDelete.superClass_.toJson.call(this)},e.Events.CommentDelete.prototype.fromJson=function(t){e.Events.CommentDelete.superClass_.fromJson.call(this,t)},e.Events.CommentDelete.prototype.run=function(t){e.Events.CommentCreateDeleteHelper(this,!t)},e.Events.CommentMove=function(t){e.Events.CommentMove.superClass_.constructor.call(this,t),t&&(this.comment_=t,this.oldCoordinate_=t.getXY(),this.newCoordinate_=null)},e.utils.object.inherits(e.Events.CommentMove,e.Events.CommentBase),e.Events.CommentMove.prototype.recordNew=function(){if(!this.comment_)throw Error("Tried to record the new position of a comment on the same event twice.");this.newCoordinate_=this.comment_.getXY(),this.comment_=null},e.Events.CommentMove.prototype.type=e.Events.COMMENT_MOVE,e.Events.CommentMove.prototype.setOldCoordinate=function(e){this.oldCoordinate_=e},e.Events.CommentMove.prototype.toJson=function(){var t=e.Events.CommentMove.superClass_.toJson.call(this);return this.oldCoordinate_&&(t.oldCoordinate=Math.round(this.oldCoordinate_.x)+","+Math.round(this.oldCoordinate_.y)),this.newCoordinate_&&(t.newCoordinate=Math.round(this.newCoordinate_.x)+","+Math.round(this.newCoordinate_.y)),t},e.Events.CommentMove.prototype.fromJson=function(t){if(e.Events.CommentMove.superClass_.fromJson.call(this,t),t.oldCoordinate){var n=t.oldCoordinate.split(",");this.oldCoordinate_=new e.utils.Coordinate(Number(n[0]),Number(n[1]))}t.newCoordinate&&(n=t.newCoordinate.split(","),this.newCoordinate_=new e.utils.Coordinate(Number(n[0]),Number(n[1])))},e.Events.CommentMove.prototype.isNull=function(){return e.utils.Coordinate.equals(this.oldCoordinate_,this.newCoordinate_)},e.Events.CommentMove.prototype.run=function(e){var t=this.getEventWorkspace_().getCommentById(this.commentId);if(t){e=e?this.newCoordinate_:this.oldCoordinate_;var n=t.getXY();t.moveBy(e.x-n.x,e.y-n.y)}else console.warn("Can't move non-existent comment: "+this.commentId)},e.registry.register(e.registry.Type.EVENT,e.Events.COMMENT_CREATE,e.Events.CommentCreate),e.registry.register(e.registry.Type.EVENT,e.Events.COMMENT_CHANGE,e.Events.CommentChange),e.registry.register(e.registry.Type.EVENT,e.Events.COMMENT_MOVE,e.Events.CommentMove),e.registry.register(e.registry.Type.EVENT,e.Events.COMMENT_DELETE,e.Events.CommentDelete),e.BubbleDragger=function(t,n){this.draggingBubble_=t,this.workspace_=n,this.dragTarget_=null,this.wouldDeleteBubble_=!1,this.startXY_=this.draggingBubble_.getRelativeToSurfaceXY(),this.dragSurface_=e.utils.is3dSupported()&&n.getBlockDragSurface()?n.getBlockDragSurface():null},e.BubbleDragger.prototype.dispose=function(){this.dragSurface_=this.workspace_=this.draggingBubble_=null},e.BubbleDragger.prototype.startBubbleDrag=function(){e.Events.getGroup()||e.Events.setGroup(!0),this.workspace_.setResizesEnabled(!1),this.draggingBubble_.setAutoLayout(!1),this.dragSurface_&&this.moveToDragSurface_(),this.draggingBubble_.setDragging&&this.draggingBubble_.setDragging(!0)},e.BubbleDragger.prototype.dragBubble=function(t,n){n=this.pixelsToWorkspaceUnits_(n),n=e.utils.Coordinate.sum(this.startXY_,n),this.draggingBubble_.moveDuringDrag(this.dragSurface_,n),n=this.dragTarget_,this.dragTarget_=this.workspace_.getDragTarget(t),t=this.wouldDeleteBubble_,this.wouldDeleteBubble_=this.shouldDelete_(this.dragTarget_),t!=this.wouldDeleteBubble_&&this.updateCursorDuringBubbleDrag_(),this.dragTarget_!==n&&(n&&n.onDragExit(this.draggingBubble_),this.dragTarget_&&this.dragTarget_.onDragEnter(this.draggingBubble_)),this.dragTarget_&&this.dragTarget_.onDragOver(this.draggingBubble_)},e.BubbleDragger.prototype.shouldDelete_=function(t){return!(!t||!this.workspace_.getComponentManager().hasCapability(t.id,e.ComponentManager.Capability.DELETE_AREA))&&t.wouldDelete(this.draggingBubble_,!1)},e.BubbleDragger.prototype.updateCursorDuringBubbleDrag_=function(){this.draggingBubble_.setDeleteStyle(this.wouldDeleteBubble_)},e.BubbleDragger.prototype.endBubbleDrag=function(t,n){this.dragBubble(t,n),this.dragTarget_&&this.dragTarget_.shouldPreventMove(this.draggingBubble_)?t=this.startXY_:(t=this.pixelsToWorkspaceUnits_(n),t=e.utils.Coordinate.sum(this.startXY_,t)),this.draggingBubble_.moveTo(t.x,t.y),this.dragTarget_&&this.dragTarget_.onDrop(this.draggingBubble_),this.wouldDeleteBubble_?(this.fireMoveEvent_(),this.draggingBubble_.dispose(!1,!0)):(this.dragSurface_&&this.dragSurface_.clearAndHide(this.workspace_.getBubbleCanvas()),this.draggingBubble_.setDragging&&this.draggingBubble_.setDragging(!1),this.fireMoveEvent_()),this.workspace_.setResizesEnabled(!0),e.Events.setGroup(!1)},e.BubbleDragger.prototype.fireMoveEvent_=function(){if(this.draggingBubble_.isComment){var t=new(e.Events.get(e.Events.COMMENT_MOVE))(this.draggingBubble_);t.setOldCoordinate(this.startXY_),t.recordNew(),e.Events.fire(t)}},e.BubbleDragger.prototype.pixelsToWorkspaceUnits_=function(t){return t=new e.utils.Coordinate(t.x/this.workspace_.scale,t.y/this.workspace_.scale),this.workspace_.isMutator&&t.scale(1/this.workspace_.options.parentWorkspace.scale),t},e.BubbleDragger.prototype.moveToDragSurface_=function(){this.draggingBubble_.moveTo(0,0),this.dragSurface_.translateSurface(this.startXY_.x,this.startXY_.y),this.dragSurface_.setBlocksAndShow(this.draggingBubble_.getSvgRoot())},e.Events.Click=function(t,n,r){e.Events.Click.superClass_.constructor.call(this,t?t.workspace.id:n),this.blockId=t?t.id:null,this.targetType=r},e.utils.object.inherits(e.Events.Click,e.Events.UiBase),e.Events.Click.prototype.type=e.Events.CLICK,e.Events.Click.prototype.toJson=function(){var t=e.Events.Click.superClass_.toJson.call(this);return t.targetType=this.targetType,this.blockId&&(t.blockId=this.blockId),t},e.Events.Click.prototype.fromJson=function(t){e.Events.Click.superClass_.fromJson.call(this,t),this.targetType=t.targetType,this.blockId=t.blockId},e.registry.register(e.registry.Type.EVENT,e.Events.CLICK,e.Events.Click),e.WorkspaceDragger=function(t){this.workspace_=t,this.horizontalScrollEnabled_=this.workspace_.isMovableHorizontally(),this.verticalScrollEnabled_=this.workspace_.isMovableVertically(),this.startScrollXY_=new e.utils.Coordinate(t.scrollX,t.scrollY)},e.WorkspaceDragger.prototype.dispose=function(){this.workspace_=null},e.WorkspaceDragger.prototype.startDrag=function(){e.selected&&e.selected.unselect(),this.workspace_.setupDragSurface()},e.WorkspaceDragger.prototype.endDrag=function(e){this.drag(e),this.workspace_.resetDragSurface()},e.WorkspaceDragger.prototype.drag=function(t){if(t=e.utils.Coordinate.sum(this.startScrollXY_,t),this.horizontalScrollEnabled_&&this.verticalScrollEnabled_)this.workspace_.scroll(t.x,t.y);else if(this.horizontalScrollEnabled_)this.workspace_.scroll(t.x,this.workspace_.scrollY);else{if(!this.verticalScrollEnabled_)throw new TypeError("Invalid state.");this.workspace_.scroll(this.workspace_.scrollX,t.y)}},e.Gesture=function(t,n){this.mouseDownXY_=null,this.currentDragDeltaXY_=new e.utils.Coordinate(0,0),this.startWorkspace_=this.targetBlock_=this.startBlock_=this.startField_=this.startBubble_=null,this.creatorWorkspace_=n,this.isDraggingBubble_=this.isDraggingBlock_=this.isDraggingWorkspace_=this.hasExceededDragRadius_=!1,this.mostRecentEvent_=t,this.flyout_=this.workspaceDragger_=this.blockDragger_=this.bubbleDragger_=this.onUpWrapper_=this.onMoveWrapper_=null,this.isEnding_=this.hasStarted_=this.calledUpdateIsDragging_=!1,this.healStack_=!e.DRAG_STACK},e.Gesture.prototype.dispose=function(){e.Touch.clearTouchIdentifier(),e.Tooltip.unblock(),this.creatorWorkspace_.clearGesture(),this.onMoveWrapper_&&e.browserEvents.unbind(this.onMoveWrapper_),this.onUpWrapper_&&e.browserEvents.unbind(this.onUpWrapper_),this.blockDragger_&&this.blockDragger_.dispose(),this.workspaceDragger_&&this.workspaceDragger_.dispose(),this.bubbleDragger_&&this.bubbleDragger_.dispose()},e.Gesture.prototype.updateFromEvent_=function(t){var n=new e.utils.Coordinate(t.clientX,t.clientY);this.updateDragDelta_(n)&&(this.updateIsDragging_(),e.longStop_()),this.mostRecentEvent_=t},e.Gesture.prototype.updateDragDelta_=function(t){return this.currentDragDeltaXY_=e.utils.Coordinate.difference(t,this.mouseDownXY_),!this.hasExceededDragRadius_&&(this.hasExceededDragRadius_=e.utils.Coordinate.magnitude(this.currentDragDeltaXY_)>(this.flyout_?e.FLYOUT_DRAG_RADIUS:e.DRAG_RADIUS))},e.Gesture.prototype.updateIsDraggingFromFlyout_=function(){return!(!this.targetBlock_||!this.flyout_.isBlockCreatable_(this.targetBlock_))&&!(this.flyout_.isScrollable()&&!this.flyout_.isDragTowardWorkspace(this.currentDragDeltaXY_))&&(this.startWorkspace_=this.flyout_.targetWorkspace,this.startWorkspace_.updateScreenCalculationsIfScrolled(),e.Events.getGroup()||e.Events.setGroup(!0),this.startBlock_=null,this.targetBlock_=this.flyout_.createBlock(this.targetBlock_),this.targetBlock_.select(),!0)},e.Gesture.prototype.updateIsDraggingBubble_=function(){return!!this.startBubble_&&(this.isDraggingBubble_=!0,this.startDraggingBubble_(),!0)},e.Gesture.prototype.updateIsDraggingBlock_=function(){return!!this.targetBlock_&&(this.flyout_?this.isDraggingBlock_=this.updateIsDraggingFromFlyout_():this.targetBlock_.isMovable()&&(this.isDraggingBlock_=!0),!!this.isDraggingBlock_&&(this.startDraggingBlock_(),!0))},e.Gesture.prototype.updateIsDraggingWorkspace_=function(){(this.flyout_?this.flyout_.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())&&(this.workspaceDragger_=new e.WorkspaceDragger(this.startWorkspace_),this.isDraggingWorkspace_=!0,this.workspaceDragger_.startDrag())},e.Gesture.prototype.updateIsDragging_=function(){if(this.calledUpdateIsDragging_)throw Error("updateIsDragging_ should only be called once per gesture.");this.calledUpdateIsDragging_=!0,this.updateIsDraggingBubble_()||this.updateIsDraggingBlock_()||this.updateIsDraggingWorkspace_()},e.Gesture.prototype.startDraggingBlock_=function(){this.blockDragger_=new(e.registry.getClassFromOptions(e.registry.Type.BLOCK_DRAGGER,this.creatorWorkspace_.options,!0))(this.targetBlock_,this.startWorkspace_),this.blockDragger_.startDrag(this.currentDragDeltaXY_,this.healStack_),this.blockDragger_.drag(this.mostRecentEvent_,this.currentDragDeltaXY_)},e.Gesture.prototype.startDraggingBubble_=function(){this.bubbleDragger_=new e.BubbleDragger(this.startBubble_,this.startWorkspace_),this.bubbleDragger_.startBubbleDrag(),this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_)},e.Gesture.prototype.doStart=function(t){e.utils.isTargetInput(t)?this.cancel():(this.hasStarted_=!0,e.blockAnimations.disconnectUiStop(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),e.hideChaff(!!this.flyout_),this.startWorkspace_.markFocused(),this.mostRecentEvent_=t,e.Tooltip.block(),this.targetBlock_&&this.targetBlock_.select(),e.utils.isRightButton(t)?this.handleRightClick(t):("touchstart"!=t.type.toLowerCase()&&"pointerdown"!=t.type.toLowerCase()||"mouse"==t.pointerType||e.longStart(t,this),this.mouseDownXY_=new e.utils.Coordinate(t.clientX,t.clientY),this.healStack_=t.altKey||t.ctrlKey||t.metaKey,this.bindMouseEvents(t)))},e.Gesture.prototype.bindMouseEvents=function(t){this.onMoveWrapper_=e.browserEvents.conditionalBind(document,"mousemove",null,this.handleMove.bind(this)),this.onUpWrapper_=e.browserEvents.conditionalBind(document,"mouseup",null,this.handleUp.bind(this)),t.preventDefault(),t.stopPropagation()},e.Gesture.prototype.handleMove=function(e){this.updateFromEvent_(e),this.isDraggingWorkspace_?this.workspaceDragger_.drag(this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.drag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingBubble_&&this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_),e.preventDefault(),e.stopPropagation()},e.Gesture.prototype.handleUp=function(t){this.updateFromEvent_(t),e.longStop_(),this.isEnding_?console.log("Trying to end a gesture recursively."):(this.isEnding_=!0,this.isDraggingBubble_?this.bubbleDragger_.endBubbleDrag(t,this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.endDrag(t,this.currentDragDeltaXY_):this.isDraggingWorkspace_?this.workspaceDragger_.endDrag(this.currentDragDeltaXY_):this.isBubbleClick_()?this.doBubbleClick_():this.isFieldClick_()?this.doFieldClick_():this.isBlockClick_()?this.doBlockClick_():this.isWorkspaceClick_()&&this.doWorkspaceClick_(t),t.preventDefault(),t.stopPropagation(),this.dispose())},e.Gesture.prototype.cancel=function(){this.isEnding_||(e.longStop_(),this.isDraggingBubble_?this.bubbleDragger_.endBubbleDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.endDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingWorkspace_&&this.workspaceDragger_.endDrag(this.currentDragDeltaXY_),this.dispose())},e.Gesture.prototype.handleRightClick=function(t){this.targetBlock_?(this.bringBlockToFront_(),e.hideChaff(!!this.flyout_),this.targetBlock_.showContextMenu(t)):this.startBubble_?this.startBubble_.showContextMenu(t):this.startWorkspace_&&!this.flyout_&&(e.hideChaff(),this.startWorkspace_.showContextMenu(t)),t.preventDefault(),t.stopPropagation(),this.dispose()},e.Gesture.prototype.handleWsStart=function(e,t){if(this.hasStarted_)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");this.setStartWorkspace_(t),this.mostRecentEvent_=e,this.doStart(e)},e.Gesture.prototype.fireWorkspaceClick_=function(t){e.Events.fire(new(e.Events.get(e.Events.CLICK))(null,t.id,"workspace"))},e.Gesture.prototype.handleFlyoutStart=function(e,t){if(this.hasStarted_)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");this.setStartFlyout_(t),this.handleWsStart(e,t.getWorkspace())},e.Gesture.prototype.handleBlockStart=function(e,t){if(this.hasStarted_)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");this.setStartBlock(t),this.mostRecentEvent_=e},e.Gesture.prototype.handleBubbleStart=function(e,t){if(this.hasStarted_)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");this.setStartBubble(t),this.mostRecentEvent_=e},e.Gesture.prototype.doBubbleClick_=function(){this.startBubble_.setFocus&&this.startBubble_.setFocus(),this.startBubble_.select&&this.startBubble_.select()},e.Gesture.prototype.doFieldClick_=function(){this.startField_.showEditor(this.mostRecentEvent_),this.bringBlockToFront_()},e.Gesture.prototype.doBlockClick_=function(){if(this.flyout_&&this.flyout_.autoClose)this.targetBlock_.isEnabled()&&(e.Events.getGroup()||e.Events.setGroup(!0),this.flyout_.createBlock(this.targetBlock_).scheduleSnapAndBump());else{var t=new(e.Events.get(e.Events.CLICK))(this.startBlock_,this.startWorkspace_.id,"block");e.Events.fire(t)}this.bringBlockToFront_(),e.Events.setGroup(!1)},e.Gesture.prototype.doWorkspaceClick_=function(t){t=this.creatorWorkspace_,e.selected&&e.selected.unselect(),this.fireWorkspaceClick_(this.startWorkspace_||t)},e.Gesture.prototype.bringBlockToFront_=function(){this.targetBlock_&&!this.flyout_&&this.targetBlock_.bringToFront()},e.Gesture.prototype.setStartField=function(e){if(this.hasStarted_)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");this.startField_||(this.startField_=e)},e.Gesture.prototype.setStartBubble=function(e){this.startBubble_||(this.startBubble_=e)},e.Gesture.prototype.setStartBlock=function(e){this.startBlock_||this.startBubble_||(this.startBlock_=e,e.isInFlyout&&e!=e.getRootBlock()?this.setTargetBlock_(e.getRootBlock()):this.setTargetBlock_(e))},e.Gesture.prototype.setTargetBlock_=function(e){e.isShadow()?this.setTargetBlock_(e.getParent()):this.targetBlock_=e},e.Gesture.prototype.setStartWorkspace_=function(e){this.startWorkspace_||(this.startWorkspace_=e)},e.Gesture.prototype.setStartFlyout_=function(e){this.flyout_||(this.flyout_=e)},e.Gesture.prototype.isBubbleClick_=function(){return!!this.startBubble_&&!this.hasExceededDragRadius_},e.Gesture.prototype.isBlockClick_=function(){return!!this.startBlock_&&!this.hasExceededDragRadius_&&!this.isFieldClick_()},e.Gesture.prototype.isFieldClick_=function(){return!!this.startField_&&this.startField_.isClickable()&&!this.hasExceededDragRadius_&&(!this.flyout_||!this.flyout_.autoClose)},e.Gesture.prototype.isWorkspaceClick_=function(){return!this.startBlock_&&!this.startBubble_&&!this.startField_&&!this.hasExceededDragRadius_},e.Gesture.prototype.isDragging=function(){return this.isDraggingWorkspace_||this.isDraggingBlock_||this.isDraggingBubble_},e.Gesture.prototype.hasStarted=function(){return this.hasStarted_},e.Gesture.prototype.getInsertionMarkers=function(){return this.blockDragger_?this.blockDragger_.getInsertionMarkers():[]},e.Gesture.prototype.getCurrentDragger=function(){return this.isDraggingBlock_?this.blockDragger_:this.isDraggingWorkspace_?this.workspaceDragger_:this.isDraggingBubble_?this.bubbleDragger_:null},e.Gesture.inProgress=function(){for(var t,n=e.Workspace.getAll(),r=0;t=n[r];r++)if(t.currentGesture_)return!0;return!1},e.IRegistrable=function(){},e.Marker=function(){this.drawer_=this.curNode_=this.colour=null,this.type="marker"},e.Marker.prototype.setDrawer=function(e){this.drawer_=e},e.Marker.prototype.getDrawer=function(){return this.drawer_},e.Marker.prototype.getCurNode=function(){return this.curNode_},e.Marker.prototype.setCurNode=function(e){var t=this.curNode_;this.curNode_=e,this.drawer_&&this.drawer_.draw(t,this.curNode_)},e.Marker.prototype.draw=function(){this.drawer_&&this.drawer_.draw(this.curNode_,this.curNode_)},e.Marker.prototype.hide=function(){this.drawer_&&this.drawer_.hide()},e.Marker.prototype.dispose=function(){this.getDrawer()&&this.getDrawer().dispose()},e.Cursor=function(){e.Cursor.superClass_.constructor.call(this),this.type="cursor"},e.utils.object.inherits(e.Cursor,e.Marker),e.Cursor.prototype.next=function(){var t=this.getCurNode();if(!t)return null;for(t=t.next();t&&t.next()&&(t.getType()==e.ASTNode.types.NEXT||t.getType()==e.ASTNode.types.BLOCK);)t=t.next();return t&&this.setCurNode(t),t},e.Cursor.prototype.in=function(){var t=this.getCurNode();return t?(t.getType()!=e.ASTNode.types.PREVIOUS&&t.getType()!=e.ASTNode.types.OUTPUT||(t=t.next()),(t=t.in())&&this.setCurNode(t),t):null},e.Cursor.prototype.prev=function(){var t=this.getCurNode();if(!t)return null;for(t=t.prev();t&&t.prev()&&(t.getType()==e.ASTNode.types.NEXT||t.getType()==e.ASTNode.types.BLOCK);)t=t.prev();return t&&this.setCurNode(t),t},e.Cursor.prototype.out=function(){var t=this.getCurNode();return t?((t=t.out())&&t.getType()==e.ASTNode.types.BLOCK&&(t=t.prev()||t),t&&this.setCurNode(t),t):null},e.registry.register(e.registry.Type.CURSOR,e.registry.DEFAULT,e.Cursor),e.MarkerManager=function(e){this.cursorSvg_=this.cursor_=null,this.markers_=Object.create(null),this.workspace_=e},e.MarkerManager.LOCAL_MARKER="local_marker_1",e.MarkerManager.prototype.registerMarker=function(e,t){this.markers_[e]&&this.unregisterMarker(e),t.setDrawer(this.workspace_.getRenderer().makeMarkerDrawer(this.workspace_,t)),this.setMarkerSvg(t.getDrawer().createDom()),this.markers_[e]=t},e.MarkerManager.prototype.unregisterMarker=function(e){var t=this.markers_[e];if(!t)throw Error("Marker with ID "+e+" does not exist. Can only unregister markers that exist.");t.dispose(),delete this.markers_[e]},e.MarkerManager.prototype.getCursor=function(){return this.cursor_},e.MarkerManager.prototype.getMarker=function(e){return this.markers_[e]||null},e.MarkerManager.prototype.setCursor=function(e){this.cursor_&&this.cursor_.getDrawer()&&this.cursor_.getDrawer().dispose(),(this.cursor_=e)&&(e=this.workspace_.getRenderer().makeMarkerDrawer(this.workspace_,this.cursor_),this.cursor_.setDrawer(e),this.setCursorSvg(this.cursor_.getDrawer().createDom()))},e.MarkerManager.prototype.setCursorSvg=function(e){e?(this.workspace_.getBlockCanvas().appendChild(e),this.cursorSvg_=e):this.cursorSvg_=null},e.MarkerManager.prototype.setMarkerSvg=function(e){e?this.workspace_.getBlockCanvas()&&(this.cursorSvg_?this.workspace_.getBlockCanvas().insertBefore(e,this.cursorSvg_):this.workspace_.getBlockCanvas().appendChild(e)):this.markerSvg_=null},e.MarkerManager.prototype.updateMarkers=function(){this.workspace_.keyboardAccessibilityMode&&this.cursorSvg_&&this.workspace_.getCursor().draw()},e.MarkerManager.prototype.dispose=function(){for(var e,t=Object.keys(this.markers_),n=0;e=t[n];n++)this.unregisterMarker(e);this.markers_=null,this.cursor_&&(this.cursor_.dispose(),this.cursor_=null)},e.WidgetDiv={},e.WidgetDiv.owner_=null,e.WidgetDiv.dispose_=null,e.WidgetDiv.rendererClassName_="",e.WidgetDiv.themeClassName_="",e.WidgetDiv.createDom=function(){e.WidgetDiv.DIV||(e.WidgetDiv.DIV=document.createElement("div"),e.WidgetDiv.DIV.className="blocklyWidgetDiv",(e.parentContainer||document.body).appendChild(e.WidgetDiv.DIV))},e.WidgetDiv.show=function(t,n,r){e.WidgetDiv.hide(),e.WidgetDiv.owner_=t,e.WidgetDiv.dispose_=r,(t=e.WidgetDiv.DIV).style.direction=n?"rtl":"ltr",t.style.display="block",n=e.getMainWorkspace(),e.WidgetDiv.rendererClassName_=n.getRenderer().getClassName(),e.WidgetDiv.themeClassName_=n.getTheme().getClassName(),e.utils.dom.addClass(t,e.WidgetDiv.rendererClassName_),e.utils.dom.addClass(t,e.WidgetDiv.themeClassName_)},e.WidgetDiv.hide=function(){if(e.WidgetDiv.isVisible()){e.WidgetDiv.owner_=null;var t=e.WidgetDiv.DIV;t.style.display="none",t.style.left="",t.style.top="",e.WidgetDiv.dispose_&&e.WidgetDiv.dispose_(),e.WidgetDiv.dispose_=null,t.textContent="",e.WidgetDiv.rendererClassName_&&(e.utils.dom.removeClass(t,e.WidgetDiv.rendererClassName_),e.WidgetDiv.rendererClassName_=""),e.WidgetDiv.themeClassName_&&(e.utils.dom.removeClass(t,e.WidgetDiv.themeClassName_),e.WidgetDiv.themeClassName_=""),e.getMainWorkspace().markFocused()}},e.WidgetDiv.isVisible=function(){return!!e.WidgetDiv.owner_},e.WidgetDiv.hideIfOwner=function(t){e.WidgetDiv.owner_==t&&e.WidgetDiv.hide()},e.WidgetDiv.positionInternal_=function(t,n,r){e.WidgetDiv.DIV.style.left=t+"px",e.WidgetDiv.DIV.style.top=n+"px",e.WidgetDiv.DIV.style.height=r+"px"},e.WidgetDiv.positionWithAnchor=function(t,n,r,i){var o=e.WidgetDiv.calculateY_(t,n,r);t=e.WidgetDiv.calculateX_(t,n,r,i),0>o?e.WidgetDiv.positionInternal_(t,0,r.height+o):e.WidgetDiv.positionInternal_(t,o,r.height)},e.WidgetDiv.calculateX_=function(e,t,n,r){return r?(t=Math.max(t.right-n.width,e.left),Math.min(t,e.right-n.width)):(t=Math.min(t.left,e.right-n.width),Math.max(t,e.left))},e.WidgetDiv.calculateY_=function(e,t,n){return t.bottom+n.height>=e.bottom?t.top-n.height:t.bottom},e.Field=function(t,n,r){this.value_=this.DEFAULT_VALUE,this.tooltip_=this.validator_=null,this.size_=new e.utils.Size(0,0),this.constants_=this.mouseDownWrapper_=this.textContent_=this.textElement_=this.borderRect_=this.fieldGroup_=this.markerSvg_=this.cursorSvg_=null,r&&this.configure_(r),this.setValue(t),n&&this.setValidator(n)},e.Field.prototype.DEFAULT_VALUE=null,e.Field.prototype.name=void 0,e.Field.prototype.disposed=!1,e.Field.prototype.maxDisplayLength=50,e.Field.prototype.sourceBlock_=null,e.Field.prototype.isDirty_=!0,e.Field.prototype.visible_=!0,e.Field.prototype.clickTarget_=null,e.Field.NBSP="\xa0",e.Field.prototype.EDITABLE=!0,e.Field.prototype.SERIALIZABLE=!1,e.Field.prototype.configure_=function(t){var n=t.tooltip;"string"==typeof n&&(n=e.utils.replaceMessageReferences(t.tooltip)),n&&this.setTooltip(n)},e.Field.prototype.setSourceBlock=function(e){if(this.sourceBlock_)throw Error("Field already bound to a block.");this.sourceBlock_=e},e.Field.prototype.getConstants=function(){return!this.constants_&&this.sourceBlock_&&this.sourceBlock_.workspace&&this.sourceBlock_.workspace.rendered&&(this.constants_=this.sourceBlock_.workspace.getRenderer().getConstants()),this.constants_},e.Field.prototype.getSourceBlock=function(){return this.sourceBlock_},e.Field.prototype.init=function(){this.fieldGroup_||(this.fieldGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{},null),this.isVisible()||(this.fieldGroup_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.initView(),this.updateEditable(),this.setTooltip(this.tooltip_),this.bindEvents_(),this.initModel())},e.Field.prototype.initView=function(){this.createBorderRect_(),this.createTextElement_()},e.Field.prototype.initModel=function(){},e.Field.prototype.createBorderRect_=function(){this.borderRect_=e.utils.dom.createSvgElement(e.utils.Svg.RECT,{rx:this.getConstants().FIELD_BORDER_RECT_RADIUS,ry:this.getConstants().FIELD_BORDER_RECT_RADIUS,x:0,y:0,height:this.size_.height,width:this.size_.width,class:"blocklyFieldRect"},this.fieldGroup_)},e.Field.prototype.createTextElement_=function(){this.textElement_=e.utils.dom.createSvgElement(e.utils.Svg.TEXT,{class:"blocklyText"},this.fieldGroup_),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.textElement_.setAttribute("dominant-baseline","central"),this.textContent_=document.createTextNode(""),this.textElement_.appendChild(this.textContent_)},e.Field.prototype.bindEvents_=function(){e.Tooltip.bindMouseEvents(this.getClickTarget_()),this.mouseDownWrapper_=e.browserEvents.conditionalBind(this.getClickTarget_(),"mousedown",this,this.onMouseDown_)},e.Field.prototype.fromXml=function(e){this.setValue(e.textContent)},e.Field.prototype.toXml=function(e){return e.textContent=this.getValue(),e},e.Field.prototype.dispose=function(){e.DropDownDiv.hideIfOwner(this),e.WidgetDiv.hideIfOwner(this),e.Tooltip.unbindMouseEvents(this.getClickTarget_()),this.mouseDownWrapper_&&e.browserEvents.unbind(this.mouseDownWrapper_),e.utils.dom.removeNode(this.fieldGroup_),this.disposed=!0},e.Field.prototype.updateEditable=function(){var t=this.fieldGroup_;this.EDITABLE&&t&&(this.sourceBlock_.isEditable()?(e.utils.dom.addClass(t,"blocklyEditableText"),e.utils.dom.removeClass(t,"blocklyNonEditableText"),t.style.cursor=this.CURSOR):(e.utils.dom.addClass(t,"blocklyNonEditableText"),e.utils.dom.removeClass(t,"blocklyEditableText"),t.style.cursor=""))},e.Field.prototype.isClickable=function(){return!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&!!this.showEditor_&&"function"===typeof this.showEditor_},e.Field.prototype.isCurrentlyEditable=function(){return this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()},e.Field.prototype.isSerializable=function(){var e=!1;return this.name&&(this.SERIALIZABLE?e=!0:this.EDITABLE&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),e=!0)),e},e.Field.prototype.isVisible=function(){return this.visible_},e.Field.prototype.setVisible=function(e){if(this.visible_!=e){this.visible_=e;var t=this.getSvgRoot();t&&(t.style.display=e?"block":"none")}},e.Field.prototype.setValidator=function(e){this.validator_=e},e.Field.prototype.getValidator=function(){return this.validator_},e.Field.prototype.getSvgRoot=function(){return this.fieldGroup_},e.Field.prototype.applyColour=function(){},e.Field.prototype.render_=function(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_()},e.Field.prototype.showEditor=function(e){this.isClickable()&&this.showEditor_(e)},e.Field.prototype.updateSize_=function(t){var n=this.getConstants(),r=2*(t=void 0!=t?t:this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0),i=n.FIELD_TEXT_HEIGHT,o=0;this.textElement_&&(r+=o=e.utils.dom.getFastTextWidth(this.textElement_,n.FIELD_TEXT_FONTSIZE,n.FIELD_TEXT_FONTWEIGHT,n.FIELD_TEXT_FONTFAMILY)),this.borderRect_&&(i=Math.max(i,n.FIELD_BORDER_RECT_HEIGHT)),this.size_.height=i,this.size_.width=r,this.positionTextElement_(t,o),this.positionBorderRect_()},e.Field.prototype.positionTextElement_=function(e,t){if(this.textElement_){var n=this.getConstants(),r=this.size_.height/2;this.textElement_.setAttribute("x",this.sourceBlock_.RTL?this.size_.width-t-e:e),this.textElement_.setAttribute("y",n.FIELD_TEXT_BASELINE_CENTER?r:r-n.FIELD_TEXT_HEIGHT/2+n.FIELD_TEXT_BASELINE)}},e.Field.prototype.positionBorderRect_=function(){this.borderRect_&&(this.borderRect_.setAttribute("width",this.size_.width),this.borderRect_.setAttribute("height",this.size_.height),this.borderRect_.setAttribute("rx",this.getConstants().FIELD_BORDER_RECT_RADIUS),this.borderRect_.setAttribute("ry",this.getConstants().FIELD_BORDER_RECT_RADIUS))},e.Field.prototype.getSize=function(){return this.isVisible()?(this.isDirty_?(this.render_(),this.isDirty_=!1):this.visible_&&0==this.size_.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.render_()),this.size_):new e.utils.Size(0,0)},e.Field.prototype.getScaledBBox=function(){if(this.borderRect_)t=this.borderRect_.getBoundingClientRect(),r=e.utils.style.getPageOffset(this.borderRect_),i=t.width,t=t.height;else{var t=this.sourceBlock_.getHeightWidth(),n=this.sourceBlock_.workspace.scale,r=this.getAbsoluteXY_(),i=t.width*n;t=t.height*n,e.utils.userAgent.GECKO?(r.x+=1.5*n,r.y+=1.5*n):e.utils.userAgent.EDGE||e.utils.userAgent.IE||(r.x-=.5*n,r.y-=.5*n),i+=1*n,t+=1*n}return new e.utils.Rect(r.y,r.y+t,r.x,r.x+i)},e.Field.prototype.getDisplayText_=function(){var t=this.getText();return t?(t.length>this.maxDisplayLength&&(t=t.substring(0,this.maxDisplayLength-2)+"\u2026"),t=t.replace(/\s/g,e.Field.NBSP),this.sourceBlock_&&this.sourceBlock_.RTL&&(t+="\u200f"),t):e.Field.NBSP},e.Field.prototype.getText=function(){if(this.getText_){var e=this.getText_.call(this);if(null!==e)return String(e)}return String(this.getValue())},e.Field.prototype.markDirty=function(){this.isDirty_=!0,this.constants_=null},e.Field.prototype.forceRerender=function(){this.isDirty_=!0,this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours(),this.updateMarkers_())},e.Field.prototype.setValue=function(t){if(null!==t){var n=this.doClassValidation_(t);if(!((t=this.processValidation_(t,n))instanceof Error)){if((n=this.getValidator())&&(n=n.call(this,t),(t=this.processValidation_(t,n))instanceof Error))return;if(!(n=this.sourceBlock_)||!n.disposed){var r=this.getValue();r===t?this.doValueUpdate_(t):(n&&e.Events.isEnabled()&&e.Events.fire(new(e.Events.get(e.Events.BLOCK_CHANGE))(n,"field",this.name||null,r,t)),this.doValueUpdate_(t),this.isDirty_&&this.forceRerender())}}}},e.Field.prototype.processValidation_=function(e,t){return null===t?(this.doValueInvalid_(e),this.isDirty_&&this.forceRerender(),Error()):(void 0!==t&&(e=t),e)},e.Field.prototype.getValue=function(){return this.value_},e.Field.prototype.doClassValidation_=function(e){return null===e||void 0===e?null:e},e.Field.prototype.doValueUpdate_=function(e){this.value_=e,this.isDirty_=!0},e.Field.prototype.doValueInvalid_=function(e){},e.Field.prototype.onMouseDown_=function(e){this.sourceBlock_&&this.sourceBlock_.workspace&&(e=this.sourceBlock_.workspace.getGesture(e))&&e.setStartField(this)},e.Field.prototype.setTooltip=function(e){e||""===e||(e=this.sourceBlock_);var t=this.getClickTarget_();t?t.tooltip=e:this.tooltip_=e},e.Field.prototype.getTooltip=function(){var t=this.getClickTarget_();return t?e.Tooltip.getTooltipOfObject(t):e.Tooltip.getTooltipOfObject({tooltip:this.tooltip_})},e.Field.prototype.getClickTarget_=function(){return this.clickTarget_||this.getSvgRoot()},e.Field.prototype.getAbsoluteXY_=function(){return e.utils.style.getPageOffset(this.getClickTarget_())},e.Field.prototype.referencesVariables=function(){return!1},e.Field.prototype.getParentInput=function(){for(var e=null,t=this.sourceBlock_,n=t.inputList,r=0;r<t.inputList.length;r++)for(var i=n[r],o=i.fieldRow,s=0;s<o.length;s++)if(o[s]===this){e=i;break}return e},e.Field.prototype.getFlipRtl=function(){return!1},e.Field.prototype.isTabNavigable=function(){return!1},e.Field.prototype.onShortcut=function(e){return!1},e.Field.prototype.setCursorSvg=function(e){e?(this.fieldGroup_.appendChild(e),this.cursorSvg_=e):this.cursorSvg_=null},e.Field.prototype.setMarkerSvg=function(e){e?(this.fieldGroup_.appendChild(e),this.markerSvg_=e):this.markerSvg_=null},e.Field.prototype.updateMarkers_=function(){var t=this.sourceBlock_.workspace;t.keyboardAccessibilityMode&&this.cursorSvg_&&t.getCursor().draw(),t.keyboardAccessibilityMode&&this.markerSvg_&&t.getMarker(e.MarkerManager.LOCAL_MARKER).draw()},e.FieldLabel=function(t,n,r){this.class_=null,e.FieldLabel.superClass_.constructor.call(this,t,null,r),r||(this.class_=n||null)},e.utils.object.inherits(e.FieldLabel,e.Field),e.FieldLabel.prototype.DEFAULT_VALUE="",e.FieldLabel.fromJson=function(t){var n=e.utils.replaceMessageReferences(t.text);return new e.FieldLabel(n,void 0,t)},e.FieldLabel.prototype.EDITABLE=!1,e.FieldLabel.prototype.configure_=function(t){e.FieldLabel.superClass_.configure_.call(this,t),this.class_=t.class},e.FieldLabel.prototype.initView=function(){this.createTextElement_(),this.class_&&e.utils.dom.addClass(this.textElement_,this.class_)},e.FieldLabel.prototype.doClassValidation_=function(e){return null===e||void 0===e?null:String(e)},e.FieldLabel.prototype.setClass=function(t){this.textElement_&&(this.class_&&e.utils.dom.removeClass(this.textElement_,this.class_),t&&e.utils.dom.addClass(this.textElement_,t)),this.class_=t},e.fieldRegistry.register("field_label",e.FieldLabel),e.Input=function(t,n,r,i){if(t!=e.inputTypes.DUMMY&&!n)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=t,this.name=n,this.sourceBlock_=r,this.connection=i,this.fieldRow=[]},e.Input.prototype.align=e.constants.ALIGN.LEFT,e.Input.prototype.visible_=!0,e.Input.prototype.getSourceBlock=function(){return this.sourceBlock_},e.Input.prototype.appendField=function(e,t){return this.insertFieldAt(this.fieldRow.length,e,t),this},e.Input.prototype.insertFieldAt=function(t,n,r){if(0>t||t>this.fieldRow.length)throw Error("index "+t+" out of bounds.");return n||""==n&&r?("string"==typeof n&&(n=e.fieldRegistry.fromJson({type:"field_label",text:n})),n.setSourceBlock(this.sourceBlock_),this.sourceBlock_.rendered&&(n.init(),n.applyColour()),n.name=r,n.setVisible(this.isVisible()),n.prefixField&&(t=this.insertFieldAt(t,n.prefixField)),this.fieldRow.splice(t,0,n),++t,n.suffixField&&(t=this.insertFieldAt(t,n.suffixField)),this.sourceBlock_.rendered&&(this.sourceBlock_=this.sourceBlock_,this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours()),t):t},e.Input.prototype.removeField=function(e,t){for(var n,r=0;n=this.fieldRow[r];r++)if(n.name===e)return n.dispose(),this.fieldRow.splice(r,1),this.sourceBlock_.rendered&&(this.sourceBlock_=this.sourceBlock_,this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours()),!0;if(t)return!1;throw Error('Field "'+e+'" not found.')},e.Input.prototype.isVisible=function(){return this.visible_},e.Input.prototype.setVisible=function(e){var t=[];if(this.visible_==e)return t;this.visible_=e;for(var n,r=0;n=this.fieldRow[r];r++)n.setVisible(e);return this.connection&&(this.connection=this.connection,e?t=this.connection.startTrackingAll():this.connection.stopTrackingAll(),r=this.connection.targetBlock())&&(r.getSvgRoot().style.display=e?"block":"none"),t},e.Input.prototype.markDirty=function(){for(var e,t=0;e=this.fieldRow[t];t++)e.markDirty()},e.Input.prototype.setCheck=function(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setCheck(e),this},e.Input.prototype.setAlign=function(e){return this.align=e,this.sourceBlock_.rendered&&(this.sourceBlock_=this.sourceBlock_,this.sourceBlock_.render()),this},e.Input.prototype.setShadowDom=function(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setShadowDom(e),this},e.Input.prototype.getShadowDom=function(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.getShadowDom()},e.Input.prototype.init=function(){if(this.sourceBlock_.workspace.rendered)for(var e=0;e<this.fieldRow.length;e++)this.fieldRow[e].init()},e.Input.prototype.dispose=function(){for(var e,t=0;e=this.fieldRow[t];t++)e.dispose();this.connection&&this.connection.dispose(),this.sourceBlock_=null},e.Block=function(t,n,r){if(e.Generator&&"undefined"!=typeof e.Generator.prototype[n])throw Error('Block prototypeName "'+n+'" conflicts with Blockly.Generator members.');if(this.id=r&&!t.getBlockById(r)?r:e.utils.genUid(),t.setBlockById(this.id,this),this.previousConnection=this.nextConnection=this.outputConnection=null,this.inputList=[],this.inputsInline=void 0,this.disabled=!1,this.tooltip="",this.contextMenu=!0,this.parentBlock_=null,this.childBlocks_=[],this.editable_=this.movable_=this.deletable_=!0,this.collapsed_=this.isShadow_=!1,this.comment=this.outputShape_=null,this.commentModel={text:null,pinned:!1,size:new e.utils.Size(160,80)},this.xy_=new e.utils.Coordinate(0,0),this.workspace=t,this.isInFlyout=t.isFlyout,this.isInMutator=t.isMutator,this.RTL=t.RTL,this.isInsertionMarker_=!1,this.hat=void 0,this.rendered=null,this.statementInputCount=0,n){if(this.type=n,!(r=e.Blocks[n])||"object"!=typeof r)throw TypeError("Unknown block type: "+n);e.utils.object.mixin(this,r)}t.addTopBlock(this),t.addTypedBlock(this),(t=e.Events.getGroup())||e.Events.setGroup(!0),n=e.Events.recordUndo;try{"function"==typeof this.init&&(e.Events.recordUndo=!1,this.init(),e.Events.recordUndo=n),e.Events.isEnabled()&&e.Events.fire(new(e.Events.get(e.Events.BLOCK_CREATE))(this))}finally{t||e.Events.setGroup(!1),e.Events.recordUndo=n}this.inputsInlineDefault=this.inputsInline,"function"==typeof this.onchange&&this.setOnChange(this.onchange)},e.Block.COLLAPSED_INPUT_NAME=e.constants.COLLAPSED_INPUT_NAME,e.Block.COLLAPSED_FIELD_NAME=e.constants.COLLAPSED_FIELD_NAME,e.Block.prototype.data=null,e.Block.prototype.disposed=!1,e.Block.prototype.hue_=null,e.Block.prototype.colour_="#000000",e.Block.prototype.styleName_="",e.Block.prototype.dispose=function(t){if(this.workspace){this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.unplug(t),e.Events.isEnabled()&&e.Events.fire(new(e.Events.get(e.Events.BLOCK_DELETE))(this)),e.Events.disable();try{this.workspace&&(this.workspace.removeTopBlock(this),this.workspace.removeTypedBlock(this),this.workspace.removeBlockById(this.id),this.workspace=null),e.selected==this&&(e.selected=null);for(var n=this.childBlocks_.length-1;0<=n;n--)this.childBlocks_[n].dispose(!1);n=0;for(var r;r=this.inputList[n];n++)r.dispose();this.inputList.length=0;var i,o=this.getConnections_(!0);for(n=0;i=o[n];n++)i.dispose()}finally{e.Events.enable(),this.disposed=!0}}},e.Block.prototype.initModel=function(){for(var e,t=0;e=this.inputList[t];t++)for(var n,r=0;n=e.fieldRow[r];r++)n.initModel&&n.initModel()},e.Block.prototype.unplug=function(e){this.outputConnection?this.unplugFromRow_(e):this.previousConnection&&this.unplugFromStack_(e)},e.Block.prototype.unplugFromRow_=function(e){var t=null;this.outputConnection.isConnected()&&(t=this.outputConnection.targetConnection,this.outputConnection.disconnect()),t&&e&&(e=this.getOnlyValueConnection_())&&e.isConnected()&&!e.targetBlock().isShadow()&&((e=e.targetConnection).disconnect(),this.workspace.connectionChecker.canConnect(e,t,!1)?t.connect(e):e.onFailedConnect(t))},e.Block.prototype.getOnlyValueConnection_=function(){for(var t=null,n=0;n<this.inputList.length;n++){var r=this.inputList[n].connection;if(r&&r.type==e.connectionTypes.INPUT_VALUE&&r.targetConnection){if(t)return null;t=r}}return t},e.Block.prototype.unplugFromStack_=function(e){var t=null;this.previousConnection.isConnected()&&(t=this.previousConnection.targetConnection,this.previousConnection.disconnect());var n=this.getNextBlock();e&&n&&!n.isShadow()&&((e=this.nextConnection.targetConnection).disconnect(),t&&this.workspace.connectionChecker.canConnect(t,e,!1)&&t.connect(e))},e.Block.prototype.getConnections_=function(e){e=[],this.outputConnection&&e.push(this.outputConnection),this.previousConnection&&e.push(this.previousConnection),this.nextConnection&&e.push(this.nextConnection);for(var t,n=0;t=this.inputList[n];n++)t.connection&&e.push(t.connection);return e},e.Block.prototype.lastConnectionInStack=function(e){for(var t=this.nextConnection;t;){var n=t.targetBlock();if(!n||e&&n.isShadow())return t;t=n.nextConnection}return null},e.Block.prototype.bumpNeighbours=function(){},e.Block.prototype.getParent=function(){return this.parentBlock_},e.Block.prototype.getInputWithBlock=function(e){for(var t,n=0;t=this.inputList[n];n++)if(t.connection&&t.connection.targetBlock()==e)return t;return null},e.Block.prototype.getSurroundParent=function(){var e=this;do{var t=e;if(!(e=e.getParent()))return null}while(e.getNextBlock()==t);return e},e.Block.prototype.getNextBlock=function(){return this.nextConnection&&this.nextConnection.targetBlock()},e.Block.prototype.getPreviousBlock=function(){return this.previousConnection&&this.previousConnection.targetBlock()},e.Block.prototype.getFirstStatementConnection=function(){for(var t,n=0;t=this.inputList[n];n++)if(t.connection&&t.connection.type==e.connectionTypes.NEXT_STATEMENT)return t.connection;return null},e.Block.prototype.getRootBlock=function(){var e=this;do{var t=e;e=t.parentBlock_}while(e);return t},e.Block.prototype.getTopStackBlock=function(){var e=this;do{var t=e.getPreviousBlock()}while(t&&t.getNextBlock()==e&&(e=t));return e},e.Block.prototype.getChildren=function(e){if(!e)return this.childBlocks_;e=[];for(var t,n=0;t=this.inputList[n];n++)t.connection&&(t=t.connection.targetBlock())&&e.push(t);return(n=this.getNextBlock())&&e.push(n),e},e.Block.prototype.setParent=function(t){if(t!=this.parentBlock_){if(this.parentBlock_){if(e.utils.arrayRemove(this.parentBlock_.childBlocks_,this),this.previousConnection&&this.previousConnection.isConnected())throw Error("Still connected to previous block.");if(this.outputConnection&&this.outputConnection.isConnected())throw Error("Still connected to parent block.");this.parentBlock_=null}else this.workspace.removeTopBlock(this);(this.parentBlock_=t)?t.childBlocks_.push(this):this.workspace.addTopBlock(this)}},e.Block.prototype.getDescendants=function(e){for(var t,n=[this],r=this.getChildren(e),i=0;t=r[i];i++)n.push.apply(n,t.getDescendants(e));return n},e.Block.prototype.isDeletable=function(){return this.deletable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)},e.Block.prototype.setDeletable=function(e){this.deletable_=e},e.Block.prototype.isMovable=function(){return this.movable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)},e.Block.prototype.setMovable=function(e){this.movable_=e},e.Block.prototype.isDuplicatable=function(){return!this.workspace.hasBlockLimits()||this.workspace.isCapacityAvailable(e.utils.getBlockTypeCounts(this,!0))},e.Block.prototype.isShadow=function(){return this.isShadow_},e.Block.prototype.setShadow=function(e){this.isShadow_=e},e.Block.prototype.isInsertionMarker=function(){return this.isInsertionMarker_},e.Block.prototype.setInsertionMarker=function(e){this.isInsertionMarker_=e},e.Block.prototype.isEditable=function(){return this.editable_&&!(this.workspace&&this.workspace.options.readOnly)},e.Block.prototype.setEditable=function(e){this.editable_=e,e=0;for(var t;t=this.inputList[e];e++)for(var n,r=0;n=t.fieldRow[r];r++)n.updateEditable()},e.Block.prototype.isDisposed=function(){return this.disposed},e.Block.prototype.getMatchingConnection=function(e,t){var n=this.getConnections_(!0);if(e=e.getConnections_(!0),n.length!=e.length)throw Error("Connection lists did not match in length.");for(var r=0;r<e.length;r++)if(e[r]==t)return n[r];return null},e.Block.prototype.setHelpUrl=function(e){this.helpUrl=e},e.Block.prototype.setTooltip=function(e){this.tooltip=e},e.Block.prototype.getTooltip=function(){return e.Tooltip.getTooltipOfObject(this)},e.Block.prototype.getColour=function(){return this.colour_},e.Block.prototype.getStyleName=function(){return this.styleName_},e.Block.prototype.getHue=function(){return this.hue_},e.Block.prototype.setColour=function(t){t=e.utils.parseBlockColour(t),this.hue_=t.hue,this.colour_=t.hex},e.Block.prototype.setStyle=function(e){this.styleName_=e},e.Block.prototype.setOnChange=function(e){if(e&&"function"!=typeof e)throw Error("onchange must be a function.");this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),(this.onchange=e)&&(this.onchangeWrapper_=e.bind(this),this.workspace.addChangeListener(this.onchangeWrapper_))},e.Block.prototype.getField=function(e){if("string"!==typeof e)throw TypeError("Blockly.Block.prototype.getField expects a string with the field name but received "+(void 0===e?"nothing":e+" of type "+typeof e)+" instead");for(var t,n=0;t=this.inputList[n];n++)for(var r,i=0;r=t.fieldRow[i];i++)if(r.name===e)return r;return null},e.Block.prototype.getVars=function(){for(var e,t=[],n=0;e=this.inputList[n];n++)for(var r,i=0;r=e.fieldRow[i];i++)r.referencesVariables()&&t.push(r.getValue());return t},e.Block.prototype.getVarModels=function(){for(var e,t=[],n=0;e=this.inputList[n];n++)for(var r,i=0;r=e.fieldRow[i];i++)r.referencesVariables()&&(r=this.workspace.getVariableById(r.getValue()))&&t.push(r);return t},e.Block.prototype.updateVarName=function(e){for(var t,n=0;t=this.inputList[n];n++)for(var r,i=0;r=t.fieldRow[i];i++)r.referencesVariables()&&e.getId()==r.getValue()&&r.refreshVariableName()},e.Block.prototype.renameVarById=function(e,t){for(var n,r=0;n=this.inputList[r];r++)for(var i,o=0;i=n.fieldRow[o];o++)i.referencesVariables()&&e==i.getValue()&&i.setValue(t)},e.Block.prototype.getFieldValue=function(e){return(e=this.getField(e))?e.getValue():null},e.Block.prototype.setFieldValue=function(e,t){var n=this.getField(t);if(!n)throw Error('Field "'+t+'" not found.');n.setValue(e)},e.Block.prototype.setPreviousStatement=function(t,n){if(t){if(void 0===n&&(n=null),!this.previousConnection){if(this.outputConnection)throw Error("Remove output connection prior to adding previous connection.");this.previousConnection=this.makeConnection_(e.connectionTypes.PREVIOUS_STATEMENT)}this.previousConnection.setCheck(n)}else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.previousConnection.dispose(),this.previousConnection=null}},e.Block.prototype.setNextStatement=function(t,n){if(t)void 0===n&&(n=null),this.nextConnection||(this.nextConnection=this.makeConnection_(e.connectionTypes.NEXT_STATEMENT)),this.nextConnection.setCheck(n);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error("Must disconnect next statement before removing connection.");this.nextConnection.dispose(),this.nextConnection=null}},e.Block.prototype.setOutput=function(t,n){if(t){if(void 0===n&&(n=null),!this.outputConnection){if(this.previousConnection)throw Error("Remove previous connection prior to adding output connection.");this.outputConnection=this.makeConnection_(e.connectionTypes.OUTPUT_VALUE)}this.outputConnection.setCheck(n)}else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error("Must disconnect output value before removing connection.");this.outputConnection.dispose(),this.outputConnection=null}},e.Block.prototype.setInputsInline=function(t){this.inputsInline!=t&&(e.Events.fire(new(e.Events.get(e.Events.BLOCK_CHANGE))(this,"inline",null,this.inputsInline,t)),this.inputsInline=t)},e.Block.prototype.getInputsInline=function(){if(void 0!=this.inputsInline)return this.inputsInline;for(var t=1;t<this.inputList.length;t++)if(this.inputList[t-1].type==e.inputTypes.DUMMY&&this.inputList[t].type==e.inputTypes.DUMMY)return!1;for(t=1;t<this.inputList.length;t++)if(this.inputList[t-1].type==e.inputTypes.VALUE&&this.inputList[t].type==e.inputTypes.DUMMY)return!0;return!1},e.Block.prototype.setOutputShape=function(e){this.outputShape_=e},e.Block.prototype.getOutputShape=function(){return this.outputShape_},e.Block.prototype.isEnabled=function(){return!this.disabled},e.Block.prototype.setEnabled=function(t){this.isEnabled()!=t&&(e.Events.fire(new(e.Events.get(e.Events.BLOCK_CHANGE))(this,"disabled",null,this.disabled,!t)),this.disabled=!t)},e.Block.prototype.getInheritedDisabled=function(){for(var e=this.getSurroundParent();e;){if(e.disabled)return!0;e=e.getSurroundParent()}return!1},e.Block.prototype.isCollapsed=function(){return this.collapsed_},e.Block.prototype.setCollapsed=function(t){this.collapsed_!=t&&(e.Events.fire(new(e.Events.get(e.Events.BLOCK_CHANGE))(this,"collapsed",null,this.collapsed_,t)),this.collapsed_=t)},e.Block.prototype.toString=function(t,n){function r(e){var t=e.getCheck();return!t&&e.targetConnection&&(t=e.targetConnection.getCheck()),!!t&&(-1!=t.indexOf("Boolean")||-1!=t.indexOf("Number"))}function i(){a&&a.getType()==l.getType()&&a.getLocation()==l.getLocation()&&(a=null)}var o=[];n=n||"?";var s=e.ASTNode.NAVIGATE_ALL_FIELDS;e.ASTNode.NAVIGATE_ALL_FIELDS=!0;for(var a=e.ASTNode.createBlockNode(this),l=a;a;){switch(a.getType()){case e.ASTNode.types.INPUT:var c=a.getLocation();a.in()?r(c)&&o.push("("):o.push(n);break;case e.ASTNode.types.FIELD:(c=a.getLocation()).name!=e.constants.COLLAPSED_FIELD_NAME&&o.push(c.getText())}if(!(a=(c=a).in()||c.next())){for(a=c.out(),i();a&&!a.next();)a=a.out(),i(),a&&a.getType()==e.ASTNode.types.INPUT&&r(a.getLocation())&&o.push(")");a&&(a=a.next())}}for(e.ASTNode.NAVIGATE_ALL_FIELDS=s,n=2;n<o.length;n++)"("==o[n-2]&&")"==o[n]&&(o[n-2]=o[n-1],o.splice(n-1,2));return o=(o=o.reduce((function(e,t){return e+("("==e.substr(-1)||")"==t?"":" ")+t}),"")).trim()||"???",t&&o.length>t&&(o=o.substring(0,t-3)+"..."),o},e.Block.prototype.appendValueInput=function(t){return this.appendInput_(e.inputTypes.VALUE,t)},e.Block.prototype.appendStatementInput=function(t){return this.appendInput_(e.inputTypes.STATEMENT,t)},e.Block.prototype.appendDummyInput=function(t){return this.appendInput_(e.inputTypes.DUMMY,t||"")},e.Block.prototype.jsonInit=function(t){var n=t.type?'Block "'+t.type+'": ':"";if(t.output&&t.previousStatement)throw Error(n+"Must not have both an output and a previousStatement.");if(t.style&&t.style.hat&&(this.hat=t.style.hat,t.style=null),t.style&&t.colour)throw Error(n+"Must not have both a colour and a style.");t.style?this.jsonInitStyle_(t,n):this.jsonInitColour_(t,n);for(var r=0;void 0!==t["message"+r];)this.interpolate_(t["message"+r],t["args"+r]||[],t["lastDummyAlign"+r],n),r++;if(void 0!==t.inputsInline&&this.setInputsInline(t.inputsInline),void 0!==t.output&&this.setOutput(!0,t.output),void 0!==t.outputShape&&this.setOutputShape(t.outputShape),void 0!==t.previousStatement&&this.setPreviousStatement(!0,t.previousStatement),void 0!==t.nextStatement&&this.setNextStatement(!0,t.nextStatement),void 0!==t.tooltip&&(r=t.tooltip,r=e.utils.replaceMessageReferences(r),this.setTooltip(r)),void 0!==t.enableContextMenu&&(r=t.enableContextMenu,this.contextMenu=!!r),void 0!==t.helpUrl&&(r=t.helpUrl,r=e.utils.replaceMessageReferences(r),this.setHelpUrl(r)),"string"==typeof t.extensions&&(console.warn(n+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+t.type+"' block."),t.extensions=[t.extensions]),void 0!==t.mutator&&e.Extensions.apply(t.mutator,this,!0),t=t.extensions,Array.isArray(t))for(n=0;n<t.length;++n)e.Extensions.apply(t[n],this,!1)},e.Block.prototype.jsonInitColour_=function(e,t){if("colour"in e)if(void 0===e.colour)console.warn(t+"Undefined colour value.");else{e=e.colour;try{this.setColour(e)}catch(n){console.warn(t+"Illegal colour value: ",e)}}},e.Block.prototype.jsonInitStyle_=function(e,t){e=e.style;try{this.setStyle(e)}catch(n){console.warn(t+"Style does not exist: ",e)}},e.Block.prototype.mixin=function(t,n){if(void 0!==n&&"boolean"!=typeof n)throw Error("opt_disableCheck must be a boolean if provided");if(!n){for(var r in n=[],t)void 0!==this[r]&&n.push(r);if(n.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(n))}e.utils.object.mixin(this,t)},e.Block.prototype.interpolate_=function(t,n,r,i){t=e.utils.tokenizeInterpolation(t),this.validateTokens_(t,n.length),n=this.interpolateArguments_(t,n,r),r=[],t=0;for(var o;o=n[t];t++)if(this.isInputKeyword_(o.type)){if(o=this.inputFromJson_(o,i)){for(var s,a=0;s=r[a];a++)o.appendField(s[0],s[1]);r.length=0}}else(a=this.fieldFromJson_(o))&&r.push([a,o.name])},e.Block.prototype.validateTokens_=function(e,t){for(var n=[],r=0,i=0;i<e.length;i++){var o=e[i];if("number"==typeof o){if(1>o||o>t)throw Error('Block "'+this.type+'": Message index %'+o+" out of range.");if(n[o])throw Error('Block "'+this.type+'": Message index %'+o+" duplicated.");n[o]=!0,r++}}if(r!=t)throw Error('Block "'+this.type+'": Message does not reference all '+t+" arg(s).")},e.Block.prototype.interpolateArguments_=function(e,t,n){for(var r=[],i=0;i<e.length;i++){var o=e[i];"number"==typeof o&&(o=t[o-1]),("string"!=typeof o||(o=this.stringToFieldJson_(o)))&&r.push(o)}return(e=r.length)&&!this.isInputKeyword_(r[e-1].type)&&(e={type:"input_dummy"},n&&(e.align=n),r.push(e)),r},e.Block.prototype.fieldFromJson_=function(t){var n=e.fieldRegistry.fromJson(t);return!n&&t.alt?"string"==typeof t.alt?(t=this.stringToFieldJson_(t.alt))?this.fieldFromJson_(t):null:this.fieldFromJson_(t.alt):n},e.Block.prototype.inputFromJson_=function(t,n){var r={LEFT:e.constants.ALIGN.LEFT,RIGHT:e.constants.ALIGN.RIGHT,CENTRE:e.constants.ALIGN.CENTRE,CENTER:e.constants.ALIGN.CENTRE},i=null;switch(t.type){case"input_value":i=this.appendValueInput(t.name);break;case"input_statement":i=this.appendStatementInput(t.name);break;case"input_dummy":i=this.appendDummyInput(t.name)}return i?(t.check&&i.setCheck(t.check),t.align&&(void 0===(r=r[t.align.toUpperCase()])?console.warn(n+"Illegal align value: ",t.align):i.setAlign(r)),i):null},e.Block.prototype.isInputKeyword_=function(e){return"input_value"==e||"input_statement"==e||"input_dummy"==e},e.Block.prototype.stringToFieldJson_=function(e){return(e=e.trim())?{type:"field_label",text:e}:null},e.Block.prototype.appendInput_=function(t,n){var r=null;return t!=e.inputTypes.VALUE&&t!=e.inputTypes.STATEMENT||(r=this.makeConnection_(t)),t==e.inputTypes.STATEMENT&&this.statementInputCount++,t=new e.Input(t,n,this,r),this.inputList.push(t),t},e.Block.prototype.moveInputBefore=function(e,t){if(e!=t){for(var n,r=-1,i=t?-1:this.inputList.length,o=0;n=this.inputList[o];o++)if(n.name==e){if(r=o,-1!=i)break}else if(t&&n.name==t&&(i=o,-1!=r))break;if(-1==r)throw Error('Named input "'+e+'" not found.');if(-1==i)throw Error('Reference input "'+t+'" not found.');this.moveNumberedInputBefore(r,i)}},e.Block.prototype.moveNumberedInputBefore=function(e,t){if(e==t)throw Error("Can't move input to itself.");if(e>=this.inputList.length)throw RangeError("Input index "+e+" out of bounds.");if(t>this.inputList.length)throw RangeError("Reference input "+t+" out of bounds.");var n=this.inputList[e];this.inputList.splice(e,1),e<t&&t--,this.inputList.splice(t,0,n)},e.Block.prototype.removeInput=function(t,n){for(var r,i=0;r=this.inputList[i];i++)if(r.name==t)return r.type==e.inputTypes.STATEMENT&&this.statementInputCount--,r.dispose(),this.inputList.splice(i,1),!0;if(n)return!1;throw Error("Input not found: "+t)},e.Block.prototype.getInput=function(e){for(var t,n=0;t=this.inputList[n];n++)if(t.name==e)return t;return null},e.Block.prototype.getInputTargetBlock=function(e){return(e=this.getInput(e))&&e.connection&&e.connection.targetBlock()},e.Block.prototype.getCommentText=function(){return this.commentModel.text},e.Block.prototype.setCommentText=function(t){this.commentModel.text!=t&&(e.Events.fire(new(e.Events.get(e.Events.BLOCK_CHANGE))(this,"comment",null,this.commentModel.text,t)),this.comment=this.commentModel.text=t)},e.Block.prototype.setWarningText=function(e,t){},e.Block.prototype.setMutator=function(e){},e.Block.prototype.getRelativeToSurfaceXY=function(){return this.xy_},e.Block.prototype.moveBy=function(t,n){if(this.parentBlock_)throw Error("Block has parent.");var r=new(e.Events.get(e.Events.BLOCK_MOVE))(this);this.xy_.translate(t,n),r.recordNew(),e.Events.fire(r)},e.Block.prototype.makeConnection_=function(t){return new e.Connection(this,t)},e.Block.prototype.allInputsFilled=function(e){if(void 0===e&&(e=!0),!e&&this.isShadow())return!1;for(var t,n=0;t=this.inputList[n];n++)if(t.connection&&(!(t=t.connection.targetBlock())||!t.allInputsFilled(e)))return!1;return!(n=this.getNextBlock())||n.allInputsFilled(e)},e.Block.prototype.toDevString=function(){var e=this.type?'"'+this.type+'" block':"Block";return this.id&&(e+=' (id="'+this.id+'")'),e},e.blockRendering.IPathObject=function(e,t){},e.utils.KeyCodes={WIN_KEY_FF_LINUX:0,MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PLUS_SIGN:43,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,FF_SEMICOLON:59,FF_EQUALS:61,FF_DASH:173,FF_HASH:163,QUESTION_MARK:63,AT_SIGN:64,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SCROLL_LOCK:145,FIRST_MEDIA_KEY:166,LAST_MEDIA_KEY:183,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,TILDE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,MAC_WK_CMD_LEFT:91,MAC_WK_CMD_RIGHT:93,WIN_IME:229,VK_NONAME:252,PHANTOM:255},e.Menu=function(){this.menuItems_=[],this.roleName_=this.element_=this.onKeyDownHandler_=this.mouseLeaveHandler_=this.mouseEnterHandler_=this.clickHandler_=this.mouseOverHandler_=this.highlightedItem_=this.openingCoords=null},e.Menu.prototype.addChild=function(e){this.menuItems_.push(e)},e.Menu.prototype.render=function(t){var n=document.createElement("div");n.className="blocklyMenu goog-menu blocklyNonSelectable",n.tabIndex=0,this.roleName_&&e.utils.aria.setRole(n,this.roleName_),this.element_=n;for(var r,i=0;r=this.menuItems_[i];i++)n.appendChild(r.createDom());this.mouseOverHandler_=e.browserEvents.conditionalBind(n,"mouseover",this,this.handleMouseOver_,!0),this.clickHandler_=e.browserEvents.conditionalBind(n,"click",this,this.handleClick_,!0),this.mouseEnterHandler_=e.browserEvents.conditionalBind(n,"mouseenter",this,this.handleMouseEnter_,!0),this.mouseLeaveHandler_=e.browserEvents.conditionalBind(n,"mouseleave",this,this.handleMouseLeave_,!0),this.onKeyDownHandler_=e.browserEvents.conditionalBind(n,"keydown",this,this.handleKeyEvent_),t.appendChild(n)},e.Menu.prototype.getElement=function(){return this.element_},e.Menu.prototype.focus=function(){var t=this.getElement();t&&(t.focus({preventScroll:!0}),e.utils.dom.addClass(t,"blocklyFocused"))},e.Menu.prototype.blur_=function(){var t=this.getElement();t&&(t.blur(),e.utils.dom.removeClass(t,"blocklyFocused"))},e.Menu.prototype.setRole=function(e){this.roleName_=e},e.Menu.prototype.dispose=function(){this.mouseOverHandler_&&(e.browserEvents.unbind(this.mouseOverHandler_),this.mouseOverHandler_=null),this.clickHandler_&&(e.browserEvents.unbind(this.clickHandler_),this.clickHandler_=null),this.mouseEnterHandler_&&(e.browserEvents.unbind(this.mouseEnterHandler_),this.mouseEnterHandler_=null),this.mouseLeaveHandler_&&(e.browserEvents.unbind(this.mouseLeaveHandler_),this.mouseLeaveHandler_=null),this.onKeyDownHandler_&&(e.browserEvents.unbind(this.onKeyDownHandler_),this.onKeyDownHandler_=null);for(var t,n=0;t=this.menuItems_[n];n++)t.dispose();this.element_=null},e.Menu.prototype.getMenuItem_=function(t){for(var n=this.getElement();t&&t!=n;){if(e.utils.dom.hasClass(t,"blocklyMenuItem"))for(var r,i=0;r=this.menuItems_[i];i++)if(r.getElement()==t)return r;t=t.parentElement}return null},e.Menu.prototype.setHighlighted=function(t){var n=this.highlightedItem_;n&&(n.setHighlighted(!1),this.highlightedItem_=null),t&&(t.setHighlighted(!0),this.highlightedItem_=t,n=this.getElement(),e.utils.style.scrollIntoContainerView(t.getElement(),n),e.utils.aria.setState(n,e.utils.aria.State.ACTIVEDESCENDANT,t.getId()))},e.Menu.prototype.highlightNext=function(){var e=this.menuItems_.indexOf(this.highlightedItem_);this.highlightHelper_(e,1)},e.Menu.prototype.highlightPrevious=function(){var e=this.menuItems_.indexOf(this.highlightedItem_);this.highlightHelper_(0>e?this.menuItems_.length:e,-1)},e.Menu.prototype.highlightFirst_=function(){this.highlightHelper_(-1,1)},e.Menu.prototype.highlightLast_=function(){this.highlightHelper_(this.menuItems_.length,-1)},e.Menu.prototype.highlightHelper_=function(e,t){e+=t;for(var n;n=this.menuItems_[e];){if(n.isEnabled()){this.setHighlighted(n);break}e+=t}},e.Menu.prototype.handleMouseOver_=function(e){(e=this.getMenuItem_(e.target))&&(e.isEnabled()?this.highlightedItem_!=e&&this.setHighlighted(e):this.setHighlighted(null))},e.Menu.prototype.handleClick_=function(t){var n=this.openingCoords;if(this.openingCoords=null,n&&"number"==typeof t.clientX){var r=new e.utils.Coordinate(t.clientX,t.clientY);if(1>e.utils.Coordinate.distance(n,r))return}(t=this.getMenuItem_(t.target))&&t.performAction()},e.Menu.prototype.handleMouseEnter_=function(e){this.focus()},e.Menu.prototype.handleMouseLeave_=function(e){this.getElement()&&(this.blur_(),this.setHighlighted(null))},e.Menu.prototype.handleKeyEvent_=function(t){if(this.menuItems_.length&&!(t.shiftKey||t.ctrlKey||t.metaKey||t.altKey)){var n=this.highlightedItem_;switch(t.keyCode){case e.utils.KeyCodes.ENTER:case e.utils.KeyCodes.SPACE:n&&n.performAction();break;case e.utils.KeyCodes.UP:this.highlightPrevious();break;case e.utils.KeyCodes.DOWN:this.highlightNext();break;case e.utils.KeyCodes.PAGE_UP:case e.utils.KeyCodes.HOME:this.highlightFirst_();break;case e.utils.KeyCodes.PAGE_DOWN:case e.utils.KeyCodes.END:this.highlightLast_();break;default:return}t.preventDefault(),t.stopPropagation()}},e.Menu.prototype.getSize=function(){var t=this.getElement(),n=e.utils.style.getSize(t);return n.height=t.scrollHeight,n},e.MenuItem=function(e,t){this.content_=e,this.value_=t,this.enabled_=!0,this.element_=null,this.rightToLeft_=!1,this.roleName_=null,this.highlight_=this.checked_=this.checkable_=!1,this.actionHandler_=null},e.MenuItem.prototype.createDom=function(){var t=document.createElement("div");t.id=e.utils.IdGenerator.getNextUniqueId(),this.element_=t,t.className="blocklyMenuItem goog-menuitem "+(this.enabled_?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.checked_?"blocklyMenuItemSelected goog-option-selected ":"")+(this.highlight_?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.rightToLeft_?"blocklyMenuItemRtl goog-menuitem-rtl ":"");var n=document.createElement("div");if(n.className="blocklyMenuItemContent goog-menuitem-content",this.checkable_){var r=document.createElement("div");r.className="blocklyMenuItemCheckbox goog-menuitem-checkbox",n.appendChild(r)}return r=this.content_,"string"==typeof this.content_&&(r=document.createTextNode(this.content_)),n.appendChild(r),t.appendChild(n),this.roleName_&&e.utils.aria.setRole(t,this.roleName_),e.utils.aria.setState(t,e.utils.aria.State.SELECTED,this.checkable_&&this.checked_||!1),e.utils.aria.setState(t,e.utils.aria.State.DISABLED,!this.enabled_),t},e.MenuItem.prototype.dispose=function(){this.element_=null},e.MenuItem.prototype.getElement=function(){return this.element_},e.MenuItem.prototype.getId=function(){return this.element_.id},e.MenuItem.prototype.getValue=function(){return this.value_},e.MenuItem.prototype.setRightToLeft=function(e){this.rightToLeft_=e},e.MenuItem.prototype.setRole=function(e){this.roleName_=e},e.MenuItem.prototype.setCheckable=function(e){this.checkable_=e},e.MenuItem.prototype.setChecked=function(e){this.checked_=e},e.MenuItem.prototype.setHighlighted=function(t){this.highlight_=t;var n=this.getElement();n&&this.isEnabled()&&(t?(e.utils.dom.addClass(n,"blocklyMenuItemHighlight"),e.utils.dom.addClass(n,"goog-menuitem-highlight")):(e.utils.dom.removeClass(n,"blocklyMenuItemHighlight"),e.utils.dom.removeClass(n,"goog-menuitem-highlight")))},e.MenuItem.prototype.isEnabled=function(){return this.enabled_},e.MenuItem.prototype.setEnabled=function(e){this.enabled_=e},e.MenuItem.prototype.performAction=function(){this.isEnabled()&&this.actionHandler_&&this.actionHandler_(this)},e.MenuItem.prototype.onAction=function(e,t){this.actionHandler_=e.bind(t)},e.ContextMenu={},e.ContextMenu.currentBlock=null,e.ContextMenu.menu_=null,e.ContextMenu.show=function(t,n,r){if(e.WidgetDiv.show(e.ContextMenu,r,e.ContextMenu.dispose),n.length){var i=e.ContextMenu.populate_(n,r);e.ContextMenu.menu_=i,e.ContextMenu.position_(i,t,r),setTimeout((function(){i.focus()}),1),e.ContextMenu.currentBlock=null}else e.ContextMenu.hide()},e.ContextMenu.populate_=function(t,n){var r=new e.Menu;r.setRole(e.utils.aria.Role.MENU);for(var i,o=0;i=t[o];o++){var s=new e.MenuItem(i.text);s.setRightToLeft(n),s.setRole(e.utils.aria.Role.MENUITEM),r.addChild(s),s.setEnabled(i.enabled),i.enabled&&s.onAction((function(t){e.ContextMenu.hide(),this.callback(this.scope)}),i)}return r},e.ContextMenu.position_=function(t,n,r){var i=e.utils.getViewportBBox();n=new e.utils.Rect(n.clientY+i.top,n.clientY+i.top,n.clientX+i.left,n.clientX+i.left),e.ContextMenu.createWidget_(t);var o=t.getSize();r&&(n.left+=o.width,n.right+=o.width,i.left+=o.width,i.right+=o.width),e.WidgetDiv.positionWithAnchor(i,n,o,r),t.focus()},e.ContextMenu.createWidget_=function(t){t.render(e.WidgetDiv.DIV);var n=t.getElement();e.utils.dom.addClass(n,"blocklyContextMenu"),e.browserEvents.conditionalBind(n,"contextmenu",null,e.utils.noEvent),t.focus()},e.ContextMenu.hide=function(){e.WidgetDiv.hideIfOwner(e.ContextMenu),e.ContextMenu.currentBlock=null},e.ContextMenu.dispose=function(){e.ContextMenu.menu_&&(e.ContextMenu.menu_.dispose(),e.ContextMenu.menu_=null)},e.ContextMenu.callbackFactory=function(t,n){return function(){e.Events.disable();try{var r=e.Xml.domToBlock(n,t.workspace),i=t.getRelativeToSurfaceXY();i.x=t.RTL?i.x-e.SNAP_RADIUS:i.x+e.SNAP_RADIUS,i.y+=2*e.SNAP_RADIUS,r.moveBy(i.x,i.y)}finally{e.Events.enable()}e.Events.isEnabled()&&!r.isShadow()&&e.Events.fire(new(e.Events.get(e.Events.BLOCK_CREATE))(r)),r.select()}},e.ContextMenu.commentDeleteOption=function(t){return{text:e.Msg.REMOVE_COMMENT,enabled:!0,callback:function(){e.Events.setGroup(!0),t.dispose(!0,!0),e.Events.setGroup(!1)}}},e.ContextMenu.commentDuplicateOption=function(t){return{text:e.Msg.DUPLICATE_COMMENT,enabled:!0,callback:function(){e.duplicate(t)}}},e.ContextMenu.workspaceCommentOption=function(t,n){if(!e.WorkspaceCommentSvg)throw Error("Missing require for Blockly.WorkspaceCommentSvg");var r={enabled:!e.utils.userAgent.IE};return r.text=e.Msg.ADD_COMMENT,r.callback=function(){var r=new e.WorkspaceCommentSvg(t,e.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT,e.WorkspaceCommentSvg.DEFAULT_SIZE,e.WorkspaceCommentSvg.DEFAULT_SIZE),i=t.getInjectionDiv().getBoundingClientRect();i=new e.utils.Coordinate(n.clientX-i.left,n.clientY-i.top);var o=t.getOriginOffsetInPixels();(i=e.utils.Coordinate.difference(i,o)).scale(1/t.scale),r.moveBy(i.x,i.y),t.rendered&&(r.initSvg(),r.render(),r.select())},r},e.ContextMenuRegistry=function(){e.ContextMenuRegistry.registry=this,this.registry_=Object.create(null)},e.ContextMenuRegistry.ScopeType={BLOCK:"block",WORKSPACE:"workspace"},e.ContextMenuRegistry.registry=null,e.ContextMenuRegistry.prototype.register=function(e){if(this.registry_[e.id])throw Error('Menu item with ID "'+e.id+'" is already registered.');this.registry_[e.id]=e},e.ContextMenuRegistry.prototype.unregister=function(e){if(!this.registry_[e])throw Error('Menu item with ID "'+e+'" not found.');delete this.registry_[e]},e.ContextMenuRegistry.prototype.getItem=function(e){return this.registry_[e]||null},e.ContextMenuRegistry.prototype.getContextMenuOptions=function(e,t){var n=[],r=this.registry_;return Object.keys(r).forEach((function(i){if(i=r[i],e==i.scopeType){var o=i.preconditionFn(t);"hidden"!=o&&(i={text:"function"==typeof i.displayText?i.displayText(t):i.displayText,enabled:"enabled"==o,callback:i.callback,scope:t,weight:i.weight},n.push(i))}})),n.sort((function(e,t){return e.weight-t.weight})),n},new e.ContextMenuRegistry,e.Events.Selected=function(t,n,r){e.Events.Selected.superClass_.constructor.call(this,r),this.oldElementId=t,this.newElementId=n},e.utils.object.inherits(e.Events.Selected,e.Events.UiBase),e.Events.Selected.prototype.type=e.Events.SELECTED,e.Events.Selected.prototype.toJson=function(){var t=e.Events.Selected.superClass_.toJson.call(this);return t.oldElementId=this.oldElementId,t.newElementId=this.newElementId,t},e.Events.Selected.prototype.fromJson=function(t){e.Events.Selected.superClass_.fromJson.call(this,t),this.oldElementId=t.oldElementId,this.newElementId=t.newElementId},e.registry.register(e.registry.Type.EVENT,e.Events.SELECTED,e.Events.Selected),e.IBoundedElement=function(){},e.ICopyable=function(){},e.RenderedConnection=function(t,n){e.RenderedConnection.superClass_.constructor.call(this,t,n),this.db_=t.workspace.connectionDBList[n],this.dbOpposite_=t.workspace.connectionDBList[e.OPPOSITE_TYPE[n]],this.offsetInBlock_=new e.utils.Coordinate(0,0),this.trackedState_=e.RenderedConnection.TrackedState.WILL_TRACK,this.targetConnection=null},e.utils.object.inherits(e.RenderedConnection,e.Connection),e.RenderedConnection.TrackedState={WILL_TRACK:-1,UNTRACKED:0,TRACKED:1},e.RenderedConnection.prototype.dispose=function(){e.RenderedConnection.superClass_.dispose.call(this),this.trackedState_==e.RenderedConnection.TrackedState.TRACKED&&this.db_.removeConnection(this,this.y)},e.RenderedConnection.prototype.getSourceBlock=function(){return e.RenderedConnection.superClass_.getSourceBlock.call(this)},e.RenderedConnection.prototype.targetBlock=function(){return e.RenderedConnection.superClass_.targetBlock.call(this)},e.RenderedConnection.prototype.distanceFrom=function(e){var t=this.x-e.x;return e=this.y-e.y,Math.sqrt(t*t+e*e)},e.RenderedConnection.prototype.bumpAwayFrom=function(t){if(!this.sourceBlock_.workspace.isDragging()){var n=this.sourceBlock_.getRootBlock();if(!n.isInFlyout){var r=!1;if(!n.isMovable()){if(!(n=t.getSourceBlock().getRootBlock()).isMovable())return;t=this,r=!0}var i=e.selected==n;i||n.addSelect();var o=t.x+e.SNAP_RADIUS+Math.floor(Math.random()*e.BUMP_RANDOMNESS)-this.x,s=t.y+e.SNAP_RADIUS+Math.floor(Math.random()*e.BUMP_RANDOMNESS)-this.y;r&&(s=-s),n.RTL&&(o=t.x-e.SNAP_RADIUS-Math.floor(Math.random()*e.BUMP_RANDOMNESS)-this.x),n.moveBy(o,s),i||n.removeSelect()}}},e.RenderedConnection.prototype.moveTo=function(t,n){this.trackedState_==e.RenderedConnection.TrackedState.WILL_TRACK?(this.db_.addConnection(this,n),this.trackedState_=e.RenderedConnection.TrackedState.TRACKED):this.trackedState_==e.RenderedConnection.TrackedState.TRACKED&&(this.db_.removeConnection(this,this.y),this.db_.addConnection(this,n)),this.x=t,this.y=n},e.RenderedConnection.prototype.moveBy=function(e,t){this.moveTo(this.x+e,this.y+t)},e.RenderedConnection.prototype.moveToOffset=function(e){this.moveTo(e.x+this.offsetInBlock_.x,e.y+this.offsetInBlock_.y)},e.RenderedConnection.prototype.setOffsetInBlock=function(e,t){this.offsetInBlock_.x=e,this.offsetInBlock_.y=t},e.RenderedConnection.prototype.getOffsetInBlock=function(){return this.offsetInBlock_},e.RenderedConnection.prototype.tighten=function(){var t=this.targetConnection.x-this.x,n=this.targetConnection.y-this.y;if(0!=t||0!=n){var r=this.targetBlock(),i=r.getSvgRoot();if(!i)throw Error("block is not rendered.");i=e.utils.getRelativeXY(i),r.getSvgRoot().setAttribute("transform","translate("+(i.x-t)+","+(i.y-n)+")"),r.moveConnections(-t,-n)}},e.RenderedConnection.prototype.closest=function(e,t){return this.dbOpposite_.searchForClosest(this,e,t)},e.RenderedConnection.prototype.highlight=function(){var t=this.sourceBlock_.workspace.getRenderer().getConstants(),n=t.shapeFor(this);this.type==e.connectionTypes.INPUT_VALUE||this.type==e.connectionTypes.OUTPUT_VALUE?(t=t.TAB_OFFSET_FROM_TOP,n=e.utils.svgPaths.moveBy(0,-t)+e.utils.svgPaths.lineOnAxis("v",t)+n.pathDown+e.utils.svgPaths.lineOnAxis("v",t)):(t=t.NOTCH_OFFSET_LEFT-t.CORNER_RADIUS,n=e.utils.svgPaths.moveBy(-t,0)+e.utils.svgPaths.lineOnAxis("h",t)+n.pathLeft+e.utils.svgPaths.lineOnAxis("h",t)),t=this.sourceBlock_.getRelativeToSurfaceXY(),e.Connection.highlightedPath_=e.utils.dom.createSvgElement(e.utils.Svg.PATH,{class:"blocklyHighlightedConnectionPath",d:n,transform:"translate("+(this.x-t.x)+","+(this.y-t.y)+")"+(this.sourceBlock_.RTL?" scale(-1 1)":"")},this.sourceBlock_.getSvgRoot())},e.RenderedConnection.prototype.unhighlight=function(){e.utils.dom.removeNode(e.Connection.highlightedPath_),delete e.Connection.highlightedPath_},e.RenderedConnection.prototype.setTracking=function(t){t&&this.trackedState_==e.RenderedConnection.TrackedState.TRACKED||!t&&this.trackedState_==e.RenderedConnection.TrackedState.UNTRACKED||this.sourceBlock_.isInFlyout||(t?(this.db_.addConnection(this,this.y),this.trackedState_=e.RenderedConnection.TrackedState.TRACKED):(this.trackedState_==e.RenderedConnection.TrackedState.TRACKED&&this.db_.removeConnection(this,this.y),this.trackedState_=e.RenderedConnection.TrackedState.UNTRACKED))},e.RenderedConnection.prototype.stopTrackingAll=function(){if(this.setTracking(!1),this.targetConnection)for(var e=this.targetBlock().getDescendants(!1),t=0;t<e.length;t++){for(var n=e[t],r=n.getConnections_(!0),i=0;i<r.length;i++)r[i].setTracking(!1);for(n=n.getIcons(),i=0;i<n.length;i++)n[i].setVisible(!1)}},e.RenderedConnection.prototype.startTrackingAll=function(){this.setTracking(!0);var t=[];if(this.type!=e.connectionTypes.INPUT_VALUE&&this.type!=e.connectionTypes.NEXT_STATEMENT)return t;var n=this.targetBlock();if(n){if(n.isCollapsed()){var r=[];n.outputConnection&&r.push(n.outputConnection),n.nextConnection&&r.push(n.nextConnection),n.previousConnection&&r.push(n.previousConnection)}else r=n.getConnections_(!0);for(var i=0;i<r.length;i++)t.push.apply(t,r[i].startTrackingAll());t.length||(t[0]=n)}return t},e.RenderedConnection.prototype.isConnectionAllowed=function(t,n){return e.utils.deprecation.warn("RenderedConnection.prototype.isConnectionAllowed","July 2020","July 2021","Blockly.Workspace.prototype.getConnectionChecker().canConnect"),!(this.distanceFrom(t)>n)&&e.RenderedConnection.superClass_.isConnectionAllowed.call(this,t)},e.RenderedConnection.prototype.onFailedConnect=function(t){var n=this.getSourceBlock();if(e.Events.recordUndo){var r=e.Events.getGroup();setTimeout(function(){n.isDisposed()||n.getParent()||(e.Events.setGroup(r),this.bumpAwayFrom(t),e.Events.setGroup(!1))}.bind(this),e.BUMP_DELAY)}},e.RenderedConnection.prototype.disconnectInternal_=function(t,n){e.RenderedConnection.superClass_.disconnectInternal_.call(this,t,n),t.rendered&&t.render(),n.rendered&&(n.updateDisabled(),n.render(),n.getSvgRoot().style.display="block")},e.RenderedConnection.prototype.respawnShadow_=function(){e.RenderedConnection.superClass_.respawnShadow_.call(this);var t=this.targetBlock();t&&(t.initSvg(),t.render(!1),(t=this.getSourceBlock()).rendered&&t.render())},e.RenderedConnection.prototype.neighbours=function(e){return this.dbOpposite_.getNeighbours(this,e)},e.RenderedConnection.prototype.connect_=function(t){e.RenderedConnection.superClass_.connect_.call(this,t);var n=this.getSourceBlock();t=t.getSourceBlock();var r=n.rendered,i=t.rendered;r&&n.updateDisabled(),i&&t.updateDisabled(),r&&i&&(this.type==e.connectionTypes.NEXT_STATEMENT||this.type==e.connectionTypes.PREVIOUS_STATEMENT?t.render():n.render()),(n=n.getInputWithBlock(t))&&(n=n.isVisible(),t.getSvgRoot().style.display=n?"block":"none")},e.RenderedConnection.prototype.onCheckChanged_=function(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||((this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug(),this.sourceBlock_.bumpNeighbours())},e.BasicCursor=function(){e.BasicCursor.superClass_.constructor.call(this)},e.utils.object.inherits(e.BasicCursor,e.Cursor),e.BasicCursor.registrationName="basicCursor",e.BasicCursor.prototype.next=function(){var e=this.getCurNode();return e?((e=this.getNextNode_(e,this.validNode_))&&this.setCurNode(e),e):null},e.BasicCursor.prototype.in=function(){return this.next()},e.BasicCursor.prototype.prev=function(){var e=this.getCurNode();return e?((e=this.getPreviousNode_(e,this.validNode_))&&this.setCurNode(e),e):null},e.BasicCursor.prototype.out=function(){return this.prev()},e.BasicCursor.prototype.getNextNode_=function(e,t){if(!e)return null;var n=e.in()||e.next();return t(n)?n:n?this.getNextNode_(n,t):t(e=this.findSiblingOrParent_(e.out()))?e:e?this.getNextNode_(e,t):null},e.BasicCursor.prototype.getPreviousNode_=function(e,t){if(!e)return null;var n=e.prev();return t(n=n?this.getRightMostChild_(n):e.out())?n:n?this.getPreviousNode_(n,t):null},e.BasicCursor.prototype.validNode_=function(t){var n=!1;return(t=t&&t.getType())!=e.ASTNode.types.OUTPUT&&t!=e.ASTNode.types.INPUT&&t!=e.ASTNode.types.FIELD&&t!=e.ASTNode.types.NEXT&&t!=e.ASTNode.types.PREVIOUS&&t!=e.ASTNode.types.WORKSPACE||(n=!0),n},e.BasicCursor.prototype.findSiblingOrParent_=function(e){if(!e)return null;var t=e.next();return t||this.findSiblingOrParent_(e.out())},e.BasicCursor.prototype.getRightMostChild_=function(e){if(!e.in())return e;for(e=e.in();e.next();)e=e.next();return this.getRightMostChild_(e)},e.registry.register(e.registry.Type.CURSOR,e.BasicCursor.registrationName,e.BasicCursor),e.TabNavigateCursor=function(){e.TabNavigateCursor.superClass_.constructor.call(this)},e.utils.object.inherits(e.TabNavigateCursor,e.BasicCursor),e.TabNavigateCursor.prototype.validNode_=function(t){var n=!1,r=t&&t.getType();return t&&(t=t.getLocation(),r==e.ASTNode.types.FIELD&&t&&t.isTabNavigable()&&t.isClickable()&&(n=!0)),n},e.BlockSvg=function(t,n,r){this.svgGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{},null),this.svgGroup_.translate_="",this.style=t.getRenderer().getConstants().getBlockStyle(null),this.pathObject=t.getRenderer().makePathObject(this.svgGroup_,this.style),this.renderIsInProgress_=this.rendered=!1,this.workspace=t,this.previousConnection=this.nextConnection=this.outputConnection=null,this.useDragSurface_=e.utils.is3dSupported()&&!!t.getBlockDragSurface();var i=this.pathObject.svgPath;i.tooltip=this,e.Tooltip.bindMouseEvents(i),e.BlockSvg.superClass_.constructor.call(this,t,n,r),this.svgGroup_.dataset?this.svgGroup_.dataset.id=this.id:e.utils.userAgent.IE&&this.svgGroup_.setAttribute("data-id",this.id)},e.utils.object.inherits(e.BlockSvg,e.Block),e.BlockSvg.prototype.height=0,e.BlockSvg.prototype.width=0,e.BlockSvg.prototype.warningTextDb_=null,e.BlockSvg.INLINE=-1,e.BlockSvg.COLLAPSED_WARNING_ID="TEMP_COLLAPSED_WARNING_",e.BlockSvg.prototype.initSvg=function(){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");for(var t,n=0;t=this.inputList[n];n++)t.init();for(t=this.getIcons(),n=0;n<t.length;n++)t[n].createIcon();this.applyColour(),this.pathObject.updateMovable(this.isMovable()),n=this.getSvgRoot(),this.workspace.options.readOnly||this.eventsInit_||!n||e.browserEvents.conditionalBind(n,"mousedown",this,this.onMouseDown_),this.eventsInit_=!0,n.parentNode||this.workspace.getCanvas().appendChild(n)},e.BlockSvg.prototype.getColourSecondary=function(){return this.style.colourSecondary},e.BlockSvg.prototype.getColourTertiary=function(){return this.style.colourTertiary},e.BlockSvg.prototype.getColourShadow=function(){return e.utils.deprecation.warn("BlockSvg.prototype.getColourShadow","January 2020","January 2021","style.colourSecondary"),this.getColourSecondary()},e.BlockSvg.prototype.getColourBorder=function(){return e.utils.deprecation.warn("BlockSvg.prototype.getColourBorder","January 2020","January 2021","style.colourTertiary"),{colourBorder:this.getColourTertiary(),colourLight:null,colourDark:null}},e.BlockSvg.prototype.select=function(){if(this.isShadow()&&this.getParent())this.getParent().select();else if(e.selected!=this){var t=null;if(e.selected){t=e.selected.id,e.Events.disable();try{e.selected.unselect()}finally{e.Events.enable()}}t=new(e.Events.get(e.Events.SELECTED))(t,this.id,this.workspace.id),e.Events.fire(t),e.selected=this,this.addSelect()}},e.BlockSvg.prototype.unselect=function(){if(e.selected==this){var t=new(e.Events.get(e.Events.SELECTED))(this.id,null,this.workspace.id);t.workspaceId=this.workspace.id,e.Events.fire(t),e.selected=null,this.removeSelect()}},e.BlockSvg.prototype.mutator=null,e.BlockSvg.prototype.comment=null,e.BlockSvg.prototype.commentIcon_=null,e.BlockSvg.prototype.warning=null,e.BlockSvg.prototype.getIcons=function(){var e=[];return this.mutator&&e.push(this.mutator),this.commentIcon_&&e.push(this.commentIcon_),this.warning&&e.push(this.warning),e},e.BlockSvg.prototype.setParent=function(t){var n=this.parentBlock_;if(t!=n){e.utils.dom.startTextWidthCache(),e.BlockSvg.superClass_.setParent.call(this,t),e.utils.dom.stopTextWidthCache();var r=this.getSvgRoot();if(!this.workspace.isClearing&&r){var i=this.getRelativeToSurfaceXY();t?(t.getSvgRoot().appendChild(r),t=this.getRelativeToSurfaceXY(),this.moveConnections(t.x-i.x,t.y-i.y)):n&&(this.workspace.getCanvas().appendChild(r),this.translate(i.x,i.y)),this.applyColour()}}},e.BlockSvg.prototype.getRelativeToSurfaceXY=function(){var t=0,n=0,r=this.useDragSurface_?this.workspace.getBlockDragSurface().getGroup():null,i=this.getSvgRoot();if(i)do{var o=e.utils.getRelativeXY(i);t+=o.x,n+=o.y,this.useDragSurface_&&this.workspace.getBlockDragSurface().getCurrentBlock()==i&&(t+=(o=this.workspace.getBlockDragSurface().getSurfaceTranslation()).x,n+=o.y),i=i.parentNode}while(i&&i!=this.workspace.getCanvas()&&i!=r);return new e.utils.Coordinate(t,n)},e.BlockSvg.prototype.moveBy=function(t,n){if(this.parentBlock_)throw Error("Block has parent.");var r=e.Events.isEnabled();if(r)var i=new(e.Events.get(e.Events.BLOCK_MOVE))(this);var o=this.getRelativeToSurfaceXY();this.translate(o.x+t,o.y+n),this.moveConnections(t,n),r&&(i.recordNew(),e.Events.fire(i)),this.workspace.resizeContents()},e.BlockSvg.prototype.translate=function(e,t){this.getSvgRoot().setAttribute("transform","translate("+e+","+t+")")},e.BlockSvg.prototype.moveToDragSurface=function(){if(this.useDragSurface_){var e=this.getRelativeToSurfaceXY();this.clearTransformAttributes_(),this.workspace.getBlockDragSurface().translateSurface(e.x,e.y),(e=this.getSvgRoot())&&this.workspace.getBlockDragSurface().setBlocksAndShow(e)}},e.BlockSvg.prototype.moveTo=function(e){var t=this.getRelativeToSurfaceXY();this.moveBy(e.x-t.x,e.y-t.y)},e.BlockSvg.prototype.moveOffDragSurface=function(e){this.useDragSurface_&&(this.translate(e.x,e.y),this.workspace.getBlockDragSurface().clearAndHide(this.workspace.getCanvas()))},e.BlockSvg.prototype.moveDuringDrag=function(e){this.useDragSurface_?this.workspace.getBlockDragSurface().translateSurface(e.x,e.y):(this.svgGroup_.translate_="translate("+e.x+","+e.y+")",this.svgGroup_.setAttribute("transform",this.svgGroup_.translate_+this.svgGroup_.skew_))},e.BlockSvg.prototype.clearTransformAttributes_=function(){this.getSvgRoot().removeAttribute("transform")},e.BlockSvg.prototype.snapToGrid=function(){if(this.workspace&&!this.workspace.isDragging()&&!this.getParent()&&!this.isInFlyout){var e=this.workspace.getGrid();if(e&&e.shouldSnap()){var t=e.getSpacing(),n=t/2,r=this.getRelativeToSurfaceXY();e=Math.round((r.x-n)/t)*t+n-r.x,t=Math.round((r.y-n)/t)*t+n-r.y,e=Math.round(e),t=Math.round(t),0==e&&0==t||this.moveBy(e,t)}}},e.BlockSvg.prototype.getBoundingRectangle=function(){var t=this.getRelativeToSurfaceXY(),n=this.getHeightWidth();if(this.RTL)var r=t.x-n.width,i=t.x;else r=t.x,i=t.x+n.width;return new e.utils.Rect(t.y,t.y+n.height,r,i)},e.BlockSvg.prototype.markDirty=function(){this.pathObject.constants=this.workspace.getRenderer().getConstants();for(var e,t=0;e=this.inputList[t];t++)e.markDirty()},e.BlockSvg.prototype.setCollapsed=function(t){this.collapsed_!=t&&(e.BlockSvg.superClass_.setCollapsed.call(this,t),t?this.rendered&&this.render():this.updateCollapsed_())},e.BlockSvg.prototype.updateCollapsed_=function(){for(var t,n=this.isCollapsed(),r=e.constants.COLLAPSED_INPUT_NAME,i=e.constants.COLLAPSED_FIELD_NAME,o=0;t=this.inputList[o];o++)t.name!=r&&t.setVisible(!n);if(n){for(t=this.getIcons(),o=0;n=t[o];o++)n.setVisible(!1);o=this.toString(e.COLLAPSE_CHARS),(t=this.getField(i))?t.setValue(o):(t=this.getInput(r)||this.appendDummyInput(r)).appendField(new e.FieldLabel(o),i)}else this.updateDisabled(),this.removeInput(r)},e.BlockSvg.prototype.tab=function(t,n){var r=new e.TabNavigateCursor;r.setCurNode(e.ASTNode.createFieldNode(t)),t=r.getCurNode(),n?r.next():r.prev(),(n=r.getCurNode())&&n!==t&&(n.getLocation().showEditor(),this.workspace.keyboardAccessibilityMode&&this.workspace.getCursor().setCurNode(n))},e.BlockSvg.prototype.onMouseDown_=function(e){var t=this.workspace&&this.workspace.getGesture(e);t&&t.handleBlockStart(e,this)},e.BlockSvg.prototype.showHelp=function(){var e="function"==typeof this.helpUrl?this.helpUrl():this.helpUrl;e&&window.open(e)},e.BlockSvg.prototype.generateContextMenu=function(){if(this.workspace.options.readOnly||!this.contextMenu)return null;var t=e.ContextMenuRegistry.registry.getContextMenuOptions(e.ContextMenuRegistry.ScopeType.BLOCK,{block:this});return this.customContextMenu&&this.customContextMenu(t),t},e.BlockSvg.prototype.showContextMenu=function(t){var n=this.generateContextMenu();n&&n.length&&(e.ContextMenu.show(t,n,this.RTL),e.ContextMenu.currentBlock=this)},e.BlockSvg.prototype.moveConnections=function(e,t){if(this.rendered){for(var n=this.getConnections_(!1),r=0;r<n.length;r++)n[r].moveBy(e,t);for(n=this.getIcons(),r=0;r<n.length;r++)n[r].computeIconLocation();for(r=0;r<this.childBlocks_.length;r++)this.childBlocks_[r].moveConnections(e,t)}},e.BlockSvg.prototype.setDragging=function(t){if(t){var n=this.getSvgRoot();n.translate_="",n.skew_="",e.draggingConnections=e.draggingConnections.concat(this.getConnections_(!0)),e.utils.dom.addClass(this.svgGroup_,"blocklyDragging")}else e.draggingConnections=[],e.utils.dom.removeClass(this.svgGroup_,"blocklyDragging");for(n=0;n<this.childBlocks_.length;n++)this.childBlocks_[n].setDragging(t)},e.BlockSvg.prototype.setMovable=function(t){e.BlockSvg.superClass_.setMovable.call(this,t),this.pathObject.updateMovable(t)},e.BlockSvg.prototype.setEditable=function(t){e.BlockSvg.superClass_.setEditable.call(this,t),t=this.getIcons();for(var n=0;n<t.length;n++)t[n].updateEditable()},e.BlockSvg.prototype.setShadow=function(t){e.BlockSvg.superClass_.setShadow.call(this,t),this.applyColour()},e.BlockSvg.prototype.setInsertionMarker=function(e){this.isInsertionMarker_!=e&&(this.isInsertionMarker_=e)&&(this.setColour(this.workspace.getRenderer().getConstants().INSERTION_MARKER_COLOUR),this.pathObject.updateInsertionMarker(!0))},e.BlockSvg.prototype.getSvgRoot=function(){return this.svgGroup_},e.BlockSvg.prototype.dispose=function(t,n){if(this.workspace){e.Tooltip.dispose(),e.Tooltip.unbindMouseEvents(this.pathObject.svgPath),e.utils.dom.startTextWidthCache();var r=this.workspace;if(e.selected==this&&(this.unselect(),this.workspace.cancelCurrentGesture()),e.ContextMenu.currentBlock==this&&e.ContextMenu.hide(),n&&this.rendered&&(this.unplug(t),e.blockAnimations.disposeUiEffect(this)),this.rendered=!1,this.warningTextDb_){for(var i in this.warningTextDb_)clearTimeout(this.warningTextDb_[i]);this.warningTextDb_=null}for(n=this.getIcons(),i=0;i<n.length;i++)n[i].dispose();e.BlockSvg.superClass_.dispose.call(this,!!t),e.utils.dom.removeNode(this.svgGroup_),r.resizeContents(),this.svgGroup_=null,e.utils.dom.stopTextWidthCache()}},e.BlockSvg.prototype.toCopyData=function(){if(this.isInsertionMarker_)return null;var t=e.Xml.blockToDom(this,!0);e.Xml.deleteNext(t);var n=this.getRelativeToSurfaceXY();return t.setAttribute("x",this.RTL?-n.x:n.x),t.setAttribute("y",n.y),{xml:t,source:this.workspace,typeCounts:e.utils.getBlockTypeCounts(this,!0)}},e.BlockSvg.prototype.applyColour=function(){this.pathObject.applyColour(this);for(var e=this.getIcons(),t=0;t<e.length;t++)e[t].applyColour();for(e=0;t=this.inputList[e];e++)for(var n,r=0;n=t.fieldRow[r];r++)n.applyColour()},e.BlockSvg.prototype.updateDisabled=function(){var e=this.getChildren(!1);if(this.applyColour(),!this.isCollapsed())for(var t,n=0;t=e[n];n++)t.rendered&&t.updateDisabled()},e.BlockSvg.prototype.getCommentIcon=function(){return this.commentIcon_},e.BlockSvg.prototype.setCommentText=function(t){if(!e.Comment)throw Error("Missing require for Blockly.Comment");this.commentModel.text!=t&&(e.BlockSvg.superClass_.setCommentText.call(this,t),t=null!=t,!!this.commentIcon_==t?this.commentIcon_.updateText():(t?this.comment=this.commentIcon_=new e.Comment(this):(this.commentIcon_.dispose(),this.comment=this.commentIcon_=null),this.rendered&&(this.render(),this.bumpNeighbours())))},e.BlockSvg.prototype.setWarningText=function(t,n){if(!e.Warning)throw Error("Missing require for Blockly.Warning");this.warningTextDb_||(this.warningTextDb_=Object.create(null));var r=n||"";if(r)this.warningTextDb_[r]&&(clearTimeout(this.warningTextDb_[r]),delete this.warningTextDb_[r]);else for(var i in this.warningTextDb_)clearTimeout(this.warningTextDb_[i]),delete this.warningTextDb_[i];if(this.workspace.isDragging()){var o=this;this.warningTextDb_[r]=setTimeout((function(){o.workspace&&(delete o.warningTextDb_[r],o.setWarningText(t,r))}),100)}else{if(this.isInFlyout&&(t=null),n=!1,"string"==typeof t){i=this.getSurroundParent();for(var s=null;i;)i.isCollapsed()&&(s=i),i=i.getSurroundParent();s&&s.setWarningText(e.Msg.COLLAPSED_WARNINGS_WARNING,e.BlockSvg.COLLAPSED_WARNING_ID),this.warning||(this.warning=new e.Warning(this),n=!0),this.warning.setText(t,r)}else this.warning&&!r?(this.warning.dispose(),n=!0):this.warning&&(n=this.warning.getText(),this.warning.setText("",r),(i=this.warning.getText())||this.warning.dispose(),n=n!=i);n&&this.rendered&&(this.render(),this.bumpNeighbours())}},e.BlockSvg.prototype.setMutator=function(e){this.mutator&&this.mutator!==e&&this.mutator.dispose(),e&&(e.setBlock(this),this.mutator=e,e.createIcon()),this.rendered&&(this.render(),this.bumpNeighbours())},e.BlockSvg.prototype.setEnabled=function(t){this.isEnabled()!=t&&(e.BlockSvg.superClass_.setEnabled.call(this,t),this.rendered&&!this.getInheritedDisabled()&&this.updateDisabled())},e.BlockSvg.prototype.setHighlighted=function(e){this.rendered&&this.pathObject.updateHighlighted(e)},e.BlockSvg.prototype.addSelect=function(){this.pathObject.updateSelected(!0)},e.BlockSvg.prototype.removeSelect=function(){this.pathObject.updateSelected(!1)},e.BlockSvg.prototype.setDeleteStyle=function(e){this.pathObject.updateDraggingDelete(e)},e.BlockSvg.prototype.getColour=function(){return this.style.colourPrimary},e.BlockSvg.prototype.setColour=function(t){e.BlockSvg.superClass_.setColour.call(this,t),t=this.workspace.getRenderer().getConstants().getBlockStyleForColour(this.colour_),this.pathObject.setStyle(t.style),this.style=t.style,this.styleName_=t.name,this.applyColour()},e.BlockSvg.prototype.setStyle=function(e){var t=this.workspace.getRenderer().getConstants().getBlockStyle(e);if(this.styleName_=e,!t)throw Error("Invalid style name: "+e);this.hat=t.hat,this.pathObject.setStyle(t),this.colour_=t.colourPrimary,this.style=t,this.applyColour()},e.BlockSvg.prototype.bringToFront=function(){var e=this;do{var t=e.getSvgRoot(),n=t.parentNode,r=n.childNodes;r[r.length-1]!==t&&n.appendChild(t),e=e.getParent()}while(e)},e.BlockSvg.prototype.setPreviousStatement=function(t,n){e.BlockSvg.superClass_.setPreviousStatement.call(this,t,n),this.rendered&&(this.render(),this.bumpNeighbours())},e.BlockSvg.prototype.setNextStatement=function(t,n){e.BlockSvg.superClass_.setNextStatement.call(this,t,n),this.rendered&&(this.render(),this.bumpNeighbours())},e.BlockSvg.prototype.setOutput=function(t,n){e.BlockSvg.superClass_.setOutput.call(this,t,n),this.rendered&&(this.render(),this.bumpNeighbours())},e.BlockSvg.prototype.setInputsInline=function(t){e.BlockSvg.superClass_.setInputsInline.call(this,t),this.rendered&&(this.render(),this.bumpNeighbours())},e.BlockSvg.prototype.removeInput=function(t,n){return t=e.BlockSvg.superClass_.removeInput.call(this,t,n),this.rendered&&(this.render(),this.bumpNeighbours()),t},e.BlockSvg.prototype.moveNumberedInputBefore=function(t,n){e.BlockSvg.superClass_.moveNumberedInputBefore.call(this,t,n),this.rendered&&(this.render(),this.bumpNeighbours())},e.BlockSvg.prototype.appendInput_=function(t,n){return t=e.BlockSvg.superClass_.appendInput_.call(this,t,n),this.rendered&&(this.render(),this.bumpNeighbours()),t},e.BlockSvg.prototype.setConnectionTracking=function(e){if(this.previousConnection&&this.previousConnection.setTracking(e),this.outputConnection&&this.outputConnection.setTracking(e),this.nextConnection){this.nextConnection.setTracking(e);var t=this.nextConnection.targetBlock();t&&t.setConnectionTracking(e)}if(!this.collapsed_)for(t=0;t<this.inputList.length;t++){var n=this.inputList[t].connection;n&&(n.setTracking(e),(n=n.targetBlock())&&n.setConnectionTracking(e))}},e.BlockSvg.prototype.getConnections_=function(e){var t=[];if((e||this.rendered)&&(this.outputConnection&&t.push(this.outputConnection),this.previousConnection&&t.push(this.previousConnection),this.nextConnection&&t.push(this.nextConnection),e||!this.collapsed_)){e=0;for(var n;n=this.inputList[e];e++)n.connection&&t.push(n.connection)}return t},e.BlockSvg.prototype.lastConnectionInStack=function(t){return e.BlockSvg.superClass_.lastConnectionInStack.call(this,t)},e.BlockSvg.prototype.getMatchingConnection=function(t,n){return e.BlockSvg.superClass_.getMatchingConnection.call(this,t,n)},e.BlockSvg.prototype.makeConnection_=function(t){return new e.RenderedConnection(this,t)},e.BlockSvg.prototype.bumpNeighbours=function(){if(this.workspace&&!this.workspace.isDragging()){var t=this.getRootBlock();if(!t.isInFlyout)for(var n,r=this.getConnections_(!1),i=0;n=r[i];i++){n.isConnected()&&n.isSuperior()&&n.targetBlock().bumpNeighbours();for(var o,s=n.neighbours(e.SNAP_RADIUS),a=0;o=s[a];a++)n.isConnected()&&o.isConnected()||o.getSourceBlock().getRootBlock()!=t&&(n.isSuperior()?o.bumpAwayFrom(n):n.bumpAwayFrom(o))}}},e.BlockSvg.prototype.scheduleSnapAndBump=function(){var t=this,n=e.Events.getGroup();setTimeout((function(){e.Events.setGroup(n),t.snapToGrid(),e.Events.setGroup(!1)}),e.BUMP_DELAY/2),setTimeout((function(){e.Events.setGroup(n),t.bumpNeighbours(),e.Events.setGroup(!1)}),e.BUMP_DELAY)},e.BlockSvg.prototype.positionNearConnection=function(t,n){t.type!=e.connectionTypes.NEXT_STATEMENT&&t.type!=e.connectionTypes.INPUT_VALUE||this.moveBy(n.x-t.x,n.y-t.y)},e.BlockSvg.prototype.getParent=function(){return e.BlockSvg.superClass_.getParent.call(this)},e.BlockSvg.prototype.getRootBlock=function(){return e.BlockSvg.superClass_.getRootBlock.call(this)},e.BlockSvg.prototype.render=function(t){if(!this.renderIsInProgress_){this.renderIsInProgress_=!0;try{if(this.rendered=!0,e.utils.dom.startTextWidthCache(),this.isCollapsed()&&this.updateCollapsed_(),this.workspace.getRenderer().render(this),this.updateConnectionLocations_(),!1!==t){var n=this.getParent();n?n.render(!0):this.workspace.resizeContents()}e.utils.dom.stopTextWidthCache(),this.updateMarkers_()}finally{this.renderIsInProgress_=!1}}},e.BlockSvg.prototype.updateMarkers_=function(){this.workspace.keyboardAccessibilityMode&&this.pathObject.cursorSvg&&this.workspace.getCursor().draw(),this.workspace.keyboardAccessibilityMode&&this.pathObject.markerSvg&&this.workspace.getMarker(e.MarkerManager.LOCAL_MARKER).draw()},e.BlockSvg.prototype.updateConnectionLocations_=function(){var e=this.getRelativeToSurfaceXY();this.previousConnection&&this.previousConnection.moveToOffset(e),this.outputConnection&&this.outputConnection.moveToOffset(e);for(var t=0;t<this.inputList.length;t++){var n=this.inputList[t].connection;n&&(n.moveToOffset(e),n.isConnected()&&n.tighten())}this.nextConnection&&(this.nextConnection.moveToOffset(e),this.nextConnection.isConnected()&&this.nextConnection.tighten())},e.BlockSvg.prototype.setCursorSvg=function(e){this.pathObject.setCursorSvg(e)},e.BlockSvg.prototype.setMarkerSvg=function(e){this.pathObject.setMarkerSvg(e)},e.BlockSvg.prototype.getHeightWidth=function(){var e=this.height,t=this.width,n=this.getNextBlock();if(n){n=n.getHeightWidth();var r=this.workspace.getRenderer().getConstants().NOTCH_HEIGHT;e+=n.height-r,t=Math.max(t,n.width)}return{height:e,width:t}},e.BlockSvg.prototype.fadeForReplacement=function(e){this.pathObject.updateReplacementFade(e)},e.BlockSvg.prototype.highlightShapeForInput=function(e,t){this.pathObject.updateShapeForInputHighlight(e,t)},e.ConnectionDB=function(e){this.connections_=[],this.connectionChecker_=e},e.ConnectionDB.prototype.addConnection=function(e,t){t=this.calculateIndexForYPos_(t),this.connections_.splice(t,0,e)},e.ConnectionDB.prototype.findIndexOfConnection_=function(e,t){if(!this.connections_.length)return-1;var n=this.calculateIndexForYPos_(t);if(n>=this.connections_.length)return-1;t=e.y;for(var r=n;0<=r&&this.connections_[r].y==t;){if(this.connections_[r]==e)return r;r--}for(r=n;r<this.connections_.length&&this.connections_[r].y==t;){if(this.connections_[r]==e)return r;r++}return-1},e.ConnectionDB.prototype.calculateIndexForYPos_=function(e){if(!this.connections_.length)return 0;for(var t=0,n=this.connections_.length;t<n;){var r=Math.floor((t+n)/2);if(this.connections_[r].y<e)t=r+1;else{if(!(this.connections_[r].y>e)){t=r;break}n=r}}return t},e.ConnectionDB.prototype.removeConnection=function(e,t){if(-1==(e=this.findIndexOfConnection_(e,t)))throw Error("Unable to find connection in connectionDB.");this.connections_.splice(e,1)},e.ConnectionDB.prototype.getNeighbours=function(e,t){function n(e){var n=i-r[e].x,s=o-r[e].y;return Math.sqrt(n*n+s*s)<=t&&l.push(r[e]),s<t}var r=this.connections_,i=e.x,o=e.y;e=0;for(var s=r.length-2,a=s;e<a;)r[a].y<o?e=a:s=a,a=Math.floor((e+s)/2);var l=[];if(s=e=a,r.length){for(;0<=e&&n(e);)e--;do{s++}while(s<r.length&&n(s))}return l},e.ConnectionDB.prototype.isInYRange_=function(e,t,n){return Math.abs(this.connections_[e].y-t)<=n},e.ConnectionDB.prototype.searchForClosest=function(e,t,n){if(!this.connections_.length)return{connection:null,radius:t};var r=e.y,i=e.x;e.x=i+n.x,e.y=r+n.y;var o=this.calculateIndexForYPos_(e.y);n=null;for(var s,a=t,l=o-1;0<=l&&this.isInYRange_(l,e.y,t);)s=this.connections_[l],this.connectionChecker_.canConnect(e,s,!0,a)&&(n=s,a=s.distanceFrom(e)),l--;for(;o<this.connections_.length&&this.isInYRange_(o,e.y,t);)s=this.connections_[o],this.connectionChecker_.canConnect(e,s,!0,a)&&(n=s,a=s.distanceFrom(e)),o++;return e.x=i,e.y=r,{connection:n,radius:a}},e.ConnectionDB.init=function(t){var n=[];return n[e.connectionTypes.INPUT_VALUE]=new e.ConnectionDB(t),n[e.connectionTypes.OUTPUT_VALUE]=new e.ConnectionDB(t),n[e.connectionTypes.NEXT_STATEMENT]=new e.ConnectionDB(t),n[e.connectionTypes.PREVIOUS_STATEMENT]=new e.ConnectionDB(t),n},e.Events.ThemeChange=function(t,n){e.Events.ThemeChange.superClass_.constructor.call(this,n),this.themeName=t},e.utils.object.inherits(e.Events.ThemeChange,e.Events.UiBase),e.Events.ThemeChange.prototype.type=e.Events.THEME_CHANGE,e.Events.ThemeChange.prototype.toJson=function(){var t=e.Events.ThemeChange.superClass_.toJson.call(this);return t.themeName=this.themeName,t},e.Events.ThemeChange.prototype.fromJson=function(t){e.Events.ThemeChange.superClass_.fromJson.call(this,t),this.themeName=t.themeName},e.registry.register(e.registry.Type.EVENT,e.Events.THEME_CHANGE,e.Events.ThemeChange),e.Events.ViewportChange=function(t,n,r,i,o){e.Events.ViewportChange.superClass_.constructor.call(this,i),this.viewTop=t,this.viewLeft=n,this.scale=r,this.oldScale=o},e.utils.object.inherits(e.Events.ViewportChange,e.Events.UiBase),e.Events.ViewportChange.prototype.type=e.Events.VIEWPORT_CHANGE,e.Events.ViewportChange.prototype.toJson=function(){var t=e.Events.ViewportChange.superClass_.toJson.call(this);return t.viewTop=this.viewTop,t.viewLeft=this.viewLeft,t.scale=this.scale,t.oldScale=this.oldScale,t},e.Events.ViewportChange.prototype.fromJson=function(t){e.Events.ViewportChange.superClass_.fromJson.call(this,t),this.viewTop=t.viewTop,this.viewLeft=t.viewLeft,this.scale=t.scale,this.oldScale=t.oldScale},e.registry.register(e.registry.Type.EVENT,e.Events.VIEWPORT_CHANGE,e.Events.ViewportChange),e.IMetricsManager=function(){},e.MetricsManager=function(e){this.workspace_=e},e.MetricsManager.prototype.getDimensionsPx_=function(t){var n=0,r=0;return t&&(n=t.getWidth(),r=t.getHeight()),new e.utils.Size(n,r)},e.MetricsManager.prototype.getFlyoutMetrics=function(e){return{width:(e=this.getDimensionsPx_(this.workspace_.getFlyout(e))).width,height:e.height,position:this.workspace_.toolboxPosition}},e.MetricsManager.prototype.getToolboxMetrics=function(){var e=this.getDimensionsPx_(this.workspace_.getToolbox());return{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}},e.MetricsManager.prototype.getSvgMetrics=function(){return this.workspace_.getCachedParentSvgSize()},e.MetricsManager.prototype.getAbsoluteMetrics=function(){var t=0,n=this.getToolboxMetrics(),r=this.getFlyoutMetrics(!0),i=!!this.workspace_.getToolbox(),o=!!this.workspace_.getFlyout(!0),s=i?n.position:r.position,a=s==e.utils.toolbox.Position.LEFT;return s=s==e.utils.toolbox.Position.TOP,i&&a?t=n.width:o&&a&&(t=r.width),a=0,i&&s?a=n.height:o&&s&&(a=r.height),{top:a,left:t}},e.MetricsManager.prototype.getViewMetrics=function(t){t=t?this.workspace_.scale:1;var n=this.getSvgMetrics(),r=this.getToolboxMetrics(),i=this.getFlyoutMetrics(!0),o=this.workspace_.getToolbox()?r.position:i.position;return this.workspace_.getToolbox()?o==e.utils.toolbox.Position.TOP||o==e.utils.toolbox.Position.BOTTOM?n.height-=r.height:o!=e.utils.toolbox.Position.LEFT&&o!=e.utils.toolbox.Position.RIGHT||(n.width-=r.width):this.workspace_.getFlyout(!0)&&(o==e.utils.toolbox.Position.TOP||o==e.utils.toolbox.Position.BOTTOM?n.height-=i.height:o!=e.utils.toolbox.Position.LEFT&&o!=e.utils.toolbox.Position.RIGHT||(n.width-=i.width)),{height:n.height/t,width:n.width/t,top:-this.workspace_.scrollY/t,left:-this.workspace_.scrollX/t}},e.MetricsManager.prototype.getContentMetrics=function(e){e=e?1:this.workspace_.scale;var t=this.workspace_.getBlocksBoundingBox();return{height:(t.bottom-t.top)*e,width:(t.right-t.left)*e,top:t.top*e,left:t.left*e}},e.MetricsManager.prototype.hasFixedEdges=function(){return!this.workspace_.isMovableHorizontally()||!this.workspace_.isMovableVertically()},e.MetricsManager.prototype.getComputedFixedEdges_=function(e){if(!this.hasFixedEdges())return{};var t=this.workspace_.isMovableHorizontally(),n=this.workspace_.isMovableVertically();e=e||this.getViewMetrics(!1);var r={};return n||(r.top=e.top,r.bottom=e.top+e.height),t||(r.left=e.left,r.right=e.left+e.width),r},e.MetricsManager.prototype.getPaddedContent_=function(e,t){var n=t.top+t.height,r=t.left+t.width,i=e.width,o=i/2,s=(e=e.height)/2;return{top:Math.min(t.top-s,n-e),bottom:Math.max(n+s,t.top+e),left:Math.min(t.left-o,r-i),right:Math.max(r+o,t.left+i)}},e.MetricsManager.prototype.getScrollMetrics=function(e,t,n){e=e?this.workspace_.scale:1,t=t||this.getViewMetrics(!1);var r=n||this.getContentMetrics();n=this.getComputedFixedEdges_(t),t=this.getPaddedContent_(t,r),r=void 0!==n.top?n.top:t.top;var i=void 0!==n.left?n.left:t.left;return{top:r/e,left:i/e,width:((void 0!==n.right?n.right:t.right)-i)/e,height:((void 0!==n.bottom?n.bottom:t.bottom)-r)/e}},e.MetricsManager.prototype.getUiMetrics=function(){return{viewMetrics:this.getViewMetrics(),absoluteMetrics:this.getAbsoluteMetrics(),toolboxMetrics:this.getToolboxMetrics()}},e.MetricsManager.prototype.getMetrics=function(){var e=this.getToolboxMetrics(),t=this.getFlyoutMetrics(!0),n=this.getSvgMetrics(),r=this.getAbsoluteMetrics(),i=this.getViewMetrics(),o=this.getContentMetrics(),s=this.getScrollMetrics(!1,i,o);return{contentHeight:o.height,contentWidth:o.width,contentTop:o.top,contentLeft:o.left,scrollHeight:s.height,scrollWidth:s.width,scrollTop:s.top,scrollLeft:s.left,viewHeight:i.height,viewWidth:i.width,viewTop:i.top,viewLeft:i.left,absoluteTop:r.top,absoluteLeft:r.left,svgHeight:n.height,svgWidth:n.width,toolboxWidth:e.width,toolboxHeight:e.height,toolboxPosition:e.position,flyoutWidth:t.width,flyoutHeight:t.height}},e.registry.register(e.registry.Type.METRICS_MANAGER,e.registry.DEFAULT,e.MetricsManager),e.FlyoutMetricsManager=function(t,n){this.flyout_=n,e.FlyoutMetricsManager.superClass_.constructor.call(this,t)},e.utils.object.inherits(e.FlyoutMetricsManager,e.MetricsManager),e.FlyoutMetricsManager.prototype.getBoundingBox_=function(){try{var e=this.workspace_.getCanvas().getBBox()}catch(t){e={height:0,y:0,width:0,x:0}}return e},e.FlyoutMetricsManager.prototype.getContentMetrics=function(e){var t=this.getBoundingBox_();return e=e?1:this.workspace_.scale,{height:t.height*e,width:t.width*e,top:t.y*e,left:t.x*e}},e.FlyoutMetricsManager.prototype.getScrollMetrics=function(e,t,n){return t=n||this.getContentMetrics(),n=this.flyout_.MARGIN*this.workspace_.scale,e=e?this.workspace_.scale:1,{height:(t.height+2*n)/e,width:(t.width+t.left+n)/e,top:0,left:0}},e.ThemeManager=function(e,t){this.workspace_=e,this.theme_=t,this.subscribedWorkspaces_=[],this.componentDB_=Object.create(null)},e.ThemeManager.prototype.getTheme=function(){return this.theme_},e.ThemeManager.prototype.setTheme=function(t){var n,r=this.theme_;for(this.theme_=t,(t=this.workspace_.getInjectionDiv())&&(r&&e.utils.dom.removeClass(t,r.getClassName()),e.utils.dom.addClass(t,this.theme_.getClassName())),r=0;t=this.subscribedWorkspaces_[r];r++)t.refreshTheme();for(r=0,t=Object.keys(this.componentDB_);n=t[r];r++)for(var i,o=0;i=this.componentDB_[n][o];o++){var s=i.element;i=i.propertyName;var a=this.theme_&&this.theme_.getComponentStyle(n);s.style[i]=a||""}e.hideChaff()},e.ThemeManager.prototype.subscribeWorkspace=function(e){this.subscribedWorkspaces_.push(e)},e.ThemeManager.prototype.unsubscribeWorkspace=function(e){if(0>(e=this.subscribedWorkspaces_.indexOf(e)))throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");this.subscribedWorkspaces_.splice(e,1)},e.ThemeManager.prototype.subscribe=function(e,t,n){this.componentDB_[t]||(this.componentDB_[t]=[]),this.componentDB_[t].push({element:e,propertyName:n}),t=this.theme_&&this.theme_.getComponentStyle(t),e.style[n]=t||""},e.ThemeManager.prototype.unsubscribe=function(e){if(e)for(var t,n=Object.keys(this.componentDB_),r=0;t=n[r];r++){for(var i=this.componentDB_[t],o=i.length-1;0<=o;o--)i[o].element===e&&i.splice(o,1);this.componentDB_[t].length||delete this.componentDB_[t]}},e.ThemeManager.prototype.dispose=function(){this.componentDB_=this.subscribedWorkspaces_=this.theme_=this.owner_=null},e.TouchGesture=function(t,n){e.TouchGesture.superClass_.constructor.call(this,t,n),this.isMultiTouch_=!1,this.cachedPoints_=Object.create(null),this.startDistance_=this.previousScale_=0,this.isPinchZoomEnabled_=this.onStartWrapper_=null},e.utils.object.inherits(e.TouchGesture,e.Gesture),e.TouchGesture.ZOOM_IN_MULTIPLIER=5,e.TouchGesture.ZOOM_OUT_MULTIPLIER=6,e.TouchGesture.prototype.doStart=function(t){this.isPinchZoomEnabled_=this.startWorkspace_.options.zoomOptions&&this.startWorkspace_.options.zoomOptions.pinch,e.TouchGesture.superClass_.doStart.call(this,t),!this.isEnding_&&e.Touch.isTouchEvent(t)&&this.handleTouchStart(t)},e.TouchGesture.prototype.bindMouseEvents=function(t){this.onStartWrapper_=e.browserEvents.conditionalBind(document,"mousedown",null,this.handleStart.bind(this),!0),this.onMoveWrapper_=e.browserEvents.conditionalBind(document,"mousemove",null,this.handleMove.bind(this),!0),this.onUpWrapper_=e.browserEvents.conditionalBind(document,"mouseup",null,this.handleUp.bind(this),!0),t.preventDefault(),t.stopPropagation()},e.TouchGesture.prototype.handleStart=function(t){!this.isDragging()&&e.Touch.isTouchEvent(t)&&(this.handleTouchStart(t),this.isMultiTouch()&&e.longStop_())},e.TouchGesture.prototype.handleMove=function(t){this.isDragging()?e.Touch.shouldHandleEvent(t)&&e.TouchGesture.superClass_.handleMove.call(this,t):this.isMultiTouch()?(e.Touch.isTouchEvent(t)&&this.handleTouchMove(t),e.longStop_()):e.TouchGesture.superClass_.handleMove.call(this,t)},e.TouchGesture.prototype.handleUp=function(t){e.Touch.isTouchEvent(t)&&!this.isDragging()&&this.handleTouchEnd(t),!this.isMultiTouch()||this.isDragging()?e.Touch.shouldHandleEvent(t)&&e.TouchGesture.superClass_.handleUp.call(this,t):(t.preventDefault(),t.stopPropagation(),this.dispose())},e.TouchGesture.prototype.isMultiTouch=function(){return this.isMultiTouch_},e.TouchGesture.prototype.dispose=function(){e.TouchGesture.superClass_.dispose.call(this),this.onStartWrapper_&&e.browserEvents.unbind(this.onStartWrapper_)},e.TouchGesture.prototype.handleTouchStart=function(t){var n=e.Touch.getTouchIdentifierFromEvent(t);this.cachedPoints_[n]=this.getTouchPoint(t),2==(n=Object.keys(this.cachedPoints_)).length&&(this.startDistance_=e.utils.Coordinate.distance(this.cachedPoints_[n[0]],this.cachedPoints_[n[1]]),this.isMultiTouch_=!0,t.preventDefault())},e.TouchGesture.prototype.handleTouchMove=function(t){var n=e.Touch.getTouchIdentifierFromEvent(t);this.cachedPoints_[n]=this.getTouchPoint(t),n=Object.keys(this.cachedPoints_),this.isPinchZoomEnabled_&&2===n.length?this.handlePinch_(t):e.TouchGesture.superClass_.handleMove.call(this,t)},e.TouchGesture.prototype.handlePinch_=function(t){var n=Object.keys(this.cachedPoints_);if(n=e.utils.Coordinate.distance(this.cachedPoints_[n[0]],this.cachedPoints_[n[1]])/this.startDistance_,0<this.previousScale_&&1/0>this.previousScale_){var r=n-this.previousScale_;r=0<r?r*e.TouchGesture.ZOOM_IN_MULTIPLIER:r*e.TouchGesture.ZOOM_OUT_MULTIPLIER;var i=this.startWorkspace_,o=e.utils.mouseToSvg(t,i.getParentSvg(),i.getInverseScreenCTM());i.zoom(o.x,o.y,r)}this.previousScale_=n,t.preventDefault()},e.TouchGesture.prototype.handleTouchEnd=function(t){t=e.Touch.getTouchIdentifierFromEvent(t),this.cachedPoints_[t]&&delete this.cachedPoints_[t],2>Object.keys(this.cachedPoints_).length&&(this.cachedPoints_=Object.create(null),this.previousScale_=0)},e.TouchGesture.prototype.getTouchPoint=function(t){return this.startWorkspace_?new e.utils.Coordinate(t.pageX?t.pageX:t.changedTouches[0].pageX,t.pageY?t.pageY:t.changedTouches[0].pageY):null},e.WorkspaceAudio=function(e){this.parentWorkspace_=e,this.SOUNDS_=Object.create(null)},e.WorkspaceAudio.prototype.lastSound_=null,e.WorkspaceAudio.prototype.dispose=function(){this.SOUNDS_=this.parentWorkspace_=null},e.WorkspaceAudio.prototype.load=function(t,n){if(t.length){try{var r=new e.utils.global.Audio}catch(l){return}for(var i,o=0;o<t.length;o++){var s=t[o],a=s.match(/\.(\w+)$/);if(a&&r.canPlayType("audio/"+a[1])){i=new e.utils.global.Audio(s);break}}i&&i.play&&(this.SOUNDS_[n]=i)}},e.WorkspaceAudio.prototype.preload=function(){for(var t in this.SOUNDS_){var n=this.SOUNDS_[t];n.volume=.01;var r=n.play();if(void 0!==r?r.then(n.pause).catch((function(){})):n.pause(),e.utils.userAgent.IPAD||e.utils.userAgent.IPHONE)break}},e.WorkspaceAudio.prototype.play=function(t,n){var r=this.SOUNDS_[t];r?(t=new Date,null!=this.lastSound_&&t-this.lastSound_<e.SOUND_LIMIT||(this.lastSound_=t,(r=e.utils.userAgent.IPAD||e.utils.userAgent.ANDROID?r:r.cloneNode()).volume=void 0===n?1:n,r.play())):this.parentWorkspace_&&this.parentWorkspace_.getAudioManager().play(t,n)},e.WorkspaceSvg=function(t,n,r){e.WorkspaceSvg.superClass_.constructor.call(this,t),this.metricsManager_=new(e.registry.getClassFromOptions(e.registry.Type.METRICS_MANAGER,t,!0))(this),this.getMetrics=t.getMetrics||this.metricsManager_.getMetrics.bind(this.metricsManager_),this.setMetrics=t.setMetrics||e.WorkspaceSvg.setTopLevelWorkspaceMetrics_,this.componentManager_=new e.ComponentManager,this.connectionDBList=e.ConnectionDB.init(this.connectionChecker),n&&(this.blockDragSurface_=n),r&&(this.workspaceDragSurface_=r),this.useWorkspaceDragSurface_=!!this.workspaceDragSurface_&&e.utils.is3dSupported(),this.highlightedBlocks_=[],this.audioManager_=new e.WorkspaceAudio(t.parentWorkspace),this.grid_=this.options.gridPattern?new e.Grid(this.options.gridPattern,t.gridOptions):null,this.markerManager_=new e.MarkerManager(this),this.toolboxCategoryCallbacks_=Object.create(null),this.flyoutButtonCallbacks_=Object.create(null),e.Variables&&e.Variables.flyoutCategory&&this.registerToolboxCategoryCallback(e.VARIABLE_CATEGORY_NAME,e.Variables.flyoutCategory),e.VariablesDynamic&&e.VariablesDynamic.flyoutCategory&&this.registerToolboxCategoryCallback(e.VARIABLE_DYNAMIC_CATEGORY_NAME,e.VariablesDynamic.flyoutCategory),e.Procedures&&e.Procedures.flyoutCategory&&(this.registerToolboxCategoryCallback(e.PROCEDURE_CATEGORY_NAME,e.Procedures.flyoutCategory),this.addChangeListener(e.Procedures.mutatorOpenListener)),this.themeManager_=this.options.parentWorkspace?this.options.parentWorkspace.getThemeManager():new e.ThemeManager(this,this.options.theme||e.Themes.Classic),this.themeManager_.subscribeWorkspace(this),this.renderer_=e.blockRendering.init(this.options.renderer||"geras",this.getTheme(),this.options.rendererOverrides),this.cachedParentSvg_=null,this.keyboardAccessibilityMode=!1,this.topBoundedElements_=[],this.dragTargetAreas_=[],this.cachedParentSvgSize_=new e.utils.Size(0,0)},e.utils.object.inherits(e.WorkspaceSvg,e.Workspace),e.WorkspaceSvg.prototype.resizeHandlerWrapper_=null,e.WorkspaceSvg.prototype.rendered=!0,e.WorkspaceSvg.prototype.isVisible_=!0,e.WorkspaceSvg.prototype.isFlyout=!1,e.WorkspaceSvg.prototype.isMutator=!1,e.WorkspaceSvg.prototype.resizesEnabled_=!0,e.WorkspaceSvg.prototype.scrollX=0,e.WorkspaceSvg.prototype.scrollY=0,e.WorkspaceSvg.prototype.startScrollX=0,e.WorkspaceSvg.prototype.startScrollY=0,e.WorkspaceSvg.prototype.dragDeltaXY_=null,e.WorkspaceSvg.prototype.scale=1,e.WorkspaceSvg.prototype.oldScale_=1,e.WorkspaceSvg.prototype.oldTop_=0,e.WorkspaceSvg.prototype.oldLeft_=0,e.WorkspaceSvg.prototype.trashcan=null,e.WorkspaceSvg.prototype.scrollbar=null,e.WorkspaceSvg.prototype.flyout_=null,e.WorkspaceSvg.prototype.toolbox_=null,e.WorkspaceSvg.prototype.currentGesture_=null,e.WorkspaceSvg.prototype.blockDragSurface_=null,e.WorkspaceSvg.prototype.workspaceDragSurface_=null,e.WorkspaceSvg.prototype.useWorkspaceDragSurface_=!1,e.WorkspaceSvg.prototype.isDragSurfaceActive_=!1,e.WorkspaceSvg.prototype.injectionDiv_=null,e.WorkspaceSvg.prototype.lastRecordedPageScroll_=null,e.WorkspaceSvg.prototype.targetWorkspace=null,e.WorkspaceSvg.prototype.inverseScreenCTM_=null,e.WorkspaceSvg.prototype.inverseScreenCTMDirty_=!0,e.WorkspaceSvg.prototype.getMarkerManager=function(){return this.markerManager_},e.WorkspaceSvg.prototype.getMetricsManager=function(){return this.metricsManager_},e.WorkspaceSvg.prototype.setMetricsManager=function(e){this.metricsManager_=e,this.getMetrics=this.metricsManager_.getMetrics.bind(this.metricsManager_)},e.WorkspaceSvg.prototype.getComponentManager=function(){return this.componentManager_},e.WorkspaceSvg.prototype.setCursorSvg=function(e){this.markerManager_.setCursorSvg(e)},e.WorkspaceSvg.prototype.setMarkerSvg=function(e){this.markerManager_.setMarkerSvg(e)},e.WorkspaceSvg.prototype.getMarker=function(e){return this.markerManager_?this.markerManager_.getMarker(e):null},e.WorkspaceSvg.prototype.getCursor=function(){return this.markerManager_?this.markerManager_.getCursor():null},e.WorkspaceSvg.prototype.getRenderer=function(){return this.renderer_},e.WorkspaceSvg.prototype.getThemeManager=function(){return this.themeManager_},e.WorkspaceSvg.prototype.getTheme=function(){return this.themeManager_.getTheme()},e.WorkspaceSvg.prototype.setTheme=function(t){t||(t=e.Themes.Classic),this.themeManager_.setTheme(t)},e.WorkspaceSvg.prototype.refreshTheme=function(){this.svgGroup_&&this.renderer_.refreshDom(this.svgGroup_,this.getTheme()),this.updateBlockStyles_(this.getAllBlocks(!1).filter((function(e){return!!e.getStyleName()}))),this.refreshToolboxSelection(),this.toolbox_&&this.toolbox_.refreshTheme(),this.isVisible()&&this.setVisible(!0);var t=new(e.Events.get(e.Events.THEME_CHANGE))(this.getTheme().name,this.id);e.Events.fire(t)},e.WorkspaceSvg.prototype.updateBlockStyles_=function(e){for(var t,n=0;t=e[n];n++){var r=t.getStyleName();r&&(t.setStyle(r),t.mutator&&t.mutator.updateBlockStyle())}},e.WorkspaceSvg.prototype.getInverseScreenCTM=function(){if(this.inverseScreenCTMDirty_){var e=this.getParentSvg().getScreenCTM();e&&(this.inverseScreenCTM_=e.inverse(),this.inverseScreenCTMDirty_=!1)}return this.inverseScreenCTM_},e.WorkspaceSvg.prototype.updateInverseScreenCTM=function(){this.inverseScreenCTMDirty_=!0},e.WorkspaceSvg.prototype.isVisible=function(){return this.isVisible_},e.WorkspaceSvg.prototype.getSvgXY=function(t){var n=0,r=0,i=1;(e.utils.dom.containsNode(this.getCanvas(),t)||e.utils.dom.containsNode(this.getBubbleCanvas(),t))&&(i=this.scale);do{var o=e.utils.getRelativeXY(t);t!=this.getCanvas()&&t!=this.getBubbleCanvas()||(i=1),n+=o.x*i,r+=o.y*i,t=t.parentNode}while(t&&t!=this.getParentSvg());return new e.utils.Coordinate(n,r)},e.WorkspaceSvg.prototype.getCachedParentSvgSize=function(){var t=this.cachedParentSvgSize_;return new e.utils.Size(t.width,t.height)},e.WorkspaceSvg.prototype.getOriginOffsetInPixels=function(){return e.utils.getInjectionDivXY_(this.getCanvas())},e.WorkspaceSvg.prototype.getInjectionDiv=function(){if(!this.injectionDiv_)for(var e=this.svgGroup_;e;){if(-1!=(" "+(e.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){this.injectionDiv_=e;break}e=e.parentNode}return this.injectionDiv_},e.WorkspaceSvg.prototype.getBlockCanvas=function(){return this.svgBlockCanvas_},e.WorkspaceSvg.prototype.setResizeHandlerWrapper=function(e){this.resizeHandlerWrapper_=e},e.WorkspaceSvg.prototype.createDom=function(t){return this.svgGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{class:"blocklyWorkspace"},null),t&&(this.svgBackground_=e.utils.dom.createSvgElement(e.utils.Svg.RECT,{height:"100%",width:"100%",class:t},this.svgGroup_),"blocklyMainBackground"==t&&this.grid_?this.svgBackground_.style.fill="url(#"+this.grid_.getPatternId()+")":this.themeManager_.subscribe(this.svgBackground_,"workspaceBackgroundColour","fill")),this.svgBlockCanvas_=e.utils.dom.createSvgElement(e.utils.Svg.G,{class:"blocklyBlockCanvas"},this.svgGroup_),this.svgBubbleCanvas_=e.utils.dom.createSvgElement(e.utils.Svg.G,{class:"blocklyBubbleCanvas"},this.svgGroup_),this.isFlyout||(e.browserEvents.conditionalBind(this.svgGroup_,"mousedown",this,this.onMouseDown_,!1,!0),e.browserEvents.conditionalBind(this.svgGroup_,"wheel",this,this.onMouseWheel_)),this.options.hasCategories&&(this.toolbox_=new(e.registry.getClassFromOptions(e.registry.Type.TOOLBOX,this.options,!0))(this)),this.grid_&&this.grid_.update(this.scale),this.recordDragTargets(),(t=e.registry.getClassFromOptions(e.registry.Type.CURSOR,this.options))&&this.markerManager_.setCursor(new t),this.renderer_.createDom(this.svgGroup_,this.getTheme()),this.svgGroup_},e.WorkspaceSvg.prototype.dispose=function(){if(this.rendered=!1,this.currentGesture_&&this.currentGesture_.cancel(),this.svgGroup_&&(e.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.svgBubbleCanvas_=this.svgBlockCanvas_=null,this.toolbox_&&(this.toolbox_.dispose(),this.toolbox_=null),this.flyout_&&(this.flyout_.dispose(),this.flyout_=null),this.trashcan&&(this.trashcan.dispose(),this.trashcan=null),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null),this.zoomControls_&&(this.zoomControls_.dispose(),this.zoomControls_=null),this.audioManager_&&(this.audioManager_.dispose(),this.audioManager_=null),this.grid_&&(this.grid_.dispose(),this.grid_=null),this.renderer_.dispose(),this.markerManager_&&(this.markerManager_.dispose(),this.markerManager_=null),e.WorkspaceSvg.superClass_.dispose.call(this),this.themeManager_&&(this.themeManager_.unsubscribeWorkspace(this),this.themeManager_.unsubscribe(this.svgBackground_),this.options.parentWorkspace||(this.themeManager_.dispose(),this.themeManager_=null)),this.flyoutButtonCallbacks_=this.toolboxCategoryCallbacks_=this.connectionDBList=null,!this.options.parentWorkspace){var t=this.getParentSvg();t&&t.parentNode&&e.utils.dom.removeNode(t.parentNode)}this.resizeHandlerWrapper_&&(e.browserEvents.unbind(this.resizeHandlerWrapper_),this.resizeHandlerWrapper_=null)},e.WorkspaceSvg.prototype.newBlock=function(t,n){return new e.BlockSvg(this,t,n)},e.WorkspaceSvg.prototype.addTrashcan=function(){if(!e.Trashcan)throw Error("Missing require for Blockly.Trashcan");this.trashcan=new e.Trashcan(this);var t=this.trashcan.createDom();this.svgGroup_.insertBefore(t,this.svgBlockCanvas_)},e.WorkspaceSvg.prototype.addZoomControls=function(){if(!e.ZoomControls)throw Error("Missing require for Blockly.ZoomControls");this.zoomControls_=new e.ZoomControls(this);var t=this.zoomControls_.createDom();this.svgGroup_.appendChild(t)},e.WorkspaceSvg.prototype.addFlyout=function(t){var n=new e.Options({parentWorkspace:this,rtl:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,renderer:this.options.renderer,rendererOverrides:this.options.rendererOverrides,move:{scrollbars:!0}});return n.toolboxPosition=this.options.toolboxPosition,this.flyout_=this.horizontalLayout?new(e.registry.getClassFromOptions(e.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX,this.options,!0))(n):new(e.registry.getClassFromOptions(e.registry.Type.FLYOUTS_VERTICAL_TOOLBOX,this.options,!0))(n),this.flyout_.autoClose=!1,this.flyout_.getWorkspace().setVisible(!0),this.flyout_.createDom(t)},e.WorkspaceSvg.prototype.getFlyout=function(e){return this.flyout_||e?this.flyout_:this.toolbox_?this.toolbox_.getFlyout():null},e.WorkspaceSvg.prototype.getToolbox=function(){return this.toolbox_},e.WorkspaceSvg.prototype.updateScreenCalculations_=function(){this.updateInverseScreenCTM(),this.recordDragTargets()},e.WorkspaceSvg.prototype.resizeContents=function(){this.resizesEnabled_&&this.rendered&&(this.scrollbar&&this.scrollbar.resize(),this.updateInverseScreenCTM())},e.WorkspaceSvg.prototype.resize=function(){this.toolbox_&&this.toolbox_.position(),this.flyout_&&this.flyout_.position();for(var t,n=this.componentManager_.getComponents(e.ComponentManager.Capability.POSITIONABLE,!0),r=this.getMetricsManager().getUiMetrics(),i=[],o=0;t=n[o];o++)t.position(r,i),(t=t.getBoundingRectangle())&&i.push(t);this.scrollbar&&this.scrollbar.resize(),this.updateScreenCalculations_()},e.WorkspaceSvg.prototype.updateScreenCalculationsIfScrolled=function(){var t=e.utils.getDocumentScroll();e.utils.Coordinate.equals(this.lastRecordedPageScroll_,t)||(this.lastRecordedPageScroll_=t,this.updateScreenCalculations_())},e.WorkspaceSvg.prototype.getCanvas=function(){return this.svgBlockCanvas_},e.WorkspaceSvg.prototype.setCachedParentSvgSize=function(e,t){var n=this.getParentSvg();e&&(this.cachedParentSvgSize_.width=e,n.cachedWidth_=e),t&&(this.cachedParentSvgSize_.height=t,n.cachedHeight_=t)},e.WorkspaceSvg.prototype.getBubbleCanvas=function(){return this.svgBubbleCanvas_},e.WorkspaceSvg.prototype.getParentSvg=function(){if(!this.cachedParentSvg_)for(var e=this.svgGroup_;e;){if("svg"==e.tagName){this.cachedParentSvg_=e;break}e=e.parentNode}return this.cachedParentSvg_},e.WorkspaceSvg.prototype.maybeFireViewportChangeEvent=function(){if(e.Events.isEnabled()){var t=this.scale,n=-this.scrollY,r=-this.scrollX;if(!(t==this.oldScale_&&1>Math.abs(n-this.oldTop_)&&1>Math.abs(r-this.oldLeft_))){var i=new(e.Events.get(e.Events.VIEWPORT_CHANGE))(n,r,t,this.id,this.oldScale_);this.oldScale_=t,this.oldTop_=n,this.oldLeft_=r,e.Events.fire(i)}}},e.WorkspaceSvg.prototype.translate=function(e,t){if(this.useWorkspaceDragSurface_&&this.isDragSurfaceActive_)this.workspaceDragSurface_.translateSurface(e,t);else{var n="translate("+e+","+t+") scale("+this.scale+")";this.svgBlockCanvas_.setAttribute("transform",n),this.svgBubbleCanvas_.setAttribute("transform",n)}this.blockDragSurface_&&this.blockDragSurface_.translateAndScaleGroup(e,t,this.scale),this.grid_&&this.grid_.moveTo(e,t),this.maybeFireViewportChangeEvent()},e.WorkspaceSvg.prototype.resetDragSurface=function(){if(this.useWorkspaceDragSurface_){this.isDragSurfaceActive_=!1;var e=this.workspaceDragSurface_.getSurfaceTranslation();this.workspaceDragSurface_.clearAndHide(this.svgGroup_),e="translate("+e.x+","+e.y+") scale("+this.scale+")",this.svgBlockCanvas_.setAttribute("transform",e),this.svgBubbleCanvas_.setAttribute("transform",e)}},e.WorkspaceSvg.prototype.setupDragSurface=function(){if(this.useWorkspaceDragSurface_&&!this.isDragSurfaceActive_){this.isDragSurfaceActive_=!0;var t=this.svgBlockCanvas_.previousSibling,n=parseInt(this.getParentSvg().getAttribute("width"),10),r=parseInt(this.getParentSvg().getAttribute("height"),10),i=e.utils.getRelativeXY(this.getCanvas());this.workspaceDragSurface_.setContentsAndShow(this.getCanvas(),this.getBubbleCanvas(),t,n,r,this.scale),this.workspaceDragSurface_.translateSurface(i.x,i.y)}},e.WorkspaceSvg.prototype.getBlockDragSurface=function(){return this.blockDragSurface_},e.WorkspaceSvg.prototype.getWidth=function(){var e=this.getMetrics();return e?e.viewWidth/this.scale:0},e.WorkspaceSvg.prototype.setVisible=function(t){if(this.isVisible_=t,this.svgGroup_)if(this.scrollbar&&this.scrollbar.setContainerVisible(t),this.getFlyout()&&this.getFlyout().setContainerVisible(t),this.getParentSvg().style.display=t?"block":"none",this.toolbox_&&this.toolbox_.setVisible(t),t){for(var n=(t=this.getAllBlocks(!1)).length-1;0<=n;n--)t[n].markDirty();this.render(),this.toolbox_&&this.toolbox_.position()}else e.hideChaff(!0)},e.WorkspaceSvg.prototype.render=function(){for(var e=this.getAllBlocks(!1),t=e.length-1;0<=t;t--)e[t].render(!1);if(this.currentGesture_)for(e=this.currentGesture_.getInsertionMarkers(),t=0;t<e.length;t++)e[t].render(!1);this.markerManager_.updateMarkers()},e.WorkspaceSvg.prototype.highlightBlock=function(t,n){if(void 0===n){for(var r,i=0;r=this.highlightedBlocks_[i];i++)r.setHighlighted(!1);this.highlightedBlocks_.length=0}(r=t?this.getBlockById(t):null)&&((t=void 0===n||n)?-1==this.highlightedBlocks_.indexOf(r)&&this.highlightedBlocks_.push(r):e.utils.arrayRemove(this.highlightedBlocks_,r),r.setHighlighted(t))},e.WorkspaceSvg.prototype.paste=function(e){!this.rendered||!e.tagName||e.getElementsByTagName("block").length>=this.remainingCapacity()||(this.currentGesture_&&this.currentGesture_.cancel(),"comment"==e.tagName.toLowerCase()?this.pasteWorkspaceComment_(e):this.pasteBlock_(e))},e.WorkspaceSvg.prototype.pasteBlock_=function(t){e.Events.disable();try{var n=e.Xml.domToBlock(t,this),r=parseInt(t.getAttribute("x"),10),i=parseInt(t.getAttribute("y"),10);if(!isNaN(r)&&!isNaN(i)){this.RTL&&(r=-r);do{t=!1;for(var o,s=this.getAllBlocks(!1),a=0;o=s[a];a++){var l=o.getRelativeToSurfaceXY();if(1>=Math.abs(r-l.x)&&1>=Math.abs(i-l.y)){t=!0;break}}if(!t){var c,u=n.getConnections_(!1);for(a=0;c=u[a];a++)if(c.closest(e.SNAP_RADIUS,new e.utils.Coordinate(r,i)).connection){t=!0;break}}t&&(r=this.RTL?r-e.SNAP_RADIUS:r+e.SNAP_RADIUS,i+=2*e.SNAP_RADIUS)}while(t);n.moveBy(r,i)}}finally{e.Events.enable()}e.Events.isEnabled()&&!n.isShadow()&&e.Events.fire(new(e.Events.get(e.Events.BLOCK_CREATE))(n)),n.select()},e.WorkspaceSvg.prototype.pasteWorkspaceComment_=function(t){e.Events.disable();try{var n=e.WorkspaceCommentSvg.fromXml(t,this),r=parseInt(t.getAttribute("x"),10),i=parseInt(t.getAttribute("y"),10);isNaN(r)||isNaN(i)||(this.RTL&&(r=-r),n.moveBy(r+50,i+50))}finally{e.Events.enable()}e.Events.isEnabled()&&e.WorkspaceComment.fireCreateEvent(n),n.select()},e.WorkspaceSvg.prototype.refreshToolboxSelection=function(){var e=this.isFlyout?this.targetWorkspace:this;e&&!e.currentGesture_&&e.toolbox_&&e.toolbox_.getFlyout()&&e.toolbox_.refreshSelection()},e.WorkspaceSvg.prototype.renameVariableById=function(t,n){e.WorkspaceSvg.superClass_.renameVariableById.call(this,t,n),this.refreshToolboxSelection()},e.WorkspaceSvg.prototype.deleteVariableById=function(t){e.WorkspaceSvg.superClass_.deleteVariableById.call(this,t),this.refreshToolboxSelection()},e.WorkspaceSvg.prototype.createVariable=function(t,n,r){return t=e.WorkspaceSvg.superClass_.createVariable.call(this,t,n,r),this.refreshToolboxSelection(),t},e.WorkspaceSvg.prototype.recordDeleteAreas=function(){e.utils.deprecation.warn("WorkspaceSvg.prototype.recordDeleteAreas","June 2021","June 2022","WorkspaceSvg.prototype.recordDragTargets"),this.recordDragTargets()},e.WorkspaceSvg.prototype.recordDragTargets=function(){var t=this.componentManager_.getComponents(e.ComponentManager.Capability.DRAG_TARGET,!0);this.dragTargetAreas_=[];for(var n,r=0;n=t[r];r++){var i=n.getClientRect();i&&this.dragTargetAreas_.push({component:n,clientRect:i})}},e.WorkspaceSvg.prototype.getDragTarget=function(e){for(var t,n=0;t=this.dragTargetAreas_[n];n++)if(t.clientRect.contains(e.clientX,e.clientY))return t.component;return null},e.WorkspaceSvg.prototype.onMouseDown_=function(e){var t=this.getGesture(e);t&&t.handleWsStart(e,this)},e.WorkspaceSvg.prototype.startDrag=function(t,n){(t=e.utils.mouseToSvg(t,this.getParentSvg(),this.getInverseScreenCTM())).x/=this.scale,t.y/=this.scale,this.dragDeltaXY_=e.utils.Coordinate.difference(n,t)},e.WorkspaceSvg.prototype.moveDrag=function(t){return(t=e.utils.mouseToSvg(t,this.getParentSvg(),this.getInverseScreenCTM())).x/=this.scale,t.y/=this.scale,e.utils.Coordinate.sum(this.dragDeltaXY_,t)},e.WorkspaceSvg.prototype.isDragging=function(){return null!=this.currentGesture_&&this.currentGesture_.isDragging()},e.WorkspaceSvg.prototype.isDraggable=function(){return this.options.moveOptions&&this.options.moveOptions.drag},e.WorkspaceSvg.prototype.isMovable=function(){return this.options.moveOptions&&!!this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel||this.options.zoomOptions&&this.options.zoomOptions.pinch},e.WorkspaceSvg.prototype.isMovableHorizontally=function(){var e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollHorizontally())},e.WorkspaceSvg.prototype.isMovableVertically=function(){var e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollVertically())},e.WorkspaceSvg.prototype.onMouseWheel_=function(t){if(e.Gesture.inProgress())t.preventDefault(),t.stopPropagation();else{var n=this.options.zoomOptions&&this.options.zoomOptions.wheel,r=this.options.moveOptions&&this.options.moveOptions.wheel;if(n||r){var i=e.utils.getScrollDeltaPixels(t);!n||!t.ctrlKey&&r?(n=this.scrollX-i.x,r=this.scrollY-i.y,t.shiftKey&&!i.x&&(n=this.scrollX-i.y,r=this.scrollY),this.scroll(n,r)):(i=-i.y/50,n=e.utils.mouseToSvg(t,this.getParentSvg(),this.getInverseScreenCTM()),this.zoom(n.x,n.y,i)),t.preventDefault()}}},e.WorkspaceSvg.prototype.getBlocksBoundingBox=function(){var t=this.getTopBoundedElements();if(!t.length)return new e.utils.Rect(0,0,0,0);for(var n=t[0].getBoundingRectangle(),r=1;r<t.length;r++){var i=t[r];i.isInsertionMarker&&i.isInsertionMarker()||((i=i.getBoundingRectangle()).top<n.top&&(n.top=i.top),i.bottom>n.bottom&&(n.bottom=i.bottom),i.left<n.left&&(n.left=i.left),i.right>n.right&&(n.right=i.right))}return n},e.WorkspaceSvg.prototype.cleanUp=function(){this.setResizesEnabled(!1),e.Events.setGroup(!0);for(var t,n=this.getTopBlocks(!0),r=0,i=0;t=n[i];i++)if(t.isMovable()){var o=t.getRelativeToSurfaceXY();t.moveBy(-o.x,r-o.y),t.snapToGrid(),r=t.getRelativeToSurfaceXY().y+t.getHeightWidth().height+this.renderer_.getConstants().MIN_BLOCK_HEIGHT}e.Events.setGroup(!1),this.setResizesEnabled(!0)},e.WorkspaceSvg.prototype.showContextMenu=function(t){if(!this.options.readOnly&&!this.isFlyout){var n=e.ContextMenuRegistry.registry.getContextMenuOptions(e.ContextMenuRegistry.ScopeType.WORKSPACE,{workspace:this});this.configureContextMenu&&this.configureContextMenu(n,t),e.ContextMenu.show(t,n,this.RTL)}},e.WorkspaceSvg.prototype.updateToolbox=function(t){if(t=e.utils.toolbox.convertToolboxDefToJson(t)){if(!this.options.languageTree)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(e.utils.toolbox.hasCategories(t)){if(!this.toolbox_)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.languageTree=t,this.toolbox_.render(t)}else{if(!this.flyout_)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.languageTree=t,this.flyout_.show(t)}}else if(this.options.languageTree)throw Error("Can't nullify an existing toolbox.")},e.WorkspaceSvg.prototype.markFocused=function(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():(e.mainWorkspace=this,this.setBrowserFocus())},e.WorkspaceSvg.prototype.setBrowserFocus=function(){document.activeElement&&document.activeElement.blur&&document.activeElement.blur();try{this.getParentSvg().focus({preventScroll:!0})}catch(e){try{this.getParentSvg().parentNode.setActive()}catch(t){this.getParentSvg().parentNode.focus({preventScroll:!0})}}},e.WorkspaceSvg.prototype.zoom=function(e,t,n){n=Math.pow(this.options.zoomOptions.scaleSpeed,n);var r=this.scale*n;if(this.scale!=r){r>this.options.zoomOptions.maxScale?n=this.options.zoomOptions.maxScale/this.scale:r<this.options.zoomOptions.minScale&&(n=this.options.zoomOptions.minScale/this.scale);var i=this.getCanvas().getCTM(),o=this.getParentSvg().createSVGPoint();o.x=e,o.y=t,e=(o=o.matrixTransform(i.inverse())).x,t=o.y,i=i.translate(e*(1-n),t*(1-n)).scale(n),this.scrollX=i.e,this.scrollY=i.f,this.setScale(r)}},e.WorkspaceSvg.prototype.zoomCenter=function(e){var t=this.getMetrics();if(this.flyout_){var n=t.svgWidth?t.svgWidth/2:0;t=t.svgHeight?t.svgHeight/2:0}else n=t.viewWidth/2+t.absoluteLeft,t=t.viewHeight/2+t.absoluteTop;this.zoom(n,t,e)},e.WorkspaceSvg.prototype.zoomToFit=function(){if(this.isMovable()){var t=this.getMetrics(),n=t.viewWidth;t=t.viewHeight;var r=this.getBlocksBoundingBox(),i=r.right-r.left;if(r=r.bottom-r.top,i){this.flyout_&&(this.horizontalLayout?(t+=this.flyout_.getHeight(),r+=this.flyout_.getHeight()/this.scale):(n+=this.flyout_.getWidth(),i+=this.flyout_.getWidth()/this.scale)),n/=i,t/=r,e.Events.disable();try{this.setScale(Math.min(n,t)),this.scrollCenter()}finally{e.Events.enable()}this.maybeFireViewportChangeEvent()}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},e.WorkspaceSvg.prototype.beginCanvasTransition=function(){e.utils.dom.addClass(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),e.utils.dom.addClass(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")},e.WorkspaceSvg.prototype.endCanvasTransition=function(){e.utils.dom.removeClass(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),e.utils.dom.removeClass(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")},e.WorkspaceSvg.prototype.scrollCenter=function(){if(this.isMovable()){var e=this.getMetrics(),t=(e.scrollWidth-e.viewWidth)/2,n=(e.scrollHeight-e.viewHeight)/2;t=-t-e.scrollLeft,n=-n-e.scrollTop,this.scroll(t,n)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},e.WorkspaceSvg.prototype.centerOnBlock=function(e){if(this.isMovable()){if(e=e?this.getBlockById(e):null){var t=e.getRelativeToSurfaceXY(),n=e.getHeightWidth(),r=this.scale;e=(t.x+(this.RTL?-1:1)*n.width/2)*r,t=(t.y+n.height/2)*r,n=this.getMetrics(),this.scroll(-(e-n.viewWidth/2),-(t-n.viewHeight/2))}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},e.WorkspaceSvg.prototype.setScale=function(t){this.options.zoomOptions.maxScale&&t>this.options.zoomOptions.maxScale?t=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&t<this.options.zoomOptions.minScale&&(t=this.options.zoomOptions.minScale),this.scale=t,e.hideChaff(!1),this.flyout_&&(this.flyout_.reflow(),this.recordDragTargets()),this.grid_&&this.grid_.update(this.scale),t=this.getMetrics(),this.scrollX-=t.absoluteLeft,this.scrollY-=t.absoluteTop,t.viewLeft+=t.absoluteLeft,t.viewTop+=t.absoluteTop,this.scroll(this.scrollX,this.scrollY),this.scrollbar&&(this.flyout_?this.scrollbar.resizeView(t):this.scrollbar.resizeContent(t))},e.WorkspaceSvg.prototype.getScale=function(){return this.options.parentWorkspace?this.options.parentWorkspace.getScale():this.scale},e.WorkspaceSvg.prototype.scroll=function(t,n){e.hideChaff(!0);var r=this.getMetrics();t=Math.min(t,-r.scrollLeft),n=Math.min(n,-r.scrollTop);var i=r.scrollTop+Math.max(0,r.scrollHeight-r.viewHeight);t=Math.max(t,-(r.scrollLeft+Math.max(0,r.scrollWidth-r.viewWidth))),n=Math.max(n,-i),this.scrollX=t,this.scrollY=n,this.scrollbar&&this.scrollbar.set(-(t+r.scrollLeft),-(n+r.scrollTop),!1),t+=r.absoluteLeft,n+=r.absoluteTop,this.translate(t,n)},e.WorkspaceSvg.setTopLevelWorkspaceMetrics_=function(e){var t=this.getMetrics();"number"==typeof e.x&&(this.scrollX=-(t.scrollLeft+(t.scrollWidth-t.viewWidth)*e.x)),"number"==typeof e.y&&(this.scrollY=-(t.scrollTop+(t.scrollHeight-t.viewHeight)*e.y)),this.translate(this.scrollX+t.absoluteLeft,this.scrollY+t.absoluteTop)},e.WorkspaceSvg.prototype.getBlockById=function(t){return e.WorkspaceSvg.superClass_.getBlockById.call(this,t)},e.WorkspaceSvg.prototype.getTopBlocks=function(t){return e.WorkspaceSvg.superClass_.getTopBlocks.call(this,t)},e.WorkspaceSvg.prototype.addTopBlock=function(t){this.addTopBoundedElement(t),e.WorkspaceSvg.superClass_.addTopBlock.call(this,t)},e.WorkspaceSvg.prototype.removeTopBlock=function(t){this.removeTopBoundedElement(t),e.WorkspaceSvg.superClass_.removeTopBlock.call(this,t)},e.WorkspaceSvg.prototype.addTopComment=function(t){this.addTopBoundedElement(t),e.WorkspaceSvg.superClass_.addTopComment.call(this,t)},e.WorkspaceSvg.prototype.removeTopComment=function(t){this.removeTopBoundedElement(t),e.WorkspaceSvg.superClass_.removeTopComment.call(this,t)},e.WorkspaceSvg.prototype.addTopBoundedElement=function(e){this.topBoundedElements_.push(e)},e.WorkspaceSvg.prototype.removeTopBoundedElement=function(t){e.utils.arrayRemove(this.topBoundedElements_,t)},e.WorkspaceSvg.prototype.getTopBoundedElements=function(){return[].concat(this.topBoundedElements_)},e.WorkspaceSvg.prototype.setResizesEnabled=function(e){var t=!this.resizesEnabled_&&e;this.resizesEnabled_=e,t&&this.resizeContents()},e.WorkspaceSvg.prototype.clear=function(){this.setResizesEnabled(!1),e.WorkspaceSvg.superClass_.clear.call(this),this.topBoundedElements_=[],this.setResizesEnabled(!0)},e.WorkspaceSvg.prototype.registerButtonCallback=function(e,t){if("function"!=typeof t)throw TypeError("Button callbacks must be functions.");this.flyoutButtonCallbacks_[e]=t},e.WorkspaceSvg.prototype.getButtonCallback=function(e){return(e=this.flyoutButtonCallbacks_[e])?e:null},e.WorkspaceSvg.prototype.removeButtonCallback=function(e){this.flyoutButtonCallbacks_[e]=null},e.WorkspaceSvg.prototype.registerToolboxCategoryCallback=function(e,t){if("function"!=typeof t)throw TypeError("Toolbox category callbacks must be functions.");this.toolboxCategoryCallbacks_[e]=t},e.WorkspaceSvg.prototype.getToolboxCategoryCallback=function(e){return this.toolboxCategoryCallbacks_[e]||null},e.WorkspaceSvg.prototype.removeToolboxCategoryCallback=function(e){this.toolboxCategoryCallbacks_[e]=null},e.WorkspaceSvg.prototype.getGesture=function(t){var n="mousedown"==t.type||"touchstart"==t.type||"pointerdown"==t.type,r=this.currentGesture_;return r?n&&r.hasStarted()?(console.warn("Tried to start the same gesture twice."),r.cancel(),null):r:n?this.currentGesture_=new e.TouchGesture(t,this):null},e.WorkspaceSvg.prototype.clearGesture=function(){this.currentGesture_=null},e.WorkspaceSvg.prototype.cancelCurrentGesture=function(){this.currentGesture_&&this.currentGesture_.cancel()},e.WorkspaceSvg.prototype.getAudioManager=function(){return this.audioManager_},e.WorkspaceSvg.prototype.getGrid=function(){return this.grid_},e.inject=function(t,n){if(e.checkBlockColourConstants(),"string"==typeof t&&(t=document.getElementById(t)||document.querySelector(t)),!t||!e.utils.dom.containsNode(document,t))throw Error("Error: container is not in current document.");n=new e.Options(n||{});var r=document.createElement("div");r.className="injectionDiv",r.tabIndex=0,e.utils.aria.setState(r,e.utils.aria.State.LABEL,e.Msg.WORKSPACE_ARIA_LABEL),t.appendChild(r),t=e.createDom_(r,n);var i=new e.BlockDragSurfaceSvg(r),o=new e.WorkspaceDragSurfaceSvg(r),s=e.createMainWorkspace_(t,n,i,o);return e.init_(s),e.mainWorkspace=s,e.svgResize(s),r.addEventListener("focusin",(function(){e.mainWorkspace=s})),s},e.createDom_=function(t,n){t.setAttribute("dir","LTR"),e.Css.inject(n.hasCss,n.pathToMedia),t=e.utils.dom.createSvgElement(e.utils.Svg.SVG,{xmlns:e.utils.dom.SVG_NS,"xmlns:html":e.utils.dom.HTML_NS,"xmlns:xlink":e.utils.dom.XLINK_NS,version:"1.1",class:"blocklySvg",tabindex:"0"},t);var r=e.utils.dom.createSvgElement(e.utils.Svg.DEFS,{},t),i=String(Math.random()).substring(2);return n.gridPattern=e.Grid.createDom(i,n.gridOptions,r),t},e.createMainWorkspace_=function(t,n,r,i){return n.parentWorkspace=null,r=(n=new e.WorkspaceSvg(n,r,i)).options,n.scale=r.zoomOptions.startScale,t.appendChild(n.createDom("blocklyMainBackground")),e.utils.dom.addClass(n.getInjectionDiv(),n.getRenderer().getClassName()),e.utils.dom.addClass(n.getInjectionDiv(),n.getTheme().getClassName()),!r.hasCategories&&r.languageTree&&(i=n.addFlyout(e.utils.Svg.SVG),e.utils.dom.insertAfter(i,t)),r.hasTrashcan&&n.addTrashcan(),r.zoomOptions&&r.zoomOptions.controls&&n.addZoomControls(),n.getThemeManager().subscribe(t,"workspaceBackgroundColour","background-color"),n.translate(0,0),n.addChangeListener(e.bumpIntoBoundsHandler_(n)),e.svgResize(n),e.WidgetDiv.createDom(),e.DropDownDiv.createDom(),e.Tooltip.createDom(),n},e.extractObjectFromEvent_=function(t,n){var r=null;switch(n.type){case e.Events.BLOCK_CREATE:case e.Events.BLOCK_MOVE:(r=t.getBlockById(n.blockId))&&(r=r.getRootBlock());break;case e.Events.COMMENT_CREATE:case e.Events.COMMENT_MOVE:r=t.getCommentById(n.commentId)}return r},e.bumpTopObjectsIntoBounds_=function(t){var n=t.getMetricsManager();if(n.hasFixedEdges()&&!t.isDragging()){n=n.getScrollMetrics(!0);for(var r,i=t.getTopBoundedElements(),o=0;r=i[o];o++)e.bumpObjectIntoBounds_(t,n,r)}},e.bumpIntoBoundsHandler_=function(t){return function(n){var r=t.getMetricsManager();if(r.hasFixedEdges()&&!t.isDragging())if(-1!==e.Events.BUMP_EVENTS.indexOf(n.type)){r=r.getScrollMetrics(!0);var i=e.extractObjectFromEvent_(t,n);if(i){var o=e.Events.getGroup();e.Events.setGroup(n.group),e.bumpObjectIntoBounds_(t,r,i)&&!n.group&&console.warn("Moved object in bounds but there was no event group. This may break undo."),null!==o&&e.Events.setGroup(o)}}else n.type===e.Events.VIEWPORT_CHANGE&&n.scale>n.oldScale&&e.bumpTopObjectsIntoBounds_(t)}},e.bumpObjectIntoBounds_=function(t,n,r){var i=r.getBoundingRectangle(),o=i.right-i.left,s=e.utils.math.clamp(n.top,i.top,n.top+n.height-(i.bottom-i.top))-i.top,a=n.left;return n=n.left+n.width-o,t.RTL?a=Math.min(n,a):n=Math.max(a,n),!(!(t=e.utils.math.clamp(a,i.left,n)-i.left)&&!s)&&(r.moveBy(t,s),!0)},e.init_=function(t){var n=t.options,r=t.getParentSvg();if(e.browserEvents.conditionalBind(r.parentNode,"contextmenu",null,(function(t){e.utils.isTargetInput(t)||t.preventDefault()})),r=e.browserEvents.conditionalBind(window,"resize",null,(function(){e.hideChaff(!0),e.svgResize(t),e.bumpTopObjectsIntoBounds_(t)})),t.setResizeHandlerWrapper(r),e.inject.bindDocumentEvents_(),n.languageTree){r=t.getToolbox();var i=t.getFlyout(!0);r?r.init():i&&(i.init(t),i.show(n.languageTree),"function"==typeof i.scrollToStart&&i.scrollToStart())}n.hasTrashcan&&t.trashcan.init(),n.zoomOptions&&n.zoomOptions.controls&&t.zoomControls_.init(),n.moveOptions&&n.moveOptions.scrollbars?(t.scrollbar=new e.ScrollbarPair(t,!0===n.moveOptions.scrollbars||!!n.moveOptions.scrollbars.horizontal,!0===n.moveOptions.scrollbars||!!n.moveOptions.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),t.scrollbar.resize()):t.setMetrics({x:.5,y:.5}),n.hasSounds&&e.inject.loadSounds_(n.pathToMedia,t)},e.inject.bindDocumentEvents_=function(){e.documentEventsBound_||(e.browserEvents.conditionalBind(document,"scroll",null,(function(){for(var t,n=e.Workspace.getAll(),r=0;t=n[r];r++)t.updateInverseScreenCTM&&t.updateInverseScreenCTM()})),e.browserEvents.conditionalBind(document,"keydown",null,e.onKeyDown),e.browserEvents.bind(document,"touchend",null,e.longStop_),e.browserEvents.bind(document,"touchcancel",null,e.longStop_),e.utils.userAgent.IPAD&&e.browserEvents.conditionalBind(window,"orientationchange",document,(function(){e.svgResize(e.getMainWorkspace())}))),e.documentEventsBound_=!0},e.inject.loadSounds_=function(t,n){var r=n.getAudioManager();r.load([t+"click.mp3",t+"click.wav",t+"click.ogg"],"click"),r.load([t+"disconnect.wav",t+"disconnect.mp3",t+"disconnect.ogg"],"disconnect"),r.load([t+"delete.mp3",t+"delete.ogg",t+"delete.wav"],"delete");var i=[];t=function(){for(;i.length;)e.browserEvents.unbind(i.pop());r.preload()},i.push(e.browserEvents.conditionalBind(document,"mousemove",null,t,!0)),i.push(e.browserEvents.conditionalBind(document,"touchstart",null,t,!0))},e.Names=function(e,t){if(this.variablePrefix_=t||"",this.reservedDict_=Object.create(null),e)for(e=e.split(","),t=0;t<e.length;t++)this.reservedDict_[e[t]]=!0;this.reset()},e.Names.DEVELOPER_VARIABLE_TYPE="DEVELOPER_VARIABLE",e.Names.prototype.reset=function(){this.db_=Object.create(null),this.dbReverse_=Object.create(null),this.variableMap_=null},e.Names.prototype.setVariableMap=function(e){this.variableMap_=e},e.Names.prototype.getNameForUserVariable_=function(e){return this.variableMap_?(e=this.variableMap_.getVariableById(e))?e.name:null:(console.warn("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\nBlockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());"),null)},e.Names.prototype.populateVariables=function(t){t=e.Variables.allUsedVarModels(t);for(var n=0;n<t.length;n++)this.getName(t[n].getId(),e.VARIABLE_CATEGORY_NAME)},e.Names.prototype.populateProcedures=function(t){t=(t=e.Procedures.allProcedures(t))[0].concat(t[1]);for(var n=0;n<t.length;n++)this.getName(t[n][0],e.PROCEDURE_CATEGORY_NAME)},e.Names.prototype.getName=function(t,n){var r=t;n==e.VARIABLE_CATEGORY_NAME&&(t=this.getNameForUserVariable_(t))&&(r=t),t=r.toLowerCase();var i=n==e.VARIABLE_CATEGORY_NAME||n==e.Names.DEVELOPER_VARIABLE_TYPE?this.variablePrefix_:"";n in this.db_||(this.db_[n]=Object.create(null));var o=this.db_[n];return t in o?i+o[t]:(n=this.getDistinctName(r,n),o[t]=n.substr(i.length),n)},e.Names.prototype.getUserNames=function(e){return Object.keys(this.db_[e]||{})},e.Names.prototype.getDistinctName=function(t,n){t=this.safeName_(t);for(var r="";this.dbReverse_[t+r]||t+r in this.reservedDict_;)r=r?r+1:2;return t+=r,this.dbReverse_[t]=!0,(n==e.VARIABLE_CATEGORY_NAME||n==e.Names.DEVELOPER_VARIABLE_TYPE?this.variablePrefix_:"")+t},e.Names.prototype.safeName_=function(t){return t?(t=encodeURI(t.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!="0123456789".indexOf(t[0])&&(t="my_"+t)):t=e.Msg.UNNAMED_KEY||"unnamed",t},e.Names.equals=function(e,t){return e.toLowerCase()==t.toLowerCase()},e.Procedures={},e.Procedures.NAME_TYPE=e.PROCEDURE_CATEGORY_NAME,e.Procedures.DEFAULT_ARG="x",e.Procedures.allProcedures=function(t){var n=t.getBlocksByType("procedures_defnoreturn",!1).map((function(e){return e.getProcedureDef()}));return t=t.getBlocksByType("procedures_defreturn",!1).map((function(e){return e.getProcedureDef()})),n.sort(e.Procedures.procTupleComparator_),t.sort(e.Procedures.procTupleComparator_),[n,t]},e.Procedures.procTupleComparator_=function(e,t){return e[0].localeCompare(t[0],void 0,{sensitivity:"base"})},e.Procedures.findLegalName=function(t,n){if(n.isInFlyout)return t;for(t=t||e.Msg.UNNAMED_KEY||"unnamed";!e.Procedures.isLegalName_(t,n.workspace,n);){var r=t.match(/^(.*?)(\d+)$/);t=r?r[1]+(parseInt(r[2],10)+1):t+"2"}return t},e.Procedures.isLegalName_=function(t,n,r){return!e.Procedures.isNameUsed(t,n,r)},e.Procedures.isNameUsed=function(t,n,r){n=n.getAllBlocks(!1);for(var i=0;i<n.length;i++)if(n[i]!=r&&n[i].getProcedureDef){var o=n[i].getProcedureDef();if(e.Names.equals(o[0],t))return!0}return!1},e.Procedures.rename=function(t){t=t.trim();var n=e.Procedures.findLegalName(t,this.getSourceBlock()),r=this.getValue();if(r!=t&&r!=n){t=this.getSourceBlock().workspace.getAllBlocks(!1);for(var i=0;i<t.length;i++)t[i].renameProcedure&&t[i].renameProcedure(r,n)}return n},e.Procedures.flyoutCategory=function(t){function n(t,n){for(var i=0;i<t.length;i++){var o=t[i][0],s=t[i][1],a=e.utils.xml.createElement("block");a.setAttribute("type",n),a.setAttribute("gap",16);var l=e.utils.xml.createElement("mutation");for(l.setAttribute("name",o),a.appendChild(l),o=0;o<s.length;o++){var c=e.utils.xml.createElement("arg");c.setAttribute("name",s[o]),l.appendChild(c)}r.push(a)}}var r=[];if(e.Blocks.procedures_defnoreturn){var i=e.utils.xml.createElement("block");i.setAttribute("type","procedures_defnoreturn"),i.setAttribute("gap",16);var o=e.utils.xml.createElement("field");o.setAttribute("name","NAME"),o.appendChild(e.utils.xml.createTextNode(e.Msg.PROCEDURES_DEFNORETURN_PROCEDURE)),i.appendChild(o),r.push(i)}return e.Blocks.procedures_defreturn&&((i=e.utils.xml.createElement("block")).setAttribute("type","procedures_defreturn"),i.setAttribute("gap",16),(o=e.utils.xml.createElement("field")).setAttribute("name","NAME"),o.appendChild(e.utils.xml.createTextNode(e.Msg.PROCEDURES_DEFRETURN_PROCEDURE)),i.appendChild(o),r.push(i)),e.Blocks.procedures_ifreturn&&((i=e.utils.xml.createElement("block")).setAttribute("type","procedures_ifreturn"),i.setAttribute("gap",16),r.push(i)),r.length&&r[r.length-1].setAttribute("gap",24),n((t=e.Procedures.allProcedures(t))[0],"procedures_callnoreturn"),n(t[1],"procedures_callreturn"),r},e.Procedures.updateMutatorFlyout_=function(t){for(var n,r=[],i=t.getBlocksByType("procedures_mutatorarg",!1),o=0;n=i[o];o++)r.push(n.getFieldValue("NAME"));i=e.utils.xml.createElement("xml"),(o=e.utils.xml.createElement("block")).setAttribute("type","procedures_mutatorarg"),(n=e.utils.xml.createElement("field")).setAttribute("name","NAME"),r=e.Variables.generateUniqueNameFromOptions(e.Procedures.DEFAULT_ARG,r),r=e.utils.xml.createTextNode(r),n.appendChild(r),o.appendChild(n),i.appendChild(o),t.updateToolbox(i)},e.Procedures.mutatorOpenListener=function(t){if(t.type==e.Events.BUBBLE_OPEN&&"mutator"===t.bubbleType&&t.isOpen){var n=(t=e.Workspace.getById(t.workspaceId).getBlockById(t.blockId)).type;"procedures_defnoreturn"!=n&&"procedures_defreturn"!=n||(t=t.mutator.getWorkspace(),e.Procedures.updateMutatorFlyout_(t),t.addChangeListener(e.Procedures.mutatorChangeListener_))}},e.Procedures.mutatorChangeListener_=function(t){t.type!=e.Events.BLOCK_CREATE&&t.type!=e.Events.BLOCK_DELETE&&t.type!=e.Events.BLOCK_CHANGE||(t=e.Workspace.getById(t.workspaceId),e.Procedures.updateMutatorFlyout_(t))},e.Procedures.getCallers=function(t,n){var r=[];n=n.getAllBlocks(!1);for(var i=0;i<n.length;i++)if(n[i].getProcedureCall){var o=n[i].getProcedureCall();o&&e.Names.equals(o,t)&&r.push(n[i])}return r},e.Procedures.mutateCallers=function(t){var n,r=e.Events.recordUndo,i=t.getProcedureDef()[0],o=t.mutationToDom(!0);for(t=e.Procedures.getCallers(i,t.workspace),i=0;n=t[i];i++){var s=n.mutationToDom();s=s&&e.Xml.domToText(s),n.domToMutation(o);var a=n.mutationToDom();s!=(a=a&&e.Xml.domToText(a))&&(e.Events.recordUndo=!1,e.Events.fire(new(e.Events.get(e.Events.BLOCK_CHANGE))(n,"mutation",null,s,a)),e.Events.recordUndo=r)}},e.Procedures.getDefinition=function(t,n){n=n.getAllBlocks(!1);for(var r=0;r<n.length;r++)if(n[r].getProcedureDef){var i=n[r].getProcedureDef();if(i&&e.Names.equals(i[0],t))return n[r]}return null},e.ShortcutRegistry=function(){e.ShortcutRegistry.registry=this,this.registry_=Object.create(null),this.keyMap_=Object.create(null)},e.ShortcutRegistry.modifierKeys={Shift:e.utils.KeyCodes.SHIFT,Control:e.utils.KeyCodes.CTRL,Alt:e.utils.KeyCodes.ALT,Meta:e.utils.KeyCodes.META},e.ShortcutRegistry.prototype.register=function(e,t){if(this.registry_[e.name]&&!t)throw Error('Shortcut with name "'+e.name+'" already exists.');this.registry_[e.name]=e},e.ShortcutRegistry.prototype.unregister=function(e){return this.registry_[e]?(this.removeAllKeyMappings(e),delete this.registry_[e],!0):(console.warn('Keyboard shortcut with name "'+e+'" not found.'),!1)},e.ShortcutRegistry.prototype.addKeyMapping=function(e,t,n){e=String(e);var r=this.keyMap_[e];if(r&&!n)throw Error('Shortcut with name "'+t+'" collides with shortcuts '+r.toString());r&&n?r.unshift(t):this.keyMap_[e]=[t]},e.ShortcutRegistry.prototype.removeKeyMapping=function(e,t,n){var r=this.keyMap_[e];if(!r&&!n)return console.warn('No keyboard shortcut with name "'+t+'" registered with key code "'+e+'"'),!1;var i=r.indexOf(t);return-1<i?(r.splice(i,1),0==r.length&&delete this.keyMap_[e],!0):(n||console.warn('No keyboard shortcut with name "'+t+'" registered with key code "'+e+'"'),!1)},e.ShortcutRegistry.prototype.removeAllKeyMappings=function(e){for(var t in this.keyMap_)this.removeKeyMapping(t,e,!0)},e.ShortcutRegistry.prototype.setKeyMap=function(e){this.keyMap_=e},e.ShortcutRegistry.prototype.getKeyMap=function(){return e.utils.object.deepMerge(Object.create(null),this.keyMap_)},e.ShortcutRegistry.prototype.getRegistry=function(){return e.utils.object.deepMerge(Object.create(null),this.registry_)},e.ShortcutRegistry.prototype.onKeyDown=function(e,t){var n=this.serializeKeyEvent_(t);if(!(n=this.getShortcutNamesByKeyCode(n)))return!1;for(var r,i=0;r=n[i];i++)if((!(r=this.registry_[r]).preconditionFn||r.preconditionFn(e))&&r.callback&&r.callback(e,t,r))return!0;return!1},e.ShortcutRegistry.prototype.getShortcutNamesByKeyCode=function(e){return this.keyMap_[e]||[]},e.ShortcutRegistry.prototype.getKeyCodesByShortcutName=function(e){var t,n=[];for(t in this.keyMap_)-1<this.keyMap_[t].indexOf(e)&&n.push(t);return n},e.ShortcutRegistry.prototype.serializeKeyEvent_=function(t){var n,r="";for(n in e.ShortcutRegistry.modifierKeys)t.getModifierState(n)&&(""!=r&&(r+="+"),r+=n);return""!=r&&t.keyCode?r=r+"+"+t.keyCode:t.keyCode&&(r=t.keyCode.toString()),r},e.ShortcutRegistry.prototype.checkModifiers_=function(t){for(var n,r=e.utils.object.values(e.ShortcutRegistry.modifierKeys),i=0;n=t[i];i++)if(0>r.indexOf(n))throw Error(n+" is not a valid modifier key.")},e.ShortcutRegistry.prototype.createSerializedKey=function(t,n){var r="";if(n)for(var i in this.checkModifiers_(n),e.ShortcutRegistry.modifierKeys)-1<n.indexOf(e.ShortcutRegistry.modifierKeys[i])&&(""!=r&&(r+="+"),r+=i);return""!=r&&t?r=r+"+"+t:t&&(r=t.toString()),r},new e.ShortcutRegistry,e.VariableModel=function(t,n,r,i){this.workspace=t,this.name=n,this.type=r||"",this.id_=i||e.utils.genUid(),e.Events.fire(new(e.Events.get(e.Events.VAR_CREATE))(this))},e.VariableModel.prototype.getId=function(){return this.id_},e.VariableModel.compareByName=function(e,t){return e.name.localeCompare(t.name,void 0,{sensitivity:"base"})},e.Variables={},e.Variables.NAME_TYPE=e.VARIABLE_CATEGORY_NAME,e.Variables.allUsedVarModels=function(e){var t=e.getAllBlocks(!1);e=Object.create(null);for(var n=0;n<t.length;n++){var r=t[n].getVarModels();if(r)for(var i=0;i<r.length;i++){var o=r[i],s=o.getId();s&&(e[s]=o)}}for(s in t=[],e)t.push(e[s]);return t},e.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_={},e.Variables.allDeveloperVariables=function(t){t=t.getAllBlocks(!1);for(var n,r=Object.create(null),i=0;n=t[i];i++){var o=n.getDeveloperVariables;if(!o&&n.getDeveloperVars&&(o=n.getDeveloperVars,e.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_[n.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+n.type+"')"),e.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_[n.type]=!0)),o)for(n=o(),o=0;o<n.length;o++)r[n[o]]=!0}return Object.keys(r)},e.Variables.flyoutCategory=function(t){var n=[],r=document.createElement("button");return r.setAttribute("text","%{BKY_NEW_VARIABLE}"),r.setAttribute("callbackKey","CREATE_VARIABLE"),t.registerButtonCallback("CREATE_VARIABLE",(function(t){e.Variables.createVariableButtonHandler(t.getTargetWorkspace())})),n.push(r),t=e.Variables.flyoutCategoryBlocks(t),n.concat(t)},e.Variables.flyoutCategoryBlocks=function(t){var n=[];if(0<(t=t.getVariablesOfType("")).length){var r=t[t.length-1];if(e.Blocks.variables_set){var i=e.utils.xml.createElement("block");i.setAttribute("type","variables_set"),i.setAttribute("gap",e.Blocks.math_change?8:24),i.appendChild(e.Variables.generateVariableFieldDom(r)),n.push(i)}if(e.Blocks.math_change&&((i=e.utils.xml.createElement("block")).setAttribute("type","math_change"),i.setAttribute("gap",e.Blocks.variables_get?20:8),i.appendChild(e.Variables.generateVariableFieldDom(r)),r=e.Xml.textToDom('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),i.appendChild(r),n.push(i)),e.Blocks.variables_get){t.sort(e.VariableModel.compareByName),r=0;for(var o;o=t[r];r++)(i=e.utils.xml.createElement("block")).setAttribute("type","variables_get"),i.setAttribute("gap",8),i.appendChild(e.Variables.generateVariableFieldDom(o)),n.push(i)}}return n},e.Variables.VAR_LETTER_OPTIONS="ijkmnopqrstuvwxyzabcdefgh",e.Variables.generateUniqueName=function(t){return e.Variables.generateUniqueNameFromOptions(e.Variables.VAR_LETTER_OPTIONS.charAt(0),t.getAllVariableNames())},e.Variables.generateUniqueNameFromOptions=function(t,n){if(!n.length)return t;for(var r=e.Variables.VAR_LETTER_OPTIONS,i="",o=r.indexOf(t);;){for(var s=!1,a=0;a<n.length;a++)if(n[a].toLowerCase()==t){s=!0;break}if(!s)return t;++o==r.length&&(o=0,i=Number(i)+1),t=r.charAt(o)+i}},e.Variables.createVariableButtonHandler=function(t,n,r){var i=r||"";!function r(o){e.Variables.promptName(e.Msg.NEW_VARIABLE_TITLE,o,(function(o){if(o){var s=e.Variables.nameUsedWithAnyType(o,t);if(s){if(s.type==i)var a=e.Msg.VARIABLE_ALREADY_EXISTS.replace("%1",s.name);else a=(a=e.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE).replace("%1",s.name).replace("%2",s.type);e.alert(a,(function(){r(o)}))}else t.createVariable(o,i),n&&n(o)}else n&&n(null)}))}("")},e.Variables.createVariable=e.Variables.createVariableButtonHandler,e.Variables.renameVariable=function(t,n,r){!function i(o){var s=e.Msg.RENAME_VARIABLE_TITLE.replace("%1",n.name);e.Variables.promptName(s,o,(function(o){if(o){var s=e.Variables.nameUsedWithOtherType_(o,n.type,t);s?(s=e.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",s.name).replace("%2",s.type),e.alert(s,(function(){i(o)}))):(t.renameVariableById(n.getId(),o),r&&r(o))}else r&&r(null)}))}("")},e.Variables.promptName=function(t,n,r){e.prompt(t,n,(function(t){t&&((t=t.replace(/[\s\xa0]+/g," ").trim())==e.Msg.RENAME_VARIABLE||t==e.Msg.NEW_VARIABLE)&&(t=null),r(t)}))},e.Variables.nameUsedWithOtherType_=function(e,t,n){n=n.getVariableMap().getAllVariables(),e=e.toLowerCase();for(var r,i=0;r=n[i];i++)if(r.name.toLowerCase()==e&&r.type!=t)return r;return null},e.Variables.nameUsedWithAnyType=function(e,t){t=t.getVariableMap().getAllVariables(),e=e.toLowerCase();for(var n,r=0;n=t[r];r++)if(n.name.toLowerCase()==e)return n;return null},e.Variables.generateVariableFieldDom=function(t){var n=e.utils.xml.createElement("field");return n.setAttribute("name","VAR"),n.setAttribute("id",t.getId()),n.setAttribute("variabletype",t.type),t=e.utils.xml.createTextNode(t.name),n.appendChild(t),n},e.Variables.getOrCreateVariablePackage=function(t,n,r,i){var o=e.Variables.getVariable(t,n,r,i);return o||(o=e.Variables.createVariable_(t,n,r,i)),o},e.Variables.getVariable=function(e,t,n,r){var i=e.getPotentialVariableMap(),o=null;if(t&&(!(o=e.getVariableById(t))&&i&&(o=i.getVariableById(t)),o))return o;if(n){if(void 0==r)throw Error("Tried to look up a variable by name without a type");!(o=e.getVariable(n,r))&&i&&(o=i.getVariable(n,r))}return o},e.Variables.createVariable_=function(t,n,r,i){var o=t.getPotentialVariableMap();return r||(r=e.Variables.generateUniqueName(t.isFlyout?t.targetWorkspace:t)),o?o.createVariable(r,i,n):t.createVariable(r,i,n)},e.Variables.getAddedVariables=function(e,t){e=e.getAllVariables();var n=[];if(t.length!=e.length)for(var r=0;r<e.length;r++){var i=e[r];-1==t.indexOf(i)&&n.push(i)}return n},e.VERSION="6.20210701.0",e.mainWorkspace=null,e.selected=null,e.draggingConnections=[],e.clipboardXml_=null,e.clipboardSource_=null,e.clipboardTypeCounts_=null,e.cache3dSupported_=null,e.parentContainer=null,e.svgSize=function(t){return e.utils.deprecation.warn("Blockly.svgSize","March 2021","March 2022","workspace.getCachedParentSvgSize"),new e.utils.Size(t.cachedWidth_,t.cachedHeight_)},e.resizeSvgContents=function(e){e.resizeContents()},e.svgResize=function(e){for(;e.options.parentWorkspace;)e=e.options.parentWorkspace;var t=e.getParentSvg(),n=e.getCachedParentSvgSize(),r=t.parentNode;if(r){var i=r.offsetWidth;r=r.offsetHeight,n.width!=i&&(t.setAttribute("width",i+"px"),e.setCachedParentSvgSize(i,null)),n.height!=r&&(t.setAttribute("height",r+"px"),e.setCachedParentSvgSize(null,r)),e.resize()}},e.onKeyDown=function(t){var n=e.mainWorkspace;n&&!(e.utils.isTargetInput(t)||n.rendered&&!n.isVisible())&&e.ShortcutRegistry.registry.onKeyDown(n,t)},e.deleteBlock=function(t){t.workspace.isFlyout||(e.Events.setGroup(!0),e.hideChaff(),t.outputConnection?t.dispose(!1,!0):t.dispose(!0,!0),e.Events.setGroup(!1))},e.copy=function(t){(t=t.toCopyData())&&(e.clipboardXml_=t.xml,e.clipboardSource_=t.source,e.clipboardTypeCounts_=t.typeCounts)},e.paste=function(){if(!e.clipboardXml_)return!1;var t=e.clipboardSource_;return t.isFlyout&&(t=t.targetWorkspace),!(!e.clipboardTypeCounts_||!t.isCapacityAvailable(e.clipboardTypeCounts_))&&(e.Events.setGroup(!0),t.paste(e.clipboardXml_),e.Events.setGroup(!1),!0)},e.duplicate=function(t){var n=e.clipboardXml_,r=e.clipboardSource_;e.copy(t),t.workspace.paste(e.clipboardXml_),e.clipboardXml_=n,e.clipboardSource_=r},e.onContextMenu_=function(t){e.utils.isTargetInput(t)||t.preventDefault()},e.hideChaff=function(t){e.Tooltip.hide(),e.WidgetDiv.hide(),e.DropDownDiv.hideWithoutAnimation();var n=!!t;e.getMainWorkspace().getComponentManager().getComponents(e.ComponentManager.Capability.AUTOHIDEABLE,!0).forEach((function(e){e.autoHide(n)}))},e.getMainWorkspace=function(){return e.mainWorkspace},e.alert=function(e,t){alert(e),t&&t()},e.confirm=function(e,t){t(confirm(e))},e.prompt=function(e,t,n){n(prompt(e,t))},e.jsonInitFactory_=function(e){return function(){this.jsonInit(e)}},e.defineBlocksWithJsonArray=function(t){for(var n=0;n<t.length;n++){var r=t[n];if(r){var i=r.type;null==i||""===i?console.warn("Block definition #"+n+" in JSON array is missing a type attribute. Skipping."):(e.Blocks[i]&&console.warn("Block definition #"+n+' in JSON array overwrites prior definition of "'+i+'".'),e.Blocks[i]={init:e.jsonInitFactory_(r)})}else console.warn("Block definition #"+n+" in JSON array is "+r+". Skipping.")}},e.isNumber=function(e){return/^\s*-?\d+(\.\d+)?\s*$/.test(e)},e.hueToHex=function(t){return e.utils.colour.hsvToHex(t,e.HSV_SATURATION,255*e.HSV_VALUE)},e.checkBlockColourConstants=function(){e.checkBlockColourConstant_("LOGIC_HUE",["Blocks","logic","HUE"],void 0),e.checkBlockColourConstant_("LOGIC_HUE",["Constants","Logic","HUE"],210),e.checkBlockColourConstant_("LOOPS_HUE",["Blocks","loops","HUE"],void 0),e.checkBlockColourConstant_("LOOPS_HUE",["Constants","Loops","HUE"],120),e.checkBlockColourConstant_("MATH_HUE",["Blocks","math","HUE"],void 0),e.checkBlockColourConstant_("MATH_HUE",["Constants","Math","HUE"],230),e.checkBlockColourConstant_("TEXTS_HUE",["Blocks","texts","HUE"],void 0),e.checkBlockColourConstant_("TEXTS_HUE",["Constants","Text","HUE"],160),e.checkBlockColourConstant_("LISTS_HUE",["Blocks","lists","HUE"],void 0),e.checkBlockColourConstant_("LISTS_HUE",["Constants","Lists","HUE"],260),e.checkBlockColourConstant_("COLOUR_HUE",["Blocks","colour","HUE"],void 0),e.checkBlockColourConstant_("COLOUR_HUE",["Constants","Colour","HUE"],20),e.checkBlockColourConstant_("VARIABLES_HUE",["Blocks","variables","HUE"],void 0),e.checkBlockColourConstant_("VARIABLES_HUE",["Constants","Variables","HUE"],330),e.checkBlockColourConstant_("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310),e.checkBlockColourConstant_("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)},e.checkBlockColourConstant_=function(t,n,r){for(var i="Blockly",o=e,s=0;s<n.length;++s)i+="."+n[s],o&&(o=o[n[s]]);o&&o!==r&&(t=(void 0===r?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",i).replace("%2",t),console.warn(t))},e.setParentContainer=function(t){e.parentContainer=t},e.bindEvent_=e.browserEvents.bind,e.unbindEvent_=e.browserEvents.unbind,e.bindEventWithChecks_=e.browserEvents.conditionalBind,e.ALIGN_LEFT=e.constants.ALIGN.LEFT,e.ALIGN_CENTRE=e.constants.ALIGN.CENTRE,e.ALIGN_RIGHT=e.constants.ALIGN.RIGHT,e.INPUT_VALUE=e.connectionTypes.INPUT_VALUE,e.OUTPUT_VALUE=e.connectionTypes.OUTPUT_VALUE,e.NEXT_STATEMENT=e.connectionTypes.NEXT_STATEMENT,e.PREVIOUS_STATEMENT=e.connectionTypes.PREVIOUS_STATEMENT,e.DUMMY_INPUT=e.inputTypes.DUMMY,e.TOOLBOX_AT_TOP=e.utils.toolbox.Position.TOP,e.TOOLBOX_AT_BOTTOM=e.utils.toolbox.Position.BOTTOM,e.TOOLBOX_AT_LEFT=e.utils.toolbox.Position.LEFT,e.TOOLBOX_AT_RIGHT=e.utils.toolbox.Position.RIGHT,e.Events.BubbleOpen=function(t,n,r){e.Events.BubbleOpen.superClass_.constructor.call(this,t?t.workspace.id:void 0),this.blockId=t?t.id:null,this.isOpen=n,this.bubbleType=r},e.utils.object.inherits(e.Events.BubbleOpen,e.Events.UiBase),e.Events.BubbleOpen.prototype.type=e.Events.BUBBLE_OPEN,e.Events.BubbleOpen.prototype.toJson=function(){var t=e.Events.BubbleOpen.superClass_.toJson.call(this);return t.isOpen=this.isOpen,t.bubbleType=this.bubbleType,t.blockId=this.blockId,t},e.Events.BubbleOpen.prototype.fromJson=function(t){e.Events.BubbleOpen.superClass_.fromJson.call(this,t),this.isOpen=t.isOpen,this.bubbleType=t.bubbleType,this.blockId=t.blockId},e.registry.register(e.registry.Type.EVENT,e.Events.BUBBLE_OPEN,e.Events.BubbleOpen),e.Icon=function(e){this.block_=e,this.iconGroup_=null},e.Icon.prototype.collapseHidden=!0,e.Icon.prototype.SIZE=17,e.Icon.prototype.bubble_=null,e.Icon.prototype.iconXY_=null,e.Icon.prototype.createIcon=function(){this.iconGroup_||(this.iconGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{class:"blocklyIconGroup"},null),this.block_.isInFlyout&&e.utils.dom.addClass(this.iconGroup_,"blocklyIconGroupReadonly"),this.drawIcon_(this.iconGroup_),this.block_.getSvgRoot().appendChild(this.iconGroup_),e.browserEvents.conditionalBind(this.iconGroup_,"mouseup",this,this.iconClick_),this.updateEditable())},e.Icon.prototype.dispose=function(){e.utils.dom.removeNode(this.iconGroup_),this.iconGroup_=null,this.setVisible(!1),this.block_=null},e.Icon.prototype.updateEditable=function(){},e.Icon.prototype.isVisible=function(){return!!this.bubble_},e.Icon.prototype.iconClick_=function(t){this.block_.workspace.isDragging()||this.block_.isInFlyout||e.utils.isRightButton(t)||this.setVisible(!this.isVisible())},e.Icon.prototype.applyColour=function(){this.isVisible()&&this.bubble_.setColour(this.block_.style.colourPrimary)},e.Icon.prototype.setIconLocation=function(e){this.iconXY_=e,this.isVisible()&&this.bubble_.setAnchorLocation(e)},e.Icon.prototype.computeIconLocation=function(){var t=this.block_.getRelativeToSurfaceXY(),n=e.utils.getRelativeXY(this.iconGroup_);t=new e.utils.Coordinate(t.x+n.x+this.SIZE/2,t.y+n.y+this.SIZE/2),e.utils.Coordinate.equals(this.getIconLocation(),t)||this.setIconLocation(t)},e.Icon.prototype.getIconLocation=function(){return this.iconXY_},e.Icon.prototype.getCorrectedSize=function(){return new e.utils.Size(e.Icon.prototype.SIZE,e.Icon.prototype.SIZE-2)},e.Warning=function(t){e.Warning.superClass_.constructor.call(this,t),this.createIcon(),this.text_=Object.create(null)},e.utils.object.inherits(e.Warning,e.Icon),e.Warning.prototype.collapseHidden=!1,e.Warning.prototype.drawIcon_=function(t){e.utils.dom.createSvgElement(e.utils.Svg.PATH,{class:"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},t),e.utils.dom.createSvgElement(e.utils.Svg.PATH,{class:"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},t),e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},t)},e.Warning.prototype.setVisible=function(t){t!=this.isVisible()&&(e.Events.fire(new(e.Events.get(e.Events.BUBBLE_OPEN))(this.block_,t,"warning")),t?this.createBubble_():this.disposeBubble_())},e.Warning.prototype.createBubble_=function(){this.paragraphElement_=e.Bubble.textToDom(this.getText()),this.bubble_=e.Bubble.createNonEditableBubble(this.paragraphElement_,this.block_,this.iconXY_),this.applyColour()},e.Warning.prototype.disposeBubble_=function(){this.bubble_.dispose(),this.paragraphElement_=this.bubble_=null},e.Warning.prototype.setText=function(e,t){this.text_[t]!=e&&(e?this.text_[t]=e:delete this.text_[t],this.isVisible()&&(this.setVisible(!1),this.setVisible(!0)))},e.Warning.prototype.getText=function(){var e,t=[];for(e in this.text_)t.push(this.text_[e]);return t.join("\n")},e.Warning.prototype.dispose=function(){this.block_.warning=null,e.Icon.prototype.dispose.call(this)},e.Comment=function(t){e.Comment.superClass_.constructor.call(this,t),this.model_=t.commentModel,this.model_.text=this.model_.text||"",this.cachedText_="",this.onInputWrapper_=this.onChangeWrapper_=this.onWheelWrapper_=this.onMouseUpWrapper_=null,this.createIcon()},e.utils.object.inherits(e.Comment,e.Icon),e.Comment.prototype.drawIcon_=function(t){e.utils.dom.createSvgElement(e.utils.Svg.CIRCLE,{class:"blocklyIconShape",r:"8",cx:"8",cy:"8"},t),e.utils.dom.createSvgElement(e.utils.Svg.PATH,{class:"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},t),e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},t)},e.Comment.prototype.createEditor_=function(){this.foreignObject_=e.utils.dom.createSvgElement(e.utils.Svg.FOREIGNOBJECT,{x:e.Bubble.BORDER_WIDTH,y:e.Bubble.BORDER_WIDTH},null);var t=document.createElementNS(e.utils.dom.HTML_NS,"body");t.setAttribute("xmlns",e.utils.dom.HTML_NS),t.className="blocklyMinimalBody";var n=this.textarea_=document.createElementNS(e.utils.dom.HTML_NS,"textarea");return n.className="blocklyCommentTextarea",n.setAttribute("dir",this.block_.RTL?"RTL":"LTR"),n.value=this.model_.text,this.resizeTextarea_(),t.appendChild(n),this.foreignObject_.appendChild(t),this.onMouseUpWrapper_=e.browserEvents.conditionalBind(n,"mouseup",this,this.startEdit_,!0,!0),this.onWheelWrapper_=e.browserEvents.conditionalBind(n,"wheel",this,(function(e){e.stopPropagation()})),this.onChangeWrapper_=e.browserEvents.conditionalBind(n,"change",this,(function(t){this.cachedText_!=this.model_.text&&e.Events.fire(new(e.Events.get(e.Events.BLOCK_CHANGE))(this.block_,"comment",null,this.cachedText_,this.model_.text))})),this.onInputWrapper_=e.browserEvents.conditionalBind(n,"input",this,(function(e){this.model_.text=n.value})),setTimeout(n.focus.bind(n),0),this.foreignObject_},e.Comment.prototype.updateEditable=function(){e.Comment.superClass_.updateEditable.call(this),this.isVisible()&&(this.disposeBubble_(),this.createBubble_())},e.Comment.prototype.onBubbleResize_=function(){this.isVisible()&&(this.model_.size=this.bubble_.getBubbleSize(),this.resizeTextarea_())},e.Comment.prototype.resizeTextarea_=function(){var t=this.model_.size,n=2*e.Bubble.BORDER_WIDTH,r=t.width-n;t=t.height-n,this.foreignObject_.setAttribute("width",r),this.foreignObject_.setAttribute("height",t),this.textarea_.style.width=r-4+"px",this.textarea_.style.height=t-4+"px"},e.Comment.prototype.setVisible=function(t){t!=this.isVisible()&&(e.Events.fire(new(e.Events.get(e.Events.BUBBLE_OPEN))(this.block_,t,"comment")),(this.model_.pinned=t)?this.createBubble_():this.disposeBubble_())},e.Comment.prototype.createBubble_=function(){!this.block_.isEditable()||e.utils.userAgent.IE?this.createNonEditableBubble_():this.createEditableBubble_()},e.Comment.prototype.createEditableBubble_=function(){this.bubble_=new e.Bubble(this.block_.workspace,this.createEditor_(),this.block_.pathObject.svgPath,this.iconXY_,this.model_.size.width,this.model_.size.height),this.bubble_.setSvgId(this.block_.id),this.bubble_.registerResizeEvent(this.onBubbleResize_.bind(this)),this.applyColour()},e.Comment.prototype.createNonEditableBubble_=function(){this.paragraphElement_=e.Bubble.textToDom(this.block_.getCommentText()),this.bubble_=e.Bubble.createNonEditableBubble(this.paragraphElement_,this.block_,this.iconXY_),this.applyColour()},e.Comment.prototype.disposeBubble_=function(){this.onMouseUpWrapper_&&(e.browserEvents.unbind(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null),this.onWheelWrapper_&&(e.browserEvents.unbind(this.onWheelWrapper_),this.onWheelWrapper_=null),this.onChangeWrapper_&&(e.browserEvents.unbind(this.onChangeWrapper_),this.onChangeWrapper_=null),this.onInputWrapper_&&(e.browserEvents.unbind(this.onInputWrapper_),this.onInputWrapper_=null),this.bubble_.dispose(),this.paragraphElement_=this.foreignObject_=this.textarea_=this.bubble_=null},e.Comment.prototype.startEdit_=function(e){this.bubble_.promote()&&this.textarea_.focus(),this.cachedText_=this.model_.text},e.Comment.prototype.getBubbleSize=function(){return this.model_.size},e.Comment.prototype.setBubbleSize=function(e,t){this.bubble_?this.bubble_.setBubbleSize(e,t):(this.model_.size.width=e,this.model_.size.height=t)},e.Comment.prototype.updateText=function(){this.textarea_?this.textarea_.value=this.model_.text:this.paragraphElement_&&(this.paragraphElement_.firstChild.textContent=this.model_.text)},e.Comment.prototype.dispose=function(){this.block_.comment=null,e.Icon.prototype.dispose.call(this)},e.Css.register(".blocklyCommentTextarea {,background-color: #fef49c;,border: 0;,outline: 0;,margin: 0;,padding: 3px;,resize: none;,display: block;,text-overflow: hidden;,}".split(",")),e.IComponent=function(){},e.IDragTarget=function(){},e.DragTarget=function(){},e.DragTarget.prototype.onDragEnter=function(e){},e.DragTarget.prototype.onDragOver=function(e){},e.DragTarget.prototype.onDragExit=function(e){},e.DragTarget.prototype.onDrop=function(e){},e.DragTarget.prototype.shouldPreventMove=function(e){return!1},e.IDeleteArea=function(){},e.DeleteArea=function(){e.DeleteArea.superClass_.constructor.call(this),this.wouldDelete_=!1},e.utils.object.inherits(e.DeleteArea,e.DragTarget),e.DeleteArea.prototype.wouldDelete=function(t,n){return t instanceof e.BlockSvg?(t=!t.getParent()&&t.isDeletable(),this.updateWouldDelete_(t&&!n)):this.updateWouldDelete_(t.isDeletable()),this.wouldDelete_},e.DeleteArea.prototype.updateWouldDelete_=function(e){this.wouldDelete_=e},e.IFlyout=function(){},e.Flyout=function(t){e.Flyout.superClass_.constructor.call(this),t.setMetrics=this.setMetrics_.bind(this),this.workspace_=new e.WorkspaceSvg(t),this.workspace_.setMetricsManager(new e.FlyoutMetricsManager(this.workspace_,this)),this.workspace_.isFlyout=!0,this.workspace_.setVisible(this.isVisible_),this.id=e.utils.genUid(),this.RTL=!!t.RTL,this.horizontalLayout=!1,this.toolboxPosition_=t.toolboxPosition,this.eventWrappers_=[],this.mats_=[],this.buttons_=[],this.listeners_=[],this.permanentlyDisabled_=[],this.tabWidth_=this.workspace_.getRenderer().getConstants().TAB_WIDTH,this.targetWorkspace=null},e.utils.object.inherits(e.Flyout,e.DeleteArea),e.Flyout.prototype.autoClose=!0,e.Flyout.prototype.isVisible_=!1,e.Flyout.prototype.containerVisible_=!0,e.Flyout.prototype.CORNER_RADIUS=8,e.Flyout.prototype.MARGIN=e.Flyout.prototype.CORNER_RADIUS,e.Flyout.prototype.GAP_X=3*e.Flyout.prototype.MARGIN,e.Flyout.prototype.GAP_Y=3*e.Flyout.prototype.MARGIN,e.Flyout.prototype.SCROLLBAR_MARGIN=2.5,e.Flyout.prototype.width_=0,e.Flyout.prototype.height_=0,e.Flyout.prototype.dragAngleRange_=70,e.Flyout.prototype.createDom=function(t){return this.svgGroup_=e.utils.dom.createSvgElement(t,{class:"blocklyFlyout",style:"display: none"},null),this.svgBackground_=e.utils.dom.createSvgElement(e.utils.Svg.PATH,{class:"blocklyFlyoutBackground"},this.svgGroup_),this.svgGroup_.appendChild(this.workspace_.createDom()),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutBackgroundColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutOpacity","fill-opacity"),this.svgGroup_},e.Flyout.prototype.init=function(t){this.targetWorkspace=t,this.workspace_.targetWorkspace=t,this.workspace_.scrollbar=new e.ScrollbarPair(this.workspace_,this.horizontalLayout,!this.horizontalLayout,"blocklyFlyoutScrollbar",this.SCROLLBAR_MARGIN),this.hide(),Array.prototype.push.apply(this.eventWrappers_,e.browserEvents.conditionalBind(this.svgGroup_,"wheel",this,this.wheel_)),this.autoClose||(this.filterWrapper_=this.filterForCapacity_.bind(this),this.targetWorkspace.addChangeListener(this.filterWrapper_)),Array.prototype.push.apply(this.eventWrappers_,e.browserEvents.conditionalBind(this.svgBackground_,"mousedown",this,this.onMouseDown_)),this.workspace_.getGesture=this.targetWorkspace.getGesture.bind(this.targetWorkspace),this.workspace_.setVariableMap(this.targetWorkspace.getVariableMap()),this.workspace_.createPotentialVariableMap(),t.getComponentManager().addComponent({component:this,weight:1,capabilities:[e.ComponentManager.Capability.DELETE_AREA,e.ComponentManager.Capability.DRAG_TARGET]})},e.Flyout.prototype.dispose=function(){this.hide(),this.workspace_.getComponentManager().removeComponent(this.id),e.browserEvents.unbind(this.eventWrappers_),this.filterWrapper_&&(this.targetWorkspace.removeChangeListener(this.filterWrapper_),this.filterWrapper_=null),this.workspace_&&(this.workspace_.getThemeManager().unsubscribe(this.svgBackground_),this.workspace_.targetWorkspace=null,this.workspace_.dispose(),this.workspace_=null),this.svgGroup_&&(e.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.targetWorkspace=this.svgBackground_=null},e.Flyout.prototype.getWidth=function(){return this.width_},e.Flyout.prototype.getHeight=function(){return this.height_},e.Flyout.prototype.getFlyoutScale=function(){return this.targetWorkspace.scale},e.Flyout.prototype.getWorkspace=function(){return this.workspace_},e.Flyout.prototype.isVisible=function(){return this.isVisible_},e.Flyout.prototype.setVisible=function(e){var t=e!=this.isVisible();this.isVisible_=e,t&&(this.autoClose||this.workspace_.recordDragTargets(),this.updateDisplay_())},e.Flyout.prototype.setContainerVisible=function(e){var t=e!=this.containerVisible_;this.containerVisible_=e,t&&this.updateDisplay_()},e.Flyout.prototype.updateDisplay_=function(){var e=!!this.containerVisible_&&this.isVisible();this.svgGroup_.style.display=e?"block":"none",this.workspace_.scrollbar.setContainerVisible(e)},e.Flyout.prototype.positionAt_=function(t,n,r,i){this.svgGroup_.setAttribute("width",t),this.svgGroup_.setAttribute("height",n),this.workspace_.setCachedParentSvgSize(t,n),"svg"==this.svgGroup_.tagName?e.utils.dom.setCssTransform(this.svgGroup_,"translate("+r+"px,"+i+"px)"):this.svgGroup_.setAttribute("transform","translate("+r+","+i+")"),(t=this.workspace_.scrollbar)&&(t.setOrigin(r,i),t.resize(),t.hScroll&&t.hScroll.setPosition(t.hScroll.position.x,t.hScroll.position.y),t.vScroll&&t.vScroll.setPosition(t.vScroll.position.x,t.vScroll.position.y))},e.Flyout.prototype.hide=function(){if(this.isVisible()){this.setVisible(!1);for(var t,n=0;t=this.listeners_[n];n++)e.browserEvents.unbind(t);this.listeners_.length=0,this.reflowWrapper_&&(this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowWrapper_=null)}},e.Flyout.prototype.show=function(t){this.workspace_.setResizesEnabled(!1),this.hide(),this.clearOldBlocks_(),"string"==typeof t&&(t=this.getDynamicCategoryContents_(t)),this.setVisible(!0),t=e.utils.toolbox.convertFlyoutDefToJsonArray(t),t=this.createFlyoutInfo_(t),this.layout_(t.contents,t.gaps),this.listeners_.push(e.browserEvents.conditionalBind(this.svgBackground_,"mouseover",this,(function(){for(var e,t=this.workspace_.getTopBlocks(!1),n=0;e=t[n];n++)e.removeSelect()}))),this.horizontalLayout?this.height_=0:this.width_=0,this.workspace_.setResizesEnabled(!0),this.reflow(),this.filterForCapacity_(),this.position(),this.reflowWrapper_=this.reflow.bind(this),this.workspace_.addChangeListener(this.reflowWrapper_)},e.Flyout.prototype.createFlyoutInfo_=function(t){var n=[],r=[];this.permanentlyDisabled_.length=0;for(var i,o=this.horizontalLayout?this.GAP_X:this.GAP_Y,s=0;i=t[s];s++)switch(i.custom&&(i=this.getDynamicCategoryContents_(i.custom),i=e.utils.toolbox.convertFlyoutDefToJsonArray(i),t.splice.apply(t,[s,1].concat(i)),i=t[s]),i.kind.toUpperCase()){case"BLOCK":var a=i,l=this.getBlockXml_(a);i=this.createBlock_(l),a=parseInt(a.gap||l.getAttribute("gap"),10),r.push(isNaN(a)?o:a),n.push({type:"block",block:i});break;case"SEP":this.addSeparatorGap_(i,r,o);break;case"LABEL":i=this.createButton_(i,!0),n.push({type:"button",button:i}),r.push(o);break;case"BUTTON":i=this.createButton_(i,!1),n.push({type:"button",button:i}),r.push(o)}return{contents:n,gaps:r}},e.Flyout.prototype.getDynamicCategoryContents_=function(e){if("function"!=typeof(e=this.workspace_.targetWorkspace.getToolboxCategoryCallback(e)))throw TypeError("Couldn't find a callback function when opening a toolbox category.");if(e=e(this.workspace_.targetWorkspace),!Array.isArray(e))throw new TypeError("Result of toolbox category callback must be an array.");return e},e.Flyout.prototype.createButton_=function(t,n){if(!e.FlyoutButton)throw Error("Missing require for Blockly.FlyoutButton");return new e.FlyoutButton(this.workspace_,this.targetWorkspace,t,n)},e.Flyout.prototype.createBlock_=function(t){return(t=e.Xml.domToBlock(t,this.workspace_)).isEnabled()||this.permanentlyDisabled_.push(t),t},e.Flyout.prototype.getBlockXml_=function(t){var n=null,r=t.blockxml;if(r&&"string"!=typeof r?n=r:r&&"string"==typeof r?(n=e.Xml.textToDom(r),t.blockxml=n):t.type&&((n=e.utils.xml.createElement("xml")).setAttribute("type",t.type),n.setAttribute("disabled",t.disabled),t.blockxml=n),!n)throw Error("Error: Invalid block definition. Block definition must have blockxml or type.");return n},e.Flyout.prototype.addSeparatorGap_=function(e,t,n){e=parseInt(e.gap,10),!isNaN(e)&&0<t.length?t[t.length-1]=e:t.push(n)},e.Flyout.prototype.clearOldBlocks_=function(){for(var t,n=this.workspace_.getTopBlocks(!1),r=0;t=n[r];r++)t.workspace==this.workspace_&&t.dispose(!1,!1);for(r=0;r<this.mats_.length;r++)(n=this.mats_[r])&&(e.Tooltip.unbindMouseEvents(n),e.utils.dom.removeNode(n));for(r=this.mats_.length=0;n=this.buttons_[r];r++)n.dispose();this.buttons_.length=0,this.workspace_.getPotentialVariableMap().clear()},e.Flyout.prototype.addBlockListeners_=function(t,n,r){this.listeners_.push(e.browserEvents.conditionalBind(t,"mousedown",null,this.blockMouseDown_(n))),this.listeners_.push(e.browserEvents.conditionalBind(r,"mousedown",null,this.blockMouseDown_(n))),this.listeners_.push(e.browserEvents.bind(t,"mouseenter",n,n.addSelect)),this.listeners_.push(e.browserEvents.bind(t,"mouseleave",n,n.removeSelect)),this.listeners_.push(e.browserEvents.bind(r,"mouseenter",n,n.addSelect)),this.listeners_.push(e.browserEvents.bind(r,"mouseleave",n,n.removeSelect))},e.Flyout.prototype.blockMouseDown_=function(e){var t=this;return function(n){var r=t.targetWorkspace.getGesture(n);r&&(r.setStartBlock(e),r.handleFlyoutStart(n,t))}},e.Flyout.prototype.onMouseDown_=function(e){var t=this.targetWorkspace.getGesture(e);t&&t.handleFlyoutStart(e,this)},e.Flyout.prototype.isBlockCreatable_=function(e){return e.isEnabled()},e.Flyout.prototype.createBlock=function(t){var n=null;e.Events.disable();var r=this.targetWorkspace.getAllVariables();this.targetWorkspace.setResizesEnabled(!1);try{n=this.placeNewBlock_(t)}finally{e.Events.enable()}if(e.hideChaff(),t=e.Variables.getAddedVariables(this.targetWorkspace,r),e.Events.isEnabled()){for(e.Events.setGroup(!0),r=0;r<t.length;r++){var i=t[r];e.Events.fire(new(e.Events.get(e.Events.VAR_CREATE))(i))}e.Events.fire(new(e.Events.get(e.Events.BLOCK_CREATE))(n))}return this.autoClose?this.hide():this.filterForCapacity_(),n},e.Flyout.prototype.initFlyoutButton_=function(t,n,r){var i=t.createDom();t.moveTo(n,r),t.show(),this.listeners_.push(e.browserEvents.conditionalBind(i,"mousedown",this,this.onMouseDown_)),this.buttons_.push(t)},e.Flyout.prototype.createRect_=function(t,n,r,i,o){return(n=e.utils.dom.createSvgElement(e.utils.Svg.RECT,{"fill-opacity":0,x:n,y:r,height:i.height,width:i.width},null)).tooltip=t,e.Tooltip.bindMouseEvents(n),this.workspace_.getCanvas().insertBefore(n,t.getSvgRoot()),t.flyoutRect_=n,this.mats_[o]=n},e.Flyout.prototype.moveRectToBlock_=function(e,t){var n=t.getHeightWidth();e.setAttribute("width",n.width),e.setAttribute("height",n.height),t=t.getRelativeToSurfaceXY(),e.setAttribute("y",t.y),e.setAttribute("x",this.RTL?t.x-n.width:t.x)},e.Flyout.prototype.filterForCapacity_=function(){for(var t,n=this.workspace_.getTopBlocks(!1),r=0;t=n[r];r++)if(-1==this.permanentlyDisabled_.indexOf(t))for(var i=this.targetWorkspace.isCapacityAvailable(e.utils.getBlockTypeCounts(t));t;)t.setEnabled(i),t=t.getNextBlock()},e.Flyout.prototype.reflow=function(){this.reflowWrapper_&&this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowInternal_(),this.reflowWrapper_&&this.workspace_.addChangeListener(this.reflowWrapper_)},e.Flyout.prototype.isScrollable=function(){return!!this.workspace_.scrollbar&&this.workspace_.scrollbar.isVisible()},e.Flyout.prototype.placeNewBlock_=function(t){var n=this.targetWorkspace;if(!t.getSvgRoot())throw Error("oldBlock is not rendered.");var r=e.Xml.blockToDom(t,!0);if(n.setResizesEnabled(!1),!(r=e.Xml.domToBlock(r,n)).getSvgRoot())throw Error("block is not rendered.");var i=n.getOriginOffsetInPixels(),o=this.workspace_.getOriginOffsetInPixels();return(t=t.getRelativeToSurfaceXY()).scale(this.workspace_.scale),t=e.utils.Coordinate.sum(o,t),(i=e.utils.Coordinate.difference(t,i)).scale(1/n.scale),r.moveBy(i.x,i.y),r},e.HorizontalFlyout=function(t){e.HorizontalFlyout.superClass_.constructor.call(this,t),this.horizontalLayout=!0},e.utils.object.inherits(e.HorizontalFlyout,e.Flyout),e.HorizontalFlyout.prototype.setMetrics_=function(e){if(this.isVisible()){var t=this.workspace_.getMetricsManager(),n=t.getScrollMetrics(),r=t.getViewMetrics();t=t.getAbsoluteMetrics(),"number"==typeof e.x&&(this.workspace_.scrollX=-(n.left+(n.width-r.width)*e.x)),this.workspace_.translate(this.workspace_.scrollX+t.left,this.workspace_.scrollY+t.top)}},e.HorizontalFlyout.prototype.getX=function(){return 0},e.HorizontalFlyout.prototype.getY=function(){if(!this.isVisible())return 0;var t=this.targetWorkspace.getMetricsManager(),n=t.getAbsoluteMetrics(),r=t.getViewMetrics();t=t.getToolboxMetrics();var i=this.toolboxPosition_==e.utils.toolbox.Position.TOP;return this.targetWorkspace.toolboxPosition==this.toolboxPosition_?this.targetWorkspace.getToolbox()?i?t.height:r.height-this.height_:i?0:r.height:i?0:r.height+n.top-this.height_},e.HorizontalFlyout.prototype.position=function(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.width_=e.width,this.setBackgroundPath_(e.width-2*this.CORNER_RADIUS,this.height_-this.CORNER_RADIUS),e=this.getX();var t=this.getY();this.positionAt_(this.width_,this.height_,e,t)}},e.HorizontalFlyout.prototype.setBackgroundPath_=function(t,n){var r=this.toolboxPosition_==e.utils.toolbox.Position.TOP,i=["M 0,"+(r?0:this.CORNER_RADIUS)];r?(i.push("h",t+2*this.CORNER_RADIUS),i.push("v",n),i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),i.push("h",-t),i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),i.push("h",t),i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),i.push("v",n),i.push("h",-t-2*this.CORNER_RADIUS)),i.push("z"),this.svgBackground_.setAttribute("d",i.join(" "))},e.HorizontalFlyout.prototype.scrollToStart=function(){this.workspace_.scrollbar.setX(this.RTL?1/0:0)},e.HorizontalFlyout.prototype.wheel_=function(t){var n=e.utils.getScrollDeltaPixels(t);if(n=n.x||n.y){var r=this.workspace_.getMetricsManager(),i=r.getScrollMetrics();n=r.getViewMetrics().left-i.left+n,this.workspace_.scrollbar.setX(n),e.WidgetDiv.hide(),e.DropDownDiv.hideWithoutAnimation()}t.preventDefault(),t.stopPropagation()},e.HorizontalFlyout.prototype.layout_=function(e,t){this.workspace_.scale=this.targetWorkspace.scale;var n=this.MARGIN,r=n+this.tabWidth_;this.RTL&&(e=e.reverse());for(var i,o=0;i=e[o];o++)if("block"==i.type){for(var s,a=(i=i.block).getDescendants(!1),l=0;s=a[l];l++)s.isInFlyout=!0;i.render(),a=i.getSvgRoot(),l=i.getHeightWidth(),s=i.outputConnection?this.tabWidth_:0,s=this.RTL?r+l.width:r-s,i.moveBy(s,n),s=this.createRect_(i,s,n,l,o),r+=l.width+t[o],this.addBlockListeners_(a,i,s)}else"button"==i.type&&(this.initFlyoutButton_(i.button,r,n),r+=i.button.width+t[o])},e.HorizontalFlyout.prototype.isDragTowardWorkspace=function(e){e=Math.atan2(e.y,e.x)/Math.PI*180;var t=this.dragAngleRange_;return e<90+t&&e>90-t||e>-90-t&&e<-90+t},e.HorizontalFlyout.prototype.getClientRect=function(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;var t=this.svgGroup_.getBoundingClientRect(),n=t.top;return this.toolboxPosition_==e.utils.toolbox.Position.TOP?new e.utils.Rect(-1e9,n+t.height,-1e9,1e9):new e.utils.Rect(n,1e9,-1e9,1e9)},e.HorizontalFlyout.prototype.reflowInternal_=function(){this.workspace_.scale=this.getFlyoutScale();for(var t,n=0,r=this.workspace_.getTopBlocks(!1),i=0;t=r[i];i++)n=Math.max(n,t.getHeightWidth().height);if(n+=1.5*this.MARGIN,n*=this.workspace_.scale,n+=e.Scrollbar.scrollbarThickness,this.height_!=n){for(i=0;t=r[i];i++)t.flyoutRect_&&this.moveRectToBlock_(t.flyoutRect_,t);this.targetWorkspace.toolboxPosition!=this.toolboxPosition_||this.toolboxPosition_!=e.utils.toolbox.Position.TOP||this.targetWorkspace.getToolbox()||this.targetWorkspace.translate(this.targetWorkspace.scrollX,this.targetWorkspace.scrollY+n),this.height_=n,this.position(),this.targetWorkspace.recordDragTargets()}},e.registry.register(e.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX,e.registry.DEFAULT,e.HorizontalFlyout),e.VerticalFlyout=function(t){e.VerticalFlyout.superClass_.constructor.call(this,t)},e.utils.object.inherits(e.VerticalFlyout,e.Flyout),e.VerticalFlyout.registryName="verticalFlyout",e.VerticalFlyout.prototype.setMetrics_=function(e){if(this.isVisible()){var t=this.workspace_.getMetricsManager(),n=t.getScrollMetrics(),r=t.getViewMetrics();t=t.getAbsoluteMetrics(),"number"==typeof e.y&&(this.workspace_.scrollY=-(n.top+(n.height-r.height)*e.y)),this.workspace_.translate(this.workspace_.scrollX+t.left,this.workspace_.scrollY+t.top)}},e.VerticalFlyout.prototype.getX=function(){if(!this.isVisible())return 0;var t=this.targetWorkspace.getMetricsManager(),n=t.getAbsoluteMetrics(),r=t.getViewMetrics();return t=t.getToolboxMetrics(),this.targetWorkspace.toolboxPosition==this.toolboxPosition_?this.targetWorkspace.getToolbox()?this.toolboxPosition_==e.utils.toolbox.Position.LEFT?t.width:r.width-this.width_:this.toolboxPosition_==e.utils.toolbox.Position.LEFT?0:r.width:this.toolboxPosition_==e.utils.toolbox.Position.LEFT?0:r.width+n.left-this.width_},e.VerticalFlyout.prototype.getY=function(){return 0},e.VerticalFlyout.prototype.position=function(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.height_=e.height,this.setBackgroundPath_(this.width_-this.CORNER_RADIUS,e.height-2*this.CORNER_RADIUS),e=this.getX();var t=this.getY();this.positionAt_(this.width_,this.height_,e,t)}},e.VerticalFlyout.prototype.setBackgroundPath_=function(t,n){var r=this.toolboxPosition_==e.utils.toolbox.Position.RIGHT,i=t+this.CORNER_RADIUS;(i=["M "+(r?i:0)+",0"]).push("h",r?-t:t),i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,r?0:1,r?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS),i.push("v",Math.max(0,n)),i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,r?0:1,r?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS),i.push("h",r?t:-t),i.push("z"),this.svgBackground_.setAttribute("d",i.join(" "))},e.VerticalFlyout.prototype.scrollToStart=function(){this.workspace_.scrollbar.setY(0)},e.VerticalFlyout.prototype.wheel_=function(t){var n=e.utils.getScrollDeltaPixels(t);if(n.y){var r=this.workspace_.getMetricsManager(),i=r.getScrollMetrics();n=r.getViewMetrics().top-i.top+n.y,this.workspace_.scrollbar.setY(n),e.WidgetDiv.hide(),e.DropDownDiv.hideWithoutAnimation()}t.preventDefault(),t.stopPropagation()},e.VerticalFlyout.prototype.layout_=function(e,t){this.workspace_.scale=this.targetWorkspace.scale;for(var n,r=this.MARGIN,i=this.RTL?r:r+this.tabWidth_,o=0;n=e[o];o++)if("block"==n.type){for(var s,a=(n=n.block).getDescendants(!1),l=0;s=a[l];l++)s.isInFlyout=!0;n.render(),a=n.getSvgRoot(),l=n.getHeightWidth(),s=n.outputConnection?i-this.tabWidth_:i,n.moveBy(s,r),s=this.createRect_(n,this.RTL?s-l.width:s,r,l,o),this.addBlockListeners_(a,n,s),r+=l.height+t[o]}else"button"==n.type&&(this.initFlyoutButton_(n.button,i,r),r+=n.button.height+t[o])},e.VerticalFlyout.prototype.isDragTowardWorkspace=function(e){e=Math.atan2(e.y,e.x)/Math.PI*180;var t=this.dragAngleRange_;return e<t&&e>-t||e<-180+t||e>180-t},e.VerticalFlyout.prototype.getClientRect=function(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;var t=this.svgGroup_.getBoundingClientRect(),n=t.left;return this.toolboxPosition_==e.utils.toolbox.Position.LEFT?new e.utils.Rect(-1e9,1e9,-1e9,n+t.width):new e.utils.Rect(-1e9,1e9,n,1e9)},e.VerticalFlyout.prototype.reflowInternal_=function(){this.workspace_.scale=this.getFlyoutScale();for(var t,n=0,r=this.workspace_.getTopBlocks(!1),i=0;t=r[i];i++){var o=t.getHeightWidth().width;t.outputConnection&&(o-=this.tabWidth_),n=Math.max(n,o)}for(i=0;t=this.buttons_[i];i++)n=Math.max(n,t.width);if(n+=1.5*this.MARGIN+this.tabWidth_,n*=this.workspace_.scale,n+=e.Scrollbar.scrollbarThickness,this.width_!=n){for(i=0;t=r[i];i++){if(this.RTL){o=t.getRelativeToSurfaceXY().x;var s=n/this.workspace_.scale-this.MARGIN;t.outputConnection||(s-=this.tabWidth_),t.moveBy(s-o,0)}t.flyoutRect_&&this.moveRectToBlock_(t.flyoutRect_,t)}if(this.RTL)for(i=0;t=this.buttons_[i];i++)r=t.getPosition().y,t.moveTo(n/this.workspace_.scale-t.width-this.MARGIN-this.tabWidth_,r);this.targetWorkspace.toolboxPosition!=this.toolboxPosition_||this.toolboxPosition_!=e.utils.toolbox.Position.LEFT||this.targetWorkspace.getToolbox()||this.targetWorkspace.translate(this.targetWorkspace.scrollX+n,this.targetWorkspace.scrollY),this.width_=n,this.position(),this.targetWorkspace.recordDragTargets()}},e.registry.register(e.registry.Type.FLYOUTS_VERTICAL_TOOLBOX,e.registry.DEFAULT,e.VerticalFlyout),e.FlyoutButton=function(t,n,r,i){this.workspace_=t,this.targetWorkspace_=n,this.text_=r.text,this.position_=new e.utils.Coordinate(0,0),this.isLabel_=i,this.callbackKey_=r.callbackKey||r.callbackkey,this.cssClass_=r["web-class"]||null,this.onMouseUpWrapper_=null,this.info=r},e.FlyoutButton.MARGIN_X=5,e.FlyoutButton.MARGIN_Y=2,e.FlyoutButton.prototype.width=0,e.FlyoutButton.prototype.height=0,e.FlyoutButton.prototype.createDom=function(){var t=this.isLabel_?"blocklyFlyoutLabel":"blocklyFlyoutButton";if(this.cssClass_&&(t+=" "+this.cssClass_),this.svgGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{class:t},this.workspace_.getCanvas()),!this.isLabel_)var n=e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.svgGroup_);t=e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:this.isLabel_?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:4,ry:4},this.svgGroup_);var r=e.utils.dom.createSvgElement(e.utils.Svg.TEXT,{class:this.isLabel_?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup_),i=e.utils.replaceMessageReferences(this.text_);this.workspace_.RTL&&(i+="\u200f"),r.textContent=i,this.isLabel_&&(this.svgText_=r,this.workspace_.getThemeManager().subscribe(this.svgText_,"flyoutForegroundColour","fill"));var o=e.utils.style.getComputedStyle(r,"fontSize"),s=e.utils.style.getComputedStyle(r,"fontWeight"),a=e.utils.style.getComputedStyle(r,"fontFamily");return this.width=e.utils.dom.getFastTextWidthWithSizeString(r,o,s,a),i=e.utils.dom.measureFontMetrics(i,o,s,a),this.height=i.height,this.isLabel_||(this.width+=2*e.FlyoutButton.MARGIN_X,this.height+=2*e.FlyoutButton.MARGIN_Y,n.setAttribute("width",this.width),n.setAttribute("height",this.height)),t.setAttribute("width",this.width),t.setAttribute("height",this.height),r.setAttribute("x",this.width/2),r.setAttribute("y",this.height/2-i.height/2+i.baseline),this.updateTransform_(),this.onMouseUpWrapper_=e.browserEvents.conditionalBind(this.svgGroup_,"mouseup",this,this.onMouseUp_),this.svgGroup_},e.FlyoutButton.prototype.show=function(){this.updateTransform_(),this.svgGroup_.setAttribute("display","block")},e.FlyoutButton.prototype.updateTransform_=function(){this.svgGroup_.setAttribute("transform","translate("+this.position_.x+","+this.position_.y+")")},e.FlyoutButton.prototype.moveTo=function(e,t){this.position_.x=e,this.position_.y=t,this.updateTransform_()},e.FlyoutButton.prototype.isLabel=function(){return this.isLabel_},e.FlyoutButton.prototype.getPosition=function(){return this.position_},e.FlyoutButton.prototype.getButtonText=function(){return this.text_},e.FlyoutButton.prototype.getTargetWorkspace=function(){return this.targetWorkspace_},e.FlyoutButton.prototype.dispose=function(){this.onMouseUpWrapper_&&e.browserEvents.unbind(this.onMouseUpWrapper_),this.svgGroup_&&e.utils.dom.removeNode(this.svgGroup_),this.svgText_&&this.workspace_.getThemeManager().unsubscribe(this.svgText_)},e.FlyoutButton.prototype.onMouseUp_=function(e){(e=this.targetWorkspace_.getGesture(e))&&e.cancel(),this.isLabel_&&this.callbackKey_?console.warn("Labels should not have callbacks. Label text: "+this.text_):this.isLabel_||this.callbackKey_&&this.targetWorkspace_.getButtonCallback(this.callbackKey_)?this.isLabel_||this.targetWorkspace_.getButtonCallback(this.callbackKey_)(this):console.warn("Buttons should have callbacks. Button text: "+this.text_)},e.Css.register(".blocklyFlyoutButton {,fill: #888;,cursor: default;,},.blocklyFlyoutButtonShadow {,fill: #666;,},.blocklyFlyoutButton:hover {,fill: #aaa;,},.blocklyFlyoutLabel {,cursor: default;,},.blocklyFlyoutLabelBackground {,opacity: 0;,}".split(",")),e.Generator=function(e){this.name_=e,this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g")},e.Generator.prototype.INFINITE_LOOP_TRAP=null,e.Generator.prototype.STATEMENT_PREFIX=null,e.Generator.prototype.STATEMENT_SUFFIX=null,e.Generator.prototype.INDENT="  ",e.Generator.prototype.COMMENT_WRAP=60,e.Generator.prototype.ORDER_OVERRIDES=[],e.Generator.prototype.isInitialized=null,e.Generator.prototype.workspaceToCode=function(t){t||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),t=e.getMainWorkspace());var n=[];this.init(t),t=t.getTopBlocks(!0);for(var r,i=0;r=t[i];i++){var o=this.blockToCode(r);Array.isArray(o)&&(o=o[0]),o&&(r.outputConnection&&(o=this.scrubNakedValue(o),this.STATEMENT_PREFIX&&!r.suppressPrefixSuffix&&(o=this.injectId(this.STATEMENT_PREFIX,r)+o),this.STATEMENT_SUFFIX&&!r.suppressPrefixSuffix&&(o+=this.injectId(this.STATEMENT_SUFFIX,r))),n.push(o))}return n=n.join("\n"),(n=(n=(n=this.finish(n)).replace(/^\s+\n/,"")).replace(/\n\s+$/,"\n")).replace(/[ \t]+\n/g,"\n")},e.Generator.prototype.prefixLines=function(e,t){return t+e.replace(/(?!\n$)\n/g,"\n"+t)},e.Generator.prototype.allNestedComments=function(e){var t=[];e=e.getDescendants(!0);for(var n=0;n<e.length;n++){var r=e[n].getCommentText();r&&t.push(r)}return t.length&&t.push(""),t.join("\n")},e.Generator.prototype.blockToCode=function(e,t){if(!1===this.isInitialized&&console.warn("Generator init was not called before blockToCode was called."),!e)return"";if(!e.isEnabled())return t?"":this.blockToCode(e.getNextBlock());if(e.isInsertionMarker())return t?"":this.blockToCode(e.getChildren(!1)[0]);var n=this[e.type];if("function"!=typeof n)throw Error('Language "'+this.name_+'" does not know how to generate code for block type "'+e.type+'".');if(n=n.call(e,e),Array.isArray(n)){if(!e.outputConnection)throw TypeError("Expecting string from statement block: "+e.type);return[this.scrub_(e,n[0],t),n[1]]}if("string"==typeof n)return this.STATEMENT_PREFIX&&!e.suppressPrefixSuffix&&(n=this.injectId(this.STATEMENT_PREFIX,e)+n),this.STATEMENT_SUFFIX&&!e.suppressPrefixSuffix&&(n+=this.injectId(this.STATEMENT_SUFFIX,e)),this.scrub_(e,n,t);if(null===n)return"";throw SyntaxError("Invalid code generated: "+n)},e.Generator.prototype.valueToCode=function(e,t,n){if(isNaN(n))throw TypeError("Expecting valid order from block: "+e.type);var r=e.getInputTargetBlock(t);if(!r)return"";if(""===(t=this.blockToCode(r)))return"";if(!Array.isArray(t))throw TypeError("Expecting tuple from value block: "+r.type);if(e=t[0],t=t[1],isNaN(t))throw TypeError("Expecting valid order from value block: "+r.type);if(!e)return"";r=!1;var i=Math.floor(n),o=Math.floor(t);if(i<=o&&(i!=o||0!=i&&99!=i))for(r=!0,i=0;i<this.ORDER_OVERRIDES.length;i++)if(this.ORDER_OVERRIDES[i][0]==n&&this.ORDER_OVERRIDES[i][1]==t){r=!1;break}return r&&(e="("+e+")"),e},e.Generator.prototype.statementToCode=function(e,t){if(e=e.getInputTargetBlock(t),"string"!=typeof(t=this.blockToCode(e)))throw TypeError("Expecting code from statement block: "+(e&&e.type));return t&&(t=this.prefixLines(t,this.INDENT)),t},e.Generator.prototype.addLoopTrap=function(e,t){return this.INFINITE_LOOP_TRAP&&(e=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,t),this.INDENT)+e),this.STATEMENT_SUFFIX&&!t.suppressPrefixSuffix&&(e=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,t),this.INDENT)+e),this.STATEMENT_PREFIX&&!t.suppressPrefixSuffix&&(e+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,t),this.INDENT)),e},e.Generator.prototype.injectId=function(e,t){return t=t.id.replace(/\$/g,"$$$$"),e.replace(/%1/g,"'"+t+"'")},e.Generator.prototype.RESERVED_WORDS_="",e.Generator.prototype.addReservedWords=function(e){this.RESERVED_WORDS_+=e+","},e.Generator.prototype.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}",Object.defineProperty(e.Generator.prototype,"variableDB_",{get:function(){return e.utils.deprecation.warn("variableDB_","May 2021","May 2026","nameDB_"),this.nameDB_},set:function(t){e.utils.deprecation.warn("variableDB_","May 2021","May 2026","nameDB_"),this.nameDB_=t}}),e.Generator.prototype.provideFunction_=function(t,n){if(!this.definitions_[t]){var r,i=this.nameDB_.getDistinctName(t,e.PROCEDURE_CATEGORY_NAME);for(this.functionNames_[t]=i,n=n.join("\n").replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,i);r!=n;)r=n,n=n.replace(/^(( {2})*) {2}/gm,"$1\0");n=n.replace(/\0/g,this.INDENT),this.definitions_[t]=n}return this.functionNames_[t]},e.Generator.prototype.init=function(e){this.definitions_=Object.create(null),this.functionNames_=Object.create(null)},e.Generator.prototype.scrub_=function(e,t,n){return t},e.Generator.prototype.finish=function(e){return delete this.definitions_,delete this.functionNames_,e},e.Generator.prototype.scrubNakedValue=function(e){return e},e.IToolboxItem=function(){},e.ISelectableToolboxItem=function(){},e.ICollapsibleToolboxItem=function(){},e.ToolboxItem=function(t,n,r){this.id_=t.toolboxitemid||e.utils.IdGenerator.getNextUniqueId(),this.level_=(this.parent_=r||null)?this.parent_.getLevel()+1:0,this.toolboxItemDef_=t,this.parentToolbox_=n,this.workspace_=this.parentToolbox_.getWorkspace()},e.ToolboxItem.prototype.init=function(){},e.ToolboxItem.prototype.getDiv=function(){return null},e.ToolboxItem.prototype.getId=function(){return this.id_},e.ToolboxItem.prototype.getParent=function(){return null},e.ToolboxItem.prototype.getLevel=function(){return this.level_},e.ToolboxItem.prototype.isSelectable=function(){return!1},e.ToolboxItem.prototype.isCollapsible=function(){return!1},e.ToolboxItem.prototype.dispose=function(){},e.ToolboxCategory=function(t,n,r){e.ToolboxCategory.superClass_.constructor.call(this,t,n,r),this.name_=e.utils.replaceMessageReferences(t.name),this.colour_=this.getColour_(t),this.labelDom_=this.iconDom_=this.rowContents_=this.rowDiv_=this.htmlDiv_=null,this.cssConfig_=this.makeDefaultCssConfig_(),e.utils.object.mixin(this.cssConfig_,t.cssconfig||t.cssConfig),this.isDisabled_=this.isHidden_=!1,this.flyoutItems_=[],this.parseContents_(t)},e.utils.object.inherits(e.ToolboxCategory,e.ToolboxItem),e.ToolboxCategory.registrationName="category",e.ToolboxCategory.nestedPadding=19,e.ToolboxCategory.borderWidth=8,e.ToolboxCategory.defaultBackgroundColour="#57e",e.ToolboxCategory.prototype.makeDefaultCssConfig_=function(){return{container:"blocklyToolboxCategory",row:"blocklyTreeRow",rowcontentcontainer:"blocklyTreeRowContentContainer",icon:"blocklyTreeIcon",label:"blocklyTreeLabel",contents:"blocklyToolboxContents",selected:"blocklyTreeSelected",openicon:"blocklyTreeIconOpen",closedicon:"blocklyTreeIconClosed"}},e.ToolboxCategory.prototype.parseContents_=function(e){var t=e.contents;if(e.custom)this.flyoutItems_=e.custom;else if(t){e=0;for(var n;n=t[e];e++)this.flyoutItems_.push(n)}},e.ToolboxCategory.prototype.init=function(){this.createDom_(),"true"==this.toolboxItemDef_.hidden&&this.hide()},e.ToolboxCategory.prototype.createDom_=function(){return this.htmlDiv_=this.createContainer_(),e.utils.aria.setRole(this.htmlDiv_,e.utils.aria.Role.TREEITEM),e.utils.aria.setState(this.htmlDiv_,e.utils.aria.State.SELECTED,!1),e.utils.aria.setState(this.htmlDiv_,e.utils.aria.State.LEVEL,this.level_),this.rowDiv_=this.createRowContainer_(),this.rowDiv_.style.pointerEvents="auto",this.htmlDiv_.appendChild(this.rowDiv_),this.rowContents_=this.createRowContentsContainer_(),this.rowContents_.style.pointerEvents="none",this.rowDiv_.appendChild(this.rowContents_),this.iconDom_=this.createIconDom_(),e.utils.aria.setRole(this.iconDom_,e.utils.aria.Role.PRESENTATION),this.rowContents_.appendChild(this.iconDom_),this.labelDom_=this.createLabelDom_(this.name_),this.rowContents_.appendChild(this.labelDom_),e.utils.aria.setState(this.htmlDiv_,e.utils.aria.State.LABELLEDBY,this.labelDom_.getAttribute("id")),this.addColourBorder_(this.colour_),this.htmlDiv_},e.ToolboxCategory.prototype.createContainer_=function(){var t=document.createElement("div");return e.utils.dom.addClass(t,this.cssConfig_.container),t},e.ToolboxCategory.prototype.createRowContainer_=function(){var t=document.createElement("div");e.utils.dom.addClass(t,this.cssConfig_.row);var n=e.ToolboxCategory.nestedPadding*this.getLevel();return n=n.toString()+"px",this.workspace_.RTL?t.style.paddingRight=n:t.style.paddingLeft=n,t},e.ToolboxCategory.prototype.createRowContentsContainer_=function(){var t=document.createElement("div");return e.utils.dom.addClass(t,this.cssConfig_.rowcontentcontainer),t},e.ToolboxCategory.prototype.createIconDom_=function(){var t=document.createElement("span");return this.parentToolbox_.isHorizontal()||e.utils.dom.addClass(t,this.cssConfig_.icon),t.style.display="inline-block",t},e.ToolboxCategory.prototype.createLabelDom_=function(t){var n=document.createElement("span");return n.setAttribute("id",this.getId()+".label"),n.textContent=t,e.utils.dom.addClass(n,this.cssConfig_.label),n},e.ToolboxCategory.prototype.refreshTheme=function(){this.colour_=this.getColour_(this.toolboxItemDef_),this.addColourBorder_(this.colour_)},e.ToolboxCategory.prototype.addColourBorder_=function(t){t&&(t=e.ToolboxCategory.borderWidth+"px solid "+(t||"#ddd"),this.workspace_.RTL?this.rowDiv_.style.borderRight=t:this.rowDiv_.style.borderLeft=t)},e.ToolboxCategory.prototype.getColour_=function(e){var t=e.categorystyle||e.categoryStyle;return(e=e.colour)&&t?(console.warn('Toolbox category "'+this.name_+'" must not have both a style and a colour'),""):t?this.getColourfromStyle_(t):this.parseColour_(e)},e.ToolboxCategory.prototype.getColourfromStyle_=function(e){var t=this.workspace_.getTheme();if(e&&t){if((t=t.categoryStyles[e])&&t.colour)return this.parseColour_(t.colour);console.warn('Style "'+e+'" must exist and contain a colour value')}return""},e.ToolboxCategory.prototype.getClickTarget=function(){return this.rowDiv_},e.ToolboxCategory.prototype.parseColour_=function(t){if(null==(t=e.utils.replaceMessageReferences(t))||""===t)return"";var n=Number(t);return isNaN(n)?(n=e.utils.colour.parse(t))?n:(console.warn('Toolbox category "'+this.name_+'" has unrecognized colour attribute: '+t),""):e.hueToHex(n)},e.ToolboxCategory.prototype.openIcon_=function(t){t&&(e.utils.dom.removeClasses(t,this.cssConfig_.closedicon),e.utils.dom.addClass(t,this.cssConfig_.openicon))},e.ToolboxCategory.prototype.closeIcon_=function(t){t&&(e.utils.dom.removeClasses(t,this.cssConfig_.openicon),e.utils.dom.addClass(t,this.cssConfig_.closedicon))},e.ToolboxCategory.prototype.setVisible_=function(e){this.htmlDiv_.style.display=e?"block":"none",this.isHidden_=!e,this.parentToolbox_.getSelectedItem()==this&&this.parentToolbox_.clearSelection()},e.ToolboxCategory.prototype.hide=function(){this.setVisible_(!1)},e.ToolboxCategory.prototype.show=function(){this.setVisible_(!0)},e.ToolboxCategory.prototype.isVisible=function(){return!this.isHidden_&&this.allAncestorsExpanded_()},e.ToolboxCategory.prototype.allAncestorsExpanded_=function(){for(var e=this;e.getParent();)if(!(e=e.getParent()).isExpanded())return!1;return!0},e.ToolboxCategory.prototype.isSelectable=function(){return this.isVisible()&&!this.isDisabled_},e.ToolboxCategory.prototype.onClick=function(e){},e.ToolboxCategory.prototype.setSelected=function(t){if(t){var n=this.parseColour_(e.ToolboxCategory.defaultBackgroundColour);this.rowDiv_.style.backgroundColor=this.colour_||n,e.utils.dom.addClass(this.rowDiv_,this.cssConfig_.selected)}else this.rowDiv_.style.backgroundColor="",e.utils.dom.removeClass(this.rowDiv_,this.cssConfig_.selected);e.utils.aria.setState(this.htmlDiv_,e.utils.aria.State.SELECTED,t)},e.ToolboxCategory.prototype.setDisabled=function(e){this.isDisabled_=e,this.getDiv().setAttribute("disabled",e),e?this.getDiv().setAttribute("disabled","true"):this.getDiv().removeAttribute("disabled")},e.ToolboxCategory.prototype.getName=function(){return this.name_},e.ToolboxCategory.prototype.getParent=function(){return this.parent_},e.ToolboxCategory.prototype.getDiv=function(){return this.htmlDiv_},e.ToolboxCategory.prototype.getContents=function(){return this.flyoutItems_},e.ToolboxCategory.prototype.updateFlyoutContents=function(t){this.flyoutItems_=[],"string"==typeof t?this.toolboxItemDef_.custom=t:(delete this.toolboxItemDef_.custom,this.toolboxItemDef_.contents=e.utils.toolbox.convertFlyoutDefToJsonArray(t)),this.parseContents_(this.toolboxItemDef_)},e.ToolboxCategory.prototype.dispose=function(){e.utils.dom.removeNode(this.htmlDiv_)},e.Css.register([".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: rgba(255, 255, 255, 0.2);","}",'.blocklyToolboxDiv[layout="h"] .blocklyToolboxCategory {',"margin: 1px 5px 1px 0;","}",'.blocklyToolboxDiv[dir="RTL"][layout="h"] .blocklyToolboxCategory {',"margin: 1px 0 1px 5px;","}",".blocklyTreeRow {","height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',"margin-left: 8px;","padding-right: 0px","}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;","vertical-align: middle;","visibility: hidden;","width: 16px;","}",".blocklyTreeIconClosed {","background-position: -32px -1px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeIconClosed {',"background-position: 0 -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosed {","background-position: -32px -17px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeSelected>.blocklyTreeIconClosed {',"background-position: 0 -17px;","}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;","}",".blocklyTreeLabel {","cursor: default;","font: 16px sans-serif;","padding: 0 3px;","vertical-align: middle;","}",".blocklyToolboxDelete .blocklyTreeLabel {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyTreeSelected .blocklyTreeLabel {","color: #fff;","}"]),e.registry.register(e.registry.Type.TOOLBOX_ITEM,e.ToolboxCategory.registrationName,e.ToolboxCategory),e.ToolboxSeparator=function(t,n){e.ToolboxSeparator.superClass_.constructor.call(this,t,n),this.cssConfig_={container:"blocklyTreeSeparator"},e.utils.object.mixin(this.cssConfig_,t.cssconfig||t.cssConfig)},e.utils.object.inherits(e.ToolboxSeparator,e.ToolboxItem),e.ToolboxSeparator.registrationName="sep",e.ToolboxSeparator.prototype.init=function(){this.createDom_()},e.ToolboxSeparator.prototype.createDom_=function(){var t=document.createElement("div");return e.utils.dom.addClass(t,this.cssConfig_.container),this.htmlDiv_=t},e.ToolboxSeparator.prototype.getDiv=function(){return this.htmlDiv_},e.ToolboxSeparator.prototype.dispose=function(){e.utils.dom.removeNode(this.htmlDiv_)},e.Css.register('.blocklyTreeSeparator {,border-bottom: solid #e5e5e5 1px;,height: 0;,margin: 5px 0;,},.blocklyToolboxDiv[layout="h"] .blocklyTreeSeparator {,border-right: solid #e5e5e5 1px;,border-bottom: none;,height: auto;,margin: 0 5px 0 5px;,padding: 5px 0;,width: 0;,}'.split(",")),e.registry.register(e.registry.Type.TOOLBOX_ITEM,e.ToolboxSeparator.registrationName,e.ToolboxSeparator),e.CollapsibleToolboxCategory=function(t,n,r){this.subcategoriesDiv_=null,this.expanded_=!1,this.toolboxItems_=[],e.CollapsibleToolboxCategory.superClass_.constructor.call(this,t,n,r)},e.utils.object.inherits(e.CollapsibleToolboxCategory,e.ToolboxCategory),e.CollapsibleToolboxCategory.registrationName="collapsibleCategory",e.CollapsibleToolboxCategory.prototype.makeDefaultCssConfig_=function(){var t=e.CollapsibleToolboxCategory.superClass_.makeDefaultCssConfig_.call(this);return t.contents="blocklyToolboxContents",t},e.CollapsibleToolboxCategory.prototype.parseContents_=function(t){var n=t.contents,r=!0;if(t.custom)this.flyoutItems_=t.custom;else if(n){t=0;for(var i;i=n[t];t++)!e.registry.hasItem(e.registry.Type.TOOLBOX_ITEM,i.kind)||i.kind.toLowerCase()==e.ToolboxSeparator.registrationName&&r?(this.flyoutItems_.push(i),r=!0):(this.createToolboxItem_(i),r=!1)}},e.CollapsibleToolboxCategory.prototype.createToolboxItem_=function(t){var n=t.kind;"CATEGORY"==n.toUpperCase()&&e.utils.toolbox.isCategoryCollapsible(t)&&(n=e.CollapsibleToolboxCategory.registrationName),t=new(e.registry.getClass(e.registry.Type.TOOLBOX_ITEM,n))(t,this.parentToolbox_,this),this.toolboxItems_.push(t)},e.CollapsibleToolboxCategory.prototype.init=function(){e.CollapsibleToolboxCategory.superClass_.init.call(this),this.setExpanded("true"==this.toolboxItemDef_.expanded||this.toolboxItemDef_.expanded)},e.CollapsibleToolboxCategory.prototype.createDom_=function(){e.CollapsibleToolboxCategory.superClass_.createDom_.call(this);var t=this.getChildToolboxItems();return this.subcategoriesDiv_=this.createSubCategoriesDom_(t),e.utils.aria.setRole(this.subcategoriesDiv_,e.utils.aria.Role.GROUP),this.htmlDiv_.appendChild(this.subcategoriesDiv_),this.htmlDiv_},e.CollapsibleToolboxCategory.prototype.createIconDom_=function(){var t=document.createElement("span");return this.parentToolbox_.isHorizontal()||(e.utils.dom.addClass(t,this.cssConfig_.icon),t.style.visibility="visible"),t.style.display="inline-block",t},e.CollapsibleToolboxCategory.prototype.createSubCategoriesDom_=function(t){var n=document.createElement("div");e.utils.dom.addClass(n,this.cssConfig_.contents);for(var r=0;r<t.length;r++){var i=t[r];i.init();var o=i.getDiv();n.appendChild(o),i.getClickTarget&&i.getClickTarget().setAttribute("id",i.getId())}return n},e.CollapsibleToolboxCategory.prototype.setExpanded=function(t){this.expanded_!=t&&((this.expanded_=t)?(this.subcategoriesDiv_.style.display="block",this.openIcon_(this.iconDom_)):(this.subcategoriesDiv_.style.display="none",this.closeIcon_(this.iconDom_)),e.utils.aria.setState(this.htmlDiv_,e.utils.aria.State.EXPANDED,t),this.parentToolbox_.handleToolboxItemResize())},e.CollapsibleToolboxCategory.prototype.setVisible_=function(e){this.htmlDiv_.style.display=e?"block":"none";for(var t,n=0;t=this.getChildToolboxItems()[n];n++)t.setVisible_(e);this.isHidden_=!e,this.parentToolbox_.getSelectedItem()==this&&this.parentToolbox_.clearSelection()},e.CollapsibleToolboxCategory.prototype.isExpanded=function(){return this.expanded_},e.CollapsibleToolboxCategory.prototype.isCollapsible=function(){return!0},e.CollapsibleToolboxCategory.prototype.onClick=function(e){this.toggleExpanded()},e.CollapsibleToolboxCategory.prototype.toggleExpanded=function(){this.setExpanded(!this.expanded_)},e.CollapsibleToolboxCategory.prototype.getDiv=function(){return this.htmlDiv_},e.CollapsibleToolboxCategory.prototype.getChildToolboxItems=function(){return this.toolboxItems_},e.registry.register(e.registry.Type.TOOLBOX_ITEM,e.CollapsibleToolboxCategory.registrationName,e.CollapsibleToolboxCategory),e.Events.ToolboxItemSelect=function(t,n,r){e.Events.ToolboxItemSelect.superClass_.constructor.call(this,r),this.oldItem=t,this.newItem=n},e.utils.object.inherits(e.Events.ToolboxItemSelect,e.Events.UiBase),e.Events.ToolboxItemSelect.prototype.type=e.Events.TOOLBOX_ITEM_SELECT,e.Events.ToolboxItemSelect.prototype.toJson=function(){var t=e.Events.ToolboxItemSelect.superClass_.toJson.call(this);return t.oldItem=this.oldItem,t.newItem=this.newItem,t},e.Events.ToolboxItemSelect.prototype.fromJson=function(t){e.Events.ToolboxItemSelect.superClass_.fromJson.call(this,t),this.oldItem=t.oldItem,this.newItem=t.newItem},e.registry.register(e.registry.Type.EVENT,e.Events.TOOLBOX_ITEM_SELECT,e.Events.ToolboxItemSelect),e.IAutoHideable=function(){},e.IStyleable=function(){},e.IToolbox=function(){},e.Toolbox=function(t){e.Toolbox.superClass_.constructor.call(this),this.workspace_=t,this.id="toolbox",this.toolboxDef_=t.options.languageTree||{contents:[]},this.horizontalLayout_=t.options.horizontalLayout,this.contentsDiv_=this.HtmlDiv=null,this.isVisible_=!1,this.contents_=[],this.height_=this.width_=0,this.RTL=t.options.RTL,this.flyout_=null,this.contentMap_=Object.create(null),this.toolboxPosition=t.options.toolboxPosition,this.previouslySelectedItem_=this.selectedItem_=null,this.boundEvents_=[]},e.utils.object.inherits(e.Toolbox,e.DeleteArea),e.Toolbox.prototype.onShortcut=function(e){return!1},e.Toolbox.prototype.init=function(){var t=this.workspace_,n=t.getParentSvg();this.flyout_=this.createFlyout_(),this.HtmlDiv=this.createDom_(this.workspace_),e.utils.dom.insertAfter(this.flyout_.createDom("svg"),n),this.setVisible(!0),this.flyout_.init(t),this.render(this.toolboxDef_),(t=t.getThemeManager()).subscribe(this.HtmlDiv,"toolboxBackgroundColour","background-color"),t.subscribe(this.HtmlDiv,"toolboxForegroundColour","color"),this.workspace_.getComponentManager().addComponent({component:this,weight:1,capabilities:[e.ComponentManager.Capability.AUTOHIDEABLE,e.ComponentManager.Capability.DELETE_AREA,e.ComponentManager.Capability.DRAG_TARGET]})},e.Toolbox.prototype.createDom_=function(t){t=t.getParentSvg();var n=this.createContainer_();return this.contentsDiv_=this.createContentsContainer_(),this.contentsDiv_.tabIndex=0,e.utils.aria.setRole(this.contentsDiv_,e.utils.aria.Role.TREE),n.appendChild(this.contentsDiv_),t.parentNode.insertBefore(n,t),this.attachEvents_(n,this.contentsDiv_),n},e.Toolbox.prototype.createContainer_=function(){var t=document.createElement("div");return t.setAttribute("layout",this.isHorizontal()?"h":"v"),e.utils.dom.addClass(t,"blocklyToolboxDiv"),e.utils.dom.addClass(t,"blocklyNonSelectable"),t.setAttribute("dir",this.RTL?"RTL":"LTR"),t},e.Toolbox.prototype.createContentsContainer_=function(){var t=document.createElement("div");return e.utils.dom.addClass(t,"blocklyToolboxContents"),this.isHorizontal()&&(t.style.flexDirection="row"),t},e.Toolbox.prototype.attachEvents_=function(t,n){t=e.browserEvents.conditionalBind(t,"click",this,this.onClick_,!1,!0),this.boundEvents_.push(t),n=e.browserEvents.conditionalBind(n,"keydown",this,this.onKeyDown_,!1,!0),this.boundEvents_.push(n)},e.Toolbox.prototype.onClick_=function(t){if(e.utils.isRightButton(t)||t.target==this.HtmlDiv)e.hideChaff(!1);else{var n=t.target.getAttribute("id");n&&(n=this.getToolboxItemById(n)).isSelectable()&&(this.setSelectedItem(n),n.onClick(t)),e.hideChaff(!0)}e.Touch.clearTouchIdentifier()},e.Toolbox.prototype.onKeyDown_=function(t){var n=!1;switch(t.keyCode){case e.utils.KeyCodes.DOWN:n=this.selectNext_();break;case e.utils.KeyCodes.UP:n=this.selectPrevious_();break;case e.utils.KeyCodes.LEFT:n=this.selectParent_();break;case e.utils.KeyCodes.RIGHT:n=this.selectChild_();break;case e.utils.KeyCodes.ENTER:case e.utils.KeyCodes.SPACE:this.selectedItem_&&this.selectedItem_.isCollapsible()&&(this.selectedItem_.toggleExpanded(),n=!0);break;default:n=!1}!n&&this.selectedItem_&&this.selectedItem_.onKeyDown&&(n=this.selectedItem_.onKeyDown(t)),n&&t.preventDefault()},e.Toolbox.prototype.createFlyout_=function(){var t=this.workspace_,n=new e.Options({parentWorkspace:t,rtl:t.RTL,oneBasedIndex:t.options.oneBasedIndex,horizontalLayout:t.horizontalLayout,renderer:t.options.renderer,rendererOverrides:t.options.rendererOverrides,move:{scrollbars:!0}});return n.toolboxPosition=t.options.toolboxPosition,new(t.horizontalLayout?e.registry.getClassFromOptions(e.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX,t.options,!0):e.registry.getClassFromOptions(e.registry.Type.FLYOUTS_VERTICAL_TOOLBOX,t.options,!0))(n)},e.Toolbox.prototype.render=function(e){this.toolboxDef_=e;for(var t=0;t<this.contents_.length;t++){var n=this.contents_[t];n&&n.dispose()}this.contents_=[],this.contentMap_=Object.create(null),this.renderContents_(e.contents),this.position(),this.handleToolboxItemResize()},e.Toolbox.prototype.renderContents_=function(e){for(var t,n=document.createDocumentFragment(),r=0;t=e[r];r++)this.createToolboxItem_(t,n);this.contentsDiv_.appendChild(n)},e.Toolbox.prototype.createToolboxItem_=function(t,n){var r=t.kind;"CATEGORY"==r.toUpperCase()&&e.utils.toolbox.isCategoryCollapsible(t)&&(r=e.CollapsibleToolboxCategory.registrationName),(r=e.registry.getClass(e.registry.Type.TOOLBOX_ITEM,r.toLowerCase()))&&(t=new r(t,this),this.addToolboxItem_(t),t.init(),(r=t.getDiv())&&n.appendChild(r),t.getClickTarget&&t.getClickTarget().setAttribute("id",t.getId()))},e.Toolbox.prototype.addToolboxItem_=function(e){if(this.contents_.push(e),this.contentMap_[e.getId()]=e,e.isCollapsible())for(var t,n=0;t=e.getChildToolboxItems()[n];n++)this.addToolboxItem_(t)},e.Toolbox.prototype.getToolboxItems=function(){return this.contents_},e.Toolbox.prototype.addStyle=function(t){e.utils.dom.addClass(this.HtmlDiv,t)},e.Toolbox.prototype.removeStyle=function(t){e.utils.dom.removeClass(this.HtmlDiv,t)},e.Toolbox.prototype.getClientRect=function(){if(!this.HtmlDiv||!this.isVisible_)return null;var t=this.HtmlDiv.getBoundingClientRect(),n=t.top,r=n+t.height,i=t.left;return t=i+t.width,this.toolboxPosition==e.utils.toolbox.Position.TOP?new e.utils.Rect(-1e7,r,-1e7,1e7):this.toolboxPosition==e.utils.toolbox.Position.BOTTOM?new e.utils.Rect(n,1e7,-1e7,1e7):this.toolboxPosition==e.utils.toolbox.Position.LEFT?new e.utils.Rect(-1e7,1e7,-1e7,t):new e.utils.Rect(-1e7,1e7,i,1e7)},e.Toolbox.prototype.wouldDelete=function(t,n){return t instanceof e.BlockSvg?this.updateWouldDelete_(!t.getParent()&&t.isDeletable()):this.updateWouldDelete_(t.isDeletable()),this.wouldDelete_},e.Toolbox.prototype.onDragEnter=function(e){this.updateCursorDeleteStyle_(!0)},e.Toolbox.prototype.onDragExit=function(e){this.updateCursorDeleteStyle_(!1)},e.Toolbox.prototype.onDrop=function(e){this.updateCursorDeleteStyle_(!1)},e.Toolbox.prototype.updateWouldDelete_=function(e){e!==this.wouldDelete_&&(this.updateCursorDeleteStyle_(!1),this.wouldDelete_=e,this.updateCursorDeleteStyle_(!0))},e.Toolbox.prototype.updateCursorDeleteStyle_=function(e){var t=this.wouldDelete_?"blocklyToolboxDelete":"blocklyToolboxGrab";e?this.addStyle(t):this.removeStyle(t)},e.Toolbox.prototype.getToolboxItemById=function(e){return this.contentMap_[e]||null},e.Toolbox.prototype.getWidth=function(){return this.width_},e.Toolbox.prototype.getHeight=function(){return this.height_},e.Toolbox.prototype.getFlyout=function(){return this.flyout_},e.Toolbox.prototype.getWorkspace=function(){return this.workspace_},e.Toolbox.prototype.getSelectedItem=function(){return this.selectedItem_},e.Toolbox.prototype.getPreviouslySelectedItem=function(){return this.previouslySelectedItem_},e.Toolbox.prototype.isHorizontal=function(){return this.horizontalLayout_},e.Toolbox.prototype.position=function(){var t=this.workspace_.getMetrics(),n=this.HtmlDiv;n&&(this.horizontalLayout_?(n.style.left="0",n.style.height="auto",n.style.width="100%",this.height_=n.offsetHeight,this.width_=t.viewWidth,this.toolboxPosition==e.utils.toolbox.Position.TOP?n.style.top="0":n.style.bottom="0"):(this.toolboxPosition==e.utils.toolbox.Position.RIGHT?n.style.right="0":n.style.left="0",n.style.height="100%",this.width_=n.offsetWidth,this.height_=t.viewHeight),this.flyout_.position())},e.Toolbox.prototype.handleToolboxItemResize=function(){var t=this.workspace_,n=this.HtmlDiv.getBoundingClientRect();t.translate(this.toolboxPosition==e.utils.toolbox.Position.LEFT?t.scrollX+n.width:t.scrollX,this.toolboxPosition==e.utils.toolbox.Position.TOP?t.scrollY+n.height:t.scrollY),e.svgResize(t)},e.Toolbox.prototype.clearSelection=function(){this.setSelectedItem(null)},e.Toolbox.prototype.refreshTheme=function(){for(var e=0;e<this.contents_.length;e++){var t=this.contents_[e];t.refreshTheme&&t.refreshTheme()}},e.Toolbox.prototype.refreshSelection=function(){this.selectedItem_&&this.selectedItem_.isSelectable()&&this.selectedItem_.getContents().length&&this.flyout_.show(this.selectedItem_.getContents())},e.Toolbox.prototype.setVisible=function(e){this.isVisible_!==e&&(this.HtmlDiv.style.display=e?"block":"none",this.isVisible_=e,this.workspace_.recordDragTargets())},e.Toolbox.prototype.autoHide=function(e){!e&&this.flyout_&&this.flyout_.autoClose&&this.clearSelection()},e.Toolbox.prototype.setSelectedItem=function(e){var t=this.selectedItem_;!e&&!t||e&&!e.isSelectable()||(this.shouldDeselectItem_(t,e)&&null!=t&&this.deselectItem_(t),this.shouldSelectItem_(t,e)&&null!=e&&this.selectItem_(t,e),this.updateFlyout_(t,e),this.fireSelectEvent_(t,e))},e.Toolbox.prototype.shouldDeselectItem_=function(e,t){return null!=e&&(!e.isCollapsible()||e!=t)},e.Toolbox.prototype.shouldSelectItem_=function(e,t){return null!=t&&t!=e},e.Toolbox.prototype.deselectItem_=function(t){this.selectedItem_=null,this.previouslySelectedItem_=t,t.setSelected(!1),e.utils.aria.setState(this.contentsDiv_,e.utils.aria.State.ACTIVEDESCENDANT,"")},e.Toolbox.prototype.selectItem_=function(t,n){this.selectedItem_=n,this.previouslySelectedItem_=t,n.setSelected(!0),e.utils.aria.setState(this.contentsDiv_,e.utils.aria.State.ACTIVEDESCENDANT,n.getId())},e.Toolbox.prototype.selectItemByPosition=function(e){-1<e&&e<this.contents_.length&&(e=this.contents_[e]).isSelectable()&&this.setSelectedItem(e)},e.Toolbox.prototype.updateFlyout_=function(e,t){(e!=t||t.isCollapsible())&&t&&t.getContents().length?(this.flyout_.show(t.getContents()),this.flyout_.scrollToStart()):this.flyout_.hide()},e.Toolbox.prototype.fireSelectEvent_=function(t,n){var r=t&&t.getName(),i=n&&n.getName();t==n&&(i=null),t=new(e.Events.get(e.Events.TOOLBOX_ITEM_SELECT))(r,i,this.workspace_.id),e.Events.fire(t)},e.Toolbox.prototype.selectParent_=function(){return!!this.selectedItem_&&(this.selectedItem_.isCollapsible()&&this.selectedItem_.isExpanded()?(this.selectedItem_.setExpanded(!1),!0):!(!this.selectedItem_.getParent()||!this.selectedItem_.getParent().isSelectable())&&(this.setSelectedItem(this.selectedItem_.getParent()),!0))},e.Toolbox.prototype.selectChild_=function(){if(!this.selectedItem_||!this.selectedItem_.isCollapsible())return!1;var e=this.selectedItem_;return e.isExpanded()?this.selectNext_():e.setExpanded(!0),!0},e.Toolbox.prototype.selectNext_=function(){if(!this.selectedItem_)return!1;var e=this.contents_.indexOf(this.selectedItem_)+1;if(-1<e&&e<this.contents_.length){for(var t=this.contents_[e];t&&!t.isSelectable();)t=this.contents_[++e];if(t&&t.isSelectable())return this.setSelectedItem(t),!0}return!1},e.Toolbox.prototype.selectPrevious_=function(){if(!this.selectedItem_)return!1;var e=this.contents_.indexOf(this.selectedItem_)-1;if(-1<e&&e<this.contents_.length){for(var t=this.contents_[e];t&&!t.isSelectable();)t=this.contents_[--e];if(t&&t.isSelectable())return this.setSelectedItem(t),!0}return!1},e.Toolbox.prototype.dispose=function(){this.workspace_.getComponentManager().removeComponent("toolbox"),this.flyout_.dispose();for(var t=0;t<this.contents_.length;t++)this.contents_[t].dispose();for(t=0;t<this.boundEvents_.length;t++)e.browserEvents.unbind(this.boundEvents_[t]);this.boundEvents_=[],this.contents_=[],this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv),e.utils.dom.removeNode(this.HtmlDiv)},e.Css.register([".blocklyToolboxDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxGrab {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;","overflow-y: auto;","padding: 4px 0 4px 0;","position: absolute;","z-index: 70;","-webkit-tap-highlight-color: transparent;","}",".blocklyToolboxContents {","display: flex;","flex-wrap: wrap;","flex-direction: column;","}",".blocklyToolboxContents:focus {","outline: none;","}"]),e.registry.register(e.registry.Type.TOOLBOX,e.registry.DEFAULT,e.Toolbox),e.Events.TrashcanOpen=function(t,n){e.Events.TrashcanOpen.superClass_.constructor.call(this,n),this.isOpen=t},e.utils.object.inherits(e.Events.TrashcanOpen,e.Events.UiBase),e.Events.TrashcanOpen.prototype.type=e.Events.TRASHCAN_OPEN,e.Events.TrashcanOpen.prototype.toJson=function(){var t=e.Events.TrashcanOpen.superClass_.toJson.call(this);return t.isOpen=this.isOpen,t},e.Events.TrashcanOpen.prototype.fromJson=function(t){e.Events.TrashcanOpen.superClass_.fromJson.call(this,t),this.isOpen=t.isOpen},e.registry.register(e.registry.Type.EVENT,e.Events.TRASHCAN_OPEN,e.Events.TrashcanOpen),e.IPositionable=function(){},e.uiPosition={},e.uiPosition.verticalPosition={TOP:0,BOTTOM:1},e.uiPosition.horizontalPosition={LEFT:0,RIGHT:1},e.uiPosition.bumpDirection={UP:0,DOWN:1},e.uiPosition.getStartPositionRect=function(t,n,r,i,o,s){var a=s.scrollbar&&s.scrollbar.canScrollVertically();return t.horizontal===e.uiPosition.horizontalPosition.LEFT?(r=o.absoluteMetrics.left+r,a&&s.RTL&&(r+=e.Scrollbar.scrollbarThickness)):(r=o.absoluteMetrics.left+o.viewMetrics.width-n.width-r,a&&!s.RTL&&(r-=e.Scrollbar.scrollbarThickness)),t.vertical===e.uiPosition.verticalPosition.TOP?t=o.absoluteMetrics.top+i:(t=o.absoluteMetrics.top+o.viewMetrics.height-n.height-i,s.scrollbar&&s.scrollbar.canScrollHorizontally()&&(t-=e.Scrollbar.scrollbarThickness)),new e.utils.Rect(t,t+n.height,r,r+n.width)},e.uiPosition.getCornerOppositeToolbox=function(t,n){return{horizontal:n.toolboxMetrics.position===e.utils.toolbox.Position.LEFT||t.horizontalLayout&&!t.RTL?e.uiPosition.horizontalPosition.RIGHT:e.uiPosition.horizontalPosition.LEFT,vertical:n.toolboxMetrics.position===e.utils.toolbox.Position.BOTTOM?e.uiPosition.verticalPosition.TOP:e.uiPosition.verticalPosition.BOTTOM}},e.uiPosition.bumpPositionRect=function(t,n,r,i){for(var o,s=t.left,a=t.right-t.left,l=t.bottom-t.top,c=0;o=i[c];c++)t.intersects(o)&&(t=r===e.uiPosition.bumpDirection.UP?o.top-l-n:o.bottom+n,t=new e.utils.Rect(t,t+l,s,s+a),c=-1);return t},e.Trashcan=function(t){e.Trashcan.superClass_.constructor.call(this),this.workspace_=t,this.id="trashcan",this.contents_=[],this.flyout=null,0>=this.workspace_.options.maxTrashcanContents||(t=new e.Options({scrollbars:!0,parentWorkspace:this.workspace_,rtl:this.workspace_.RTL,oneBasedIndex:this.workspace_.options.oneBasedIndex,renderer:this.workspace_.options.renderer,rendererOverrides:this.workspace_.options.rendererOverrides,move:{scrollbars:!0}}),this.workspace_.horizontalLayout?(t.toolboxPosition=this.workspace_.toolboxPosition==e.utils.toolbox.Position.TOP?e.utils.toolbox.Position.BOTTOM:e.utils.toolbox.Position.TOP,this.flyout=new(e.registry.getClassFromOptions(e.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX,this.workspace_.options,!0))(t)):(t.toolboxPosition=this.workspace_.toolboxPosition==e.utils.toolbox.Position.RIGHT?e.utils.toolbox.Position.LEFT:e.utils.toolbox.Position.RIGHT,this.flyout=new(e.registry.getClassFromOptions(e.registry.Type.FLYOUTS_VERTICAL_TOOLBOX,this.workspace_.options,!0))(t)),this.workspace_.addChangeListener(this.onDelete_.bind(this)))},e.utils.object.inherits(e.Trashcan,e.DeleteArea),e.Trashcan.prototype.WIDTH_=47,e.Trashcan.prototype.BODY_HEIGHT_=44,e.Trashcan.prototype.LID_HEIGHT_=16,e.Trashcan.prototype.MARGIN_VERTICAL_=20,e.Trashcan.prototype.MARGIN_HORIZONTAL_=20,e.Trashcan.prototype.MARGIN_HOTSPOT_=10,e.Trashcan.prototype.SPRITE_LEFT_=0,e.Trashcan.prototype.SPRITE_TOP_=32,e.Trashcan.prototype.HAS_BLOCKS_LID_ANGLE_=.1,e.Trashcan.ANIMATION_LENGTH_=80,e.Trashcan.ANIMATION_FRAMES_=4,e.Trashcan.OPACITY_MIN_=.4,e.Trashcan.OPACITY_MAX_=.8,e.Trashcan.MAX_LID_ANGLE_=45,e.Trashcan.prototype.isLidOpen=!1,e.Trashcan.prototype.minOpenness_=0,e.Trashcan.prototype.svgGroup_=null,e.Trashcan.prototype.svgLid_=null,e.Trashcan.prototype.lidTask_=0,e.Trashcan.prototype.lidOpen_=0,e.Trashcan.prototype.left_=0,e.Trashcan.prototype.top_=0,e.Trashcan.prototype.initialized_=!1,e.Trashcan.prototype.createDom=function(){this.svgGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{class:"blocklyTrash"},null);var t=String(Math.random()).substring(2),n=e.utils.dom.createSvgElement(e.utils.Svg.CLIPPATH,{id:"blocklyTrashBodyClipPath"+t},this.svgGroup_);e.utils.dom.createSvgElement(e.utils.Svg.RECT,{width:this.WIDTH_,height:this.BODY_HEIGHT_,y:this.LID_HEIGHT_},n);var r=e.utils.dom.createSvgElement(e.utils.Svg.IMAGE,{width:e.SPRITE.width,x:-this.SPRITE_LEFT_,height:e.SPRITE.height,y:-this.SPRITE_TOP_,"clip-path":"url(#blocklyTrashBodyClipPath"+t+")"},this.svgGroup_);return r.setAttributeNS(e.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+e.SPRITE.url),n=e.utils.dom.createSvgElement(e.utils.Svg.CLIPPATH,{id:"blocklyTrashLidClipPath"+t},this.svgGroup_),e.utils.dom.createSvgElement(e.utils.Svg.RECT,{width:this.WIDTH_,height:this.LID_HEIGHT_},n),this.svgLid_=e.utils.dom.createSvgElement(e.utils.Svg.IMAGE,{width:e.SPRITE.width,x:-this.SPRITE_LEFT_,height:e.SPRITE.height,y:-this.SPRITE_TOP_,"clip-path":"url(#blocklyTrashLidClipPath"+t+")"},this.svgGroup_),this.svgLid_.setAttributeNS(e.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+e.SPRITE.url),e.browserEvents.bind(this.svgGroup_,"mousedown",this,this.blockMouseDownWhenOpenable_),e.browserEvents.bind(this.svgGroup_,"mouseup",this,this.click),e.browserEvents.bind(r,"mouseover",this,this.mouseOver_),e.browserEvents.bind(r,"mouseout",this,this.mouseOut_),this.animateLid_(),this.svgGroup_},e.Trashcan.prototype.init=function(){0<this.workspace_.options.maxTrashcanContents&&(e.utils.dom.insertAfter(this.flyout.createDom(e.utils.Svg.SVG),this.workspace_.getParentSvg()),this.flyout.init(this.workspace_)),this.workspace_.getComponentManager().addComponent({component:this,weight:1,capabilities:[e.ComponentManager.Capability.AUTOHIDEABLE,e.ComponentManager.Capability.DELETE_AREA,e.ComponentManager.Capability.DRAG_TARGET,e.ComponentManager.Capability.POSITIONABLE]}),this.initialized_=!0,this.setLidOpen(!1)},e.Trashcan.prototype.dispose=function(){this.workspace_.getComponentManager().removeComponent("trashcan"),this.svgGroup_&&(e.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.workspace_=this.svgLid_=null,clearTimeout(this.lidTask_)},e.Trashcan.prototype.hasContents_=function(){return!!this.contents_.length},e.Trashcan.prototype.contentsIsOpen=function(){return this.flyout.isVisible()},e.Trashcan.prototype.openFlyout=function(){if(!this.contentsIsOpen()){var t=this.contents_.map(e.Xml.textToDom);this.flyout.show(t),this.fireUiEvent_(!0)}},e.Trashcan.prototype.closeFlyout=function(){this.contentsIsOpen()&&(this.flyout.hide(),this.fireUiEvent_(!1))},e.Trashcan.prototype.autoHide=function(e){!e&&this.flyout&&this.closeFlyout()},e.Trashcan.prototype.emptyContents=function(){this.hasContents_()&&(this.contents_.length=0,this.setMinOpenness_(0),this.closeFlyout())},e.Trashcan.prototype.position=function(t,n){if(this.initialized_){var r=e.uiPosition.getCornerOppositeToolbox(this.workspace_,t);t=e.uiPosition.getStartPositionRect(r,new e.utils.Size(this.WIDTH_,this.BODY_HEIGHT_+this.LID_HEIGHT_),this.MARGIN_HORIZONTAL_,this.MARGIN_VERTICAL_,t,this.workspace_),n=e.uiPosition.bumpPositionRect(t,this.MARGIN_VERTICAL_,r.vertical===e.uiPosition.verticalPosition.TOP?e.uiPosition.bumpDirection.DOWN:e.uiPosition.bumpDirection.UP,n),this.top_=n.top,this.left_=n.left,this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")")}},e.Trashcan.prototype.getBoundingRectangle=function(){return new e.utils.Rect(this.top_,this.top_+this.BODY_HEIGHT_+this.LID_HEIGHT_,this.left_,this.left_+this.WIDTH_)},e.Trashcan.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var t=this.svgGroup_.getBoundingClientRect(),n=t.top+this.SPRITE_TOP_-this.MARGIN_HOTSPOT_;return t=t.left+this.SPRITE_LEFT_-this.MARGIN_HOTSPOT_,new e.utils.Rect(n,n+this.LID_HEIGHT_+this.BODY_HEIGHT_+2*this.MARGIN_HOTSPOT_,t,t+this.WIDTH_+2*this.MARGIN_HOTSPOT_)},e.Trashcan.prototype.onDragOver=function(e){this.setLidOpen(this.wouldDelete_)},e.Trashcan.prototype.onDragExit=function(e){this.setLidOpen(!1)},e.Trashcan.prototype.onDrop=function(e){setTimeout(this.setLidOpen.bind(this,!1),100)},e.Trashcan.prototype.setLidOpen=function(e){this.isLidOpen!=e&&(clearTimeout(this.lidTask_),this.isLidOpen=e,this.animateLid_())},e.Trashcan.prototype.animateLid_=function(){var t=e.Trashcan.ANIMATION_FRAMES_,n=1/(t+1);this.lidOpen_+=this.isLidOpen?n:-n,this.lidOpen_=Math.min(Math.max(this.lidOpen_,this.minOpenness_),1),this.setLidAngle_(this.lidOpen_*e.Trashcan.MAX_LID_ANGLE_),n=e.Trashcan.OPACITY_MIN_,this.svgGroup_.style.opacity=n+this.lidOpen_*(e.Trashcan.OPACITY_MAX_-n),this.lidOpen_>this.minOpenness_&&1>this.lidOpen_&&(this.lidTask_=setTimeout(this.animateLid_.bind(this),e.Trashcan.ANIMATION_LENGTH_/t))},e.Trashcan.prototype.setLidAngle_=function(t){var n=this.workspace_.toolboxPosition==e.utils.toolbox.Position.RIGHT||this.workspace_.horizontalLayout&&this.workspace_.RTL;this.svgLid_.setAttribute("transform","rotate("+(n?-t:t)+","+(n?4:this.WIDTH_-4)+","+(this.LID_HEIGHT_-2)+")")},e.Trashcan.prototype.setMinOpenness_=function(t){this.minOpenness_=t,this.isLidOpen||this.setLidAngle_(t*e.Trashcan.MAX_LID_ANGLE_)},e.Trashcan.prototype.closeLid=function(){this.setLidOpen(!1)},e.Trashcan.prototype.click=function(){this.hasContents_()&&this.openFlyout()},e.Trashcan.prototype.fireUiEvent_=function(t){t=new(e.Events.get(e.Events.TRASHCAN_OPEN))(t,this.workspace_.id),e.Events.fire(t)},e.Trashcan.prototype.blockMouseDownWhenOpenable_=function(e){!this.contentsIsOpen()&&this.hasContents_()&&e.stopPropagation()},e.Trashcan.prototype.mouseOver_=function(){this.hasContents_()&&this.setLidOpen(!0)},e.Trashcan.prototype.mouseOut_=function(){this.setLidOpen(!1)},e.Trashcan.prototype.onDelete_=function(t){if(!(0>=this.workspace_.options.maxTrashcanContents)&&t.type==e.Events.BLOCK_DELETE&&t.oldXml.tagName&&"shadow"!=t.oldXml.tagName.toLowerCase()&&(t=this.cleanBlockXML_(t.oldXml),-1==this.contents_.indexOf(t))){for(this.contents_.unshift(t);this.contents_.length>this.workspace_.options.maxTrashcanContents;)this.contents_.pop();this.setMinOpenness_(this.HAS_BLOCKS_LID_ANGLE_)}},e.Trashcan.prototype.cleanBlockXML_=function(t){for(var n=t=t.cloneNode(!0);n;){n.removeAttribute&&(n.removeAttribute("x"),n.removeAttribute("y"),n.removeAttribute("id"),n.removeAttribute("disabled"),"comment"==n.nodeName&&(n.removeAttribute("h"),n.removeAttribute("w"),n.removeAttribute("pinned")));var r=n.firstChild||n.nextSibling;if(!r)for(r=n.parentNode;r;){if(r.nextSibling){r=r.nextSibling;break}r=r.parentNode}n=r}return e.Xml.domToText(t)},e.VariablesDynamic={},e.VariablesDynamic.onCreateVariableButtonClick_String=function(t){e.Variables.createVariableButtonHandler(t.getTargetWorkspace(),void 0,"String")},e.VariablesDynamic.onCreateVariableButtonClick_Number=function(t){e.Variables.createVariableButtonHandler(t.getTargetWorkspace(),void 0,"Number")},e.VariablesDynamic.onCreateVariableButtonClick_Colour=function(t){e.Variables.createVariableButtonHandler(t.getTargetWorkspace(),void 0,"Colour")},e.VariablesDynamic.flyoutCategory=function(t){var n=[],r=document.createElement("button");return r.setAttribute("text",e.Msg.NEW_STRING_VARIABLE),r.setAttribute("callbackKey","CREATE_VARIABLE_STRING"),n.push(r),(r=document.createElement("button")).setAttribute("text",e.Msg.NEW_NUMBER_VARIABLE),r.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER"),n.push(r),(r=document.createElement("button")).setAttribute("text",e.Msg.NEW_COLOUR_VARIABLE),r.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR"),n.push(r),t.registerButtonCallback("CREATE_VARIABLE_STRING",e.VariablesDynamic.onCreateVariableButtonClick_String),t.registerButtonCallback("CREATE_VARIABLE_NUMBER",e.VariablesDynamic.onCreateVariableButtonClick_Number),t.registerButtonCallback("CREATE_VARIABLE_COLOUR",e.VariablesDynamic.onCreateVariableButtonClick_Colour),t=e.VariablesDynamic.flyoutCategoryBlocks(t),n.concat(t)},e.VariablesDynamic.flyoutCategoryBlocks=function(t){var n=[];if(0<(t=t.getAllVariables()).length){if(e.Blocks.variables_set_dynamic){var r=t[t.length-1],i=e.utils.xml.createElement("block");i.setAttribute("type","variables_set_dynamic"),i.setAttribute("gap",24),i.appendChild(e.Variables.generateVariableFieldDom(r)),n.push(i)}if(e.Blocks.variables_get_dynamic){t.sort(e.VariableModel.compareByName),r=0;for(var o;o=t[r];r++)(i=e.utils.xml.createElement("block")).setAttribute("type","variables_get_dynamic"),i.setAttribute("gap",8),i.appendChild(e.Variables.generateVariableFieldDom(o)),n.push(i)}}return n},e.ZoomControls=function(e){this.workspace_=e,this.id="zoomControls",this.zoomResetGroup_=this.zoomOutGroup_=this.zoomInGroup_=this.onZoomOutWrapper_=this.onZoomInWrapper_=this.onZoomResetWrapper_=null},e.ZoomControls.prototype.WIDTH_=32,e.ZoomControls.prototype.HEIGHT_=32,e.ZoomControls.prototype.SMALL_SPACING_=2,e.ZoomControls.prototype.LARGE_SPACING_=11,e.ZoomControls.prototype.MARGIN_VERTICAL_=20,e.ZoomControls.prototype.MARGIN_HORIZONTAL_=20,e.ZoomControls.prototype.svgGroup_=null,e.ZoomControls.prototype.left_=0,e.ZoomControls.prototype.top_=0,e.ZoomControls.prototype.initialized_=!1,e.ZoomControls.prototype.createDom=function(){this.svgGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{},null);var t=String(Math.random()).substring(2);return this.createZoomOutSvg_(t),this.createZoomInSvg_(t),this.workspace_.isMovable()&&this.createZoomResetSvg_(t),this.svgGroup_},e.ZoomControls.prototype.init=function(){this.workspace_.getComponentManager().addComponent({component:this,weight:2,capabilities:[e.ComponentManager.Capability.POSITIONABLE]}),this.initialized_=!0},e.ZoomControls.prototype.dispose=function(){this.workspace_.getComponentManager().removeComponent("zoomControls"),this.svgGroup_&&e.utils.dom.removeNode(this.svgGroup_),this.onZoomResetWrapper_&&e.browserEvents.unbind(this.onZoomResetWrapper_),this.onZoomInWrapper_&&e.browserEvents.unbind(this.onZoomInWrapper_),this.onZoomOutWrapper_&&e.browserEvents.unbind(this.onZoomOutWrapper_)},e.ZoomControls.prototype.getBoundingRectangle=function(){var t=this.SMALL_SPACING_+2*this.HEIGHT_;return this.zoomResetGroup_&&(t+=this.LARGE_SPACING_+this.HEIGHT_),new e.utils.Rect(this.top_,this.top_+t,this.left_,this.left_+this.WIDTH_)},e.ZoomControls.prototype.position=function(t,n){if(this.initialized_){var r=e.uiPosition.getCornerOppositeToolbox(this.workspace_,t),i=this.SMALL_SPACING_+2*this.HEIGHT_;this.zoomResetGroup_&&(i+=this.LARGE_SPACING_+this.HEIGHT_),t=e.uiPosition.getStartPositionRect(r,new e.utils.Size(this.WIDTH_,i),this.MARGIN_HORIZONTAL_,this.MARGIN_VERTICAL_,t,this.workspace_),r=r.vertical,n=e.uiPosition.bumpPositionRect(t,this.MARGIN_VERTICAL_,r===e.uiPosition.verticalPosition.TOP?e.uiPosition.bumpDirection.DOWN:e.uiPosition.bumpDirection.UP,n),r===e.uiPosition.verticalPosition.TOP?(r=this.SMALL_SPACING_+this.HEIGHT_,this.zoomInGroup_.setAttribute("transform","translate(0, "+r+")"),this.zoomResetGroup_&&this.zoomResetGroup_.setAttribute("transform","translate(0, "+(r+this.LARGE_SPACING_+this.HEIGHT_)+")")):(r=this.zoomResetGroup_?this.LARGE_SPACING_+this.HEIGHT_:0,this.zoomInGroup_.setAttribute("transform","translate(0, "+r+")"),this.zoomOutGroup_.setAttribute("transform","translate(0, "+(r+this.SMALL_SPACING_+this.HEIGHT_)+")")),this.top_=n.top,this.left_=n.left,this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")")}},e.ZoomControls.prototype.createZoomOutSvg_=function(t){this.zoomOutGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{class:"blocklyZoom"},this.svgGroup_);var n=e.utils.dom.createSvgElement(e.utils.Svg.CLIPPATH,{id:"blocklyZoomoutClipPath"+t},this.zoomOutGroup_);e.utils.dom.createSvgElement(e.utils.Svg.RECT,{width:32,height:32},n),e.utils.dom.createSvgElement(e.utils.Svg.IMAGE,{width:e.SPRITE.width,height:e.SPRITE.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+t+")"},this.zoomOutGroup_).setAttributeNS(e.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+e.SPRITE.url),this.onZoomOutWrapper_=e.browserEvents.conditionalBind(this.zoomOutGroup_,"mousedown",null,this.zoom_.bind(this,-1))},e.ZoomControls.prototype.createZoomInSvg_=function(t){this.zoomInGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{class:"blocklyZoom"},this.svgGroup_);var n=e.utils.dom.createSvgElement(e.utils.Svg.CLIPPATH,{id:"blocklyZoominClipPath"+t},this.zoomInGroup_);e.utils.dom.createSvgElement(e.utils.Svg.RECT,{width:32,height:32},n),e.utils.dom.createSvgElement(e.utils.Svg.IMAGE,{width:e.SPRITE.width,height:e.SPRITE.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+t+")"},this.zoomInGroup_).setAttributeNS(e.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+e.SPRITE.url),this.onZoomInWrapper_=e.browserEvents.conditionalBind(this.zoomInGroup_,"mousedown",null,this.zoom_.bind(this,1))},e.ZoomControls.prototype.zoom_=function(t,n){this.workspace_.markFocused(),this.workspace_.zoomCenter(t),this.fireZoomEvent_(),e.Touch.clearTouchIdentifier(),n.stopPropagation(),n.preventDefault()},e.ZoomControls.prototype.createZoomResetSvg_=function(t){this.zoomResetGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{class:"blocklyZoom"},this.svgGroup_);var n=e.utils.dom.createSvgElement(e.utils.Svg.CLIPPATH,{id:"blocklyZoomresetClipPath"+t},this.zoomResetGroup_);e.utils.dom.createSvgElement(e.utils.Svg.RECT,{width:32,height:32},n),e.utils.dom.createSvgElement(e.utils.Svg.IMAGE,{width:e.SPRITE.width,height:e.SPRITE.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+t+")"},this.zoomResetGroup_).setAttributeNS(e.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+e.SPRITE.url),this.onZoomResetWrapper_=e.browserEvents.conditionalBind(this.zoomResetGroup_,"mousedown",null,this.resetZoom_.bind(this))},e.ZoomControls.prototype.resetZoom_=function(t){this.workspace_.markFocused();var n=Math.log(this.workspace_.options.zoomOptions.startScale/this.workspace_.scale)/Math.log(this.workspace_.options.zoomOptions.scaleSpeed);this.workspace_.beginCanvasTransition(),this.workspace_.zoomCenter(n),this.workspace_.scrollCenter(),setTimeout(this.workspace_.endCanvasTransition.bind(this.workspace_),500),this.fireZoomEvent_(),e.Touch.clearTouchIdentifier(),t.stopPropagation(),t.preventDefault()},e.ZoomControls.prototype.fireZoomEvent_=function(){var t=new(e.Events.get(e.Events.CLICK))(null,this.workspace_.id,"zoom_controls");e.Events.fire(t)},e.Css.register([".blocklyZoom>image, .blocklyZoom>svg>image {","opacity: .4;","}",".blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {","opacity: .6;","}",".blocklyZoom>image:active, .blocklyZoom>svg>image:active {","opacity: .8;","}"]),e.ShortcutItems={},e.ShortcutItems.names={ESCAPE:"escape",DELETE:"delete",COPY:"copy",CUT:"cut",PASTE:"paste",UNDO:"undo",REDO:"redo"},e.ShortcutItems.registerEscape=function(){var t={name:e.ShortcutItems.names.ESCAPE,preconditionFn:function(e){return!e.options.readOnly},callback:function(){return e.hideChaff(),!0}};e.ShortcutRegistry.registry.register(t),e.ShortcutRegistry.registry.addKeyMapping(e.utils.KeyCodes.ESC,t.name)},e.ShortcutItems.registerDelete=function(){var t={name:e.ShortcutItems.names.DELETE,preconditionFn:function(t){return!t.options.readOnly&&e.selected&&e.selected.isDeletable()},callback:function(t,n){return n.preventDefault(),!e.Gesture.inProgress()&&(e.deleteBlock(e.selected),!0)}};e.ShortcutRegistry.registry.register(t),e.ShortcutRegistry.registry.addKeyMapping(e.utils.KeyCodes.DELETE,t.name),e.ShortcutRegistry.registry.addKeyMapping(e.utils.KeyCodes.BACKSPACE,t.name)},e.ShortcutItems.registerCopy=function(){var t={name:e.ShortcutItems.names.COPY,preconditionFn:function(t){return!t.options.readOnly&&!e.Gesture.inProgress()&&e.selected&&e.selected.isDeletable()&&e.selected.isMovable()},callback:function(t,n){return n.preventDefault(),e.hideChaff(),e.copy(e.selected),!0}};e.ShortcutRegistry.registry.register(t);var n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.C,[e.utils.KeyCodes.CTRL]);e.ShortcutRegistry.registry.addKeyMapping(n,t.name),n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.C,[e.utils.KeyCodes.ALT]),e.ShortcutRegistry.registry.addKeyMapping(n,t.name),n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.C,[e.utils.KeyCodes.META]),e.ShortcutRegistry.registry.addKeyMapping(n,t.name)},e.ShortcutItems.registerCut=function(){var t={name:e.ShortcutItems.names.CUT,preconditionFn:function(t){return!t.options.readOnly&&!e.Gesture.inProgress()&&e.selected&&e.selected.isDeletable()&&e.selected.isMovable()&&!e.selected.workspace.isFlyout},callback:function(){return e.copy(e.selected),e.deleteBlock(e.selected),!0}};e.ShortcutRegistry.registry.register(t);var n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.X,[e.utils.KeyCodes.CTRL]);e.ShortcutRegistry.registry.addKeyMapping(n,t.name),n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.X,[e.utils.KeyCodes.ALT]),e.ShortcutRegistry.registry.addKeyMapping(n,t.name),n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.X,[e.utils.KeyCodes.META]),e.ShortcutRegistry.registry.addKeyMapping(n,t.name)},e.ShortcutItems.registerPaste=function(){var t={name:e.ShortcutItems.names.PASTE,preconditionFn:function(t){return!t.options.readOnly&&!e.Gesture.inProgress()},callback:function(){return e.paste()}};e.ShortcutRegistry.registry.register(t);var n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.V,[e.utils.KeyCodes.CTRL]);e.ShortcutRegistry.registry.addKeyMapping(n,t.name),n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.V,[e.utils.KeyCodes.ALT]),e.ShortcutRegistry.registry.addKeyMapping(n,t.name),n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.V,[e.utils.KeyCodes.META]),e.ShortcutRegistry.registry.addKeyMapping(n,t.name)},e.ShortcutItems.registerUndo=function(){var t={name:e.ShortcutItems.names.UNDO,preconditionFn:function(t){return!t.options.readOnly&&!e.Gesture.inProgress()},callback:function(t){return e.hideChaff(),t.undo(!1),!0}};e.ShortcutRegistry.registry.register(t);var n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.Z,[e.utils.KeyCodes.CTRL]);e.ShortcutRegistry.registry.addKeyMapping(n,t.name),n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.Z,[e.utils.KeyCodes.ALT]),e.ShortcutRegistry.registry.addKeyMapping(n,t.name),n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.Z,[e.utils.KeyCodes.META]),e.ShortcutRegistry.registry.addKeyMapping(n,t.name)},e.ShortcutItems.registerRedo=function(){var t={name:e.ShortcutItems.names.REDO,preconditionFn:function(t){return!e.Gesture.inProgress()&&!t.options.readOnly},callback:function(t){return e.hideChaff(),t.undo(!0),!0}};e.ShortcutRegistry.registry.register(t);var n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.Z,[e.utils.KeyCodes.SHIFT,e.utils.KeyCodes.CTRL]);e.ShortcutRegistry.registry.addKeyMapping(n,t.name),n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.Z,[e.utils.KeyCodes.SHIFT,e.utils.KeyCodes.ALT]),e.ShortcutRegistry.registry.addKeyMapping(n,t.name),n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.Z,[e.utils.KeyCodes.SHIFT,e.utils.KeyCodes.META]),e.ShortcutRegistry.registry.addKeyMapping(n,t.name),n=e.ShortcutRegistry.registry.createSerializedKey(e.utils.KeyCodes.Y,[e.utils.KeyCodes.CTRL]),e.ShortcutRegistry.registry.addKeyMapping(n,t.name)},e.ShortcutItems.registerDefaultShortcuts=function(){e.ShortcutItems.registerEscape(),e.ShortcutItems.registerDelete(),e.ShortcutItems.registerCopy(),e.ShortcutItems.registerCut(),e.ShortcutItems.registerPaste(),e.ShortcutItems.registerUndo(),e.ShortcutItems.registerRedo()},e.ShortcutItems.registerDefaultShortcuts(),e.ContextMenuItems={},e.ContextMenuItems.registerUndo=function(){e.ContextMenuRegistry.registry.register({displayText:function(){return e.Msg.UNDO},preconditionFn:function(e){return 0<e.workspace.getUndoStack().length?"enabled":"disabled"},callback:function(e){e.workspace.undo(!1)},scopeType:e.ContextMenuRegistry.ScopeType.WORKSPACE,id:"undoWorkspace",weight:1})},e.ContextMenuItems.registerRedo=function(){e.ContextMenuRegistry.registry.register({displayText:function(){return e.Msg.REDO},preconditionFn:function(e){return 0<e.workspace.getRedoStack().length?"enabled":"disabled"},callback:function(e){e.workspace.undo(!0)},scopeType:e.ContextMenuRegistry.ScopeType.WORKSPACE,id:"redoWorkspace",weight:2})},e.ContextMenuItems.registerCleanup=function(){e.ContextMenuRegistry.registry.register({displayText:function(){return e.Msg.CLEAN_UP},preconditionFn:function(e){return e.workspace.isMovable()?1<e.workspace.getTopBlocks(!1).length?"enabled":"disabled":"hidden"},callback:function(e){e.workspace.cleanUp()},scopeType:e.ContextMenuRegistry.ScopeType.WORKSPACE,id:"cleanWorkspace",weight:3})},e.ContextMenuItems.toggleOption_=function(e,t){for(var n=0,r=0;r<t.length;r++)for(var i=t[r];i;)setTimeout(i.setCollapsed.bind(i,e),n),i=i.getNextBlock(),n+=10},e.ContextMenuItems.registerCollapse=function(){e.ContextMenuRegistry.registry.register({displayText:function(){return e.Msg.COLLAPSE_ALL},preconditionFn:function(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(var t=0;t<e.length;t++)for(var n=e[t];n;){if(!n.isCollapsed())return"enabled";n=n.getNextBlock()}return"disabled"}return"hidden"},callback:function(t){e.ContextMenuItems.toggleOption_(!0,t.workspace.getTopBlocks(!0))},scopeType:e.ContextMenuRegistry.ScopeType.WORKSPACE,id:"collapseWorkspace",weight:4})},e.ContextMenuItems.registerExpand=function(){e.ContextMenuRegistry.registry.register({displayText:function(){return e.Msg.EXPAND_ALL},preconditionFn:function(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(var t=0;t<e.length;t++)for(var n=e[t];n;){if(n.isCollapsed())return"enabled";n=n.getNextBlock()}return"disabled"}return"hidden"},callback:function(t){e.ContextMenuItems.toggleOption_(!1,t.workspace.getTopBlocks(!0))},scopeType:e.ContextMenuRegistry.ScopeType.WORKSPACE,id:"expandWorkspace",weight:5})},e.ContextMenuItems.addDeletableBlocks_=function(t,n){if(t.isDeletable())Array.prototype.push.apply(n,t.getDescendants(!1));else{t=t.getChildren(!1);for(var r=0;r<t.length;r++)e.ContextMenuItems.addDeletableBlocks_(t[r],n)}},e.ContextMenuItems.getDeletableBlocks_=function(t){var n=[];t=t.getTopBlocks(!0);for(var r=0;r<t.length;r++)e.ContextMenuItems.addDeletableBlocks_(t[r],n);return n},e.ContextMenuItems.deleteNext_=function(t,n){e.Events.setGroup(n);var r=t.shift();r&&(r.workspace?(r.dispose(!1,!0),setTimeout(e.ContextMenuItems.deleteNext_,10,t,n)):e.ContextMenuItems.deleteNext_(t,n)),e.Events.setGroup(!1)},e.ContextMenuItems.registerDeleteAll=function(){e.ContextMenuRegistry.registry.register({displayText:function(t){if(t.workspace)return 1==(t=e.ContextMenuItems.getDeletableBlocks_(t.workspace).length)?e.Msg.DELETE_BLOCK:e.Msg.DELETE_X_BLOCKS.replace("%1",String(t))},preconditionFn:function(t){if(t.workspace)return 0<e.ContextMenuItems.getDeletableBlocks_(t.workspace).length?"enabled":"disabled"},callback:function(t){if(t.workspace){t.workspace.cancelCurrentGesture();var n=e.ContextMenuItems.getDeletableBlocks_(t.workspace),r=e.utils.genUid();2>n.length?e.ContextMenuItems.deleteNext_(n,r):e.confirm(e.Msg.DELETE_ALL_BLOCKS.replace("%1",n.length),(function(t){t&&e.ContextMenuItems.deleteNext_(n,r)}))}},scopeType:e.ContextMenuRegistry.ScopeType.WORKSPACE,id:"workspaceDelete",weight:6})},e.ContextMenuItems.registerWorkspaceOptions_=function(){e.ContextMenuItems.registerUndo(),e.ContextMenuItems.registerRedo(),e.ContextMenuItems.registerCleanup(),e.ContextMenuItems.registerCollapse(),e.ContextMenuItems.registerExpand(),e.ContextMenuItems.registerDeleteAll()},e.ContextMenuItems.registerDuplicate=function(){e.ContextMenuRegistry.registry.register({displayText:function(){return e.Msg.DUPLICATE_BLOCK},preconditionFn:function(e){return!(e=e.block).isInFlyout&&e.isDeletable()&&e.isMovable()?e.isDuplicatable()?"enabled":"disabled":"hidden"},callback:function(t){t.block&&e.duplicate(t.block)},scopeType:e.ContextMenuRegistry.ScopeType.BLOCK,id:"blockDuplicate",weight:1})},e.ContextMenuItems.registerComment=function(){e.ContextMenuRegistry.registry.register({displayText:function(t){return t.block.getCommentIcon()?e.Msg.REMOVE_COMMENT:e.Msg.ADD_COMMENT},preconditionFn:function(t){return t=t.block,e.utils.userAgent.IE||t.isInFlyout||!t.workspace.options.comments||t.isCollapsed()||!t.isEditable()?"hidden":"enabled"},callback:function(e){(e=e.block).getCommentIcon()?e.setCommentText(null):e.setCommentText("")},scopeType:e.ContextMenuRegistry.ScopeType.BLOCK,id:"blockComment",weight:2})},e.ContextMenuItems.registerInline=function(){e.ContextMenuRegistry.registry.register({displayText:function(t){return t.block.getInputsInline()?e.Msg.EXTERNAL_INPUTS:e.Msg.INLINE_INPUTS},preconditionFn:function(t){if(!(t=t.block).isInFlyout&&t.isMovable()&&!t.isCollapsed())for(var n=1;n<t.inputList.length;n++)if(t.inputList[n-1].type!=e.inputTypes.STATEMENT&&t.inputList[n].type!=e.inputTypes.STATEMENT)return"enabled";return"hidden"},callback:function(e){e.block.setInputsInline(!e.block.getInputsInline())},scopeType:e.ContextMenuRegistry.ScopeType.BLOCK,id:"blockInline",weight:3})},e.ContextMenuItems.registerCollapseExpandBlock=function(){e.ContextMenuRegistry.registry.register({displayText:function(t){return t.block.isCollapsed()?e.Msg.EXPAND_BLOCK:e.Msg.COLLAPSE_BLOCK},preconditionFn:function(e){return!(e=e.block).isInFlyout&&e.isMovable()&&e.workspace.options.collapse?"enabled":"hidden"},callback:function(e){e.block.setCollapsed(!e.block.isCollapsed())},scopeType:e.ContextMenuRegistry.ScopeType.BLOCK,id:"blockCollapseExpand",weight:4})},e.ContextMenuItems.registerDisable=function(){e.ContextMenuRegistry.registry.register({displayText:function(t){return t.block.isEnabled()?e.Msg.DISABLE_BLOCK:e.Msg.ENABLE_BLOCK},preconditionFn:function(e){return!(e=e.block).isInFlyout&&e.workspace.options.disable&&e.isEditable()?e.getInheritedDisabled()?"disabled":"enabled":"hidden"},callback:function(t){t=t.block;var n=e.Events.getGroup();n||e.Events.setGroup(!0),t.setEnabled(!t.isEnabled()),n||e.Events.setGroup(!1)},scopeType:e.ContextMenuRegistry.ScopeType.BLOCK,id:"blockDisable",weight:5})},e.ContextMenuItems.registerDelete=function(){e.ContextMenuRegistry.registry.register({displayText:function(t){var n=t.block;return t=n.getDescendants(!1).length,(n=n.getNextBlock())&&(t-=n.getDescendants(!1).length),1==t?e.Msg.DELETE_BLOCK:e.Msg.DELETE_X_BLOCKS.replace("%1",String(t))},preconditionFn:function(e){return!e.block.isInFlyout&&e.block.isDeletable()?"enabled":"hidden"},callback:function(t){e.Events.setGroup(!0),t.block&&e.deleteBlock(t.block),e.Events.setGroup(!1)},scopeType:e.ContextMenuRegistry.ScopeType.BLOCK,id:"blockDelete",weight:6})},e.ContextMenuItems.registerHelp=function(){e.ContextMenuRegistry.registry.register({displayText:function(){return e.Msg.HELP},preconditionFn:function(e){return("function"==typeof(e=e.block).helpUrl?e.helpUrl():e.helpUrl)?"enabled":"hidden"},callback:function(e){e.block.showHelp()},scopeType:e.ContextMenuRegistry.ScopeType.BLOCK,id:"blockHelp",weight:7})},e.ContextMenuItems.registerBlockOptions_=function(){e.ContextMenuItems.registerDuplicate(),e.ContextMenuItems.registerComment(),e.ContextMenuItems.registerInline(),e.ContextMenuItems.registerCollapseExpandBlock(),e.ContextMenuItems.registerDisable(),e.ContextMenuItems.registerDelete(),e.ContextMenuItems.registerHelp()},e.ContextMenuItems.registerDefaultOptions=function(){e.ContextMenuItems.registerWorkspaceOptions_(),e.ContextMenuItems.registerBlockOptions_()},e.ContextMenuItems.registerDefaultOptions(),e.Mutator=function(t){e.Mutator.superClass_.constructor.call(this,null),this.quarkNames_=t},e.utils.object.inherits(e.Mutator,e.Icon),e.Mutator.prototype.workspace_=null,e.Mutator.prototype.workspaceWidth_=0,e.Mutator.prototype.workspaceHeight_=0,e.Mutator.prototype.setBlock=function(e){this.block_=e},e.Mutator.prototype.getWorkspace=function(){return this.workspace_},e.Mutator.prototype.drawIcon_=function(t){e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},t),e.utils.dom.createSvgElement(e.utils.Svg.PATH,{class:"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},t),e.utils.dom.createSvgElement(e.utils.Svg.CIRCLE,{class:"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},t)},e.Mutator.prototype.iconClick_=function(t){this.block_.isEditable()&&e.Icon.prototype.iconClick_.call(this,t)},e.Mutator.prototype.createEditor_=function(){if(this.svgDialog_=e.utils.dom.createSvgElement(e.utils.Svg.SVG,{x:e.Bubble.BORDER_WIDTH,y:e.Bubble.BORDER_WIDTH},null),this.quarkNames_.length)for(var t,n=e.utils.xml.createElement("xml"),r=0;t=this.quarkNames_[r];r++){var i=e.utils.xml.createElement("block");i.setAttribute("type",t),n.appendChild(i)}else n=null;return(r=new e.Options({disable:!1,parentWorkspace:this.block_.workspace,media:this.block_.workspace.options.pathToMedia,rtl:this.block_.RTL,horizontalLayout:!1,renderer:this.block_.workspace.options.renderer,rendererOverrides:this.block_.workspace.options.rendererOverrides})).toolboxPosition=this.block_.RTL?e.utils.toolbox.Position.RIGHT:e.utils.toolbox.Position.LEFT,(t=!!n)&&(r.languageTree=e.utils.toolbox.convertToolboxDefToJson(n)),this.workspace_=new e.WorkspaceSvg(r),this.workspace_.isMutator=!0,this.workspace_.addChangeListener(e.Events.disableOrphans),n=t?this.workspace_.addFlyout(e.utils.Svg.G):null,r=this.workspace_.createDom("blocklyMutatorBackground"),n&&r.insertBefore(n,this.workspace_.svgBlockCanvas_),this.svgDialog_.appendChild(r),this.svgDialog_},e.Mutator.prototype.updateEditable=function(){e.Mutator.superClass_.updateEditable.call(this),this.block_.isInFlyout||(this.block_.isEditable()?this.iconGroup_&&e.utils.dom.removeClass(this.iconGroup_,"blocklyIconGroupReadonly"):(this.setVisible(!1),this.iconGroup_&&e.utils.dom.addClass(this.iconGroup_,"blocklyIconGroupReadonly")))},e.Mutator.prototype.resizeBubble_=function(){var t=2*e.Bubble.BORDER_WIDTH,n=this.workspace_.getCanvas().getBBox(),r=n.width+n.x,i=n.height+3*t,o=this.workspace_.getFlyout();if(o){var s=o.getWorkspace().getMetricsManager().getScrollMetrics();i=Math.max(i,s.height+20),r+=o.getWidth()}this.block_.RTL&&(r=-n.x),r+=3*t,(Math.abs(this.workspaceWidth_-r)>t||Math.abs(this.workspaceHeight_-i)>t)&&(this.workspaceWidth_=r,this.workspaceHeight_=i,this.bubble_.setBubbleSize(r+t,i+t),this.svgDialog_.setAttribute("width",this.workspaceWidth_),this.svgDialog_.setAttribute("height",this.workspaceHeight_),this.workspace_.setCachedParentSvgSize(this.workspaceWidth_,this.workspaceHeight_)),this.block_.RTL&&(t="translate("+this.workspaceWidth_+",0)",this.workspace_.getCanvas().setAttribute("transform",t)),this.workspace_.resize()},e.Mutator.prototype.onBubbleMove_=function(){this.workspace_&&this.workspace_.recordDragTargets()},e.Mutator.prototype.setVisible=function(t){if(t!=this.isVisible())if(e.Events.fire(new(e.Events.get(e.Events.BUBBLE_OPEN))(this.block_,t,"mutator")),t){this.bubble_=new e.Bubble(this.block_.workspace,this.createEditor_(),this.block_.pathObject.svgPath,this.iconXY_,null,null),this.bubble_.setSvgId(this.block_.id),this.bubble_.registerMoveEvent(this.onBubbleMove_.bind(this));var n=this.workspace_.options.languageTree;t=this.workspace_.getFlyout(),n&&(t.init(this.workspace_),t.show(n)),this.rootBlock_=this.block_.decompose(this.workspace_),n=this.rootBlock_.getDescendants(!1);for(var r,i=0;r=n[i];i++)r.render();if(this.rootBlock_.setMovable(!1),this.rootBlock_.setDeletable(!1),t?(n=2*t.CORNER_RADIUS,t=this.rootBlock_.RTL?t.getWidth()+n:n):t=n=16,this.block_.RTL&&(t=-t),this.rootBlock_.moveBy(t,n),this.block_.saveConnections){var o=this,s=this.block_;s.saveConnections(this.rootBlock_),this.sourceListener_=function(){s.saveConnections(o.rootBlock_)},this.block_.workspace.addChangeListener(this.sourceListener_)}this.resizeBubble_(),this.workspace_.addChangeListener(this.workspaceChanged_.bind(this)),this.applyColour()}else this.svgDialog_=null,this.workspace_.dispose(),this.rootBlock_=this.workspace_=null,this.bubble_.dispose(),this.bubble_=null,this.workspaceHeight_=this.workspaceWidth_=0,this.sourceListener_&&(this.block_.workspace.removeChangeListener(this.sourceListener_),this.sourceListener_=null)},e.Mutator.prototype.workspaceChanged_=function(t){if(!(t.isUiEvent||t.type==e.Events.CHANGE&&"disabled"==t.element)){if(!this.workspace_.isDragging()){t=this.workspace_.getTopBlocks(!1);for(var n,r=0;n=t[r];r++){var i=n.getRelativeToSurfaceXY();if(20>i.y&&n.moveBy(0,20-i.y),n.RTL){var o=-20,s=this.workspace_.getFlyout();s&&(o-=s.getWidth()),i.x>o&&n.moveBy(o-i.x,0)}else 20>i.x&&n.moveBy(20-i.x,0)}}if(this.rootBlock_.workspace==this.workspace_){if(e.Events.setGroup(!0),t=(t=(n=this.block_).mutationToDom())&&e.Xml.domToText(t),r=n.rendered,n.rendered=!1,n.compose(this.rootBlock_),n.rendered=r,n.initSvg(),n.rendered&&n.render(),t!=(r=(r=n.mutationToDom())&&e.Xml.domToText(r))){e.Events.fire(new(e.Events.get(e.Events.BLOCK_CHANGE))(n,"mutation",null,t,r));var a=e.Events.getGroup();setTimeout((function(){e.Events.setGroup(a),n.bumpNeighbours(),e.Events.setGroup(!1)}),e.BUMP_DELAY)}this.workspace_.isDragging()||this.resizeBubble_(),e.Events.setGroup(!1)}}},e.Mutator.prototype.dispose=function(){this.block_.mutator=null,e.Icon.prototype.dispose.call(this)},e.Mutator.prototype.updateBlockStyle=function(){var e=this.workspace_;if(e&&e.getAllBlocks(!1)){for(var t,n=e.getAllBlocks(!1),r=0;t=n[r];r++)t.setStyle(t.getStyleName());if(r=e.getFlyout())for(e=r.workspace_.getAllBlocks(!1),r=0;t=e[r];r++)t.setStyle(t.getStyleName())}},e.Mutator.reconnect=function(e,t,n){if(!e||!e.getSourceBlock().workspace)return!1;n=t.getInput(n).connection;var r=e.targetBlock();return!(r&&r!=t||n.targetConnection==e)&&(n.isConnected()&&n.disconnect(),n.connect(e),!0)},e.Mutator.findParentWs=function(e){var t=null;if(e&&e.options){var n=e.options.parentWorkspace;e.isFlyout?n&&n.options&&(t=n.options.parentWorkspace):n&&(t=n)}return t},e.FieldTextInput=function(t,n,r){this.spellcheck_=!0,e.FieldTextInput.superClass_.constructor.call(this,t,n,r),this.onKeyInputWrapper_=this.onKeyDownWrapper_=this.htmlInput_=null,this.fullBlockClickTarget_=!1,this.workspace_=null},e.utils.object.inherits(e.FieldTextInput,e.Field),e.FieldTextInput.prototype.DEFAULT_VALUE="",e.FieldTextInput.fromJson=function(t){var n=e.utils.replaceMessageReferences(t.text);return new e.FieldTextInput(n,void 0,t)},e.FieldTextInput.prototype.SERIALIZABLE=!0,e.FieldTextInput.BORDERRADIUS=4,e.FieldTextInput.prototype.CURSOR="text",e.FieldTextInput.prototype.configure_=function(t){e.FieldTextInput.superClass_.configure_.call(this,t),"boolean"==typeof t.spellcheck&&(this.spellcheck_=t.spellcheck)},e.FieldTextInput.prototype.initView=function(){if(this.getConstants().FULL_BLOCK_FIELDS){for(var e,t=0,n=0,r=0;e=this.sourceBlock_.inputList[r];r++){for(var i=0;e.fieldRow[i];i++)t++;e.connection&&n++}this.fullBlockClickTarget_=1>=t&&this.sourceBlock_.outputConnection&&!n}else this.fullBlockClickTarget_=!1;this.fullBlockClickTarget_?this.clickTarget_=this.sourceBlock_.getSvgRoot():this.createBorderRect_(),this.createTextElement_()},e.FieldTextInput.prototype.doClassValidation_=function(e){return null===e||void 0===e?null:String(e)},e.FieldTextInput.prototype.doValueInvalid_=function(t){this.isBeingEdited_&&(this.isTextValid_=!1,t=this.value_,this.value_=this.htmlInput_.untypedDefaultValue_,this.sourceBlock_&&e.Events.isEnabled()&&e.Events.fire(new(e.Events.get(e.Events.BLOCK_CHANGE))(this.sourceBlock_,"field",this.name||null,t,this.value_)))},e.FieldTextInput.prototype.doValueUpdate_=function(e){this.isTextValid_=!0,this.value_=e,this.isBeingEdited_||(this.isDirty_=!0)},e.FieldTextInput.prototype.applyColour=function(){this.sourceBlock_&&this.getConstants().FULL_BLOCK_FIELDS&&(this.borderRect_?this.borderRect_.setAttribute("stroke",this.sourceBlock_.style.colourTertiary):this.sourceBlock_.pathObject.svgPath.setAttribute("fill",this.getConstants().FIELD_BORDER_RECT_COLOUR))},e.FieldTextInput.prototype.render_=function(){if(e.FieldTextInput.superClass_.render_.call(this),this.isBeingEdited_){this.resizeEditor_();var t=this.htmlInput_;this.isTextValid_?(e.utils.dom.removeClass(t,"blocklyInvalidInput"),e.utils.aria.setState(t,e.utils.aria.State.INVALID,!1)):(e.utils.dom.addClass(t,"blocklyInvalidInput"),e.utils.aria.setState(t,e.utils.aria.State.INVALID,!0))}},e.FieldTextInput.prototype.setSpellcheck=function(e){e!=this.spellcheck_&&(this.spellcheck_=e,this.htmlInput_&&this.htmlInput_.setAttribute("spellcheck",this.spellcheck_))},e.FieldTextInput.prototype.showEditor_=function(t,n){this.workspace_=this.sourceBlock_.workspace,!(t=n||!1)&&(e.utils.userAgent.MOBILE||e.utils.userAgent.ANDROID||e.utils.userAgent.IPAD)?this.showPromptEditor_():this.showInlineEditor_(t)},e.FieldTextInput.prototype.showPromptEditor_=function(){e.prompt(e.Msg.CHANGE_VALUE_TITLE,this.getText(),function(e){this.setValue(this.getValueFromEditorText_(e))}.bind(this))},e.FieldTextInput.prototype.showInlineEditor_=function(t){e.WidgetDiv.show(this,this.sourceBlock_.RTL,this.widgetDispose_.bind(this)),this.htmlInput_=this.widgetCreate_(),this.isBeingEdited_=!0,t||(this.htmlInput_.focus({preventScroll:!0}),this.htmlInput_.select())},e.FieldTextInput.prototype.widgetCreate_=function(){var t=e.WidgetDiv.DIV;e.utils.dom.addClass(this.getClickTarget_(),"editing");var n=document.createElement("input");n.className="blocklyHtmlInput",n.setAttribute("spellcheck",this.spellcheck_);var r=this.workspace_.getScale(),i=this.getConstants().FIELD_TEXT_FONTSIZE*r+"pt";if(t.style.fontSize=i,n.style.fontSize=i,i=e.FieldTextInput.BORDERRADIUS*r+"px",this.fullBlockClickTarget_){i=((i=this.getScaledBBox()).bottom-i.top)/2+"px";var o=this.sourceBlock_.getParent()?this.sourceBlock_.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary;n.style.border=1*r+"px solid "+o,t.style.borderRadius=i,t.style.transition="box-shadow 0.25s ease 0s",this.getConstants().FIELD_TEXTINPUT_BOX_SHADOW&&(t.style.boxShadow="rgba(255, 255, 255, 0.3) 0px 0px 0px "+4*r+"px")}return n.style.borderRadius=i,t.appendChild(n),n.value=n.defaultValue=this.getEditorText_(this.value_),n.untypedDefaultValue_=this.value_,n.oldValue_=null,this.resizeEditor_(),this.bindInputEvents_(n),n},e.FieldTextInput.prototype.widgetDispose_=function(){this.isBeingEdited_=!1,this.isTextValid_=!0,this.forceRerender(),this.onFinishEditing_&&this.onFinishEditing_(this.value_),this.unbindInputEvents_();var t=e.WidgetDiv.DIV.style;t.width="auto",t.height="auto",t.fontSize="",t.transition="",t.boxShadow="",this.htmlInput_=null,e.utils.dom.removeClass(this.getClickTarget_(),"editing")},e.FieldTextInput.prototype.bindInputEvents_=function(t){this.onKeyDownWrapper_=e.browserEvents.conditionalBind(t,"keydown",this,this.onHtmlInputKeyDown_),this.onKeyInputWrapper_=e.browserEvents.conditionalBind(t,"input",this,this.onHtmlInputChange_)},e.FieldTextInput.prototype.unbindInputEvents_=function(){this.onKeyDownWrapper_&&(e.browserEvents.unbind(this.onKeyDownWrapper_),this.onKeyDownWrapper_=null),this.onKeyInputWrapper_&&(e.browserEvents.unbind(this.onKeyInputWrapper_),this.onKeyInputWrapper_=null)},e.FieldTextInput.prototype.onHtmlInputKeyDown_=function(t){t.keyCode==e.utils.KeyCodes.ENTER?(e.WidgetDiv.hide(),e.DropDownDiv.hideWithoutAnimation()):t.keyCode==e.utils.KeyCodes.ESC?(this.setValue(this.htmlInput_.untypedDefaultValue_),e.WidgetDiv.hide(),e.DropDownDiv.hideWithoutAnimation()):t.keyCode==e.utils.KeyCodes.TAB&&(e.WidgetDiv.hide(),e.DropDownDiv.hideWithoutAnimation(),this.sourceBlock_.tab(this,!t.shiftKey),t.preventDefault())},e.FieldTextInput.prototype.onHtmlInputChange_=function(t){(t=this.htmlInput_.value)!==this.htmlInput_.oldValue_&&(this.htmlInput_.oldValue_=t,e.Events.setGroup(!0),t=this.getValueFromEditorText_(t),this.setValue(t),this.forceRerender(),this.resizeEditor_(),e.Events.setGroup(!1))},e.FieldTextInput.prototype.setEditorValue_=function(e){this.isDirty_=!0,this.isBeingEdited_&&(this.htmlInput_.value=this.getEditorText_(e)),this.setValue(e)},e.FieldTextInput.prototype.resizeEditor_=function(){var t=e.WidgetDiv.DIV,n=this.getScaledBBox();t.style.width=n.right-n.left+"px",t.style.height=n.bottom-n.top+"px",n=new e.utils.Coordinate(this.sourceBlock_.RTL?n.right-t.offsetWidth:n.left,n.top),t.style.left=n.x+"px",t.style.top=n.y+"px"},e.FieldTextInput.prototype.isTabNavigable=function(){return!0},e.FieldTextInput.prototype.getText_=function(){return this.isBeingEdited_&&this.htmlInput_?this.htmlInput_.value:null},e.FieldTextInput.prototype.getEditorText_=function(e){return String(e)},e.FieldTextInput.prototype.getValueFromEditorText_=function(e){return e},e.fieldRegistry.register("field_input",e.FieldTextInput),e.FieldAngle=function(t,n,r){this.clockwise_=e.FieldAngle.CLOCKWISE,this.offset_=e.FieldAngle.OFFSET,this.wrap_=e.FieldAngle.WRAP,this.round_=e.FieldAngle.ROUND,e.FieldAngle.superClass_.constructor.call(this,t,n,r),this.moveSurfaceWrapper_=this.clickSurfaceWrapper_=this.clickWrapper_=this.line_=this.gauge_=this.editor_=null},e.utils.object.inherits(e.FieldAngle,e.FieldTextInput),e.FieldAngle.prototype.DEFAULT_VALUE=0,e.FieldAngle.fromJson=function(t){return new e.FieldAngle(t.angle,void 0,t)},e.FieldAngle.prototype.SERIALIZABLE=!0,e.FieldAngle.ROUND=15,e.FieldAngle.HALF=50,e.FieldAngle.CLOCKWISE=!1,e.FieldAngle.OFFSET=0,e.FieldAngle.WRAP=360,e.FieldAngle.RADIUS=e.FieldAngle.HALF-1,e.FieldAngle.prototype.configure_=function(t){switch(e.FieldAngle.superClass_.configure_.call(this,t),t.mode){case"compass":this.clockwise_=!0,this.offset_=90;break;case"protractor":this.clockwise_=!1,this.offset_=0}var n=t.clockwise;"boolean"==typeof n&&(this.clockwise_=n),null!=(n=t.offset)&&(n=Number(n),isNaN(n)||(this.offset_=n)),null!=(n=t.wrap)&&(n=Number(n),isNaN(n)||(this.wrap_=n)),null!=(t=t.round)&&(t=Number(t),isNaN(t)||(this.round_=t))},e.FieldAngle.prototype.initView=function(){e.FieldAngle.superClass_.initView.call(this),this.symbol_=e.utils.dom.createSvgElement(e.utils.Svg.TSPAN,{},null),this.symbol_.appendChild(document.createTextNode("\xb0")),this.textElement_.appendChild(this.symbol_)},e.FieldAngle.prototype.render_=function(){e.FieldAngle.superClass_.render_.call(this),this.updateGraph_()},e.FieldAngle.prototype.showEditor_=function(t){e.FieldAngle.superClass_.showEditor_.call(this,t,e.utils.userAgent.MOBILE||e.utils.userAgent.ANDROID||e.utils.userAgent.IPAD),this.dropdownCreate_(),e.DropDownDiv.getContentDiv().appendChild(this.editor_),e.DropDownDiv.setColour(this.sourceBlock_.style.colourPrimary,this.sourceBlock_.style.colourTertiary),e.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.updateGraph_()},e.FieldAngle.prototype.dropdownCreate_=function(){var t=e.utils.dom.createSvgElement(e.utils.Svg.SVG,{xmlns:e.utils.dom.SVG_NS,"xmlns:html":e.utils.dom.HTML_NS,"xmlns:xlink":e.utils.dom.XLINK_NS,version:"1.1",height:2*e.FieldAngle.HALF+"px",width:2*e.FieldAngle.HALF+"px",style:"touch-action: none"},null),n=e.utils.dom.createSvgElement(e.utils.Svg.CIRCLE,{cx:e.FieldAngle.HALF,cy:e.FieldAngle.HALF,r:e.FieldAngle.RADIUS,class:"blocklyAngleCircle"},t);this.gauge_=e.utils.dom.createSvgElement(e.utils.Svg.PATH,{class:"blocklyAngleGauge"},t),this.line_=e.utils.dom.createSvgElement(e.utils.Svg.LINE,{x1:e.FieldAngle.HALF,y1:e.FieldAngle.HALF,class:"blocklyAngleLine"},t);for(var r=0;360>r;r+=15)e.utils.dom.createSvgElement(e.utils.Svg.LINE,{x1:e.FieldAngle.HALF+e.FieldAngle.RADIUS,y1:e.FieldAngle.HALF,x2:e.FieldAngle.HALF+e.FieldAngle.RADIUS-(0==r%45?10:5),y2:e.FieldAngle.HALF,class:"blocklyAngleMarks",transform:"rotate("+r+","+e.FieldAngle.HALF+","+e.FieldAngle.HALF+")"},t);this.clickWrapper_=e.browserEvents.conditionalBind(t,"click",this,this.hide_),this.clickSurfaceWrapper_=e.browserEvents.conditionalBind(n,"click",this,this.onMouseMove_,!0,!0),this.moveSurfaceWrapper_=e.browserEvents.conditionalBind(n,"mousemove",this,this.onMouseMove_,!0,!0),this.editor_=t},e.FieldAngle.prototype.dropdownDispose_=function(){this.clickWrapper_&&(e.browserEvents.unbind(this.clickWrapper_),this.clickWrapper_=null),this.clickSurfaceWrapper_&&(e.browserEvents.unbind(this.clickSurfaceWrapper_),this.clickSurfaceWrapper_=null),this.moveSurfaceWrapper_&&(e.browserEvents.unbind(this.moveSurfaceWrapper_),this.moveSurfaceWrapper_=null),this.line_=this.gauge_=null},e.FieldAngle.prototype.hide_=function(){e.DropDownDiv.hideIfOwner(this),e.WidgetDiv.hide()},e.FieldAngle.prototype.onMouseMove_=function(t){var n=this.gauge_.ownerSVGElement.getBoundingClientRect(),r=t.clientX-n.left-e.FieldAngle.HALF;t=t.clientY-n.top-e.FieldAngle.HALF,n=Math.atan(-t/r),isNaN(n)||(n=e.utils.math.toDegrees(n),0>r?n+=180:0<t&&(n+=360),n=this.clockwise_?this.offset_+360-n:360-(this.offset_-n),this.displayMouseOrKeyboardValue_(n))},e.FieldAngle.prototype.displayMouseOrKeyboardValue_=function(e){this.round_&&(e=Math.round(e/this.round_)*this.round_),(e=this.wrapValue_(e))!=this.value_&&this.setEditorValue_(e)},e.FieldAngle.prototype.updateGraph_=function(){if(this.gauge_){var t=Number(this.getText())+this.offset_,n=e.utils.math.toRadians(t%360);t=["M ",e.FieldAngle.HALF,",",e.FieldAngle.HALF];var r=e.FieldAngle.HALF,i=e.FieldAngle.HALF;if(!isNaN(n)){var o=Number(this.clockwise_),s=e.utils.math.toRadians(this.offset_),a=Math.cos(s)*e.FieldAngle.RADIUS,l=Math.sin(s)*-e.FieldAngle.RADIUS;o&&(n=2*s-n),r+=Math.cos(n)*e.FieldAngle.RADIUS,i-=Math.sin(n)*e.FieldAngle.RADIUS,n=Math.abs(Math.floor((n-s)/Math.PI)%2),o&&(n=1-n),t.push(" l ",a,",",l," A ",e.FieldAngle.RADIUS,",",e.FieldAngle.RADIUS," 0 ",n," ",o," ",r,",",i," z")}this.gauge_.setAttribute("d",t.join("")),this.line_.setAttribute("x2",r),this.line_.setAttribute("y2",i)}},e.FieldAngle.prototype.onHtmlInputKeyDown_=function(t){var n;if(e.FieldAngle.superClass_.onHtmlInputKeyDown_.call(this,t),t.keyCode===e.utils.KeyCodes.LEFT?n=this.sourceBlock_.RTL?1:-1:t.keyCode===e.utils.KeyCodes.RIGHT?n=this.sourceBlock_.RTL?-1:1:t.keyCode===e.utils.KeyCodes.DOWN?n=-1:t.keyCode===e.utils.KeyCodes.UP&&(n=1),n){var r=this.getValue();this.displayMouseOrKeyboardValue_(r+n*this.round_),t.preventDefault(),t.stopPropagation()}},e.FieldAngle.prototype.doClassValidation_=function(e){return e=Number(e),isNaN(e)||!isFinite(e)?null:this.wrapValue_(e)},e.FieldAngle.prototype.wrapValue_=function(e){return 0>(e%=360)&&(e+=360),e>this.wrap_&&(e-=360),e},e.Css.register(".blocklyAngleCircle {,stroke: #444;,stroke-width: 1;,fill: #ddd;,fill-opacity: .8;,},.blocklyAngleMarks {,stroke: #444;,stroke-width: 1;,},.blocklyAngleGauge {,fill: #f88;,fill-opacity: .8;,pointer-events: none;,},.blocklyAngleLine {,stroke: #f00;,stroke-width: 2;,stroke-linecap: round;,pointer-events: none;,}".split(",")),e.fieldRegistry.register("field_angle",e.FieldAngle),e.FieldCheckbox=function(t,n,r){this.checkChar_=null,e.FieldCheckbox.superClass_.constructor.call(this,t,n,r)},e.utils.object.inherits(e.FieldCheckbox,e.Field),e.FieldCheckbox.prototype.DEFAULT_VALUE=!1,e.FieldCheckbox.fromJson=function(t){return new e.FieldCheckbox(t.checked,void 0,t)},e.FieldCheckbox.CHECK_CHAR="\u2713",e.FieldCheckbox.prototype.SERIALIZABLE=!0,e.FieldCheckbox.prototype.CURSOR="default",e.FieldCheckbox.prototype.configure_=function(t){e.FieldCheckbox.superClass_.configure_.call(this,t),t.checkCharacter&&(this.checkChar_=t.checkCharacter)},e.FieldCheckbox.prototype.initView=function(){e.FieldCheckbox.superClass_.initView.call(this),e.utils.dom.addClass(this.textElement_,"blocklyCheckbox"),this.textElement_.style.display=this.value_?"block":"none"},e.FieldCheckbox.prototype.render_=function(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_(this.getConstants().FIELD_CHECKBOX_X_OFFSET)},e.FieldCheckbox.prototype.getDisplayText_=function(){return this.checkChar_||e.FieldCheckbox.CHECK_CHAR},e.FieldCheckbox.prototype.setCheckCharacter=function(e){this.checkChar_=e,this.forceRerender()},e.FieldCheckbox.prototype.showEditor_=function(){this.setValue(!this.value_)},e.FieldCheckbox.prototype.doClassValidation_=function(e){return!0===e||"TRUE"===e?"TRUE":!1===e||"FALSE"===e?"FALSE":null},e.FieldCheckbox.prototype.doValueUpdate_=function(e){this.value_=this.convertValueToBool_(e),this.textElement_&&(this.textElement_.style.display=this.value_?"block":"none")},e.FieldCheckbox.prototype.getValue=function(){return this.value_?"TRUE":"FALSE"},e.FieldCheckbox.prototype.getValueBoolean=function(){return this.value_},e.FieldCheckbox.prototype.getText=function(){return String(this.convertValueToBool_(this.value_))},e.FieldCheckbox.prototype.convertValueToBool_=function(e){return"string"==typeof e?"TRUE"==e:!!e},e.fieldRegistry.register("field_checkbox",e.FieldCheckbox),e.FieldColour=function(t,n,r){e.FieldColour.superClass_.constructor.call(this,t,n,r),this.onKeyDownWrapper_=this.onMouseLeaveWrapper_=this.onMouseEnterWrapper_=this.onMouseMoveWrapper_=this.onClickWrapper_=this.highlightedIndex_=this.picker_=null},e.utils.object.inherits(e.FieldColour,e.Field),e.FieldColour.fromJson=function(t){return new e.FieldColour(t.colour,void 0,t)},e.FieldColour.prototype.SERIALIZABLE=!0,e.FieldColour.prototype.CURSOR="default",e.FieldColour.prototype.isDirty_=!1,e.FieldColour.prototype.colours_=null,e.FieldColour.prototype.titles_=null,e.FieldColour.prototype.columns_=0,e.FieldColour.prototype.configure_=function(t){e.FieldColour.superClass_.configure_.call(this,t),t.colourOptions&&(this.colours_=t.colourOptions,this.titles_=t.colourTitles),t.columns&&(this.columns_=t.columns)},e.FieldColour.prototype.initView=function(){this.size_=new e.utils.Size(this.getConstants().FIELD_COLOUR_DEFAULT_WIDTH,this.getConstants().FIELD_COLOUR_DEFAULT_HEIGHT),this.getConstants().FIELD_COLOUR_FULL_BLOCK?this.clickTarget_=this.sourceBlock_.getSvgRoot():(this.createBorderRect_(),this.borderRect_.style.fillOpacity="1")},e.FieldColour.prototype.applyColour=function(){this.getConstants().FIELD_COLOUR_FULL_BLOCK?(this.sourceBlock_.pathObject.svgPath.setAttribute("fill",this.getValue()),this.sourceBlock_.pathObject.svgPath.setAttribute("stroke","#fff")):this.borderRect_&&(this.borderRect_.style.fill=this.getValue())},e.FieldColour.prototype.doClassValidation_=function(t){return"string"!=typeof t?null:e.utils.colour.parse(t)},e.FieldColour.prototype.doValueUpdate_=function(e){this.value_=e,this.borderRect_?this.borderRect_.style.fill=e:this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.pathObject.svgPath.setAttribute("fill",e),this.sourceBlock_.pathObject.svgPath.setAttribute("stroke","#fff"))},e.FieldColour.prototype.getText=function(){var e=this.value_;return/^#(.)\1(.)\2(.)\3$/.test(e)&&(e="#"+e[1]+e[3]+e[5]),e},e.FieldColour.COLOURS="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" "),e.FieldColour.prototype.DEFAULT_VALUE=e.FieldColour.COLOURS[0],e.FieldColour.TITLES=[],e.FieldColour.COLUMNS=7,e.FieldColour.prototype.setColours=function(e,t){return this.colours_=e,t&&(this.titles_=t),this},e.FieldColour.prototype.setColumns=function(e){return this.columns_=e,this},e.FieldColour.prototype.showEditor_=function(){this.dropdownCreate_(),e.DropDownDiv.getContentDiv().appendChild(this.picker_),e.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.picker_.focus({preventScroll:!0})},e.FieldColour.prototype.onClick_=function(t){null!==(t=(t=t.target)&&t.label)&&(this.setValue(t),e.DropDownDiv.hideIfOwner(this))},e.FieldColour.prototype.onKeyDown_=function(t){var n=!1;t.keyCode===e.utils.KeyCodes.UP?(this.moveHighlightBy_(0,-1),n=!0):t.keyCode===e.utils.KeyCodes.DOWN?(this.moveHighlightBy_(0,1),n=!0):t.keyCode===e.utils.KeyCodes.LEFT?(this.moveHighlightBy_(-1,0),n=!0):t.keyCode===e.utils.KeyCodes.RIGHT?(this.moveHighlightBy_(1,0),n=!0):t.keyCode===e.utils.KeyCodes.ENTER&&((n=this.getHighlighted_())&&null!==(n=n&&n.label)&&this.setValue(n),e.DropDownDiv.hideWithoutAnimation(),n=!0),n&&t.stopPropagation()},e.FieldColour.prototype.moveHighlightBy_=function(t,n){var r=this.colours_||e.FieldColour.COLOURS,i=this.columns_||e.FieldColour.COLUMNS,o=this.highlightedIndex_%i,s=Math.floor(this.highlightedIndex_/i);o+=t,s+=n,0>t?0>o&&0<s?(o=i-1,s--):0>o&&(o=0):0<t?o>i-1&&s<Math.floor(r.length/i)-1?(o=0,s++):o>i-1&&o--:0>n?0>s&&(s=0):0<n&&s>Math.floor(r.length/i)-1&&(s=Math.floor(r.length/i)-1),this.setHighlightedCell_(this.picker_.childNodes[s].childNodes[o],s*i+o)},e.FieldColour.prototype.onMouseMove_=function(e){var t=(e=e.target)&&Number(e.getAttribute("data-index"));null!==t&&t!==this.highlightedIndex_&&this.setHighlightedCell_(e,t)},e.FieldColour.prototype.onMouseEnter_=function(){this.picker_.focus({preventScroll:!0})},e.FieldColour.prototype.onMouseLeave_=function(){this.picker_.blur();var t=this.getHighlighted_();t&&e.utils.dom.removeClass(t,"blocklyColourHighlighted")},e.FieldColour.prototype.getHighlighted_=function(){var t=this.columns_||e.FieldColour.COLUMNS,n=this.picker_.childNodes[Math.floor(this.highlightedIndex_/t)];return n?n.childNodes[this.highlightedIndex_%t]:null},e.FieldColour.prototype.setHighlightedCell_=function(t,n){var r=this.getHighlighted_();r&&e.utils.dom.removeClass(r,"blocklyColourHighlighted"),e.utils.dom.addClass(t,"blocklyColourHighlighted"),this.highlightedIndex_=n,e.utils.aria.setState(this.picker_,e.utils.aria.State.ACTIVEDESCENDANT,t.getAttribute("id"))},e.FieldColour.prototype.dropdownCreate_=function(){var t=this.columns_||e.FieldColour.COLUMNS,n=this.colours_||e.FieldColour.COLOURS,r=this.titles_||e.FieldColour.TITLES,i=this.getValue(),o=document.createElement("table");o.className="blocklyColourTable",o.tabIndex=0,o.dir="ltr",e.utils.aria.setRole(o,e.utils.aria.Role.GRID),e.utils.aria.setState(o,e.utils.aria.State.EXPANDED,!0),e.utils.aria.setState(o,e.utils.aria.State.ROWCOUNT,Math.floor(n.length/t)),e.utils.aria.setState(o,e.utils.aria.State.COLCOUNT,t);for(var s,a=0;a<n.length;a++){0==a%t&&(s=document.createElement("tr"),e.utils.aria.setRole(s,e.utils.aria.Role.ROW),o.appendChild(s));var l=document.createElement("td");s.appendChild(l),l.label=n[a],l.title=r[a]||n[a],l.id=e.utils.IdGenerator.getNextUniqueId(),l.setAttribute("data-index",a),e.utils.aria.setRole(l,e.utils.aria.Role.GRIDCELL),e.utils.aria.setState(l,e.utils.aria.State.LABEL,n[a]),e.utils.aria.setState(l,e.utils.aria.State.SELECTED,n[a]==i),l.style.backgroundColor=n[a],n[a]==i&&(l.className="blocklyColourSelected",this.highlightedIndex_=a)}this.onClickWrapper_=e.browserEvents.conditionalBind(o,"click",this,this.onClick_,!0),this.onMouseMoveWrapper_=e.browserEvents.conditionalBind(o,"mousemove",this,this.onMouseMove_,!0),this.onMouseEnterWrapper_=e.browserEvents.conditionalBind(o,"mouseenter",this,this.onMouseEnter_,!0),this.onMouseLeaveWrapper_=e.browserEvents.conditionalBind(o,"mouseleave",this,this.onMouseLeave_,!0),this.onKeyDownWrapper_=e.browserEvents.conditionalBind(o,"keydown",this,this.onKeyDown_),this.picker_=o},e.FieldColour.prototype.dropdownDispose_=function(){this.onClickWrapper_&&(e.browserEvents.unbind(this.onClickWrapper_),this.onClickWrapper_=null),this.onMouseMoveWrapper_&&(e.browserEvents.unbind(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null),this.onMouseEnterWrapper_&&(e.browserEvents.unbind(this.onMouseEnterWrapper_),this.onMouseEnterWrapper_=null),this.onMouseLeaveWrapper_&&(e.browserEvents.unbind(this.onMouseLeaveWrapper_),this.onMouseLeaveWrapper_=null),this.onKeyDownWrapper_&&(e.browserEvents.unbind(this.onKeyDownWrapper_),this.onKeyDownWrapper_=null),this.highlightedIndex_=this.picker_=null},e.Css.register([".blocklyColourTable {","border-collapse: collapse;","display: block;","outline: none;","padding: 1px;","}",".blocklyColourTable>tr>td {","border: .5px solid #888;","box-sizing: border-box;","cursor: pointer;","display: inline-block;","height: 20px;","padding: 0;","width: 20px;","}",".blocklyColourTable>tr>td.blocklyColourHighlighted {","border-color: #eee;","box-shadow: 2px 2px 7px 2px rgba(0,0,0,.3);","position: relative;","}",".blocklyColourSelected, .blocklyColourSelected:hover {","border-color: #eee !important;","outline: 1px solid #333;","position: relative;","}"]),e.fieldRegistry.register("field_colour",e.FieldColour),e.FieldDropdown=function(t,n,r){"function"!=typeof t&&e.FieldDropdown.validateOptions_(t),this.menuGenerator_=t,this.suffixField=this.prefixField=this.generatedOptions_=null,this.trimOptions_(),this.selectedOption_=this.getOptions(!1)[0],e.FieldDropdown.superClass_.constructor.call(this,this.selectedOption_[1],n,r),this.svgArrow_=this.arrow_=this.imageElement_=this.menu_=this.selectedMenuItem_=null},e.utils.object.inherits(e.FieldDropdown,e.Field),e.FieldDropdown.fromJson=function(t){return new e.FieldDropdown(t.options,void 0,t)},e.FieldDropdown.prototype.fromXml=function(e){this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e.textContent)},e.FieldDropdown.prototype.SERIALIZABLE=!0,e.FieldDropdown.CHECKMARK_OVERHANG=25,e.FieldDropdown.MAX_MENU_HEIGHT_VH=.45,e.FieldDropdown.IMAGE_Y_OFFSET=5,e.FieldDropdown.IMAGE_Y_PADDING=2*e.FieldDropdown.IMAGE_Y_OFFSET,e.FieldDropdown.ARROW_CHAR=e.utils.userAgent.ANDROID?"\u25bc":"\u25be",e.FieldDropdown.prototype.CURSOR="default",e.FieldDropdown.prototype.initView=function(){this.shouldAddBorderRect_()?this.createBorderRect_():this.clickTarget_=this.sourceBlock_.getSvgRoot(),this.createTextElement_(),this.imageElement_=e.utils.dom.createSvgElement(e.utils.Svg.IMAGE,{},this.fieldGroup_),this.getConstants().FIELD_DROPDOWN_SVG_ARROW?this.createSVGArrow_():this.createTextArrow_(),this.borderRect_&&e.utils.dom.addClass(this.borderRect_,"blocklyDropdownRect")},e.FieldDropdown.prototype.shouldAddBorderRect_=function(){return!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW&&!this.sourceBlock_.isShadow()},e.FieldDropdown.prototype.createTextArrow_=function(){this.arrow_=e.utils.dom.createSvgElement(e.utils.Svg.TSPAN,{},this.textElement_),this.arrow_.appendChild(document.createTextNode(this.sourceBlock_.RTL?e.FieldDropdown.ARROW_CHAR+" ":" "+e.FieldDropdown.ARROW_CHAR)),this.sourceBlock_.RTL?this.textElement_.insertBefore(this.arrow_,this.textContent_):this.textElement_.appendChild(this.arrow_)},e.FieldDropdown.prototype.createSVGArrow_=function(){this.svgArrow_=e.utils.dom.createSvgElement(e.utils.Svg.IMAGE,{height:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px",width:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px"},this.fieldGroup_),this.svgArrow_.setAttributeNS(e.utils.dom.XLINK_NS,"xlink:href",this.getConstants().FIELD_DROPDOWN_SVG_ARROW_DATAURI)},e.FieldDropdown.prototype.showEditor_=function(t){if(this.dropdownCreate_(),this.menu_.openingCoords=t&&"number"===typeof t.clientX?new e.utils.Coordinate(t.clientX,t.clientY):null,this.menu_.render(e.DropDownDiv.getContentDiv()),t=this.menu_.getElement(),e.utils.dom.addClass(t,"blocklyDropdownMenu"),this.getConstants().FIELD_DROPDOWN_COLOURED_DIV){t=this.sourceBlock_.isShadow()?this.sourceBlock_.getParent().getColour():this.sourceBlock_.getColour();var n=this.sourceBlock_.isShadow()?this.sourceBlock_.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary;e.DropDownDiv.setColour(t,n)}e.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.menu_.focus(),this.selectedMenuItem_&&this.menu_.setHighlighted(this.selectedMenuItem_),this.applyColour()},e.FieldDropdown.prototype.dropdownCreate_=function(){var t=new e.Menu;t.setRole(e.utils.aria.Role.LISTBOX),this.menu_=t;var n=this.getOptions(!1);this.selectedMenuItem_=null;for(var r=0;r<n.length;r++){var i=n[r][0],o=n[r][1];if("object"==typeof i){var s=new Image(i.width,i.height);s.src=i.src,s.alt=i.alt||"",i=s}(i=new e.MenuItem(i,o)).setRole(e.utils.aria.Role.OPTION),i.setRightToLeft(this.sourceBlock_.RTL),i.setCheckable(!0),t.addChild(i),i.setChecked(o==this.value_),o==this.value_&&(this.selectedMenuItem_=i),i.onAction(this.handleMenuActionEvent_,this)}},e.FieldDropdown.prototype.dropdownDispose_=function(){this.menu_&&this.menu_.dispose(),this.selectedMenuItem_=this.menu_=null,this.applyColour()},e.FieldDropdown.prototype.handleMenuActionEvent_=function(t){e.DropDownDiv.hideIfOwner(this,!0),this.onItemSelected_(this.menu_,t)},e.FieldDropdown.prototype.onItemSelected_=function(e,t){this.setValue(t.getValue())},e.FieldDropdown.prototype.trimOptions_=function(){var t=this.menuGenerator_;if(Array.isArray(t)){for(var n=!1,r=0;r<t.length;r++){var i=t[r][0];"string"==typeof i?t[r][0]=e.utils.replaceMessageReferences(i):(null!=i.alt&&(t[r][0].alt=e.utils.replaceMessageReferences(i.alt)),n=!0)}if(!(n||2>t.length)){for(n=[],r=0;r<t.length;r++)n.push(t[r][0]);r=e.utils.string.shortestStringLength(n),i=e.utils.string.commonWordPrefix(n,r);var o=e.utils.string.commonWordSuffix(n,r);!i&&!o||r<=i+o||(i&&(this.prefixField=n[0].substring(0,i-1)),o&&(this.suffixField=n[0].substr(1-o)),this.menuGenerator_=e.FieldDropdown.applyTrim_(t,i,o))}}},e.FieldDropdown.applyTrim_=function(e,t,n){for(var r=[],i=0;i<e.length;i++){var o=e[i][0],s=e[i][1];o=o.substring(t,o.length-n),r[i]=[o,s]}return r},e.FieldDropdown.prototype.isOptionListDynamic=function(){return"function"==typeof this.menuGenerator_},e.FieldDropdown.prototype.getOptions=function(t){return this.isOptionListDynamic()?(this.generatedOptions_&&t||(this.generatedOptions_=this.menuGenerator_.call(this),e.FieldDropdown.validateOptions_(this.generatedOptions_)),this.generatedOptions_):this.menuGenerator_},e.FieldDropdown.prototype.doClassValidation_=function(e){for(var t,n=!1,r=this.getOptions(!0),i=0;t=r[i];i++)if(t[1]==e){n=!0;break}return n?e:(this.sourceBlock_&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.sourceBlock_.type+", Field name: "+this.name+", Value: "+e),null)},e.FieldDropdown.prototype.doValueUpdate_=function(t){e.FieldDropdown.superClass_.doValueUpdate_.call(this,t),t=this.getOptions(!0);for(var n,r=0;n=t[r];r++)n[1]==this.value_&&(this.selectedOption_=n)},e.FieldDropdown.prototype.applyColour=function(){this.borderRect_&&(this.borderRect_.setAttribute("stroke",this.sourceBlock_.style.colourTertiary),this.menu_?this.borderRect_.setAttribute("fill",this.sourceBlock_.style.colourTertiary):this.borderRect_.setAttribute("fill","transparent")),this.sourceBlock_&&this.arrow_&&(this.sourceBlock_.isShadow()?this.arrow_.style.fill=this.sourceBlock_.style.colourSecondary:this.arrow_.style.fill=this.sourceBlock_.style.colourPrimary)},e.FieldDropdown.prototype.render_=function(){this.textContent_.nodeValue="",this.imageElement_.style.display="none";var e=this.selectedOption_&&this.selectedOption_[0];e&&"object"==typeof e?this.renderSelectedImage_(e):this.renderSelectedText_(),this.positionBorderRect_()},e.FieldDropdown.prototype.renderSelectedImage_=function(t){this.imageElement_.style.display="",this.imageElement_.setAttributeNS(e.utils.dom.XLINK_NS,"xlink:href",t.src),this.imageElement_.setAttribute("height",t.height),this.imageElement_.setAttribute("width",t.width);var n=Number(t.height);t=Number(t.width);var r=!!this.borderRect_,i=Math.max(r?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,n+e.FieldDropdown.IMAGE_Y_PADDING);r=r?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;var o=this.svgArrow_?this.positionSVGArrow_(t+r,i/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2):e.utils.dom.getFastTextWidth(this.arrow_,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);this.size_.width=t+o+2*r,this.size_.height=i;var s=0;this.sourceBlock_.RTL?this.imageElement_.setAttribute("x",r+o):(s=t+o,this.textElement_.setAttribute("text-anchor","end"),this.imageElement_.setAttribute("x",r)),this.imageElement_.setAttribute("y",i/2-n/2),this.positionTextElement_(s+r,t+o)},e.FieldDropdown.prototype.renderSelectedText_=function(){this.textContent_.nodeValue=this.getDisplayText_(),e.utils.dom.addClass(this.textElement_,"blocklyDropdownText"),this.textElement_.setAttribute("text-anchor","start");var t=!!this.borderRect_,n=Math.max(t?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,this.getConstants().FIELD_TEXT_HEIGHT),r=e.utils.dom.getFastTextWidth(this.textElement_,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);t=t?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;var i=0;this.svgArrow_&&(i=this.positionSVGArrow_(r+t,n/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2)),this.size_.width=r+i+2*t,this.size_.height=n,this.positionTextElement_(t,r)},e.FieldDropdown.prototype.positionSVGArrow_=function(e,t){if(!this.svgArrow_)return 0;var n=this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,r=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_PADDING,i=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE;return this.svgArrow_.setAttribute("transform","translate("+(this.sourceBlock_.RTL?n:e+r)+","+t+")"),i+r},e.FieldDropdown.prototype.getText_=function(){if(!this.selectedOption_)return null;var e=this.selectedOption_[0];return"object"==typeof e?e.alt:e},e.FieldDropdown.validateOptions_=function(e){if(!Array.isArray(e))throw TypeError("FieldDropdown options must be an array.");if(!e.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var t=!1,n=0;n<e.length;++n){var r=e[n];Array.isArray(r)?"string"!=typeof r[1]?(t=!0,console.error("Invalid option["+n+"]: Each FieldDropdown option id must be a string. Found "+r[1]+" in: ",r)):r[0]&&"string"!=typeof r[0]&&"string"!=typeof r[0].src&&(t=!0,console.error("Invalid option["+n+"]: Each FieldDropdown option must have a string label or image description. Found"+r[0]+" in: ",r)):(t=!0,console.error("Invalid option["+n+"]: Each FieldDropdown option must be an array. Found: ",r))}if(t)throw TypeError("Found invalid FieldDropdown options.")},e.fieldRegistry.register("field_dropdown",e.FieldDropdown),e.FieldLabelSerializable=function(t,n,r){e.FieldLabelSerializable.superClass_.constructor.call(this,t,n,r)},e.utils.object.inherits(e.FieldLabelSerializable,e.FieldLabel),e.FieldLabelSerializable.fromJson=function(t){var n=e.utils.replaceMessageReferences(t.text);return new e.FieldLabelSerializable(n,void 0,t)},e.FieldLabelSerializable.prototype.EDITABLE=!1,e.FieldLabelSerializable.prototype.SERIALIZABLE=!0,e.fieldRegistry.register("field_label_serializable",e.FieldLabelSerializable),e.FieldImage=function(t,n,r,i,o,s,a){if(!t)throw Error("Src value of an image field is required");if(t=e.utils.replaceMessageReferences(t),r=Number(e.utils.replaceMessageReferences(r)),n=Number(e.utils.replaceMessageReferences(n)),isNaN(r)||isNaN(n))throw Error("Height and width values of an image field must cast to numbers.");if(0>=r||0>=n)throw Error("Height and width values of an image field must be greater than 0.");this.flipRtl_=!1,this.altText_="",e.FieldImage.superClass_.constructor.call(this,t,null,a),a||(this.flipRtl_=!!s,this.altText_=e.utils.replaceMessageReferences(i)||""),this.size_=new e.utils.Size(n,r+e.FieldImage.Y_PADDING),this.imageHeight_=r,this.clickHandler_=null,"function"==typeof o&&(this.clickHandler_=o),this.imageElement_=null},e.utils.object.inherits(e.FieldImage,e.Field),e.FieldImage.prototype.DEFAULT_VALUE="",e.FieldImage.fromJson=function(t){return new e.FieldImage(t.src,t.width,t.height,void 0,void 0,void 0,t)},e.FieldImage.Y_PADDING=1,e.FieldImage.prototype.EDITABLE=!1,e.FieldImage.prototype.isDirty_=!1,e.FieldImage.prototype.configure_=function(t){e.FieldImage.superClass_.configure_.call(this,t),this.flipRtl_=!!t.flipRtl,this.altText_=e.utils.replaceMessageReferences(t.alt)||""},e.FieldImage.prototype.initView=function(){this.imageElement_=e.utils.dom.createSvgElement(e.utils.Svg.IMAGE,{height:this.imageHeight_+"px",width:this.size_.width+"px",alt:this.altText_},this.fieldGroup_),this.imageElement_.setAttributeNS(e.utils.dom.XLINK_NS,"xlink:href",this.value_),this.clickHandler_&&(this.imageElement_.style.cursor="pointer")},e.FieldImage.prototype.updateSize_=function(){},e.FieldImage.prototype.doClassValidation_=function(e){return"string"!=typeof e?null:e},e.FieldImage.prototype.doValueUpdate_=function(t){this.value_=t,this.imageElement_&&this.imageElement_.setAttributeNS(e.utils.dom.XLINK_NS,"xlink:href",String(this.value_))},e.FieldImage.prototype.getFlipRtl=function(){return this.flipRtl_},e.FieldImage.prototype.setAlt=function(e){e!=this.altText_&&(this.altText_=e||"",this.imageElement_&&this.imageElement_.setAttribute("alt",this.altText_))},e.FieldImage.prototype.showEditor_=function(){this.clickHandler_&&this.clickHandler_(this)},e.FieldImage.prototype.setOnClickHandler=function(e){this.clickHandler_=e},e.FieldImage.prototype.getText_=function(){return this.altText_},e.fieldRegistry.register("field_image",e.FieldImage),e.FieldMultilineInput=function(t,n,r){e.FieldMultilineInput.superClass_.constructor.call(this,t,n,r),this.textGroup_=null,this.maxLines_=1/0,this.isOverflowedY_=!1},e.utils.object.inherits(e.FieldMultilineInput,e.FieldTextInput),e.FieldMultilineInput.prototype.configure_=function(t){e.FieldMultilineInput.superClass_.configure_.call(this,t),t.maxLines&&this.setMaxLines(t.maxLines)},e.FieldMultilineInput.fromJson=function(t){var n=e.utils.replaceMessageReferences(t.text);return new e.FieldMultilineInput(n,void 0,t)},e.FieldMultilineInput.prototype.toXml=function(e){return e.textContent=this.getValue().replace(/\n/g,"&#10;"),e},e.FieldMultilineInput.prototype.fromXml=function(e){this.setValue(e.textContent.replace(/&#10;/g,"\n"))},e.FieldMultilineInput.prototype.initView=function(){this.createBorderRect_(),this.textGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{class:"blocklyEditableText"},this.fieldGroup_)},e.FieldMultilineInput.prototype.getDisplayText_=function(){var t=this.getText();if(!t)return e.Field.NBSP;var n=t.split("\n");t="";for(var r=this.isOverflowedY_?this.maxLines_:n.length,i=0;i<r;i++){var o=n[i];o.length>this.maxDisplayLength?o=o.substring(0,this.maxDisplayLength-4)+"...":this.isOverflowedY_&&i===r-1&&(o=o.substring(0,o.length-3)+"..."),t+=o=o.replace(/\s/g,e.Field.NBSP),i!==r-1&&(t+="\n")}return this.sourceBlock_.RTL&&(t+="\u200f"),t},e.FieldMultilineInput.prototype.doValueUpdate_=function(t){e.FieldMultilineInput.superClass_.doValueUpdate_.call(this,t),this.isOverflowedY_=this.value_.split("\n").length>this.maxLines_},e.FieldMultilineInput.prototype.render_=function(){for(var t;t=this.textGroup_.firstChild;)this.textGroup_.removeChild(t);t=this.getDisplayText_().split("\n");for(var n=0,r=0;r<t.length;r++){var i=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING;e.utils.dom.createSvgElement(e.utils.Svg.TEXT,{class:"blocklyText blocklyMultilineText",x:this.getConstants().FIELD_BORDER_RECT_X_PADDING,y:n+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,dy:this.getConstants().FIELD_TEXT_BASELINE},this.textGroup_).appendChild(document.createTextNode(t[r])),n+=i}this.isBeingEdited_&&(t=this.htmlInput_,this.isOverflowedY_?e.utils.dom.addClass(t,"blocklyHtmlTextAreaInputOverflowedY"):e.utils.dom.removeClass(t,"blocklyHtmlTextAreaInputOverflowedY")),this.updateSize_(),this.isBeingEdited_&&(this.sourceBlock_.RTL?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),t=this.htmlInput_,this.isTextValid_?(e.utils.dom.removeClass(t,"blocklyInvalidInput"),e.utils.aria.setState(t,e.utils.aria.State.INVALID,!1)):(e.utils.dom.addClass(t,"blocklyInvalidInput"),e.utils.aria.setState(t,e.utils.aria.State.INVALID,!0)))},e.FieldMultilineInput.prototype.updateSize_=function(){for(var t=this.textGroup_.childNodes,n=0,r=0,i=0;i<t.length;i++){var o=e.utils.dom.getTextWidth(t[i]);o>n&&(n=o),r+=this.getConstants().FIELD_TEXT_HEIGHT+(0<i?this.getConstants().FIELD_BORDER_RECT_Y_PADDING:0)}if(this.isBeingEdited_){t=this.value_.split("\n"),o=e.utils.dom.createSvgElement(e.utils.Svg.TEXT,{class:"blocklyText blocklyMultilineText"});var s=this.getConstants().FIELD_TEXT_FONTSIZE,a=this.getConstants().FIELD_TEXT_FONTWEIGHT,l=this.getConstants().FIELD_TEXT_FONTFAMILY;for(i=0;i<t.length;i++){t[i].length>this.maxDisplayLength&&(t[i]=t[i].substring(0,this.maxDisplayLength)),o.textContent=t[i];var c=e.utils.dom.getFastTextWidth(o,s,a,l);c>n&&(n=c)}n+=this.htmlInput_.offsetWidth-this.htmlInput_.clientWidth}this.borderRect_&&(r+=2*this.getConstants().FIELD_BORDER_RECT_Y_PADDING,n+=2*this.getConstants().FIELD_BORDER_RECT_X_PADDING,this.borderRect_.setAttribute("width",n),this.borderRect_.setAttribute("height",r)),this.size_.width=n,this.size_.height=r,this.positionBorderRect_()},e.FieldMultilineInput.prototype.showEditor_=function(t,n){e.FieldMultilineInput.superClass_.showEditor_.call(this,t,n),this.forceRerender()},e.FieldMultilineInput.prototype.widgetCreate_=function(){var t=e.WidgetDiv.DIV,n=this.workspace_.getScale(),r=document.createElement("textarea");r.className="blocklyHtmlInput blocklyHtmlTextAreaInput",r.setAttribute("spellcheck",this.spellcheck_);var i=this.getConstants().FIELD_TEXT_FONTSIZE*n+"pt";t.style.fontSize=i,r.style.fontSize=i,r.style.borderRadius=e.FieldTextInput.BORDERRADIUS*n+"px",i=this.getConstants().FIELD_BORDER_RECT_X_PADDING*n;var o=this.getConstants().FIELD_BORDER_RECT_Y_PADDING*n/2;return r.style.padding=o+"px "+i+"px "+o+"px "+i+"px",i=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,r.style.lineHeight=i*n+"px",t.appendChild(r),r.value=r.defaultValue=this.getEditorText_(this.value_),r.untypedDefaultValue_=this.value_,r.oldValue_=null,e.utils.userAgent.GECKO?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),this.bindInputEvents_(r),r},e.FieldMultilineInput.prototype.setMaxLines=function(e){"number"===typeof e&&0<e&&e!==this.maxLines_&&(this.maxLines_=e,this.forceRerender())},e.FieldMultilineInput.prototype.getMaxLines=function(){return this.maxLines_},e.FieldMultilineInput.prototype.onHtmlInputKeyDown_=function(t){t.keyCode!==e.utils.KeyCodes.ENTER&&e.FieldMultilineInput.superClass_.onHtmlInputKeyDown_.call(this,t)},e.Css.register(".blocklyHtmlTextAreaInput {,font-family: monospace;,resize: none;,overflow: hidden;,height: 100%;,text-align: left;,},.blocklyHtmlTextAreaInputOverflowedY {,overflow-y: scroll;,}".split(",")),e.fieldRegistry.register("field_multilinetext",e.FieldMultilineInput),e.FieldNumber=function(t,n,r,i,o,s){this.min_=-1/0,this.max_=1/0,this.precision_=0,this.decimalPlaces_=null,e.FieldNumber.superClass_.constructor.call(this,t,o,s),s||this.setConstraints(n,r,i)},e.utils.object.inherits(e.FieldNumber,e.FieldTextInput),e.FieldNumber.prototype.DEFAULT_VALUE=0,e.FieldNumber.fromJson=function(t){return new e.FieldNumber(t.value,void 0,void 0,void 0,void 0,t)},e.FieldNumber.prototype.SERIALIZABLE=!0,e.FieldNumber.prototype.configure_=function(t){e.FieldNumber.superClass_.configure_.call(this,t),this.setMinInternal_(t.min),this.setMaxInternal_(t.max),this.setPrecisionInternal_(t.precision)},e.FieldNumber.prototype.setConstraints=function(e,t,n){this.setMinInternal_(e),this.setMaxInternal_(t),this.setPrecisionInternal_(n),this.setValue(this.getValue())},e.FieldNumber.prototype.setMin=function(e){this.setMinInternal_(e),this.setValue(this.getValue())},e.FieldNumber.prototype.setMinInternal_=function(e){null==e?this.min_=-1/0:(e=Number(e),isNaN(e)||(this.min_=e))},e.FieldNumber.prototype.getMin=function(){return this.min_},e.FieldNumber.prototype.setMax=function(e){this.setMaxInternal_(e),this.setValue(this.getValue())},e.FieldNumber.prototype.setMaxInternal_=function(e){null==e?this.max_=1/0:(e=Number(e),isNaN(e)||(this.max_=e))},e.FieldNumber.prototype.getMax=function(){return this.max_},e.FieldNumber.prototype.setPrecision=function(e){this.setPrecisionInternal_(e),this.setValue(this.getValue())},e.FieldNumber.prototype.setPrecisionInternal_=function(e){this.precision_=Number(e)||0;var t=String(this.precision_);-1!=t.indexOf("e")&&(t=this.precision_.toLocaleString("en-US",{maximumFractionDigits:20}));var n=t.indexOf(".");this.decimalPlaces_=-1==n?e?0:null:t.length-n-1},e.FieldNumber.prototype.getPrecision=function(){return this.precision_},e.FieldNumber.prototype.doClassValidation_=function(e){return null===e?null:(e=(e=(e=(e=String(e)).replace(/O/gi,"0")).replace(/,/g,"")).replace(/infinity/i,"Infinity"),e=Number(e||0),isNaN(e)?null:(e=Math.min(Math.max(e,this.min_),this.max_),this.precision_&&isFinite(e)&&(e=Math.round(e/this.precision_)*this.precision_),null!=this.decimalPlaces_&&(e=Number(e.toFixed(this.decimalPlaces_))),e))},e.FieldNumber.prototype.widgetCreate_=function(){var t=e.FieldNumber.superClass_.widgetCreate_.call(this);return-1/0<this.min_&&e.utils.aria.setState(t,e.utils.aria.State.VALUEMIN,this.min_),1/0>this.max_&&e.utils.aria.setState(t,e.utils.aria.State.VALUEMAX,this.max_),t},e.fieldRegistry.register("field_number",e.FieldNumber),e.FieldVariable=function(t,n,r,i,o){this.menuGenerator_=e.FieldVariable.dropdownCreate,this.defaultVariableName="string"===typeof t?t:"",this.size_=new e.utils.Size(0,0),o&&this.configure_(o),n&&this.setValidator(n),o||this.setTypes_(r,i)},e.utils.object.inherits(e.FieldVariable,e.FieldDropdown),e.FieldVariable.fromJson=function(t){var n=e.utils.replaceMessageReferences(t.variable);return new e.FieldVariable(n,void 0,void 0,void 0,t)},e.FieldVariable.prototype.SERIALIZABLE=!0,e.FieldVariable.prototype.configure_=function(t){e.FieldVariable.superClass_.configure_.call(this,t),this.setTypes_(t.variableTypes,t.defaultType)},e.FieldVariable.prototype.initModel=function(){if(!this.variable_){var t=e.Variables.getOrCreateVariablePackage(this.sourceBlock_.workspace,null,this.defaultVariableName,this.defaultType_);this.doValueUpdate_(t.getId())}},e.FieldVariable.prototype.shouldAddBorderRect_=function(){return e.FieldVariable.superClass_.shouldAddBorderRect_.call(this)&&(!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||"variables_get"!=this.sourceBlock_.type)},e.FieldVariable.prototype.fromXml=function(t){var n=t.getAttribute("id"),r=t.textContent,i=t.getAttribute("variabletype")||t.getAttribute("variableType")||"";if(n=e.Variables.getOrCreateVariablePackage(this.sourceBlock_.workspace,n,r,i),null!=i&&i!==n.type)throw Error("Serialized variable type with id '"+n.getId()+"' had type "+n.type+", and does not match variable field that references it: "+e.Xml.domToText(t)+".");this.setValue(n.getId())},e.FieldVariable.prototype.toXml=function(e){return this.initModel(),e.id=this.variable_.getId(),e.textContent=this.variable_.name,this.variable_.type&&e.setAttribute("variabletype",this.variable_.type),e},e.FieldVariable.prototype.setSourceBlock=function(t){if(t.isShadow())throw Error("Variable fields are not allowed to exist on shadow blocks.");e.FieldVariable.superClass_.setSourceBlock.call(this,t)},e.FieldVariable.prototype.getValue=function(){return this.variable_?this.variable_.getId():null},e.FieldVariable.prototype.getText=function(){return this.variable_?this.variable_.name:""},e.FieldVariable.prototype.getVariable=function(){return this.variable_},e.FieldVariable.prototype.getValidator=function(){return this.variable_?this.validator_:null},e.FieldVariable.prototype.doClassValidation_=function(t){if(null===t)return null;var n=e.Variables.getVariable(this.sourceBlock_.workspace,t);return n?(n=n.type,this.typeIsAllowed_(n)?t:(console.warn("Variable type doesn't match this field!  Type was "+n),null)):(console.warn("Variable id doesn't point to a real variable! ID was "+t),null)},e.FieldVariable.prototype.doValueUpdate_=function(t){this.variable_=e.Variables.getVariable(this.sourceBlock_.workspace,t),e.FieldVariable.superClass_.doValueUpdate_.call(this,t)},e.FieldVariable.prototype.typeIsAllowed_=function(e){var t=this.getVariableTypes_();if(!t)return!0;for(var n=0;n<t.length;n++)if(e==t[n])return!0;return!1},e.FieldVariable.prototype.getVariableTypes_=function(){var e=this.variableTypes;if(null===e&&this.sourceBlock_&&this.sourceBlock_.workspace)return this.sourceBlock_.workspace.getVariableTypes();if(0==(e=e||[""]).length)throw e=this.getText(),Error("'variableTypes' of field variable "+e+" was an empty list");return e},e.FieldVariable.prototype.setTypes_=function(e,t){if(t=t||"",null==e||void 0==e)e=null;else{if(!Array.isArray(e))throw Error("'variableTypes' was not an array in the definition of a FieldVariable");for(var n=!1,r=0;r<e.length;r++)e[r]==t&&(n=!0);if(!n)throw Error("Invalid default type '"+t+"' in the definition of a FieldVariable")}this.defaultType_=t,this.variableTypes=e},e.FieldVariable.prototype.refreshVariableName=function(){this.forceRerender()},e.FieldVariable.dropdownCreate=function(){if(!this.variable_)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var t=this.getText(),n=[];if(this.sourceBlock_&&this.sourceBlock_.workspace)for(var r=this.getVariableTypes_(),i=0;i<r.length;i++){var o=this.sourceBlock_.workspace.getVariablesOfType(r[i]);n=n.concat(o)}for(n.sort(e.VariableModel.compareByName),r=[],i=0;i<n.length;i++)r[i]=[n[i].name,n[i].getId()];return r.push([e.Msg.RENAME_VARIABLE,e.RENAME_VARIABLE_ID]),e.Msg.DELETE_VARIABLE&&r.push([e.Msg.DELETE_VARIABLE.replace("%1",t),e.DELETE_VARIABLE_ID]),r},e.FieldVariable.prototype.onItemSelected_=function(t,n){if(t=n.getValue(),this.sourceBlock_&&this.sourceBlock_.workspace){if(t==e.RENAME_VARIABLE_ID)return void e.Variables.renameVariable(this.sourceBlock_.workspace,this.variable_);if(t==e.DELETE_VARIABLE_ID)return void this.sourceBlock_.workspace.deleteVariableById(this.variable_.getId())}this.setValue(t)},e.FieldVariable.prototype.referencesVariables=function(){return!0},e.fieldRegistry.register("field_variable",e.FieldVariable),e.utils.svgPaths={},e.utils.svgPaths.point=function(e,t){return" "+e+","+t+" "},e.utils.svgPaths.curve=function(e,t){return" "+e+t.join("")},e.utils.svgPaths.moveTo=function(e,t){return" M "+e+","+t+" "},e.utils.svgPaths.moveBy=function(e,t){return" m "+e+","+t+" "},e.utils.svgPaths.lineTo=function(e,t){return" l "+e+","+t+" "},e.utils.svgPaths.line=function(e){return" l"+e.join("")},e.utils.svgPaths.lineOnAxis=function(e,t){return" "+e+" "+t+" "},e.utils.svgPaths.arc=function(e,t,n,r){return e+" "+n+" "+n+" "+t+r},e.blockRendering.ConstantProvider=function(){this.NO_PADDING=0,this.SMALL_PADDING=3,this.MEDIUM_PADDING=5,this.MEDIUM_LARGE_PADDING=8,this.LARGE_PADDING=10,this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING,this.TAB_HEIGHT=15,this.TAB_OFFSET_FROM_TOP=5,this.TAB_VERTICAL_OVERLAP=2.5,this.TAB_WIDTH=8,this.NOTCH_WIDTH=15,this.NOTCH_HEIGHT=4,this.MIN_BLOCK_WIDTH=12,this.EMPTY_BLOCK_SPACER_HEIGHT=16,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=this.DUMMY_INPUT_MIN_HEIGHT=this.TAB_HEIGHT,this.CORNER_RADIUS=8,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=15,this.STATEMENT_BOTTOM_SPACER=0,this.STATEMENT_INPUT_PADDING_LEFT=20,this.BETWEEN_STATEMENT_PADDING_Y=4,this.TOP_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.ADD_START_HATS=!1,this.START_HAT_HEIGHT=15,this.START_HAT_WIDTH=100,this.SPACER_DEFAULT_HEIGHT=15,this.MIN_BLOCK_HEIGHT=24,this.EMPTY_INLINE_INPUT_PADDING=14.5,this.EMPTY_INLINE_INPUT_HEIGHT=this.TAB_HEIGHT+11,this.EXTERNAL_VALUE_INPUT_PADDING=2,this.EMPTY_STATEMENT_INPUT_HEIGHT=this.MIN_BLOCK_HEIGHT,this.START_POINT=e.utils.svgPaths.moveBy(0,0),this.JAGGED_TEETH_HEIGHT=12,this.JAGGED_TEETH_WIDTH=6,this.FIELD_TEXT_FONTSIZE=11,this.FIELD_TEXT_FONTWEIGHT="normal",this.FIELD_TEXT_FONTFAMILY="sans-serif",this.FIELD_TEXT_BASELINE=this.FIELD_TEXT_HEIGHT=-1,this.FIELD_BORDER_RECT_RADIUS=4,this.FIELD_BORDER_RECT_HEIGHT=16,this.FIELD_BORDER_RECT_X_PADDING=5,this.FIELD_BORDER_RECT_Y_PADDING=3,this.FIELD_BORDER_RECT_COLOUR="#fff",this.FIELD_TEXT_BASELINE_CENTER=!e.utils.userAgent.IE&&!e.utils.userAgent.EDGE,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!1,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_DROPDOWN_SVG_ARROW_SIZE=12,this.FIELD_DROPDOWN_SVG_ARROW_DATAURI="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=",this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!1,this.FIELD_COLOUR_DEFAULT_WIDTH=26,this.FIELD_COLOUR_DEFAULT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_CHECKBOX_X_OFFSET=this.FIELD_BORDER_RECT_X_PADDING-3,this.randomIdentifier=String(Math.random()).substring(2),this.embossFilterId="",this.embossFilter_=null,this.disabledPatternId="",this.disabledPattern_=null,this.debugFilterId="",this.cssNode_=this.debugFilter_=null,this.CURSOR_COLOUR="#cc0a0a",this.MARKER_COLOUR="#4286f4",this.CURSOR_WS_WIDTH=100,this.WS_CURSOR_HEIGHT=5,this.CURSOR_STACK_PADDING=10,this.CURSOR_BLOCK_PADDING=2,this.CURSOR_STROKE_WIDTH=4,this.FULL_BLOCK_FIELDS=!1,this.INSERTION_MARKER_COLOUR="#000000",this.INSERTION_MARKER_OPACITY=.2,this.SHAPES={PUZZLE:1,NOTCH:2}},e.blockRendering.ConstantProvider.prototype.init=function(){this.JAGGED_TEETH=this.makeJaggedTeeth(),this.NOTCH=this.makeNotch(),this.START_HAT=this.makeStartHat(),this.PUZZLE_TAB=this.makePuzzleTab(),this.INSIDE_CORNERS=this.makeInsideCorners(),this.OUTSIDE_CORNERS=this.makeOutsideCorners()},e.blockRendering.ConstantProvider.prototype.setTheme=function(e){this.blockStyles=Object.create(null);var t,n=e.blockStyles;for(t in n)this.blockStyles[t]=this.validatedBlockStyle_(n[t]);this.setDynamicProperties_(e)},e.blockRendering.ConstantProvider.prototype.setDynamicProperties_=function(e){this.setFontConstants_(e),this.setComponentConstants_(e),this.ADD_START_HATS=null!=e.startHats?e.startHats:this.ADD_START_HATS},e.blockRendering.ConstantProvider.prototype.setFontConstants_=function(t){this.FIELD_TEXT_FONTFAMILY=t.fontStyle&&void 0!=t.fontStyle.family?t.fontStyle.family:this.FIELD_TEXT_FONTFAMILY,this.FIELD_TEXT_FONTWEIGHT=t.fontStyle&&void 0!=t.fontStyle.weight?t.fontStyle.weight:this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTSIZE=t.fontStyle&&void 0!=t.fontStyle.size?t.fontStyle.size:this.FIELD_TEXT_FONTSIZE,t=e.utils.dom.measureFontMetrics("Hg",this.FIELD_TEXT_FONTSIZE+"pt",this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTFAMILY),this.FIELD_TEXT_HEIGHT=t.height,this.FIELD_TEXT_BASELINE=t.baseline},e.blockRendering.ConstantProvider.prototype.setComponentConstants_=function(e){this.CURSOR_COLOUR=e.getComponentStyle("cursorColour")||this.CURSOR_COLOUR,this.MARKER_COLOUR=e.getComponentStyle("markerColour")||this.MARKER_COLOUR,this.INSERTION_MARKER_COLOUR=e.getComponentStyle("insertionMarkerColour")||this.INSERTION_MARKER_COLOUR,this.INSERTION_MARKER_OPACITY=Number(e.getComponentStyle("insertionMarkerOpacity"))||this.INSERTION_MARKER_OPACITY},e.blockRendering.ConstantProvider.prototype.getBlockStyleForColour=function(e){var t="auto_"+e;return this.blockStyles[t]||(this.blockStyles[t]=this.createBlockStyle_(e)),{style:this.blockStyles[t],name:t}},e.blockRendering.ConstantProvider.prototype.getBlockStyle=function(e){return this.blockStyles[e||""]||(e&&0==e.indexOf("auto_")?this.getBlockStyleForColour(e.substring(5)).style:this.createBlockStyle_("#000000"))},e.blockRendering.ConstantProvider.prototype.createBlockStyle_=function(e){return this.validatedBlockStyle_({colourPrimary:e})},e.blockRendering.ConstantProvider.prototype.validatedBlockStyle_=function(t){var n={};return t&&e.utils.object.mixin(n,t),t=e.utils.parseBlockColour(n.colourPrimary||"#000"),n.colourPrimary=t.hex,n.colourSecondary=n.colourSecondary?e.utils.parseBlockColour(n.colourSecondary).hex:this.generateSecondaryColour_(n.colourPrimary),n.colourTertiary=n.colourTertiary?e.utils.parseBlockColour(n.colourTertiary).hex:this.generateTertiaryColour_(n.colourPrimary),n.hat=n.hat||"",n},e.blockRendering.ConstantProvider.prototype.generateSecondaryColour_=function(t){return e.utils.colour.blend("#fff",t,.6)||t},e.blockRendering.ConstantProvider.prototype.generateTertiaryColour_=function(t){return e.utils.colour.blend("#fff",t,.3)||t},e.blockRendering.ConstantProvider.prototype.dispose=function(){this.embossFilter_&&e.utils.dom.removeNode(this.embossFilter_),this.disabledPattern_&&e.utils.dom.removeNode(this.disabledPattern_),this.debugFilter_&&e.utils.dom.removeNode(this.debugFilter_),this.cssNode_=null},e.blockRendering.ConstantProvider.prototype.makeJaggedTeeth=function(){var t=this.JAGGED_TEETH_HEIGHT,n=this.JAGGED_TEETH_WIDTH;return{height:t,width:n,path:e.utils.svgPaths.line([e.utils.svgPaths.point(n,t/4),e.utils.svgPaths.point(2*-n,t/2),e.utils.svgPaths.point(n,t/4)])}},e.blockRendering.ConstantProvider.prototype.makeStartHat=function(){var t=this.START_HAT_HEIGHT,n=this.START_HAT_WIDTH;return{height:t,width:n,path:e.utils.svgPaths.curve("c",[e.utils.svgPaths.point(30,-t),e.utils.svgPaths.point(70,-t),e.utils.svgPaths.point(n,0)])}},e.blockRendering.ConstantProvider.prototype.makePuzzleTab=function(){function t(t){var i=-(t=t?-1:1),o=r/2,s=o+2.5,a=o+.5,l=e.utils.svgPaths.point(-n,t*o);return o=e.utils.svgPaths.point(n,t*o),e.utils.svgPaths.curve("c",[e.utils.svgPaths.point(0,t*s),e.utils.svgPaths.point(-n,i*a),l])+e.utils.svgPaths.curve("s",[e.utils.svgPaths.point(n,2.5*i),o])}var n=this.TAB_WIDTH,r=this.TAB_HEIGHT,i=t(!0),o=t(!1);return{type:this.SHAPES.PUZZLE,width:n,height:r,pathDown:o,pathUp:i}},e.blockRendering.ConstantProvider.prototype.makeNotch=function(){function t(t){return e.utils.svgPaths.line([e.utils.svgPaths.point(t*i,r),e.utils.svgPaths.point(3*t,0),e.utils.svgPaths.point(t*i,-r)])}var n=this.NOTCH_WIDTH,r=this.NOTCH_HEIGHT,i=(n-3)/2,o=t(1),s=t(-1);return{type:this.SHAPES.NOTCH,width:n,height:r,pathLeft:o,pathRight:s}},e.blockRendering.ConstantProvider.prototype.makeInsideCorners=function(){var t=this.CORNER_RADIUS;return{width:t,height:t,pathTop:e.utils.svgPaths.arc("a","0 0,0",t,e.utils.svgPaths.point(-t,t)),pathBottom:e.utils.svgPaths.arc("a","0 0,0",t,e.utils.svgPaths.point(t,t))}},e.blockRendering.ConstantProvider.prototype.makeOutsideCorners=function(){var t=this.CORNER_RADIUS,n=e.utils.svgPaths.moveBy(0,t)+e.utils.svgPaths.arc("a","0 0,1",t,e.utils.svgPaths.point(t,-t)),r=e.utils.svgPaths.arc("a","0 0,1",t,e.utils.svgPaths.point(t,t)),i=e.utils.svgPaths.arc("a","0 0,1",t,e.utils.svgPaths.point(-t,-t));return{topLeft:n,topRight:r,bottomRight:e.utils.svgPaths.arc("a","0 0,1",t,e.utils.svgPaths.point(-t,t)),bottomLeft:i,rightHeight:t}},e.blockRendering.ConstantProvider.prototype.shapeFor=function(t){switch(t.type){case e.connectionTypes.INPUT_VALUE:case e.connectionTypes.OUTPUT_VALUE:return this.PUZZLE_TAB;case e.connectionTypes.PREVIOUS_STATEMENT:case e.connectionTypes.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown connection type")}},e.blockRendering.ConstantProvider.prototype.createDom=function(t,n,r){this.injectCSS_(n,r),t=e.utils.dom.createSvgElement(e.utils.Svg.DEFS,{},t),n=e.utils.dom.createSvgElement(e.utils.Svg.FILTER,{id:"blocklyEmbossFilter"+this.randomIdentifier},t),e.utils.dom.createSvgElement(e.utils.Svg.FEGAUSSIANBLUR,{in:"SourceAlpha",stdDeviation:1,result:"blur"},n),r=e.utils.dom.createSvgElement(e.utils.Svg.FESPECULARLIGHTING,{in:"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},n),e.utils.dom.createSvgElement(e.utils.Svg.FEPOINTLIGHT,{x:-5e3,y:-1e4,z:2e4},r),e.utils.dom.createSvgElement(e.utils.Svg.FECOMPOSITE,{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},n),e.utils.dom.createSvgElement(e.utils.Svg.FECOMPOSITE,{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},n),this.embossFilterId=n.id,this.embossFilter_=n,n=e.utils.dom.createSvgElement(e.utils.Svg.PATTERN,{id:"blocklyDisabledPattern"+this.randomIdentifier,patternUnits:"userSpaceOnUse",width:10,height:10},t),e.utils.dom.createSvgElement(e.utils.Svg.RECT,{width:10,height:10,fill:"#aaa"},n),e.utils.dom.createSvgElement(e.utils.Svg.PATH,{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},n),this.disabledPatternId=n.id,this.disabledPattern_=n,e.blockRendering.Debug&&(t=e.utils.dom.createSvgElement(e.utils.Svg.FILTER,{id:"blocklyDebugFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},t),n=e.utils.dom.createSvgElement(e.utils.Svg.FECOMPONENTTRANSFER,{result:"outBlur"},t),e.utils.dom.createSvgElement(e.utils.Svg.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},n),e.utils.dom.createSvgElement(e.utils.Svg.FEFLOOD,{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},t),e.utils.dom.createSvgElement(e.utils.Svg.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},t),this.debugFilterId=t.id,this.debugFilter_=t)},e.blockRendering.ConstantProvider.prototype.injectCSS_=function(e,t){t=this.getCSS_(t),e="blockly-renderer-style-"+e,this.cssNode_=document.getElementById(e);var n=t.join("\n");this.cssNode_?this.cssNode_.firstChild.textContent=n:((t=document.createElement("style")).id=e,e=document.createTextNode(n),t.appendChild(e),document.head.insertBefore(t,document.head.firstChild),this.cssNode_=t)},e.blockRendering.ConstantProvider.prototype.getCSS_=function(e){return[e+" .blocklyText, ",e+" .blocklyFlyoutLabelText {","font: "+this.FIELD_TEXT_FONTWEIGHT+" "+this.FIELD_TEXT_FONTSIZE+"pt "+this.FIELD_TEXT_FONTFAMILY+";","}",e+" .blocklyText {","fill: #fff;","}",e+" .blocklyNonEditableText>rect,",e+" .blocklyEditableText>rect {","fill: "+this.FIELD_BORDER_RECT_COLOUR+";","fill-opacity: .6;","stroke: none;","}",e+" .blocklyNonEditableText>text,",e+" .blocklyEditableText>text {","fill: #000;","}",e+" .blocklyFlyoutLabelText {","fill: #000;","}",e+" .blocklyText.blocklyBubbleText {","fill: #000;","}",e+" .blocklyEditableText:not(.editing):hover>rect {","stroke: #fff;","stroke-width: 2;","}",e+" .blocklyHtmlInput {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","font-weight: "+this.FIELD_TEXT_FONTWEIGHT+";","}",e+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",e+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",e+" .blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",e+" .blocklyReplaceable .blocklyPathLight,",e+" .blocklyReplaceable .blocklyPathDark {","display: none;","}",e+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none;","}"]},e.blockRendering.Types={NONE:0,FIELD:1,HAT:2,ICON:4,SPACER:8,BETWEEN_ROW_SPACER:16,IN_ROW_SPACER:32,EXTERNAL_VALUE_INPUT:64,INPUT:128,INLINE_INPUT:256,STATEMENT_INPUT:512,CONNECTION:1024,PREVIOUS_CONNECTION:2048,NEXT_CONNECTION:4096,OUTPUT_CONNECTION:8192,CORNER:16384,LEFT_SQUARE_CORNER:32768,LEFT_ROUND_CORNER:65536,RIGHT_SQUARE_CORNER:131072,RIGHT_ROUND_CORNER:262144,JAGGED_EDGE:524288,ROW:1048576,TOP_ROW:2097152,BOTTOM_ROW:4194304,INPUT_ROW:8388608},e.blockRendering.Types.LEFT_CORNER=e.blockRendering.Types.LEFT_SQUARE_CORNER|e.blockRendering.Types.LEFT_ROUND_CORNER,e.blockRendering.Types.RIGHT_CORNER=e.blockRendering.Types.RIGHT_SQUARE_CORNER|e.blockRendering.Types.RIGHT_ROUND_CORNER,e.blockRendering.Types.nextTypeValue_=16777216,e.blockRendering.Types.getType=function(t){return Object.prototype.hasOwnProperty.call(e.blockRendering.Types,t)||(e.blockRendering.Types[t]=e.blockRendering.Types.nextTypeValue_,e.blockRendering.Types.nextTypeValue_<<=1),e.blockRendering.Types[t]},e.blockRendering.Types.isField=function(t){return t.type&e.blockRendering.Types.FIELD},e.blockRendering.Types.isHat=function(t){return t.type&e.blockRendering.Types.HAT},e.blockRendering.Types.isIcon=function(t){return t.type&e.blockRendering.Types.ICON},e.blockRendering.Types.isSpacer=function(t){return t.type&e.blockRendering.Types.SPACER},e.blockRendering.Types.isInRowSpacer=function(t){return t.type&e.blockRendering.Types.IN_ROW_SPACER},e.blockRendering.Types.isInput=function(t){return t.type&e.blockRendering.Types.INPUT},e.blockRendering.Types.isExternalInput=function(t){return t.type&e.blockRendering.Types.EXTERNAL_VALUE_INPUT},e.blockRendering.Types.isInlineInput=function(t){return t.type&e.blockRendering.Types.INLINE_INPUT},e.blockRendering.Types.isStatementInput=function(t){return t.type&e.blockRendering.Types.STATEMENT_INPUT},e.blockRendering.Types.isPreviousConnection=function(t){return t.type&e.blockRendering.Types.PREVIOUS_CONNECTION},e.blockRendering.Types.isNextConnection=function(t){return t.type&e.blockRendering.Types.NEXT_CONNECTION},e.blockRendering.Types.isPreviousOrNextConnection=function(t){return t.type&(e.blockRendering.Types.PREVIOUS_CONNECTION|e.blockRendering.Types.NEXT_CONNECTION)},e.blockRendering.Types.isLeftRoundedCorner=function(t){return t.type&e.blockRendering.Types.LEFT_ROUND_CORNER},e.blockRendering.Types.isRightRoundedCorner=function(t){return t.type&e.blockRendering.Types.RIGHT_ROUND_CORNER},e.blockRendering.Types.isLeftSquareCorner=function(t){return t.type&e.blockRendering.Types.LEFT_SQUARE_CORNER},e.blockRendering.Types.isRightSquareCorner=function(t){return t.type&e.blockRendering.Types.RIGHT_SQUARE_CORNER},e.blockRendering.Types.isCorner=function(t){return t.type&e.blockRendering.Types.CORNER},e.blockRendering.Types.isJaggedEdge=function(t){return t.type&e.blockRendering.Types.JAGGED_EDGE},e.blockRendering.Types.isRow=function(t){return t.type&e.blockRendering.Types.ROW},e.blockRendering.Types.isBetweenRowSpacer=function(t){return t.type&e.blockRendering.Types.BETWEEN_ROW_SPACER},e.blockRendering.Types.isTopRow=function(t){return t.type&e.blockRendering.Types.TOP_ROW},e.blockRendering.Types.isBottomRow=function(t){return t.type&e.blockRendering.Types.BOTTOM_ROW},e.blockRendering.Types.isTopOrBottomRow=function(t){return t.type&(e.blockRendering.Types.TOP_ROW|e.blockRendering.Types.BOTTOM_ROW)},e.blockRendering.Types.isInputRow=function(t){return t.type&e.blockRendering.Types.INPUT_ROW},e.blockRendering.Measurable=function(t){this.height=this.width=0,this.type=e.blockRendering.Types.NONE,this.centerline=this.xPos=0,this.constants_=t,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT},e.blockRendering.Connection=function(t,n){e.blockRendering.Connection.superClass_.constructor.call(this,t),this.connectionModel=n,this.shape=this.constants_.shapeFor(n),this.isDynamicShape=!!this.shape.isDynamic,this.type|=e.blockRendering.Types.CONNECTION},e.utils.object.inherits(e.blockRendering.Connection,e.blockRendering.Measurable),e.blockRendering.OutputConnection=function(t,n){e.blockRendering.OutputConnection.superClass_.constructor.call(this,t,n),this.type|=e.blockRendering.Types.OUTPUT_CONNECTION,this.height=this.isDynamicShape?0:this.shape.height,this.startX=this.width=this.isDynamicShape?0:this.shape.width,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX=0},e.utils.object.inherits(e.blockRendering.OutputConnection,e.blockRendering.Connection),e.blockRendering.PreviousConnection=function(t,n){e.blockRendering.PreviousConnection.superClass_.constructor.call(this,t,n),this.type|=e.blockRendering.Types.PREVIOUS_CONNECTION,this.height=this.shape.height,this.width=this.shape.width},e.utils.object.inherits(e.blockRendering.PreviousConnection,e.blockRendering.Connection),e.blockRendering.NextConnection=function(t,n){e.blockRendering.NextConnection.superClass_.constructor.call(this,t,n),this.type|=e.blockRendering.Types.NEXT_CONNECTION,this.height=this.shape.height,this.width=this.shape.width},e.utils.object.inherits(e.blockRendering.NextConnection,e.blockRendering.Connection),e.blockRendering.InputConnection=function(t,n){e.blockRendering.InputConnection.superClass_.constructor.call(this,t,n.connection),this.type|=e.blockRendering.Types.INPUT,this.input=n,this.align=n.align,(this.connectedBlock=n.connection&&n.connection.targetBlock()?n.connection.targetBlock():null)?(t=this.connectedBlock.getHeightWidth(),this.connectedBlockWidth=t.width,this.connectedBlockHeight=t.height):this.connectedBlockHeight=this.connectedBlockWidth=0,this.connectionOffsetY=this.connectionOffsetX=0},e.utils.object.inherits(e.blockRendering.InputConnection,e.blockRendering.Connection),e.blockRendering.InlineInput=function(t,n){e.blockRendering.InlineInput.superClass_.constructor.call(this,t,n),this.type|=e.blockRendering.Types.INLINE_INPUT,this.connectedBlock?(this.width=this.connectedBlockWidth,this.height=this.connectedBlockHeight):(this.height=this.constants_.EMPTY_INLINE_INPUT_HEIGHT,this.width=this.constants_.EMPTY_INLINE_INPUT_PADDING),this.connectionHeight=this.isDynamicShape?this.shape.height(this.height):this.shape.height,this.connectionWidth=this.isDynamicShape?this.shape.width(this.height):this.shape.width,this.connectedBlock||(this.width+=this.connectionWidth*(this.isDynamicShape?2:1)),this.connectionOffsetY=this.isDynamicShape?this.shape.connectionOffsetY(this.connectionHeight):this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX=this.isDynamicShape?this.shape.connectionOffsetX(this.connectionWidth):0},e.utils.object.inherits(e.blockRendering.InlineInput,e.blockRendering.InputConnection),e.blockRendering.StatementInput=function(t,n){e.blockRendering.StatementInput.superClass_.constructor.call(this,t,n),this.type|=e.blockRendering.Types.STATEMENT_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight+this.constants_.STATEMENT_BOTTOM_SPACER:this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT,this.width=this.constants_.STATEMENT_INPUT_NOTCH_OFFSET+this.shape.width},e.utils.object.inherits(e.blockRendering.StatementInput,e.blockRendering.InputConnection),e.blockRendering.ExternalValueInput=function(t,n){e.blockRendering.ExternalValueInput.superClass_.constructor.call(this,t,n),this.type|=e.blockRendering.Types.EXTERNAL_VALUE_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight-this.constants_.TAB_OFFSET_FROM_TOP-this.constants_.MEDIUM_PADDING:this.shape.height,this.width=this.shape.width+this.constants_.EXTERNAL_VALUE_INPUT_PADDING,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionHeight=this.shape.height,this.connectionWidth=this.shape.width},e.utils.object.inherits(e.blockRendering.ExternalValueInput,e.blockRendering.InputConnection),e.blockRendering.Icon=function(t,n){e.blockRendering.Icon.superClass_.constructor.call(this,t),this.icon=n,this.isVisible=n.isVisible(),this.type|=e.blockRendering.Types.ICON,t=n.getCorrectedSize(),this.height=t.height,this.width=t.width},e.utils.object.inherits(e.blockRendering.Icon,e.blockRendering.Measurable),e.blockRendering.JaggedEdge=function(t){e.blockRendering.JaggedEdge.superClass_.constructor.call(this,t),this.type|=e.blockRendering.Types.JAGGED_EDGE,this.height=this.constants_.JAGGED_TEETH.height,this.width=this.constants_.JAGGED_TEETH.width},e.utils.object.inherits(e.blockRendering.JaggedEdge,e.blockRendering.Measurable),e.blockRendering.Field=function(t,n,r){e.blockRendering.Field.superClass_.constructor.call(this,t),this.field=n,this.isEditable=n.EDITABLE,this.flipRtl=n.getFlipRtl(),this.type|=e.blockRendering.Types.FIELD,t=this.field.getSize(),this.height=t.height,this.width=t.width,this.parentInput=r},e.utils.object.inherits(e.blockRendering.Field,e.blockRendering.Measurable),e.blockRendering.Hat=function(t){e.blockRendering.Hat.superClass_.constructor.call(this,t),this.type|=e.blockRendering.Types.HAT,this.height=this.constants_.START_HAT.height,this.width=this.constants_.START_HAT.width,this.ascenderHeight=this.height},e.utils.object.inherits(e.blockRendering.Hat,e.blockRendering.Measurable),e.blockRendering.SquareCorner=function(t,n){e.blockRendering.SquareCorner.superClass_.constructor.call(this,t),this.type=(n&&"left"!=n?e.blockRendering.Types.RIGHT_SQUARE_CORNER:e.blockRendering.Types.LEFT_SQUARE_CORNER)|e.blockRendering.Types.CORNER,this.width=this.height=this.constants_.NO_PADDING},e.utils.object.inherits(e.blockRendering.SquareCorner,e.blockRendering.Measurable),e.blockRendering.RoundCorner=function(t,n){e.blockRendering.RoundCorner.superClass_.constructor.call(this,t),this.type=(n&&"left"!=n?e.blockRendering.Types.RIGHT_ROUND_CORNER:e.blockRendering.Types.LEFT_ROUND_CORNER)|e.blockRendering.Types.CORNER,this.width=this.constants_.CORNER_RADIUS,this.height=this.constants_.CORNER_RADIUS/2},e.utils.object.inherits(e.blockRendering.RoundCorner,e.blockRendering.Measurable),e.blockRendering.InRowSpacer=function(t,n){e.blockRendering.InRowSpacer.superClass_.constructor.call(this,t),this.type=this.type|e.blockRendering.Types.SPACER|e.blockRendering.Types.IN_ROW_SPACER,this.width=n,this.height=this.constants_.SPACER_DEFAULT_HEIGHT},e.utils.object.inherits(e.blockRendering.InRowSpacer,e.blockRendering.Measurable),e.blockRendering.Row=function(t){this.type=e.blockRendering.Types.ROW,this.elements=[],this.xPos=this.yPos=this.widthWithConnectedBlocks=this.minWidth=this.minHeight=this.width=this.height=0,this.hasJaggedEdge=this.hasDummyInput=this.hasInlineInput=this.hasStatement=this.hasExternalInput=!1,this.constants_=t,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT,this.align=null},e.blockRendering.Row.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.")},e.blockRendering.Row.prototype.getLastInput=function(){for(var t,n=this.elements.length-1;t=this.elements[n];n--)if(e.blockRendering.Types.isInput(t))return t;return null},e.blockRendering.Row.prototype.startsWithElemSpacer=function(){return!0},e.blockRendering.Row.prototype.endsWithElemSpacer=function(){return!0},e.blockRendering.Row.prototype.getFirstSpacer=function(){for(var t,n=0;t=this.elements[n];n++)if(e.blockRendering.Types.isSpacer(t))return t;return null},e.blockRendering.Row.prototype.getLastSpacer=function(){for(var t,n=this.elements.length-1;t=this.elements[n];n--)if(e.blockRendering.Types.isSpacer(t))return t;return null},e.blockRendering.TopRow=function(t){e.blockRendering.TopRow.superClass_.constructor.call(this,t),this.type|=e.blockRendering.Types.TOP_ROW,this.ascenderHeight=this.capline=0,this.hasPreviousConnection=!1,this.connection=null},e.utils.object.inherits(e.blockRendering.TopRow,e.blockRendering.Row),e.blockRendering.TopRow.prototype.hasLeftSquareCorner=function(e){var t=(e.hat?"cap"===e.hat:this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection,n=e.getPreviousBlock();return!!e.outputConnection||t||!!n&&n.getNextBlock()==e},e.blockRendering.TopRow.prototype.hasRightSquareCorner=function(e){return!0},e.blockRendering.TopRow.prototype.measure=function(){for(var t,n=0,r=0,i=0,o=0;t=this.elements[o];o++)r+=t.width,e.blockRendering.Types.isSpacer(t)||(e.blockRendering.Types.isHat(t)?i=Math.max(i,t.ascenderHeight):n=Math.max(n,t.height));this.width=Math.max(this.minWidth,r),this.height=Math.max(this.minHeight,n)+i,this.capline=this.ascenderHeight=i,this.widthWithConnectedBlocks=this.width},e.blockRendering.TopRow.prototype.startsWithElemSpacer=function(){return!1},e.blockRendering.TopRow.prototype.endsWithElemSpacer=function(){return!1},e.blockRendering.BottomRow=function(t){e.blockRendering.BottomRow.superClass_.constructor.call(this,t),this.type|=e.blockRendering.Types.BOTTOM_ROW,this.hasNextConnection=!1,this.connection=null,this.baseline=this.descenderHeight=0},e.utils.object.inherits(e.blockRendering.BottomRow,e.blockRendering.Row),e.blockRendering.BottomRow.prototype.hasLeftSquareCorner=function(e){return!!e.outputConnection||!!e.getNextBlock()},e.blockRendering.BottomRow.prototype.hasRightSquareCorner=function(e){return!0},e.blockRendering.BottomRow.prototype.measure=function(){for(var t,n=0,r=0,i=0,o=0;t=this.elements[o];o++)r+=t.width,e.blockRendering.Types.isSpacer(t)||(e.blockRendering.Types.isNextConnection(t)?i=Math.max(i,t.height):n=Math.max(n,t.height));this.width=Math.max(this.minWidth,r),this.height=Math.max(this.minHeight,n)+i,this.descenderHeight=i,this.widthWithConnectedBlocks=this.width},e.blockRendering.BottomRow.prototype.startsWithElemSpacer=function(){return!1},e.blockRendering.BottomRow.prototype.endsWithElemSpacer=function(){return!1},e.blockRendering.SpacerRow=function(t,n,r){e.blockRendering.SpacerRow.superClass_.constructor.call(this,t),this.type=this.type|e.blockRendering.Types.SPACER|e.blockRendering.Types.BETWEEN_ROW_SPACER,this.width=r,this.height=n,this.followsStatement=!1,this.widthWithConnectedBlocks=0,this.elements=[new e.blockRendering.InRowSpacer(this.constants_,r)]},e.utils.object.inherits(e.blockRendering.SpacerRow,e.blockRendering.Row),e.blockRendering.SpacerRow.prototype.measure=function(){},e.blockRendering.InputRow=function(t){e.blockRendering.InputRow.superClass_.constructor.call(this,t),this.type|=e.blockRendering.Types.INPUT_ROW,this.connectedBlockWidths=0},e.utils.object.inherits(e.blockRendering.InputRow,e.blockRendering.Row),e.blockRendering.InputRow.prototype.measure=function(){this.width=this.minWidth,this.height=this.minHeight;for(var t,n=0,r=0;t=this.elements[r];r++)this.width+=t.width,e.blockRendering.Types.isInput(t)&&(e.blockRendering.Types.isStatementInput(t)?n+=t.connectedBlockWidth:e.blockRendering.Types.isExternalInput(t)&&0!=t.connectedBlockWidth&&(n+=t.connectedBlockWidth-t.connectionWidth)),e.blockRendering.Types.isSpacer(t)||(this.height=Math.max(this.height,t.height));this.connectedBlockWidths=n,this.widthWithConnectedBlocks=this.width+n},e.blockRendering.InputRow.prototype.endsWithElemSpacer=function(){return!this.hasExternalInput&&!this.hasStatement},e.blockRendering.RenderInfo=function(t,n){this.block_=n,this.renderer_=t,this.constants_=this.renderer_.getConstants(),this.outputConnection=n.outputConnection?new e.blockRendering.OutputConnection(this.constants_,n.outputConnection):null,this.isInline=n.getInputsInline()&&!n.isCollapsed(),this.isCollapsed=n.isCollapsed(),this.isInsertionMarker=n.isInsertionMarker(),this.RTL=n.RTL,this.statementEdge=this.width=this.widthWithChildren=this.height=0,this.rows=[],this.inputRows=[],this.hiddenIcons=[],this.topRow=new e.blockRendering.TopRow(this.constants_),this.bottomRow=new e.blockRendering.BottomRow(this.constants_),this.startY=this.startX=0},e.blockRendering.RenderInfo.prototype.getRenderer=function(){return this.renderer_},e.blockRendering.RenderInfo.prototype.measure=function(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()},e.blockRendering.RenderInfo.prototype.createRows_=function(){this.populateTopRow_(),this.rows.push(this.topRow);var t=new e.blockRendering.InputRow(this.constants_);this.inputRows.push(t);for(var n,r=this.block_.getIcons(),i=0;n=r[i];i++){var o=new e.blockRendering.Icon(this.constants_,n);this.isCollapsed&&n.collapseHidden?this.hiddenIcons.push(o):t.elements.push(o)}for(n=null,i=0;r=this.block_.inputList[i];i++)if(r.isVisible()){for(this.shouldStartNewRow_(r,n)&&(this.rows.push(t),t=new e.blockRendering.InputRow(this.constants_),this.inputRows.push(t)),n=0;o=r.fieldRow[n];n++)t.elements.push(new e.blockRendering.Field(this.constants_,o,r));this.addInput_(r,t),n=r}this.isCollapsed&&(t.hasJaggedEdge=!0,t.elements.push(new e.blockRendering.JaggedEdge(this.constants_))),(t.elements.length||t.hasDummyInput)&&this.rows.push(t),this.populateBottomRow_(),this.rows.push(this.bottomRow)},e.blockRendering.RenderInfo.prototype.populateTopRow_=function(){var t=!!this.block_.previousConnection,n=(this.block_.hat?"cap"===this.block_.hat:this.constants_.ADD_START_HATS)&&!this.outputConnection&&!t,r=this.topRow.hasLeftSquareCorner(this.block_)?e.blockRendering.SquareCorner:e.blockRendering.RoundCorner;this.topRow.elements.push(new r(this.constants_)),n?(t=new e.blockRendering.Hat(this.constants_),this.topRow.elements.push(t),this.topRow.capline=t.ascenderHeight):t&&(this.topRow.hasPreviousConnection=!0,this.topRow.connection=new e.blockRendering.PreviousConnection(this.constants_,this.block_.previousConnection),this.topRow.elements.push(this.topRow.connection)),this.block_.inputList.length&&this.block_.inputList[0].type==e.inputTypes.STATEMENT&&!this.block_.isCollapsed()?this.topRow.minHeight=this.constants_.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT:this.topRow.minHeight=this.constants_.TOP_ROW_MIN_HEIGHT,r=this.topRow.hasRightSquareCorner(this.block_)?e.blockRendering.SquareCorner:e.blockRendering.RoundCorner,this.topRow.elements.push(new r(this.constants_,"right"))},e.blockRendering.RenderInfo.prototype.populateBottomRow_=function(){this.bottomRow.hasNextConnection=!!this.block_.nextConnection,this.bottomRow.minHeight=this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1].type==e.inputTypes.STATEMENT?this.constants_.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT:this.constants_.BOTTOM_ROW_MIN_HEIGHT,this.bottomRow.hasLeftSquareCorner(this.block_)?this.bottomRow.elements.push(new e.blockRendering.SquareCorner(this.constants_)):this.bottomRow.elements.push(new e.blockRendering.RoundCorner(this.constants_)),this.bottomRow.hasNextConnection&&(this.bottomRow.connection=new e.blockRendering.NextConnection(this.constants_,this.block_.nextConnection),this.bottomRow.elements.push(this.bottomRow.connection)),this.bottomRow.hasRightSquareCorner(this.block_)?this.bottomRow.elements.push(new e.blockRendering.SquareCorner(this.constants_,"right")):this.bottomRow.elements.push(new e.blockRendering.RoundCorner(this.constants_,"right"))},e.blockRendering.RenderInfo.prototype.addInput_=function(t,n){this.isInline&&t.type==e.inputTypes.VALUE?(n.elements.push(new e.blockRendering.InlineInput(this.constants_,t)),n.hasInlineInput=!0):t.type==e.inputTypes.STATEMENT?(n.elements.push(new e.blockRendering.StatementInput(this.constants_,t)),n.hasStatement=!0):t.type==e.inputTypes.VALUE?(n.elements.push(new e.blockRendering.ExternalValueInput(this.constants_,t)),n.hasExternalInput=!0):t.type==e.inputTypes.DUMMY&&(n.minHeight=Math.max(n.minHeight,t.getSourceBlock()&&t.getSourceBlock().isShadow()?this.constants_.DUMMY_INPUT_SHADOW_MIN_HEIGHT:this.constants_.DUMMY_INPUT_MIN_HEIGHT),n.hasDummyInput=!0),null==n.align&&(n.align=t.align)},e.blockRendering.RenderInfo.prototype.shouldStartNewRow_=function(t,n){return!!n&&(t.type==e.inputTypes.STATEMENT||n.type==e.inputTypes.STATEMENT||(t.type==e.inputTypes.VALUE||t.type==e.inputTypes.DUMMY)&&!this.isInline)},e.blockRendering.RenderInfo.prototype.addElemSpacing_=function(){for(var t,n=0;t=this.rows[n];n++){var r=t.elements;if(t.elements=[],t.startsWithElemSpacer()&&t.elements.push(new e.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(null,r[0]))),r.length){for(var i=0;i<r.length-1;i++){t.elements.push(r[i]);var o=this.getInRowSpacing_(r[i],r[i+1]);t.elements.push(new e.blockRendering.InRowSpacer(this.constants_,o))}t.elements.push(r[r.length-1]),t.endsWithElemSpacer()&&t.elements.push(new e.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(r[r.length-1],null)))}}},e.blockRendering.RenderInfo.prototype.getInRowSpacing_=function(t,n){if(!t&&n&&e.blockRendering.Types.isStatementInput(n))return this.constants_.STATEMENT_INPUT_PADDING_LEFT;if(t&&e.blockRendering.Types.isInput(t)&&!n){if(e.blockRendering.Types.isExternalInput(t))return this.constants_.NO_PADDING;if(e.blockRendering.Types.isInlineInput(t))return this.constants_.LARGE_PADDING;if(e.blockRendering.Types.isStatementInput(t))return this.constants_.NO_PADDING}return t&&e.blockRendering.Types.isLeftSquareCorner(t)&&n&&(e.blockRendering.Types.isPreviousConnection(n)||e.blockRendering.Types.isNextConnection(n))?n.notchOffset:t&&e.blockRendering.Types.isLeftRoundedCorner(t)&&n&&(e.blockRendering.Types.isPreviousConnection(n)||e.blockRendering.Types.isNextConnection(n))?n.notchOffset-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING},e.blockRendering.RenderInfo.prototype.computeBounds_=function(){for(var e,t=0,n=0,r=0,i=0;e=this.rows[i];i++){if(e.measure(),n=Math.max(n,e.width),e.hasStatement){var o=e.getLastInput();t=Math.max(t,e.width-o.width)}r=Math.max(r,e.widthWithConnectedBlocks)}for(this.statementEdge=t,this.width=n,i=0;e=this.rows[i];i++)e.hasStatement&&(e.statementEdge=this.statementEdge);this.widthWithChildren=Math.max(n,r),this.outputConnection&&(this.startX=this.outputConnection.width,this.width+=this.outputConnection.width,this.widthWithChildren+=this.outputConnection.width)},e.blockRendering.RenderInfo.prototype.alignRowElements_=function(){for(var t,n=0;t=this.rows[n];n++)if(t.hasStatement)this.alignStatementRow_(t);else{var r=t.width;0<(r=this.getDesiredRowWidth_(t)-r)&&this.addAlignmentPadding_(t,r),e.blockRendering.Types.isTopOrBottomRow(t)&&(t.widthWithConnectedBlocks=t.width)}},e.blockRendering.RenderInfo.prototype.getDesiredRowWidth_=function(e){return this.width-this.startX},e.blockRendering.RenderInfo.prototype.addAlignmentPadding_=function(t,n){var r=t.getFirstSpacer(),i=t.getLastSpacer();(t.hasExternalInput||t.hasStatement)&&(t.widthWithConnectedBlocks+=n),t.align==e.constants.ALIGN.LEFT?i.width+=n:t.align==e.constants.ALIGN.CENTRE?(r.width+=n/2,i.width+=n/2):t.align==e.constants.ALIGN.RIGHT?r.width+=n:i.width+=n,t.width+=n},e.blockRendering.RenderInfo.prototype.alignStatementRow_=function(e){var t=e.getLastInput(),n=e.width-t.width,r=this.statementEdge;0<(n=r-n)&&this.addAlignmentPadding_(e,n),n=e.width,r=this.getDesiredRowWidth_(e),t.width+=r-n,t.height=Math.max(t.height,e.height),e.width+=r-n,e.widthWithConnectedBlocks=Math.max(e.width,this.statementEdge+e.connectedBlockWidths)},e.blockRendering.RenderInfo.prototype.addRowSpacing_=function(){var e=this.rows;this.rows=[];for(var t=0;t<e.length;t++)this.rows.push(e[t]),t!=e.length-1&&this.rows.push(this.makeSpacerRow_(e[t],e[t+1]))},e.blockRendering.RenderInfo.prototype.makeSpacerRow_=function(t,n){var r=this.getSpacerRowHeight_(t,n),i=this.getSpacerRowWidth_(t,n);return r=new e.blockRendering.SpacerRow(this.constants_,r,i),t.hasStatement&&(r.followsStatement=!0),n.hasStatement&&(r.precedesStatement=!0),r},e.blockRendering.RenderInfo.prototype.getSpacerRowWidth_=function(e,t){return this.width-this.startX},e.blockRendering.RenderInfo.prototype.getSpacerRowHeight_=function(e,t){return this.constants_.MEDIUM_PADDING},e.blockRendering.RenderInfo.prototype.getElemCenterline_=function(t,n){return e.blockRendering.Types.isSpacer(n)?t.yPos+n.height/2:e.blockRendering.Types.isBottomRow(t)?(t=t.yPos+t.height-t.descenderHeight,e.blockRendering.Types.isNextConnection(n)?t+n.height/2:t-n.height/2):e.blockRendering.Types.isTopRow(t)?e.blockRendering.Types.isHat(n)?t.capline-n.height/2:t.capline+n.height/2:t.yPos+t.height/2},e.blockRendering.RenderInfo.prototype.recordElemPositions_=function(t){for(var n,r=t.xPos,i=0;n=t.elements[i];i++)e.blockRendering.Types.isSpacer(n)&&(n.height=t.height),n.xPos=r,n.centerline=this.getElemCenterline_(t,n),r+=n.width},e.blockRendering.RenderInfo.prototype.finalize_=function(){for(var e,t=0,n=0,r=0;e=this.rows[r];r++)e.yPos=n,e.xPos=this.startX,n+=e.height,t=Math.max(t,e.widthWithConnectedBlocks),this.recordElemPositions_(e);this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(t=Math.max(t,this.block_.nextConnection.targetBlock().getHeightWidth().width)),this.widthWithChildren=t+this.startX,this.height=n,this.startY=this.topRow.capline,this.bottomRow.baseline=n-this.bottomRow.descenderHeight},e.blockRendering.Debug=function(e){this.debugElements_=[],this.svgRoot_=null,this.constants_=e},e.blockRendering.Debug.config={rowSpacers:!0,elemSpacers:!0,rows:!0,elems:!0,connections:!0,blockBounds:!0,connectedBlockBounds:!0,render:!0},e.blockRendering.Debug.prototype.clearElems=function(){for(var t,n=0;t=this.debugElements_[n];n++)e.utils.dom.removeNode(t);this.debugElements_=[]},e.blockRendering.Debug.prototype.drawSpacerRow=function(t,n,r){if(e.blockRendering.Debug.config.rowSpacers){var i=Math.abs(t.height),o=0>t.height;o&&(n-=i),this.debugElements_.push(e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"rowSpacerRect blockRenderDebug",x:r?-(t.xPos+t.width):t.xPos,y:n,width:t.width,height:i,stroke:o?"black":"blue",fill:"blue","fill-opacity":"0.5","stroke-width":"1px"},this.svgRoot_))}},e.blockRendering.Debug.prototype.drawSpacerElem=function(t,n,r){if(e.blockRendering.Debug.config.elemSpacers){n=Math.abs(t.width);var i=0>t.width,o=i?t.xPos-n:t.xPos;r&&(o=-(o+n)),this.debugElements_.push(e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"elemSpacerRect blockRenderDebug",x:o,y:t.centerline-t.height/2,width:n,height:t.height,stroke:"pink",fill:i?"black":"pink","fill-opacity":"0.5","stroke-width":"1px"},this.svgRoot_))}},e.blockRendering.Debug.prototype.drawRenderedElem=function(t,n){if(e.blockRendering.Debug.config.elems){var r=t.xPos;n&&(r=-(r+t.width)),n=t.centerline-t.height/2,this.debugElements_.push(e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"rowRenderingRect blockRenderDebug",x:r,y:n,width:t.width,height:t.height,stroke:"black",fill:"none","stroke-width":"1px"},this.svgRoot_)),e.blockRendering.Types.isField(t)&&t.field instanceof e.FieldLabel&&this.debugElements_.push(e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"rowRenderingRect blockRenderDebug",x:r,y:n+this.constants_.FIELD_TEXT_BASELINE,width:t.width,height:"0.1px",stroke:"red",fill:"none","stroke-width":"0.5px"},this.svgRoot_))}e.blockRendering.Types.isInput(t)&&e.blockRendering.Debug.config.connections&&this.drawConnection(t.connectionModel)},e.blockRendering.Debug.prototype.drawConnection=function(t){if(e.blockRendering.Debug.config.connections){if(t.type==e.connectionTypes.INPUT_VALUE)var n=4,r="magenta",i="none";else t.type==e.connectionTypes.OUTPUT_VALUE?(n=2,i=r="magenta"):t.type==e.connectionTypes.NEXT_STATEMENT?(n=4,r="goldenrod",i="none"):t.type==e.connectionTypes.PREVIOUS_STATEMENT&&(n=2,i=r="goldenrod");this.debugElements_.push(e.utils.dom.createSvgElement(e.utils.Svg.CIRCLE,{class:"blockRenderDebug",cx:t.offsetInBlock_.x,cy:t.offsetInBlock_.y,r:n,fill:i,stroke:r},this.svgRoot_))}},e.blockRendering.Debug.prototype.drawRenderedRow=function(t,n,r){e.blockRendering.Debug.config.rows&&(this.debugElements_.push(e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"elemRenderingRect blockRenderDebug",x:r?-(t.xPos+t.width):t.xPos,y:t.yPos,width:t.width,height:t.height,stroke:"red",fill:"none","stroke-width":"1px"},this.svgRoot_)),e.blockRendering.Types.isTopOrBottomRow(t)||e.blockRendering.Debug.config.connectedBlockBounds&&this.debugElements_.push(e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"connectedBlockWidth blockRenderDebug",x:r?-(t.xPos+t.widthWithConnectedBlocks):t.xPos,y:t.yPos,width:t.widthWithConnectedBlocks,height:t.height,stroke:this.randomColour_,fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},this.svgRoot_)))},e.blockRendering.Debug.prototype.drawRowWithElements=function(t,n,r){for(var i=0,o=t.elements.length;i<o;i++){var s=t.elements[i];s?e.blockRendering.Types.isSpacer(s)?this.drawSpacerElem(s,t.height,r):this.drawRenderedElem(s,r):console.warn("A row has an undefined or null element.",t,s)}this.drawRenderedRow(t,n,r)},e.blockRendering.Debug.prototype.drawBoundingBox=function(t){if(e.blockRendering.Debug.config.blockBounds){var n=t.RTL?-t.width:0;this.debugElements_.push(e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"blockBoundingBox blockRenderDebug",x:n,y:0,width:t.width,height:t.height,stroke:"black",fill:"none","stroke-width":"1px","stroke-dasharray":"5,5"},this.svgRoot_)),e.blockRendering.Debug.config.connectedBlockBounds&&(n=t.RTL?-t.widthWithChildren:0,this.debugElements_.push(e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"blockRenderDebug",x:n,y:0,width:t.widthWithChildren,height:t.height,stroke:"#DF57BC",fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},this.svgRoot_)))}},e.blockRendering.Debug.prototype.drawDebug=function(t,n){this.clearElems(),this.svgRoot_=t.getSvgRoot(),this.randomColour_="#"+Math.floor(16777215*Math.random()).toString(16);for(var r,i=0,o=0;r=n.rows[o];o++)e.blockRendering.Types.isBetweenRowSpacer(r)?this.drawSpacerRow(r,i,n.RTL):this.drawRowWithElements(r,i,n.RTL),i+=r.height;t.previousConnection&&this.drawConnection(t.previousConnection),t.nextConnection&&this.drawConnection(t.nextConnection),t.outputConnection&&this.drawConnection(t.outputConnection),n.rightSide&&this.drawRenderedElem(n.rightSide,n.RTL),this.drawBoundingBox(n),this.drawRender(t.pathObject.svgPath)},e.blockRendering.Debug.prototype.drawRender=function(t){e.blockRendering.Debug.config.render&&(t.setAttribute("filter","url(#"+this.constants_.debugFilterId+")"),setTimeout((function(){t.setAttribute("filter","")}),100))},e.blockRendering.Drawer=function(e,t){this.block_=e,this.info_=t,this.topLeft_=e.getRelativeToSurfaceXY(),this.inlinePath_=this.outlinePath_="",this.constants_=t.getRenderer().getConstants()},e.blockRendering.Drawer.prototype.draw=function(){this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_(),this.block_.pathObject.setPath(this.outlinePath_+"\n"+this.inlinePath_),this.info_.RTL&&this.block_.pathObject.flipRTL(),e.blockRendering.useDebugger&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_()},e.blockRendering.Drawer.prototype.recordSizeOnBlock_=function(){this.block_.height=this.info_.height,this.block_.width=this.info_.widthWithChildren},e.blockRendering.Drawer.prototype.hideHiddenIcons_=function(){for(var e,t=0;e=this.info_.hiddenIcons[t];t++)e.icon.iconGroup_.setAttribute("display","none")},e.blockRendering.Drawer.prototype.drawOutline_=function(){this.drawTop_();for(var e=1;e<this.info_.rows.length-1;e++){var t=this.info_.rows[e];t.hasJaggedEdge?this.drawJaggedEdge_(t):t.hasStatement?this.drawStatementInput_(t):t.hasExternalInput?this.drawValueInput_(t):this.drawRightSideRow_(t)}this.drawBottom_(),this.drawLeft_()},e.blockRendering.Drawer.prototype.drawTop_=function(){var t=this.info_.topRow,n=t.elements;this.positionPreviousConnection_(),this.outlinePath_+=e.utils.svgPaths.moveBy(t.xPos,this.info_.startY);for(var r,i=0;r=n[i];i++)e.blockRendering.Types.isLeftRoundedCorner(r)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topLeft:e.blockRendering.Types.isRightRoundedCorner(r)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topRight:e.blockRendering.Types.isPreviousConnection(r)?this.outlinePath_+=r.shape.pathLeft:e.blockRendering.Types.isHat(r)?this.outlinePath_+=this.constants_.START_HAT.path:e.blockRendering.Types.isSpacer(r)&&(this.outlinePath_+=e.utils.svgPaths.lineOnAxis("h",r.width));this.outlinePath_+=e.utils.svgPaths.lineOnAxis("v",t.height)},e.blockRendering.Drawer.prototype.drawJaggedEdge_=function(t){this.outlinePath_+=this.constants_.JAGGED_TEETH.path+e.utils.svgPaths.lineOnAxis("v",t.height-this.constants_.JAGGED_TEETH.height)},e.blockRendering.Drawer.prototype.drawValueInput_=function(t){var n=t.getLastInput();this.positionExternalValueConnection_(t);var r="function"==typeof n.shape.pathDown?n.shape.pathDown(n.height):n.shape.pathDown;this.outlinePath_+=e.utils.svgPaths.lineOnAxis("H",n.xPos+n.width)+r+e.utils.svgPaths.lineOnAxis("v",t.height-n.connectionHeight)},e.blockRendering.Drawer.prototype.drawStatementInput_=function(t){var n=t.getLastInput(),r=n.xPos+n.notchOffset+n.shape.width;n=n.shape.pathRight+e.utils.svgPaths.lineOnAxis("h",-(n.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop;var i=t.height-2*this.constants_.INSIDE_CORNERS.height;this.outlinePath_+=e.utils.svgPaths.lineOnAxis("H",r)+n+e.utils.svgPaths.lineOnAxis("v",i)+this.constants_.INSIDE_CORNERS.pathBottom+e.utils.svgPaths.lineOnAxis("H",t.xPos+t.width),this.positionStatementInputConnection_(t)},e.blockRendering.Drawer.prototype.drawRightSideRow_=function(t){this.outlinePath_+=e.utils.svgPaths.lineOnAxis("V",t.yPos+t.height)},e.blockRendering.Drawer.prototype.drawBottom_=function(){var t=this.info_.bottomRow,n=t.elements;this.positionNextConnection_();for(var r,i=0,o="",s=n.length-1;r=n[s];s--)e.blockRendering.Types.isNextConnection(r)?o+=r.shape.pathRight:e.blockRendering.Types.isLeftSquareCorner(r)?o+=e.utils.svgPaths.lineOnAxis("H",t.xPos):e.blockRendering.Types.isLeftRoundedCorner(r)?o+=this.constants_.OUTSIDE_CORNERS.bottomLeft:e.blockRendering.Types.isRightRoundedCorner(r)?(o+=this.constants_.OUTSIDE_CORNERS.bottomRight,i=this.constants_.OUTSIDE_CORNERS.rightHeight):e.blockRendering.Types.isSpacer(r)&&(o+=e.utils.svgPaths.lineOnAxis("h",-1*r.width));this.outlinePath_+=e.utils.svgPaths.lineOnAxis("V",t.baseline-i),this.outlinePath_+=o},e.blockRendering.Drawer.prototype.drawLeft_=function(){var t=this.info_.outputConnection;if(this.positionOutputConnection_(),t){var n=t.connectionOffsetY+t.height;t="function"==typeof t.shape.pathUp?t.shape.pathUp(t.height):t.shape.pathUp,this.outlinePath_+=e.utils.svgPaths.lineOnAxis("V",n)+t}this.outlinePath_+="z"},e.blockRendering.Drawer.prototype.drawInternals_=function(){for(var t,n=0;t=this.info_.rows[n];n++)for(var r,i=0;r=t.elements[i];i++)e.blockRendering.Types.isInlineInput(r)?this.drawInlineInput_(r):(e.blockRendering.Types.isIcon(r)||e.blockRendering.Types.isField(r))&&this.layoutField_(r)},e.blockRendering.Drawer.prototype.layoutField_=function(t){if(e.blockRendering.Types.isField(t))var n=t.field.getSvgRoot();else e.blockRendering.Types.isIcon(t)&&(n=t.icon.iconGroup_);var r=t.centerline-t.height/2,i=t.xPos,o="";this.info_.RTL&&(i=-(i+t.width),t.flipRtl&&(i+=t.width,o="scale(-1 1)")),e.blockRendering.Types.isIcon(t)?(n.setAttribute("display","block"),n.setAttribute("transform","translate("+i+","+r+")"),t.icon.computeIconLocation()):n.setAttribute("transform","translate("+i+","+r+")"+o),this.info_.isInsertionMarker&&n.setAttribute("display","none")},e.blockRendering.Drawer.prototype.drawInlineInput_=function(t){var n=t.width,r=t.height,i=t.connectionOffsetY,o=t.connectionHeight+i;this.inlinePath_+=e.utils.svgPaths.moveTo(t.xPos+t.connectionWidth,t.centerline-r/2)+e.utils.svgPaths.lineOnAxis("v",i)+t.shape.pathDown+e.utils.svgPaths.lineOnAxis("v",r-o)+e.utils.svgPaths.lineOnAxis("h",n-t.connectionWidth)+e.utils.svgPaths.lineOnAxis("v",-r)+"z",this.positionInlineInputConnection_(t)},e.blockRendering.Drawer.prototype.positionInlineInputConnection_=function(e){var t=e.centerline-e.height/2;if(e.connectionModel){var n=e.xPos+e.connectionWidth+e.connectionOffsetX;this.info_.RTL&&(n*=-1),e.connectionModel.setOffsetInBlock(n,t+e.connectionOffsetY)}},e.blockRendering.Drawer.prototype.positionStatementInputConnection_=function(e){var t=e.getLastInput();if(t.connectionModel){var n=e.xPos+e.statementEdge+t.notchOffset;this.info_.RTL&&(n*=-1),t.connectionModel.setOffsetInBlock(n,e.yPos)}},e.blockRendering.Drawer.prototype.positionExternalValueConnection_=function(e){var t=e.getLastInput();if(t.connectionModel){var n=e.xPos+e.width;this.info_.RTL&&(n*=-1),t.connectionModel.setOffsetInBlock(n,e.yPos)}},e.blockRendering.Drawer.prototype.positionPreviousConnection_=function(){var e=this.info_.topRow;if(e.connection){var t=e.xPos+e.notchOffset;e.connection.connectionModel.setOffsetInBlock(this.info_.RTL?-t:t,0)}},e.blockRendering.Drawer.prototype.positionNextConnection_=function(){var e=this.info_.bottomRow;if(e.connection){var t=e.connection,n=t.xPos;t.connectionModel.setOffsetInBlock(this.info_.RTL?-n:n,e.baseline)}},e.blockRendering.Drawer.prototype.positionOutputConnection_=function(){if(this.info_.outputConnection){var e=this.info_.startX+this.info_.outputConnection.connectionOffsetX;this.block_.outputConnection.setOffsetInBlock(this.info_.RTL?-e:e,this.info_.outputConnection.connectionOffsetY)}},e.Events.MarkerMove=function(t,n,r,i){var o=t?t.workspace.id:void 0;i&&i.getType()==e.ASTNode.types.WORKSPACE&&(o=i.getLocation().id),e.Events.MarkerMove.superClass_.constructor.call(this,o),this.blockId=t?t.id:null,this.oldNode=r,this.newNode=i,this.isCursor=n},e.utils.object.inherits(e.Events.MarkerMove,e.Events.UiBase),e.Events.MarkerMove.prototype.type=e.Events.MARKER_MOVE,e.Events.MarkerMove.prototype.toJson=function(){var t=e.Events.MarkerMove.superClass_.toJson.call(this);return t.isCursor=this.isCursor,t.blockId=this.blockId,t.oldNode=this.oldNode,t.newNode=this.newNode,t},e.Events.MarkerMove.prototype.fromJson=function(t){e.Events.MarkerMove.superClass_.fromJson.call(this,t),this.isCursor=t.isCursor,this.blockId=t.blockId,this.oldNode=t.oldNode,this.newNode=t.newNode},e.registry.register(e.registry.Type.EVENT,e.Events.MARKER_MOVE,e.Events.MarkerMove),e.blockRendering.MarkerSvg=function(e,t,n){this.workspace_=e,this.marker_=n,this.parent_=null,this.constants_=t,this.currentMarkerSvg=null,e=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR,this.colour_=n.colour||e},e.blockRendering.MarkerSvg.CURSOR_CLASS="blocklyCursor",e.blockRendering.MarkerSvg.MARKER_CLASS="blocklyMarker",e.blockRendering.MarkerSvg.HEIGHT_MULTIPLIER=.75,e.blockRendering.MarkerSvg.prototype.getSvgRoot=function(){return this.svgGroup_},e.blockRendering.MarkerSvg.prototype.getMarker=function(){return this.marker_},e.blockRendering.MarkerSvg.prototype.isCursor=function(){return"cursor"==this.marker_.type},e.blockRendering.MarkerSvg.prototype.createDom=function(){var t=this.isCursor()?e.blockRendering.MarkerSvg.CURSOR_CLASS:e.blockRendering.MarkerSvg.MARKER_CLASS;return this.svgGroup_=e.utils.dom.createSvgElement(e.utils.Svg.G,{class:t},null),this.createDomInternal_(),this.svgGroup_},e.blockRendering.MarkerSvg.prototype.setParent_=function(e){this.isCursor()?(this.parent_&&this.parent_.setCursorSvg(null),e.setCursorSvg(this.getSvgRoot())):(this.parent_&&this.parent_.setMarkerSvg(null),e.setMarkerSvg(this.getSvgRoot())),this.parent_=e},e.blockRendering.MarkerSvg.prototype.draw=function(e,t){if(t){this.constants_=this.workspace_.getRenderer().getConstants();var n=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR;this.colour_=this.marker_.colour||n,this.applyColour_(t),this.showAtLocation_(t),this.fireMarkerEvent_(e,t),void 0!==(e=this.currentMarkerSvg.childNodes[0])&&e.beginElement&&e.beginElement()}else this.hide()},e.blockRendering.MarkerSvg.prototype.showAtLocation_=function(t){var n=t.getLocation().type;t.getType()==e.ASTNode.types.BLOCK?this.showWithBlock_(t):t.getType()==e.ASTNode.types.OUTPUT?this.showWithOutput_(t):n==e.connectionTypes.INPUT_VALUE?this.showWithInput_(t):n==e.connectionTypes.NEXT_STATEMENT?this.showWithNext_(t):t.getType()==e.ASTNode.types.PREVIOUS?this.showWithPrevious_(t):t.getType()==e.ASTNode.types.FIELD?this.showWithField_(t):t.getType()==e.ASTNode.types.WORKSPACE?this.showWithCoordinates_(t):t.getType()==e.ASTNode.types.STACK&&this.showWithStack_(t)},e.blockRendering.MarkerSvg.prototype.showWithBlockPrevOutput_=function(t){var n=(t=t.getSourceBlock()).width,r=t.height,i=r*e.blockRendering.MarkerSvg.HEIGHT_MULTIPLIER,o=this.constants_.CURSOR_BLOCK_PADDING;if(t.previousConnection){var s=this.constants_.shapeFor(t.previousConnection);this.positionPrevious_(n,o,i,s)}else t.outputConnection?(s=this.constants_.shapeFor(t.outputConnection),this.positionOutput_(n,r,s)):this.positionBlock_(n,o,i);this.setParent_(t),this.showCurrent_()},e.blockRendering.MarkerSvg.prototype.showWithBlock_=function(e){this.showWithBlockPrevOutput_(e)},e.blockRendering.MarkerSvg.prototype.showWithPrevious_=function(e){this.showWithBlockPrevOutput_(e)},e.blockRendering.MarkerSvg.prototype.showWithOutput_=function(e){this.showWithBlockPrevOutput_(e)},e.blockRendering.MarkerSvg.prototype.showWithCoordinates_=function(e){var t=e.getWsCoordinate();e=t.x,t=t.y,this.workspace_.RTL&&(e-=this.constants_.CURSOR_WS_WIDTH),this.positionLine_(e,t,this.constants_.CURSOR_WS_WIDTH),this.setParent_(this.workspace_),this.showCurrent_()},e.blockRendering.MarkerSvg.prototype.showWithField_=function(e){var t=(e=e.getLocation()).getSize().width,n=e.getSize().height;this.positionRect_(0,0,t,n),this.setParent_(e),this.showCurrent_()},e.blockRendering.MarkerSvg.prototype.showWithInput_=function(e){var t=(e=e.getLocation()).getSourceBlock();this.positionInput_(e),this.setParent_(t),this.showCurrent_()},e.blockRendering.MarkerSvg.prototype.showWithNext_=function(e){var t=e.getLocation();e=t.getSourceBlock();var n=0;t=t.getOffsetInBlock().y;var r=e.getHeightWidth().width;this.workspace_.RTL&&(n=-r),this.positionLine_(n,t,r),this.setParent_(e),this.showCurrent_()},e.blockRendering.MarkerSvg.prototype.showWithStack_=function(e){var t=(e=e.getLocation()).getHeightWidth(),n=t.width+this.constants_.CURSOR_STACK_PADDING;t=t.height+this.constants_.CURSOR_STACK_PADDING;var r=-this.constants_.CURSOR_STACK_PADDING/2,i=-this.constants_.CURSOR_STACK_PADDING/2,o=r;this.workspace_.RTL&&(o=-(n+r)),this.positionRect_(o,i,n,t),this.setParent_(e),this.showCurrent_()},e.blockRendering.MarkerSvg.prototype.showCurrent_=function(){this.hide(),this.currentMarkerSvg.style.display=""},e.blockRendering.MarkerSvg.prototype.positionBlock_=function(t,n,r){t=e.utils.svgPaths.moveBy(-n,r)+e.utils.svgPaths.lineOnAxis("V",-n)+e.utils.svgPaths.lineOnAxis("H",t+2*n)+e.utils.svgPaths.lineOnAxis("V",r),this.markerBlock_.setAttribute("d",t),this.workspace_.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_},e.blockRendering.MarkerSvg.prototype.positionInput_=function(t){var n=t.getOffsetInBlock().x,r=t.getOffsetInBlock().y;t=e.utils.svgPaths.moveTo(0,0)+this.constants_.shapeFor(t).pathDown,this.markerInput_.setAttribute("d",t),this.markerInput_.setAttribute("transform","translate("+n+","+r+")"+(this.workspace_.RTL?" scale(-1 1)":"")),this.currentMarkerSvg=this.markerInput_},e.blockRendering.MarkerSvg.prototype.positionLine_=function(e,t,n){this.markerSvgLine_.setAttribute("x",e),this.markerSvgLine_.setAttribute("y",t),this.markerSvgLine_.setAttribute("width",n),this.currentMarkerSvg=this.markerSvgLine_},e.blockRendering.MarkerSvg.prototype.positionOutput_=function(t,n,r){t=e.utils.svgPaths.moveBy(t,0)+e.utils.svgPaths.lineOnAxis("h",-(t-r.width))+e.utils.svgPaths.lineOnAxis("v",this.constants_.TAB_OFFSET_FROM_TOP)+r.pathDown+e.utils.svgPaths.lineOnAxis("V",n)+e.utils.svgPaths.lineOnAxis("H",t),this.markerBlock_.setAttribute("d",t),this.workspace_.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_},e.blockRendering.MarkerSvg.prototype.positionPrevious_=function(t,n,r,i){t=e.utils.svgPaths.moveBy(-n,r)+e.utils.svgPaths.lineOnAxis("V",-n)+e.utils.svgPaths.lineOnAxis("H",this.constants_.NOTCH_OFFSET_LEFT)+i.pathLeft+e.utils.svgPaths.lineOnAxis("H",t+2*n)+e.utils.svgPaths.lineOnAxis("V",r),this.markerBlock_.setAttribute("d",t),this.workspace_.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_},e.blockRendering.MarkerSvg.prototype.positionRect_=function(e,t,n,r){this.markerSvgRect_.setAttribute("x",e),this.markerSvgRect_.setAttribute("y",t),this.markerSvgRect_.setAttribute("width",n),this.markerSvgRect_.setAttribute("height",r),this.currentMarkerSvg=this.markerSvgRect_},e.blockRendering.MarkerSvg.prototype.flipRtl_=function(e){e.setAttribute("transform","scale(-1 1)")},e.blockRendering.MarkerSvg.prototype.hide=function(){this.markerSvgLine_.style.display="none",this.markerSvgRect_.style.display="none",this.markerInput_.style.display="none",this.markerBlock_.style.display="none"},e.blockRendering.MarkerSvg.prototype.fireMarkerEvent_=function(t,n){var r=n.getSourceBlock();t=new(e.Events.get(e.Events.MARKER_MOVE))(r,this.isCursor(),t,n),e.Events.fire(t)},e.blockRendering.MarkerSvg.prototype.getBlinkProperties_=function(){return{attributeType:"XML",attributeName:"fill",dur:"1s",values:this.colour_+";transparent;transparent;",repeatCount:"indefinite"}},e.blockRendering.MarkerSvg.prototype.createDomInternal_=function(){if(this.markerSvg_=e.utils.dom.createSvgElement(e.utils.Svg.G,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT},this.svgGroup_),this.markerSvgLine_=e.utils.dom.createSvgElement(e.utils.Svg.RECT,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT,style:"display: none"},this.markerSvg_),this.markerSvgRect_=e.utils.dom.createSvgElement(e.utils.Svg.RECT,{class:"blocklyVerticalMarker",rx:10,ry:10,style:"display: none"},this.markerSvg_),this.markerInput_=e.utils.dom.createSvgElement(e.utils.Svg.PATH,{transform:"",style:"display: none"},this.markerSvg_),this.markerBlock_=e.utils.dom.createSvgElement(e.utils.Svg.PATH,{transform:"",style:"display: none",fill:"none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.isCursor()){var t=this.getBlinkProperties_();e.utils.dom.createSvgElement(e.utils.Svg.ANIMATE,t,this.markerSvgLine_),e.utils.dom.createSvgElement(e.utils.Svg.ANIMATE,t,this.markerInput_),t.attributeName="stroke",e.utils.dom.createSvgElement(e.utils.Svg.ANIMATE,t,this.markerBlock_)}return this.markerSvg_},e.blockRendering.MarkerSvg.prototype.applyColour_=function(e){this.markerSvgLine_.setAttribute("fill",this.colour_),this.markerSvgRect_.setAttribute("stroke",this.colour_),this.markerInput_.setAttribute("fill",this.colour_),this.markerBlock_.setAttribute("stroke",this.colour_),this.isCursor()&&(e=this.colour_+";transparent;transparent;",this.markerSvgLine_.firstChild.setAttribute("values",e),this.markerInput_.firstChild.setAttribute("values",e),this.markerBlock_.firstChild.setAttribute("values",e))},e.blockRendering.MarkerSvg.prototype.dispose=function(){this.svgGroup_&&e.utils.dom.removeNode(this.svgGroup_)},e.blockRendering.PathObject=function(t,n,r){this.constants=r,this.svgRoot=t,this.svgPath=e.utils.dom.createSvgElement(e.utils.Svg.PATH,{class:"blocklyPath"},this.svgRoot),this.style=n,this.markerSvg=this.cursorSvg=null},e.blockRendering.PathObject.prototype.setPath=function(e){this.svgPath.setAttribute("d",e)},e.blockRendering.PathObject.prototype.flipRTL=function(){this.svgPath.setAttribute("transform","scale(-1 1)")},e.blockRendering.PathObject.prototype.setCursorSvg=function(e){e?(this.svgRoot.appendChild(e),this.cursorSvg=e):this.cursorSvg=null},e.blockRendering.PathObject.prototype.setMarkerSvg=function(e){e?(this.cursorSvg?this.svgRoot.insertBefore(e,this.cursorSvg):this.svgRoot.appendChild(e),this.markerSvg=e):this.markerSvg=null},e.blockRendering.PathObject.prototype.applyColour=function(e){this.svgPath.setAttribute("stroke",this.style.colourTertiary),this.svgPath.setAttribute("fill",this.style.colourPrimary),this.updateShadow_(e.isShadow()),this.updateDisabled_(!e.isEnabled()||e.getInheritedDisabled())},e.blockRendering.PathObject.prototype.setStyle=function(e){this.style=e},e.blockRendering.PathObject.prototype.setClass_=function(t,n){n?e.utils.dom.addClass(this.svgRoot,t):e.utils.dom.removeClass(this.svgRoot,t)},e.blockRendering.PathObject.prototype.updateHighlighted=function(e){e?this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"):this.svgPath.setAttribute("filter","none")},e.blockRendering.PathObject.prototype.updateShadow_=function(e){e&&(this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary))},e.blockRendering.PathObject.prototype.updateDisabled_=function(e){this.setClass_("blocklyDisabled",e),e&&this.svgPath.setAttribute("fill","url(#"+this.constants.disabledPatternId+")")},e.blockRendering.PathObject.prototype.updateSelected=function(e){this.setClass_("blocklySelected",e)},e.blockRendering.PathObject.prototype.updateDraggingDelete=function(e){this.setClass_("blocklyDraggingDelete",e)},e.blockRendering.PathObject.prototype.updateInsertionMarker=function(e){this.setClass_("blocklyInsertionMarker",e)},e.blockRendering.PathObject.prototype.updateMovable=function(e){this.setClass_("blocklyDraggable",e)},e.blockRendering.PathObject.prototype.updateReplacementFade=function(e){this.setClass_("blocklyReplaceable",e)},e.blockRendering.PathObject.prototype.updateShapeForInputHighlight=function(e,t){},e.blockRendering.Renderer=function(e){this.name=e,this.overrides=this.constants_=null},e.blockRendering.Renderer.prototype.getClassName=function(){return this.name+"-renderer"},e.blockRendering.Renderer.prototype.init=function(t,n){this.constants_=this.makeConstants_(),n&&(this.overrides=n,e.utils.object.mixin(this.constants_,n)),this.constants_.setTheme(t),this.constants_.init()},e.blockRendering.Renderer.prototype.createDom=function(e,t){this.constants_.createDom(e,this.name+"-"+t.name,"."+this.getClassName()+"."+t.getClassName())},e.blockRendering.Renderer.prototype.refreshDom=function(t,n){var r=this.getConstants();r.dispose(),this.constants_=this.makeConstants_(),this.overrides&&e.utils.object.mixin(this.constants_,this.overrides),this.constants_.randomIdentifier=r.randomIdentifier,this.constants_.setTheme(n),this.constants_.init(),this.createDom(t,n)},e.blockRendering.Renderer.prototype.dispose=function(){this.constants_&&this.constants_.dispose()},e.blockRendering.Renderer.prototype.makeConstants_=function(){return new e.blockRendering.ConstantProvider},e.blockRendering.Renderer.prototype.makeRenderInfo_=function(t){return new e.blockRendering.RenderInfo(this,t)},e.blockRendering.Renderer.prototype.makeDrawer_=function(t,n){return new e.blockRendering.Drawer(t,n)},e.blockRendering.Renderer.prototype.makeDebugger_=function(){if(!e.blockRendering.Debug)throw Error("Missing require for Blockly.blockRendering.Debug");return new e.blockRendering.Debug(this.getConstants())},e.blockRendering.Renderer.prototype.makeMarkerDrawer=function(t,n){return new e.blockRendering.MarkerSvg(t,this.getConstants(),n)},e.blockRendering.Renderer.prototype.makePathObject=function(t,n){return new e.blockRendering.PathObject(t,n,this.constants_)},e.blockRendering.Renderer.prototype.getConstants=function(){return this.constants_},e.blockRendering.Renderer.prototype.shouldHighlightConnection=function(e){return!0},e.blockRendering.Renderer.prototype.orphanCanConnectAtEnd=function(t,n,r){return!!e.Connection.getConnectionForOrphanedConnection(t,r===e.connectionTypes.OUTPUT_VALUE?n.outputConnection:n.previousConnection)},e.blockRendering.Renderer.prototype.getConnectionPreviewMethod=function(t,n,r){return n.type==e.connectionTypes.OUTPUT_VALUE||n.type==e.connectionTypes.PREVIOUS_STATEMENT?!t.isConnected()||this.orphanCanConnectAtEnd(r,t.targetBlock(),n.type)?e.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER:e.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:e.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER},e.blockRendering.Renderer.prototype.render=function(t){e.blockRendering.useDebugger&&!t.renderingDebugger&&(t.renderingDebugger=this.makeDebugger_());var n=this.makeRenderInfo_(t);n.measure(),this.makeDrawer_(t,n).draw()},e.geras={},e.geras.ConstantProvider=function(){e.geras.ConstantProvider.superClass_.constructor.call(this),this.FIELD_TEXT_BASELINE_CENTER=!1,this.DARK_PATH_OFFSET=1,this.MAX_BOTTOM_WIDTH=30,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT/2},e.utils.object.inherits(e.geras.ConstantProvider,e.blockRendering.ConstantProvider),e.geras.ConstantProvider.prototype.getCSS_=function(t){return e.geras.ConstantProvider.superClass_.getCSS_.call(this,t).concat([t+" .blocklyInsertionMarker>.blocklyPathLight,",t+" .blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none;","}"])},e.geras.Highlighter=function(e){this.info_=e,this.inlineSteps_=this.steps_="",this.RTL_=this.info_.RTL,e=e.getRenderer(),this.constants_=e.getConstants(),this.highlightConstants_=e.getHighlightConstants(),this.highlightOffset_=this.highlightConstants_.OFFSET,this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER,this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER,this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB,this.notchPaths_=this.highlightConstants_.NOTCH,this.startPaths_=this.highlightConstants_.START_HAT,this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH},e.geras.Highlighter.prototype.getPath=function(){return this.steps_+"\n"+this.inlineSteps_},e.geras.Highlighter.prototype.drawTopCorner=function(t){this.steps_+=e.utils.svgPaths.moveBy(t.xPos,this.info_.startY);for(var n,r=0;n=t.elements[r];r++)e.blockRendering.Types.isLeftSquareCorner(n)?this.steps_+=this.highlightConstants_.START_POINT:e.blockRendering.Types.isLeftRoundedCorner(n)?this.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_):e.blockRendering.Types.isPreviousConnection(n)?this.steps_+=this.notchPaths_.pathLeft:e.blockRendering.Types.isHat(n)?this.steps_+=this.startPaths_.path(this.RTL_):e.blockRendering.Types.isSpacer(n)&&0!=n.width&&(this.steps_+=e.utils.svgPaths.lineOnAxis("H",n.xPos+n.width-this.highlightOffset_));this.steps_+=e.utils.svgPaths.lineOnAxis("H",t.xPos+t.width-this.highlightOffset_)},e.geras.Highlighter.prototype.drawJaggedEdge_=function(t){this.info_.RTL&&(this.steps_+=this.jaggedTeethPaths_.pathLeft+e.utils.svgPaths.lineOnAxis("v",t.height-this.jaggedTeethPaths_.height-this.highlightOffset_))},e.geras.Highlighter.prototype.drawValueInput=function(t){var n=t.getLastInput();if(this.RTL_){var r=t.height-n.connectionHeight;this.steps_+=e.utils.svgPaths.moveTo(n.xPos+n.width-this.highlightOffset_,t.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+e.utils.svgPaths.lineOnAxis("v",r)}else this.steps_+=e.utils.svgPaths.moveTo(n.xPos+n.width,t.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)},e.geras.Highlighter.prototype.drawStatementInput=function(t){var n=t.getLastInput();if(this.RTL_){var r=t.height-2*this.insideCornerPaths_.height;this.steps_+=e.utils.svgPaths.moveTo(n.xPos,t.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+e.utils.svgPaths.lineOnAxis("v",r)+this.insideCornerPaths_.pathBottom(this.RTL_)+e.utils.svgPaths.lineTo(t.width-n.xPos-this.insideCornerPaths_.width,0)}else this.steps_+=e.utils.svgPaths.moveTo(n.xPos,t.yPos+t.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+e.utils.svgPaths.lineTo(t.width-n.xPos-this.insideCornerPaths_.width,0)},e.geras.Highlighter.prototype.drawRightSideRow=function(t){var n=t.xPos+t.width-this.highlightOffset_;t.followsStatement&&(this.steps_+=e.utils.svgPaths.lineOnAxis("H",n)),this.RTL_&&(this.steps_+=e.utils.svgPaths.lineOnAxis("H",n),t.height>this.highlightOffset_&&(this.steps_+=e.utils.svgPaths.lineOnAxis("V",t.yPos+t.height-this.highlightOffset_)))},e.geras.Highlighter.prototype.drawBottomRow=function(t){if(this.RTL_)this.steps_+=e.utils.svgPaths.lineOnAxis("V",t.baseline-this.highlightOffset_);else{var n=this.info_.bottomRow.elements[0];e.blockRendering.Types.isLeftSquareCorner(n)?this.steps_+=e.utils.svgPaths.moveTo(t.xPos+this.highlightOffset_,t.baseline-this.highlightOffset_):e.blockRendering.Types.isLeftRoundedCorner(n)&&(this.steps_+=e.utils.svgPaths.moveTo(t.xPos,t.baseline),this.steps_+=this.outsideCornerPaths_.bottomLeft())}},e.geras.Highlighter.prototype.drawLeft=function(){var t=this.info_.outputConnection;t&&(t=t.connectionOffsetY+t.height,this.RTL_?this.steps_+=e.utils.svgPaths.moveTo(this.info_.startX,t):(this.steps_+=e.utils.svgPaths.moveTo(this.info_.startX+this.highlightOffset_,this.info_.bottomRow.baseline-this.highlightOffset_),this.steps_+=e.utils.svgPaths.lineOnAxis("V",t)),this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_)),this.RTL_||(t=this.info_.topRow,e.blockRendering.Types.isLeftRoundedCorner(t.elements[0])?this.steps_+=e.utils.svgPaths.lineOnAxis("V",this.outsideCornerPaths_.height):this.steps_+=e.utils.svgPaths.lineOnAxis("V",t.capline+this.highlightOffset_))},e.geras.Highlighter.prototype.drawInlineInput=function(t){var n=this.highlightOffset_,r=t.xPos+t.connectionWidth,i=t.centerline-t.height/2,o=t.width-t.connectionWidth,s=i+n;this.RTL_?(i=t.connectionOffsetY-n,t=t.height-(t.connectionOffsetY+t.connectionHeight)+n,this.inlineSteps_+=e.utils.svgPaths.moveTo(r-n,s)+e.utils.svgPaths.lineOnAxis("v",i)+this.puzzleTabPaths_.pathDown(this.RTL_)+e.utils.svgPaths.lineOnAxis("v",t)+e.utils.svgPaths.lineOnAxis("h",o)):this.inlineSteps_+=e.utils.svgPaths.moveTo(t.xPos+t.width+n,s)+e.utils.svgPaths.lineOnAxis("v",t.height)+e.utils.svgPaths.lineOnAxis("h",-o)+e.utils.svgPaths.moveTo(r,i+t.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_)},e.geras.InlineInput=function(t,n){e.geras.InlineInput.superClass_.constructor.call(this,t,n),this.connectedBlock&&(this.width+=this.constants_.DARK_PATH_OFFSET,this.height+=this.constants_.DARK_PATH_OFFSET)},e.utils.object.inherits(e.geras.InlineInput,e.blockRendering.InlineInput),e.geras.StatementInput=function(t,n){e.geras.StatementInput.superClass_.constructor.call(this,t,n),this.connectedBlock&&(this.height+=this.constants_.DARK_PATH_OFFSET)},e.utils.object.inherits(e.geras.StatementInput,e.blockRendering.StatementInput),e.geras.RenderInfo=function(t,n){e.geras.RenderInfo.superClass_.constructor.call(this,t,n)},e.utils.object.inherits(e.geras.RenderInfo,e.blockRendering.RenderInfo),e.geras.RenderInfo.prototype.getRenderer=function(){return this.renderer_},e.geras.RenderInfo.prototype.populateBottomRow_=function(){e.geras.RenderInfo.superClass_.populateBottomRow_.call(this),this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1].type==e.inputTypes.STATEMENT||(this.bottomRow.minHeight=this.constants_.MEDIUM_PADDING-this.constants_.DARK_PATH_OFFSET)},e.geras.RenderInfo.prototype.addInput_=function(t,n){this.isInline&&t.type==e.inputTypes.VALUE?(n.elements.push(new e.geras.InlineInput(this.constants_,t)),n.hasInlineInput=!0):t.type==e.inputTypes.STATEMENT?(n.elements.push(new e.geras.StatementInput(this.constants_,t)),n.hasStatement=!0):t.type==e.inputTypes.VALUE?(n.elements.push(new e.blockRendering.ExternalValueInput(this.constants_,t)),n.hasExternalInput=!0):t.type==e.inputTypes.DUMMY&&(n.minHeight=Math.max(n.minHeight,this.constants_.DUMMY_INPUT_MIN_HEIGHT),n.hasDummyInput=!0),this.isInline||null!=n.align||(n.align=t.align)},e.geras.RenderInfo.prototype.addElemSpacing_=function(){for(var t,n=!1,r=0;t=this.rows[r];r++)t.hasExternalInput&&(n=!0);for(r=0;t=this.rows[r];r++){var i=t.elements;if(t.elements=[],t.startsWithElemSpacer()&&t.elements.push(new e.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(null,i[0]))),i.length){for(var o=0;o<i.length-1;o++){t.elements.push(i[o]);var s=this.getInRowSpacing_(i[o],i[o+1]);t.elements.push(new e.blockRendering.InRowSpacer(this.constants_,s))}t.elements.push(i[i.length-1]),t.endsWithElemSpacer()&&(s=this.getInRowSpacing_(i[i.length-1],null),n&&t.hasDummyInput&&(s+=this.constants_.TAB_WIDTH),t.elements.push(new e.blockRendering.InRowSpacer(this.constants_,s)))}}},e.geras.RenderInfo.prototype.getInRowSpacing_=function(t,n){if(!t)return n&&e.blockRendering.Types.isField(n)&&n.isEditable?this.constants_.MEDIUM_PADDING:n&&e.blockRendering.Types.isInlineInput(n)?this.constants_.MEDIUM_LARGE_PADDING:n&&e.blockRendering.Types.isStatementInput(n)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!e.blockRendering.Types.isInput(t)&&(!n||e.blockRendering.Types.isStatementInput(n)))return e.blockRendering.Types.isField(t)&&t.isEditable?this.constants_.MEDIUM_PADDING:e.blockRendering.Types.isIcon(t)?2*this.constants_.LARGE_PADDING+1:e.blockRendering.Types.isHat(t)?this.constants_.NO_PADDING:e.blockRendering.Types.isPreviousOrNextConnection(t)?this.constants_.LARGE_PADDING:e.blockRendering.Types.isLeftRoundedCorner(t)?this.constants_.MIN_BLOCK_WIDTH:e.blockRendering.Types.isJaggedEdge(t)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(e.blockRendering.Types.isInput(t)&&!n){if(e.blockRendering.Types.isExternalInput(t))return this.constants_.NO_PADDING;if(e.blockRendering.Types.isInlineInput(t))return this.constants_.LARGE_PADDING;if(e.blockRendering.Types.isStatementInput(t))return this.constants_.NO_PADDING}if(!e.blockRendering.Types.isInput(t)&&n&&e.blockRendering.Types.isInput(n)){if(e.blockRendering.Types.isField(t)&&t.isEditable){if(e.blockRendering.Types.isInlineInput(n)||e.blockRendering.Types.isExternalInput(n))return this.constants_.SMALL_PADDING}else{if(e.blockRendering.Types.isInlineInput(n)||e.blockRendering.Types.isExternalInput(n))return this.constants_.MEDIUM_LARGE_PADDING;if(e.blockRendering.Types.isStatementInput(n))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(e.blockRendering.Types.isIcon(t)&&n&&!e.blockRendering.Types.isInput(n))return this.constants_.LARGE_PADDING;if(e.blockRendering.Types.isInlineInput(t)&&n&&e.blockRendering.Types.isField(n))return n.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(e.blockRendering.Types.isLeftSquareCorner(t)&&n){if(e.blockRendering.Types.isHat(n))return this.constants_.NO_PADDING;if(e.blockRendering.Types.isPreviousConnection(n))return n.notchOffset;if(e.blockRendering.Types.isNextConnection(n))return t=(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2,n.notchOffset+t}if(e.blockRendering.Types.isLeftRoundedCorner(t)&&n){if(e.blockRendering.Types.isPreviousConnection(n))return n.notchOffset-this.constants_.CORNER_RADIUS;if(e.blockRendering.Types.isNextConnection(n))return t=(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2,n.notchOffset-this.constants_.CORNER_RADIUS+t}return e.blockRendering.Types.isField(t)&&n&&e.blockRendering.Types.isField(n)&&t.isEditable==n.isEditable||n&&e.blockRendering.Types.isJaggedEdge(n)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},e.geras.RenderInfo.prototype.getSpacerRowHeight_=function(t,n){return e.blockRendering.Types.isTopRow(t)&&e.blockRendering.Types.isBottomRow(n)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:e.blockRendering.Types.isTopRow(t)||e.blockRendering.Types.isBottomRow(n)?this.constants_.NO_PADDING:t.hasExternalInput&&n.hasExternalInput?this.constants_.LARGE_PADDING:!t.hasStatement&&n.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:t.hasStatement&&n.hasStatement||!t.hasStatement&&n.hasDummyInput||t.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},e.geras.RenderInfo.prototype.getElemCenterline_=function(t,n){if(e.blockRendering.Types.isSpacer(n))return t.yPos+n.height/2;if(e.blockRendering.Types.isBottomRow(t))return t=t.yPos+t.height-t.descenderHeight,e.blockRendering.Types.isNextConnection(n)?t+n.height/2:t-n.height/2;if(e.blockRendering.Types.isTopRow(t))return e.blockRendering.Types.isHat(n)?t.capline-n.height/2:t.capline+n.height/2;var r=t.yPos;return e.blockRendering.Types.isField(n)||e.blockRendering.Types.isIcon(n)?(r+=n.height/2,(t.hasInlineInput||t.hasStatement)&&n.height+this.constants_.TALL_INPUT_FIELD_OFFSET_Y<=t.height&&(r+=this.constants_.TALL_INPUT_FIELD_OFFSET_Y)):r=e.blockRendering.Types.isInlineInput(n)?r+n.height/2:r+t.height/2,r},e.geras.RenderInfo.prototype.alignRowElements_=function(){if(this.isInline){for(var t,n=0,r=null,i=this.rows.length-1;t=this.rows[i];i--)t.nextRightEdge=n,e.blockRendering.Types.isInputRow(t)&&(t.hasStatement&&this.alignStatementRow_(t),r&&r.hasStatement&&t.width<r.width?t.nextRightEdge=r.width:n=t.width,r=t);for(i=n=0;t=this.rows[i];i++)t.hasStatement?n=this.getDesiredRowWidth_(t):e.blockRendering.Types.isSpacer(t)?t.width=Math.max(n,t.nextRightEdge):(0<(n=Math.max(n,t.nextRightEdge)-t.width)&&this.addAlignmentPadding_(t,n),n=t.width)}else e.geras.RenderInfo.superClass_.alignRowElements_.call(this)},e.geras.RenderInfo.prototype.getDesiredRowWidth_=function(t){return this.isInline&&t.hasStatement?this.statementEdge+this.constants_.MAX_BOTTOM_WIDTH+this.startX:e.geras.RenderInfo.superClass_.getDesiredRowWidth_.call(this,t)},e.geras.RenderInfo.prototype.finalize_=function(){for(var e,t=0,n=0,r=0;e=this.rows[r];r++){e.yPos=n,e.xPos=this.startX,n+=e.height,t=Math.max(t,e.widthWithConnectedBlocks);var i=n-this.topRow.ascenderHeight;e==this.bottomRow&&i<this.constants_.MIN_BLOCK_HEIGHT&&(i=this.constants_.MIN_BLOCK_HEIGHT-i,this.bottomRow.height+=i,n+=i),this.recordElemPositions_(e)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(t=Math.max(t,this.block_.nextConnection.targetBlock().getHeightWidth().width-this.constants_.DARK_PATH_OFFSET)),this.bottomRow.baseline=n-this.bottomRow.descenderHeight,this.widthWithChildren=t+this.startX+this.constants_.DARK_PATH_OFFSET,this.width+=this.constants_.DARK_PATH_OFFSET,this.height=n+this.constants_.DARK_PATH_OFFSET,this.startY=this.topRow.capline},e.geras.Drawer=function(t,n){e.geras.Drawer.superClass_.constructor.call(this,t,n),this.highlighter_=new e.geras.Highlighter(n)},e.utils.object.inherits(e.geras.Drawer,e.blockRendering.Drawer),e.geras.Drawer.prototype.draw=function(){this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_();var t=this.block_.pathObject;t.setPath(this.outlinePath_+"\n"+this.inlinePath_),t.setHighlightPath(this.highlighter_.getPath()),this.info_.RTL&&t.flipRTL(),e.blockRendering.useDebugger&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_()},e.geras.Drawer.prototype.drawTop_=function(){this.highlighter_.drawTopCorner(this.info_.topRow),this.highlighter_.drawRightSideRow(this.info_.topRow),e.geras.Drawer.superClass_.drawTop_.call(this)},e.geras.Drawer.prototype.drawJaggedEdge_=function(t){this.highlighter_.drawJaggedEdge_(t),e.geras.Drawer.superClass_.drawJaggedEdge_.call(this,t)},e.geras.Drawer.prototype.drawValueInput_=function(t){this.highlighter_.drawValueInput(t),e.geras.Drawer.superClass_.drawValueInput_.call(this,t)},e.geras.Drawer.prototype.drawStatementInput_=function(t){this.highlighter_.drawStatementInput(t),e.geras.Drawer.superClass_.drawStatementInput_.call(this,t)},e.geras.Drawer.prototype.drawRightSideRow_=function(t){this.highlighter_.drawRightSideRow(t),this.outlinePath_+=e.utils.svgPaths.lineOnAxis("H",t.xPos+t.width)+e.utils.svgPaths.lineOnAxis("V",t.yPos+t.height)},e.geras.Drawer.prototype.drawBottom_=function(){this.highlighter_.drawBottomRow(this.info_.bottomRow),e.geras.Drawer.superClass_.drawBottom_.call(this)},e.geras.Drawer.prototype.drawLeft_=function(){this.highlighter_.drawLeft(),e.geras.Drawer.superClass_.drawLeft_.call(this)},e.geras.Drawer.prototype.drawInlineInput_=function(t){this.highlighter_.drawInlineInput(t),e.geras.Drawer.superClass_.drawInlineInput_.call(this,t)},e.geras.Drawer.prototype.positionInlineInputConnection_=function(e){var t=e.centerline-e.height/2;if(e.connectionModel){var n=e.xPos+e.connectionWidth+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(n*=-1),e.connectionModel.setOffsetInBlock(n,t+e.connectionOffsetY+this.constants_.DARK_PATH_OFFSET)}},e.geras.Drawer.prototype.positionStatementInputConnection_=function(e){var t=e.getLastInput();if(t.connectionModel){var n=e.xPos+e.statementEdge+t.notchOffset;n=this.info_.RTL?-1*n:n+this.constants_.DARK_PATH_OFFSET,t.connectionModel.setOffsetInBlock(n,e.yPos+this.constants_.DARK_PATH_OFFSET)}},e.geras.Drawer.prototype.positionExternalValueConnection_=function(e){var t=e.getLastInput();if(t.connectionModel){var n=e.xPos+e.width+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(n*=-1),t.connectionModel.setOffsetInBlock(n,e.yPos)}},e.geras.Drawer.prototype.positionNextConnection_=function(){var e=this.info_.bottomRow;if(e.connection){var t=e.connection,n=t.xPos;t.connectionModel.setOffsetInBlock((this.info_.RTL?-n:n)+this.constants_.DARK_PATH_OFFSET/2,e.baseline+this.constants_.DARK_PATH_OFFSET)}},e.geras.HighlightConstantProvider=function(t){this.constantProvider=t,this.OFFSET=.5,this.START_POINT=e.utils.svgPaths.moveBy(this.OFFSET,this.OFFSET)},e.geras.HighlightConstantProvider.prototype.init=function(){this.INSIDE_CORNER=this.makeInsideCorner(),this.OUTSIDE_CORNER=this.makeOutsideCorner(),this.PUZZLE_TAB=this.makePuzzleTab(),this.NOTCH=this.makeNotch(),this.JAGGED_TEETH=this.makeJaggedTeeth(),this.START_HAT=this.makeStartHat()},e.geras.HighlightConstantProvider.prototype.makeInsideCorner=function(){var t=this.constantProvider.CORNER_RADIUS,n=this.OFFSET,r=(1-Math.SQRT1_2)*(t+n)-n,i=e.utils.svgPaths.moveBy(r,r)+e.utils.svgPaths.arc("a","0 0,0",t,e.utils.svgPaths.point(-r-n,t-r)),o=e.utils.svgPaths.arc("a","0 0,0",t+n,e.utils.svgPaths.point(t+n,t+n)),s=e.utils.svgPaths.moveBy(r,-r)+e.utils.svgPaths.arc("a","0 0,0",t+n,e.utils.svgPaths.point(t-r,r+n));return{width:t+n,height:t,pathTop:function(e){return e?i:""},pathBottom:function(e){return e?o:s}}},e.geras.HighlightConstantProvider.prototype.makeOutsideCorner=function(){var t=this.constantProvider.CORNER_RADIUS,n=this.OFFSET,r=(1-Math.SQRT1_2)*(t-n)+n,i=e.utils.svgPaths.moveBy(r,r)+e.utils.svgPaths.arc("a","0 0,1",t-n,e.utils.svgPaths.point(t-r,-r+n)),o=e.utils.svgPaths.moveBy(n,t)+e.utils.svgPaths.arc("a","0 0,1",t-n,e.utils.svgPaths.point(t,-t+n)),s=-r,a=e.utils.svgPaths.moveBy(r,s)+e.utils.svgPaths.arc("a","0 0,1",t-n,e.utils.svgPaths.point(-r+n,-s-t));return{height:t,topLeft:function(e){return e?i:o},bottomLeft:function(){return a}}},e.geras.HighlightConstantProvider.prototype.makePuzzleTab=function(){var t=this.constantProvider.TAB_WIDTH,n=this.constantProvider.TAB_HEIGHT,r=e.utils.svgPaths.moveBy(-2,3.4-n)+e.utils.svgPaths.lineTo(-.45*t,-2.1),i=e.utils.svgPaths.lineOnAxis("v",2.5)+e.utils.svgPaths.moveBy(.97*-t,2.5)+e.utils.svgPaths.curve("q",[e.utils.svgPaths.point(.05*-t,10),e.utils.svgPaths.point(.3*t,9.5)])+e.utils.svgPaths.moveBy(.67*t,-1.9)+e.utils.svgPaths.lineOnAxis("v",2.5),o=e.utils.svgPaths.lineOnAxis("v",-1.5)+e.utils.svgPaths.moveBy(-.92*t,-.5)+e.utils.svgPaths.curve("q",[e.utils.svgPaths.point(-.19*t,-5.5),e.utils.svgPaths.point(0,-11)])+e.utils.svgPaths.moveBy(.92*t,1),s=e.utils.svgPaths.moveBy(-5,n-.7)+e.utils.svgPaths.lineTo(.46*t,-2.1);return{width:t,height:n,pathUp:function(e){return e?r:o},pathDown:function(e){return e?i:s}}},e.geras.HighlightConstantProvider.prototype.makeNotch=function(){return{pathLeft:e.utils.svgPaths.lineOnAxis("h",this.OFFSET)+this.constantProvider.NOTCH.pathLeft}},e.geras.HighlightConstantProvider.prototype.makeJaggedTeeth=function(){return{pathLeft:e.utils.svgPaths.lineTo(5.1,2.6)+e.utils.svgPaths.moveBy(-10.2,6.8)+e.utils.svgPaths.lineTo(5.1,2.6),height:12,width:10.2}},e.geras.HighlightConstantProvider.prototype.makeStartHat=function(){var t=this.constantProvider.START_HAT.height,n=e.utils.svgPaths.moveBy(25,-8.7)+e.utils.svgPaths.curve("c",[e.utils.svgPaths.point(29.7,-6.2),e.utils.svgPaths.point(57.2,-.5),e.utils.svgPaths.point(75,8.7)]),r=e.utils.svgPaths.curve("c",[e.utils.svgPaths.point(17.8,-9.2),e.utils.svgPaths.point(45.3,-14.9),e.utils.svgPaths.point(75,-8.7)])+e.utils.svgPaths.moveTo(100.5,t+.5);return{path:function(e){return e?n:r}}},e.geras.PathObject=function(t,n,r){this.constants=r,this.svgRoot=t,this.svgPathDark=e.utils.dom.createSvgElement(e.utils.Svg.PATH,{class:"blocklyPathDark",transform:"translate(1,1)"},this.svgRoot),this.svgPath=e.utils.dom.createSvgElement(e.utils.Svg.PATH,{class:"blocklyPath"},this.svgRoot),this.svgPathLight=e.utils.dom.createSvgElement(e.utils.Svg.PATH,{class:"blocklyPathLight"},this.svgRoot),this.colourDark="#000000",this.style=n},e.utils.object.inherits(e.geras.PathObject,e.blockRendering.PathObject),e.geras.PathObject.prototype.setPath=function(e){this.svgPath.setAttribute("d",e),this.svgPathDark.setAttribute("d",e)},e.geras.PathObject.prototype.setHighlightPath=function(e){this.svgPathLight.setAttribute("d",e)},e.geras.PathObject.prototype.flipRTL=function(){this.svgPath.setAttribute("transform","scale(-1 1)"),this.svgPathLight.setAttribute("transform","scale(-1 1)"),this.svgPathDark.setAttribute("transform","translate(1,1) scale(-1 1)")},e.geras.PathObject.prototype.applyColour=function(t){this.svgPathLight.style.display="",this.svgPathDark.style.display="",this.svgPathLight.setAttribute("stroke",this.style.colourTertiary),this.svgPathDark.setAttribute("fill",this.colourDark),e.geras.PathObject.superClass_.applyColour.call(this,t),this.svgPath.setAttribute("stroke","none")},e.geras.PathObject.prototype.setStyle=function(t){this.style=t,this.colourDark=e.utils.colour.blend("#000",this.style.colourPrimary,.2)||this.colourDark},e.geras.PathObject.prototype.updateHighlighted=function(e){e?(this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"),this.svgPathLight.style.display="none"):(this.svgPath.setAttribute("filter","none"),this.svgPathLight.style.display="inline")},e.geras.PathObject.prototype.updateShadow_=function(e){e&&(this.svgPathLight.style.display="none",this.svgPathDark.setAttribute("fill",this.style.colourSecondary),this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary))},e.geras.PathObject.prototype.updateDisabled_=function(t){e.geras.PathObject.superClass_.updateDisabled_.call(this,t),t&&this.svgPath.setAttribute("stroke","none")},e.geras.Renderer=function(t){e.geras.Renderer.superClass_.constructor.call(this,t),this.highlightConstants_=null},e.utils.object.inherits(e.geras.Renderer,e.blockRendering.Renderer),e.geras.Renderer.prototype.init=function(t,n){e.geras.Renderer.superClass_.init.call(this,t,n),this.highlightConstants_=this.makeHighlightConstants_(),this.highlightConstants_.init()},e.geras.Renderer.prototype.refreshDom=function(t,n){e.geras.Renderer.superClass_.refreshDom.call(this,t,n),this.getHighlightConstants().init()},e.geras.Renderer.prototype.makeConstants_=function(){return new e.geras.ConstantProvider},e.geras.Renderer.prototype.makeRenderInfo_=function(t){return new e.geras.RenderInfo(this,t)},e.geras.Renderer.prototype.makeDrawer_=function(t,n){return new e.geras.Drawer(t,n)},e.geras.Renderer.prototype.makePathObject=function(t,n){return new e.geras.PathObject(t,n,this.getConstants())},e.geras.Renderer.prototype.makeHighlightConstants_=function(){return new e.geras.HighlightConstantProvider(this.getConstants())},e.geras.Renderer.prototype.getHighlightConstants=function(){return this.highlightConstants_},e.blockRendering.register("geras",e.geras.Renderer),e.thrasos={},e.thrasos.RenderInfo=function(t,n){e.thrasos.RenderInfo.superClass_.constructor.call(this,t,n)},e.utils.object.inherits(e.thrasos.RenderInfo,e.blockRendering.RenderInfo),e.thrasos.RenderInfo.prototype.getRenderer=function(){return this.renderer_},e.thrasos.RenderInfo.prototype.addElemSpacing_=function(){for(var t,n=!1,r=0;t=this.rows[r];r++)t.hasExternalInput&&(n=!0);for(r=0;t=this.rows[r];r++){var i=t.elements;t.elements=[],t.startsWithElemSpacer()&&t.elements.push(new e.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(null,i[0])));for(var o=0;o<i.length-1;o++){t.elements.push(i[o]);var s=this.getInRowSpacing_(i[o],i[o+1]);t.elements.push(new e.blockRendering.InRowSpacer(this.constants_,s))}t.elements.push(i[i.length-1]),t.endsWithElemSpacer()&&(s=this.getInRowSpacing_(i[i.length-1],null),n&&t.hasDummyInput&&(s+=this.constants_.TAB_WIDTH),t.elements.push(new e.blockRendering.InRowSpacer(this.constants_,s)))}},e.thrasos.RenderInfo.prototype.getInRowSpacing_=function(t,n){if(!t)return n&&e.blockRendering.Types.isField(n)&&n.isEditable?this.constants_.MEDIUM_PADDING:n&&e.blockRendering.Types.isInlineInput(n)?this.constants_.MEDIUM_LARGE_PADDING:n&&e.blockRendering.Types.isStatementInput(n)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!e.blockRendering.Types.isInput(t)&&!n)return e.blockRendering.Types.isField(t)&&t.isEditable?this.constants_.MEDIUM_PADDING:e.blockRendering.Types.isIcon(t)?2*this.constants_.LARGE_PADDING+1:e.blockRendering.Types.isHat(t)?this.constants_.NO_PADDING:e.blockRendering.Types.isPreviousOrNextConnection(t)?this.constants_.LARGE_PADDING:e.blockRendering.Types.isLeftRoundedCorner(t)?this.constants_.MIN_BLOCK_WIDTH:e.blockRendering.Types.isJaggedEdge(t)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(e.blockRendering.Types.isInput(t)&&!n){if(e.blockRendering.Types.isExternalInput(t))return this.constants_.NO_PADDING;if(e.blockRendering.Types.isInlineInput(t))return this.constants_.LARGE_PADDING;if(e.blockRendering.Types.isStatementInput(t))return this.constants_.NO_PADDING}if(!e.blockRendering.Types.isInput(t)&&n&&e.blockRendering.Types.isInput(n)){if(e.blockRendering.Types.isField(t)&&t.isEditable){if(e.blockRendering.Types.isInlineInput(n)||e.blockRendering.Types.isExternalInput(n))return this.constants_.SMALL_PADDING}else{if(e.blockRendering.Types.isInlineInput(n)||e.blockRendering.Types.isExternalInput(n))return this.constants_.MEDIUM_LARGE_PADDING;if(e.blockRendering.Types.isStatementInput(n))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(e.blockRendering.Types.isIcon(t)&&n&&!e.blockRendering.Types.isInput(n))return this.constants_.LARGE_PADDING;if(e.blockRendering.Types.isInlineInput(t)&&n&&e.blockRendering.Types.isField(n))return n.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(e.blockRendering.Types.isLeftSquareCorner(t)&&n){if(e.blockRendering.Types.isHat(n))return this.constants_.NO_PADDING;if(e.blockRendering.Types.isPreviousConnection(n)||e.blockRendering.Types.isNextConnection(n))return n.notchOffset}return e.blockRendering.Types.isLeftRoundedCorner(t)&&n?n.notchOffset-this.constants_.CORNER_RADIUS:e.blockRendering.Types.isField(t)&&n&&e.blockRendering.Types.isField(n)&&t.isEditable==n.isEditable||n&&e.blockRendering.Types.isJaggedEdge(n)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},e.thrasos.RenderInfo.prototype.getSpacerRowHeight_=function(t,n){return e.blockRendering.Types.isTopRow(t)&&e.blockRendering.Types.isBottomRow(n)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:e.blockRendering.Types.isTopRow(t)||e.blockRendering.Types.isBottomRow(n)?this.constants_.NO_PADDING:t.hasExternalInput&&n.hasExternalInput?this.constants_.LARGE_PADDING:!t.hasStatement&&n.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:t.hasStatement&&n.hasStatement||t.hasDummyInput||n.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},e.thrasos.RenderInfo.prototype.getElemCenterline_=function(t,n){if(e.blockRendering.Types.isSpacer(n))return t.yPos+n.height/2;if(e.blockRendering.Types.isBottomRow(t))return t=t.yPos+t.height-t.descenderHeight,e.blockRendering.Types.isNextConnection(n)?t+n.height/2:t-n.height/2;if(e.blockRendering.Types.isTopRow(t))return e.blockRendering.Types.isHat(n)?t.capline-n.height/2:t.capline+n.height/2;var r=t.yPos;return e.blockRendering.Types.isField(n)&&t.hasStatement?r+(this.constants_.TALL_INPUT_FIELD_OFFSET_Y+n.height/2):r+t.height/2},e.thrasos.RenderInfo.prototype.finalize_=function(){for(var e,t=0,n=0,r=0;e=this.rows[r];r++){e.yPos=n,e.xPos=this.startX,n+=e.height,t=Math.max(t,e.widthWithConnectedBlocks);var i=n-this.topRow.ascenderHeight;e==this.bottomRow&&i<this.constants_.MIN_BLOCK_HEIGHT&&(i=this.constants_.MIN_BLOCK_HEIGHT-i,this.bottomRow.height+=i,n+=i),this.recordElemPositions_(e)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(t=Math.max(t,this.block_.nextConnection.targetBlock().getHeightWidth().width)),this.bottomRow.baseline=n-this.bottomRow.descenderHeight,this.widthWithChildren=t+this.startX,this.height=n,this.startY=this.topRow.capline},e.thrasos.Renderer=function(t){e.thrasos.Renderer.superClass_.constructor.call(this,t)},e.utils.object.inherits(e.thrasos.Renderer,e.blockRendering.Renderer),e.thrasos.Renderer.prototype.makeRenderInfo_=function(t){return new e.thrasos.RenderInfo(this,t)},e.blockRendering.register("thrasos",e.thrasos.Renderer),e.zelos={},e.zelos.ConstantProvider=function(){e.zelos.ConstantProvider.superClass_.constructor.call(this),this.SMALL_PADDING=this.GRID_UNIT=4,this.MEDIUM_PADDING=2*this.GRID_UNIT,this.MEDIUM_LARGE_PADDING=3*this.GRID_UNIT,this.LARGE_PADDING=4*this.GRID_UNIT,this.CORNER_RADIUS=1*this.GRID_UNIT,this.NOTCH_WIDTH=9*this.GRID_UNIT,this.NOTCH_HEIGHT=2*this.GRID_UNIT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=3*this.GRID_UNIT,this.MIN_BLOCK_WIDTH=2*this.GRID_UNIT,this.MIN_BLOCK_HEIGHT=12*this.GRID_UNIT,this.EMPTY_STATEMENT_INPUT_HEIGHT=6*this.GRID_UNIT,this.TAB_OFFSET_FROM_TOP=0,this.TOP_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=6*this.GRID_UNIT,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT,this.STATEMENT_INPUT_SPACER_MIN_WIDTH=40*this.GRID_UNIT,this.STATEMENT_INPUT_PADDING_LEFT=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_PADDING=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_MIN_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=6*this.GRID_UNIT,this.CURSOR_WS_WIDTH=20*this.GRID_UNIT,this.CURSOR_COLOUR="#ffa200",this.CURSOR_RADIUS=5,this.JAGGED_TEETH_WIDTH=this.JAGGED_TEETH_HEIGHT=0,this.START_HAT_HEIGHT=22,this.START_HAT_WIDTH=96,this.SHAPES={HEXAGONAL:1,ROUND:2,SQUARE:3,PUZZLE:4,NOTCH:5},this.SHAPE_IN_SHAPE_PADDING={1:{0:5*this.GRID_UNIT,1:2*this.GRID_UNIT,2:5*this.GRID_UNIT,3:5*this.GRID_UNIT},2:{0:3*this.GRID_UNIT,1:3*this.GRID_UNIT,2:1*this.GRID_UNIT,3:2*this.GRID_UNIT},3:{0:2*this.GRID_UNIT,1:2*this.GRID_UNIT,2:2*this.GRID_UNIT,3:2*this.GRID_UNIT}},this.FULL_BLOCK_FIELDS=!0,this.FIELD_TEXT_FONTSIZE=3*this.GRID_UNIT,this.FIELD_TEXT_FONTWEIGHT="bold",this.FIELD_TEXT_FONTFAMILY='"Helvetica Neue", "Segoe UI", Helvetica, sans-serif',this.FIELD_BORDER_RECT_RADIUS=this.CORNER_RADIUS,this.FIELD_BORDER_RECT_X_PADDING=2*this.GRID_UNIT,this.FIELD_BORDER_RECT_Y_PADDING=1.625*this.GRID_UNIT,this.FIELD_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!0,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!0,this.FIELD_COLOUR_DEFAULT_WIDTH=2*this.GRID_UNIT,this.FIELD_COLOUR_DEFAULT_HEIGHT=4*this.GRID_UNIT,this.FIELD_CHECKBOX_X_OFFSET=1*this.GRID_UNIT,this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH=12*this.GRID_UNIT,this.SELECTED_GLOW_COLOUR="#fff200",this.SELECTED_GLOW_SIZE=.5,this.REPLACEMENT_GLOW_COLOUR="#fff200",this.REPLACEMENT_GLOW_SIZE=2,this.selectedGlowFilterId="",this.selectedGlowFilter_=null,this.replacementGlowFilterId="",this.replacementGlowFilter_=null},e.utils.object.inherits(e.zelos.ConstantProvider,e.blockRendering.ConstantProvider),e.zelos.ConstantProvider.prototype.setFontConstants_=function(t){e.zelos.ConstantProvider.superClass_.setFontConstants_.call(this,t),this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT=this.FIELD_TEXT_HEIGHT+2*this.FIELD_BORDER_RECT_Y_PADDING},e.zelos.ConstantProvider.prototype.init=function(){e.zelos.ConstantProvider.superClass_.init.call(this),this.HEXAGONAL=this.makeHexagonal(),this.ROUNDED=this.makeRounded(),this.SQUARED=this.makeSquared(),this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT+this.INSIDE_CORNERS.rightWidth},e.zelos.ConstantProvider.prototype.setDynamicProperties_=function(t){e.zelos.ConstantProvider.superClass_.setDynamicProperties_.call(this,t),this.SELECTED_GLOW_COLOUR=t.getComponentStyle("selectedGlowColour")||this.SELECTED_GLOW_COLOUR;var n=Number(t.getComponentStyle("selectedGlowSize"));this.SELECTED_GLOW_SIZE=n&&!isNaN(n)?n:this.SELECTED_GLOW_SIZE,this.REPLACEMENT_GLOW_COLOUR=t.getComponentStyle("replacementGlowColour")||this.REPLACEMENT_GLOW_COLOUR,this.REPLACEMENT_GLOW_SIZE=(t=Number(t.getComponentStyle("replacementGlowSize")))&&!isNaN(t)?t:this.REPLACEMENT_GLOW_SIZE},e.zelos.ConstantProvider.prototype.dispose=function(){e.zelos.ConstantProvider.superClass_.dispose.call(this),this.selectedGlowFilter_&&e.utils.dom.removeNode(this.selectedGlowFilter_),this.replacementGlowFilter_&&e.utils.dom.removeNode(this.replacementGlowFilter_)},e.zelos.ConstantProvider.prototype.makeStartHat=function(){var t=this.START_HAT_HEIGHT,n=this.START_HAT_WIDTH;return{height:t,width:n,path:e.utils.svgPaths.curve("c",[e.utils.svgPaths.point(25,-t),e.utils.svgPaths.point(71,-t),e.utils.svgPaths.point(n,0)])}},e.zelos.ConstantProvider.prototype.makeHexagonal=function(){function t(t,r,i){var o=t/2;return o=o>n?n:o,i=i?-1:1,t=(r?-1:1)*t/2,e.utils.svgPaths.lineTo(-i*o,t)+e.utils.svgPaths.lineTo(i*o,t)}var n=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH;return{type:this.SHAPES.HEXAGONAL,isDynamic:!0,width:function(e){return(e/=2)>n?n:e},height:function(e){return e},connectionOffsetY:function(e){return e/2},connectionOffsetX:function(e){return-e},pathDown:function(e){return t(e,!1,!1)},pathUp:function(e){return t(e,!0,!1)},pathRightDown:function(e){return t(e,!1,!0)},pathRightUp:function(e){return t(e,!1,!0)}}},e.zelos.ConstantProvider.prototype.makeRounded=function(){function t(t,n,i){var o=t>r?t-r:0;return t=(t>r?r:t)/2,e.utils.svgPaths.arc("a","0 0,1",t,e.utils.svgPaths.point((n?-1:1)*t,(n?-1:1)*t))+e.utils.svgPaths.lineOnAxis("v",(i?1:-1)*o)+e.utils.svgPaths.arc("a","0 0,1",t,e.utils.svgPaths.point((n?1:-1)*t,(n?-1:1)*t))}var n=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,r=2*n;return{type:this.SHAPES.ROUND,isDynamic:!0,width:function(e){return(e/=2)>n?n:e},height:function(e){return e},connectionOffsetY:function(e){return e/2},connectionOffsetX:function(e){return-e},pathDown:function(e){return t(e,!1,!1)},pathUp:function(e){return t(e,!0,!1)},pathRightDown:function(e){return t(e,!1,!0)},pathRightUp:function(e){return t(e,!1,!0)}}},e.zelos.ConstantProvider.prototype.makeSquared=function(){function t(t,r,i){return t-=2*n,e.utils.svgPaths.arc("a","0 0,1",n,e.utils.svgPaths.point((r?-1:1)*n,(r?-1:1)*n))+e.utils.svgPaths.lineOnAxis("v",(i?1:-1)*t)+e.utils.svgPaths.arc("a","0 0,1",n,e.utils.svgPaths.point((r?1:-1)*n,(r?-1:1)*n))}var n=this.CORNER_RADIUS;return{type:this.SHAPES.SQUARE,isDynamic:!0,width:function(e){return n},height:function(e){return e},connectionOffsetY:function(e){return e/2},connectionOffsetX:function(e){return-e},pathDown:function(e){return t(e,!1,!1)},pathUp:function(e){return t(e,!0,!1)},pathRightDown:function(e){return t(e,!1,!0)},pathRightUp:function(e){return t(e,!1,!0)}}},e.zelos.ConstantProvider.prototype.shapeFor=function(t){var n=t.getCheck();switch(!n&&t.targetConnection&&(n=t.targetConnection.getCheck()),t.type){case e.connectionTypes.INPUT_VALUE:case e.connectionTypes.OUTPUT_VALUE:if(null!=(t=t.getSourceBlock().getOutputShape()))switch(t){case this.SHAPES.HEXAGONAL:return this.HEXAGONAL;case this.SHAPES.ROUND:return this.ROUNDED;case this.SHAPES.SQUARE:return this.SQUARED}return n&&-1!=n.indexOf("Boolean")?this.HEXAGONAL:(n&&-1!=n.indexOf("Number")||n&&n.indexOf("String"),this.ROUNDED);case e.connectionTypes.PREVIOUS_STATEMENT:case e.connectionTypes.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown type")}},e.zelos.ConstantProvider.prototype.makeNotch=function(){function t(t){return e.utils.svgPaths.curve("c",[e.utils.svgPaths.point(t*o/2,0),e.utils.svgPaths.point(t*o*3/4,a/2),e.utils.svgPaths.point(t*o,a)])+e.utils.svgPaths.line([e.utils.svgPaths.point(t*o,s)])+e.utils.svgPaths.curve("c",[e.utils.svgPaths.point(t*o/4,a/2),e.utils.svgPaths.point(t*o/2,a),e.utils.svgPaths.point(t*o,a)])+e.utils.svgPaths.lineOnAxis("h",t*i)+e.utils.svgPaths.curve("c",[e.utils.svgPaths.point(t*o/2,0),e.utils.svgPaths.point(t*o*3/4,-a/2),e.utils.svgPaths.point(t*o,-a)])+e.utils.svgPaths.line([e.utils.svgPaths.point(t*o,-s)])+e.utils.svgPaths.curve("c",[e.utils.svgPaths.point(t*o/4,-a/2),e.utils.svgPaths.point(t*o/2,-a),e.utils.svgPaths.point(t*o,-a)])}var n=this.NOTCH_WIDTH,r=this.NOTCH_HEIGHT,i=n/3,o=i/3,s=r/2,a=s/2,l=t(1),c=t(-1);return{type:this.SHAPES.NOTCH,width:n,height:r,pathLeft:l,pathRight:c}},e.zelos.ConstantProvider.prototype.makeInsideCorners=function(){var t=this.CORNER_RADIUS,n=e.utils.svgPaths.arc("a","0 0,0",t,e.utils.svgPaths.point(-t,t)),r=e.utils.svgPaths.arc("a","0 0,1",t,e.utils.svgPaths.point(-t,t));return{width:t,height:t,pathTop:n,pathBottom:e.utils.svgPaths.arc("a","0 0,0",t,e.utils.svgPaths.point(t,t)),rightWidth:t,rightHeight:t,pathTopRight:r,pathBottomRight:e.utils.svgPaths.arc("a","0 0,1",t,e.utils.svgPaths.point(t,t))}},e.zelos.ConstantProvider.prototype.generateSecondaryColour_=function(t){return e.utils.colour.blend("#000",t,.15)||t},e.zelos.ConstantProvider.prototype.generateTertiaryColour_=function(t){return e.utils.colour.blend("#000",t,.25)||t},e.zelos.ConstantProvider.prototype.createDom=function(t,n,r){e.zelos.ConstantProvider.superClass_.createDom.call(this,t,n,r),t=e.utils.dom.createSvgElement(e.utils.Svg.DEFS,{},t),n=e.utils.dom.createSvgElement(e.utils.Svg.FILTER,{id:"blocklySelectedGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},t),e.utils.dom.createSvgElement(e.utils.Svg.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.SELECTED_GLOW_SIZE},n),r=e.utils.dom.createSvgElement(e.utils.Svg.FECOMPONENTTRANSFER,{result:"outBlur"},n),e.utils.dom.createSvgElement(e.utils.Svg.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},r),e.utils.dom.createSvgElement(e.utils.Svg.FEFLOOD,{"flood-color":this.SELECTED_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},n),e.utils.dom.createSvgElement(e.utils.Svg.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},n),this.selectedGlowFilterId=n.id,this.selectedGlowFilter_=n,t=e.utils.dom.createSvgElement(e.utils.Svg.FILTER,{id:"blocklyReplacementGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},t),e.utils.dom.createSvgElement(e.utils.Svg.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.REPLACEMENT_GLOW_SIZE},t),n=e.utils.dom.createSvgElement(e.utils.Svg.FECOMPONENTTRANSFER,{result:"outBlur"},t),e.utils.dom.createSvgElement(e.utils.Svg.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},n),e.utils.dom.createSvgElement(e.utils.Svg.FEFLOOD,{"flood-color":this.REPLACEMENT_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},t),e.utils.dom.createSvgElement(e.utils.Svg.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},t),e.utils.dom.createSvgElement(e.utils.Svg.FECOMPOSITE,{in:"SourceGraphic",in2:"outGlow",operator:"over"},t),this.replacementGlowFilterId=t.id,this.replacementGlowFilter_=t},e.zelos.ConstantProvider.prototype.getCSS_=function(e){return[e+" .blocklyText,",e+" .blocklyFlyoutLabelText {","font: "+this.FIELD_TEXT_FONTWEIGHT+" "+this.FIELD_TEXT_FONTSIZE+"pt "+this.FIELD_TEXT_FONTFAMILY+";","}",e+" .blocklyText {","fill: #fff;","}",e+" .blocklyNonEditableText>rect:not(.blocklyDropdownRect),",e+" .blocklyEditableText>rect:not(.blocklyDropdownRect) {","fill: "+this.FIELD_BORDER_RECT_COLOUR+";","}",e+" .blocklyNonEditableText>text,",e+" .blocklyEditableText>text,",e+" .blocklyNonEditableText>g>text,",e+" .blocklyEditableText>g>text {","fill: #575E75;","}",e+" .blocklyFlyoutLabelText {","fill: #575E75;","}",e+" .blocklyText.blocklyBubbleText {","fill: #575E75;","}",e+" .blocklyDraggable:not(.blocklyDisabled)"," .blocklyEditableText:not(.editing):hover>rect,",e+" .blocklyDraggable:not(.blocklyDisabled)"," .blocklyEditableText:not(.editing):hover>.blocklyPath {","stroke: #fff;","stroke-width: 2;","}",e+" .blocklyHtmlInput {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","font-weight: "+this.FIELD_TEXT_FONTWEIGHT+";","color: #575E75;","}",e+" .blocklyDropdownText {","fill: #fff !important;","}",e+".blocklyWidgetDiv .goog-menuitem,",e+".blocklyDropDownDiv .goog-menuitem {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","}",e+".blocklyDropDownDiv .goog-menuitem-content {","color: #fff;","}",e+" .blocklyHighlightedConnectionPath {","stroke: "+this.SELECTED_GLOW_COLOUR+";","}",e+" .blocklyDisabled > .blocklyOutlinePath {","fill: url(#blocklyDisabledPattern"+this.randomIdentifier+")","}",e+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none;","}"]},e.zelos.TopRow=function(t){e.zelos.TopRow.superClass_.constructor.call(this,t)},e.utils.object.inherits(e.zelos.TopRow,e.blockRendering.TopRow),e.zelos.TopRow.prototype.endsWithElemSpacer=function(){return!1},e.zelos.TopRow.prototype.hasLeftSquareCorner=function(e){var t=(e.hat?"cap"===e.hat:this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection;return!!e.outputConnection||t},e.zelos.TopRow.prototype.hasRightSquareCorner=function(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection},e.zelos.BottomRow=function(t){e.zelos.BottomRow.superClass_.constructor.call(this,t)},e.utils.object.inherits(e.zelos.BottomRow,e.blockRendering.BottomRow),e.zelos.BottomRow.prototype.endsWithElemSpacer=function(){return!1},e.zelos.BottomRow.prototype.hasLeftSquareCorner=function(e){return!!e.outputConnection},e.zelos.BottomRow.prototype.hasRightSquareCorner=function(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection},e.zelos.RightConnectionShape=function(t){e.zelos.RightConnectionShape.superClass_.constructor.call(this,t),this.type|=e.blockRendering.Types.getType("RIGHT_CONNECTION"),this.width=this.height=0},e.utils.object.inherits(e.zelos.RightConnectionShape,e.blockRendering.Measurable),e.zelos.RenderInfo=function(t,n){e.zelos.RenderInfo.superClass_.constructor.call(this,t,n),this.topRow=new e.zelos.TopRow(this.constants_),this.bottomRow=new e.zelos.BottomRow(this.constants_),this.isInline=!0,this.isMultiRow=!n.getInputsInline()||n.isCollapsed(),this.hasStatementInput=0<n.statementInputCount,this.rightSide=this.outputConnection?new e.zelos.RightConnectionShape(this.constants_):null},e.utils.object.inherits(e.zelos.RenderInfo,e.blockRendering.RenderInfo),e.zelos.RenderInfo.prototype.getRenderer=function(){return this.renderer_},e.zelos.RenderInfo.prototype.measure=function(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.adjustXPosition_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()},e.zelos.RenderInfo.prototype.shouldStartNewRow_=function(t,n){return!!n&&(t.type==e.inputTypes.STATEMENT||n.type==e.inputTypes.STATEMENT||(t.type==e.inputTypes.VALUE||t.type==e.inputTypes.DUMMY)&&(!this.isInline||this.isMultiRow))},e.zelos.RenderInfo.prototype.getDesiredRowWidth_=function(t){return t.hasStatement?this.width-this.startX-(this.constants_.INSIDE_CORNERS.rightWidth||0):e.zelos.RenderInfo.superClass_.getDesiredRowWidth_.call(this,t)},e.zelos.RenderInfo.prototype.getInRowSpacing_=function(t,n){return t&&n||!this.outputConnection||!this.outputConnection.isDynamicShape||this.hasStatementInput||this.bottomRow.hasNextConnection?!t&&n&&e.blockRendering.Types.isStatementInput(n)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:t&&e.blockRendering.Types.isLeftRoundedCorner(t)&&n&&(e.blockRendering.Types.isPreviousConnection(n)||e.blockRendering.Types.isNextConnection(n))?n.notchOffset-this.constants_.CORNER_RADIUS:t&&e.blockRendering.Types.isLeftSquareCorner(t)&&n&&e.blockRendering.Types.isHat(n)?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:this.constants_.NO_PADDING},e.zelos.RenderInfo.prototype.getSpacerRowHeight_=function(t,n){if(e.blockRendering.Types.isTopRow(t)&&e.blockRendering.Types.isBottomRow(n))return this.constants_.EMPTY_BLOCK_SPACER_HEIGHT;var r=e.blockRendering.Types.isInputRow(t)&&t.hasStatement,i=e.blockRendering.Types.isInputRow(n)&&n.hasStatement;return i||r?(t=Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.INSIDE_CORNERS.rightHeight||0),i&&r?Math.max(t,this.constants_.DUMMY_INPUT_MIN_HEIGHT):t):e.blockRendering.Types.isTopRow(t)?t.hasPreviousConnection||this.outputConnection&&!this.hasStatementInput?this.constants_.NO_PADDING:Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):e.blockRendering.Types.isBottomRow(n)?this.outputConnection?!n.hasNextConnection&&this.hasStatementInput?Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):this.constants_.NO_PADDING:Math.max(this.topRow.minHeight,Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.CORNER_RADIUS))-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING},e.zelos.RenderInfo.prototype.getSpacerRowWidth_=function(t,n){var r=this.width-this.startX;return e.blockRendering.Types.isInputRow(t)&&t.hasStatement||e.blockRendering.Types.isInputRow(n)&&n.hasStatement?Math.max(r,this.constants_.STATEMENT_INPUT_SPACER_MIN_WIDTH):r},e.zelos.RenderInfo.prototype.getElemCenterline_=function(t,n){if(t.hasStatement&&!e.blockRendering.Types.isSpacer(n)&&!e.blockRendering.Types.isStatementInput(n))return t.yPos+this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT/2;if(e.blockRendering.Types.isInlineInput(n)){var r=n.connectedBlock;if(r&&r.outputConnection&&r.nextConnection)return t.yPos+r.height/2}return e.zelos.RenderInfo.superClass_.getElemCenterline_.call(this,t,n)},e.zelos.RenderInfo.prototype.addInput_=function(t,n){t.type==e.inputTypes.DUMMY&&n.hasDummyInput&&n.align==e.constants.ALIGN.LEFT&&t.align==e.constants.ALIGN.RIGHT&&(n.rightAlignedDummyInput=t),e.zelos.RenderInfo.superClass_.addInput_.call(this,t,n)},e.zelos.RenderInfo.prototype.addAlignmentPadding_=function(t,n){if(t.rightAlignedDummyInput){for(var r,i,o=0;(i=t.elements[o])&&(e.blockRendering.Types.isSpacer(i)&&(r=i),!e.blockRendering.Types.isField(i)||i.parentInput!=t.rightAlignedDummyInput);o++);if(r)return r.width+=n,void(t.width+=n)}e.zelos.RenderInfo.superClass_.addAlignmentPadding_.call(this,t,n)},e.zelos.RenderInfo.prototype.adjustXPosition_=function(){for(var t=this.constants_.NOTCH_OFFSET_LEFT+this.constants_.NOTCH_WIDTH,n=t,r=2;r<this.rows.length-1;r+=2){var i=this.rows[r-1],o=this.rows[r],s=this.rows[r+1];if(i=2==r?!!this.topRow.hasPreviousConnection:!!i.followsStatement,s=r+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!s.precedesStatement,e.blockRendering.Types.isInputRow(o)&&o.hasStatement)o.measure(),n=o.width-o.getLastInput().width+t;else if(i&&(2==r||s)&&e.blockRendering.Types.isInputRow(o)&&!o.hasStatement){s=o.xPos,i=null;for(var a,l=0;a=o.elements[l];l++)e.blockRendering.Types.isSpacer(a)&&(i=a),!(i&&(e.blockRendering.Types.isField(a)||e.blockRendering.Types.isInput(a))&&s<n)||e.blockRendering.Types.isField(a)&&(a.field instanceof e.FieldLabel||a.field instanceof e.FieldImage)||(i.width+=n-s),s+=a.width}}},e.zelos.RenderInfo.prototype.finalizeOutputConnection_=function(){if(this.outputConnection&&this.outputConnection.isDynamicShape){for(var e,t=0,n=0;e=this.rows[n];n++)e.yPos=t,t+=e.height;this.height=t,n=this.bottomRow.hasNextConnection?this.height-this.bottomRow.descenderHeight:this.height,t=this.outputConnection.shape.height(n),n=this.outputConnection.shape.width(n),this.outputConnection.height=t,this.outputConnection.width=n,this.outputConnection.startX=n,this.outputConnection.connectionOffsetY=this.outputConnection.shape.connectionOffsetY(t),this.outputConnection.connectionOffsetX=this.outputConnection.shape.connectionOffsetX(n),e=0,this.hasStatementInput||this.bottomRow.hasNextConnection||(e=n,this.rightSide.height=t,this.rightSide.width=e,this.rightSide.centerline=t/2,this.rightSide.xPos=this.width+e),this.startX=n,this.width+=n+e,this.widthWithChildren+=n+e}},e.zelos.RenderInfo.prototype.finalizeHorizontalAlignment_=function(){if(this.outputConnection&&!this.hasStatementInput&&!this.bottomRow.hasNextConnection){for(var t,n=0,r=0;t=this.rows[r];r++)if(e.blockRendering.Types.isInputRow(t)){n=t.elements[t.elements.length-2];var i=this.getNegativeSpacing_(t.elements[1]),o=this.getNegativeSpacing_(n);n=i+o;var s=this.constants_.MIN_BLOCK_WIDTH+2*this.outputConnection.width;this.width-n<s&&(i=(n=this.width-s)/2,o=n/2),t.elements.unshift(new e.blockRendering.InRowSpacer(this.constants_,-i)),t.elements.push(new e.blockRendering.InRowSpacer(this.constants_,-o))}if(n)for(this.width-=n,this.widthWithChildren-=n,this.rightSide.xPos-=n,r=0;t=this.rows[r];r++)e.blockRendering.Types.isTopOrBottomRow(t)&&(t.elements[1].width-=n,t.elements[1].widthWithConnectedBlocks-=n),t.width-=n,t.widthWithConnectedBlocks-=n}},e.zelos.RenderInfo.prototype.getNegativeSpacing_=function(t){if(!t)return 0;var n=this.outputConnection.width,r=this.outputConnection.shape.type,i=this.constants_;if(this.isMultiRow&&1<this.inputRows.length)return r===i.SHAPES.ROUND?(r=this.constants_.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,n-(r=this.height/2>r?r:this.height/2)*(1-Math.sin(Math.acos((r-this.constants_.SMALL_PADDING)/r)))):0;if(e.blockRendering.Types.isInlineInput(t)){var o=t.connectedBlock;return t=o?o.pathObject.outputShapeType:t.shape.type,o&&o.outputConnection&&(o.statementInputCount||o.nextConnection)||r==i.SHAPES.HEXAGONAL&&r!=t?0:n-this.constants_.SHAPE_IN_SHAPE_PADDING[r][t]}return e.blockRendering.Types.isField(t)?r==i.SHAPES.ROUND&&t.field instanceof e.FieldTextInput?n-2.75*i.GRID_UNIT:n-this.constants_.SHAPE_IN_SHAPE_PADDING[r][0]:e.blockRendering.Types.isIcon(t)?this.constants_.SMALL_PADDING:0},e.zelos.RenderInfo.prototype.finalizeVerticalAlignment_=function(){if(!this.outputConnection)for(var t=2;t<this.rows.length-1;t+=2){var n=this.rows[t-1],r=this.rows[t],i=this.rows[t+1],o=2==t,s=t+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!i.precedesStatement;if(o?this.topRow.hasPreviousConnection:n.followsStatement){var a=3==r.elements.length&&(r.elements[1].field instanceof e.FieldLabel||r.elements[1].field instanceof e.FieldImage);if(!o&&a)n.height-=this.constants_.SMALL_PADDING,i.height-=this.constants_.SMALL_PADDING,r.height-=this.constants_.MEDIUM_PADDING;else if(o||s){if(s){for(o=!1,s=0;a=r.elements[s];s++)if(e.blockRendering.Types.isInlineInput(a)&&a.connectedBlock&&!a.connectedBlock.isShadow()&&40<=a.connectedBlock.getHeightWidth().height){o=!0;break}o&&(n.height-=this.constants_.SMALL_PADDING,i.height-=this.constants_.SMALL_PADDING)}}else n.height+=this.constants_.SMALL_PADDING}}},e.zelos.RenderInfo.prototype.finalize_=function(){this.finalizeOutputConnection_(),this.finalizeHorizontalAlignment_(),this.finalizeVerticalAlignment_(),e.zelos.RenderInfo.superClass_.finalize_.call(this),this.rightSide&&(this.widthWithChildren+=this.rightSide.width)},e.zelos.Drawer=function(t,n){e.zelos.Drawer.superClass_.constructor.call(this,t,n)},e.utils.object.inherits(e.zelos.Drawer,e.blockRendering.Drawer),e.zelos.Drawer.prototype.draw=function(){var t=this.block_.pathObject;t.beginDrawing(),this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_(),t.setPath(this.outlinePath_+"\n"+this.inlinePath_),this.info_.RTL&&t.flipRTL(),e.blockRendering.useDebugger&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_(),this.info_.outputConnection&&(t.outputShapeType=this.info_.outputConnection.shape.type),t.endDrawing()},e.zelos.Drawer.prototype.drawOutline_=function(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape&&!this.info_.hasStatementInput&&!this.info_.bottomRow.hasNextConnection?(this.drawFlatTop_(),this.drawRightDynamicConnection_(),this.drawFlatBottom_(),this.drawLeftDynamicConnection_()):e.zelos.Drawer.superClass_.drawOutline_.call(this)},e.zelos.Drawer.prototype.drawLeft_=function(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape?this.drawLeftDynamicConnection_():e.zelos.Drawer.superClass_.drawLeft_.call(this)},e.zelos.Drawer.prototype.drawRightSideRow_=function(t){if(!(0>=t.height))if(t.precedesStatement||t.followsStatement){var n=this.constants_.INSIDE_CORNERS.rightHeight;n=t.height-(t.precedesStatement?n:0),this.outlinePath_+=(t.followsStatement?this.constants_.INSIDE_CORNERS.pathBottomRight:"")+(0<n?e.utils.svgPaths.lineOnAxis("V",t.yPos+n):"")+(t.precedesStatement?this.constants_.INSIDE_CORNERS.pathTopRight:"")}else this.outlinePath_+=e.utils.svgPaths.lineOnAxis("V",t.yPos+t.height)},e.zelos.Drawer.prototype.drawRightDynamicConnection_=function(){this.outlinePath_+=this.info_.outputConnection.shape.pathRightDown(this.info_.outputConnection.height)},e.zelos.Drawer.prototype.drawLeftDynamicConnection_=function(){this.positionOutputConnection_(),this.outlinePath_+=this.info_.outputConnection.shape.pathUp(this.info_.outputConnection.height),this.outlinePath_+="z"},e.zelos.Drawer.prototype.drawFlatTop_=function(){var t=this.info_.topRow;this.positionPreviousConnection_(),this.outlinePath_+=e.utils.svgPaths.moveBy(t.xPos,this.info_.startY),this.outlinePath_+=e.utils.svgPaths.lineOnAxis("h",t.width)},e.zelos.Drawer.prototype.drawFlatBottom_=function(){var t=this.info_.bottomRow;this.positionNextConnection_(),this.outlinePath_+=e.utils.svgPaths.lineOnAxis("V",t.baseline),this.outlinePath_+=e.utils.svgPaths.lineOnAxis("h",-t.width)},e.zelos.Drawer.prototype.drawInlineInput_=function(t){this.positionInlineInputConnection_(t);var n=t.input.name;if(!t.connectedBlock&&!this.info_.isInsertionMarker){var r=t.width-2*t.connectionWidth;t=e.utils.svgPaths.moveTo(t.xPos+t.connectionWidth,t.centerline-t.height/2)+e.utils.svgPaths.lineOnAxis("h",r)+t.shape.pathRightDown(t.height)+e.utils.svgPaths.lineOnAxis("h",-r)+t.shape.pathUp(t.height)+"z",this.block_.pathObject.setOutlinePath(n,t)}},e.zelos.Drawer.prototype.drawStatementInput_=function(t){var n=t.getLastInput(),r=n.xPos+n.notchOffset+n.shape.width,i=n.shape.pathRight+e.utils.svgPaths.lineOnAxis("h",-(n.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop,o=t.height-2*this.constants_.INSIDE_CORNERS.height;n=this.constants_.INSIDE_CORNERS.pathBottom+e.utils.svgPaths.lineOnAxis("h",n.notchOffset-this.constants_.INSIDE_CORNERS.width)+(n.connectedBottomNextConnection?"":n.shape.pathLeft),this.outlinePath_+=e.utils.svgPaths.lineOnAxis("H",r)+i+e.utils.svgPaths.lineOnAxis("v",o)+n+e.utils.svgPaths.lineOnAxis("H",t.xPos+t.width),this.positionStatementInputConnection_(t)},e.zelos.MarkerSvg=function(t,n,r){e.zelos.MarkerSvg.superClass_.constructor.call(this,t,n,r)},e.utils.object.inherits(e.zelos.MarkerSvg,e.blockRendering.MarkerSvg),e.zelos.MarkerSvg.prototype.showWithInputOutput_=function(e){var t=e.getSourceBlock();e=e.getLocation().getOffsetInBlock(),this.positionCircle_(e.x,e.y),this.setParent_(t),this.showCurrent_()},e.zelos.MarkerSvg.prototype.showWithOutput_=function(e){this.showWithInputOutput_(e)},e.zelos.MarkerSvg.prototype.showWithInput_=function(e){this.showWithInputOutput_(e)},e.zelos.MarkerSvg.prototype.showWithBlock_=function(e){var t=(e=e.getLocation()).getHeightWidth();this.positionRect_(0,0,t.width,t.height),this.setParent_(e),this.showCurrent_()},e.zelos.MarkerSvg.prototype.positionCircle_=function(e,t){this.markerCircle_.setAttribute("cx",e),this.markerCircle_.setAttribute("cy",t),this.currentMarkerSvg=this.markerCircle_},e.zelos.MarkerSvg.prototype.hide=function(){e.zelos.MarkerSvg.superClass_.hide.call(this),this.markerCircle_.style.display="none"},e.zelos.MarkerSvg.prototype.createDomInternal_=function(){if(e.zelos.MarkerSvg.superClass_.createDomInternal_.call(this),this.markerCircle_=e.utils.dom.createSvgElement(e.utils.Svg.CIRCLE,{r:this.constants_.CURSOR_RADIUS,style:"display: none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.isCursor()){var t=this.getBlinkProperties_();e.utils.dom.createSvgElement(e.utils.Svg.ANIMATE,t,this.markerCircle_)}return this.markerSvg_},e.zelos.MarkerSvg.prototype.applyColour_=function(t){e.zelos.MarkerSvg.superClass_.applyColour_.call(this,t),this.markerCircle_.setAttribute("fill",this.colour_),this.markerCircle_.setAttribute("stroke",this.colour_),this.isCursor()&&this.markerCircle_.firstChild.setAttribute("values",this.colour_+";transparent;transparent;")},e.zelos.PathObject=function(t,n,r){e.zelos.PathObject.superClass_.constructor.call(this,t,n,r),this.constants=r,this.svgPathSelected_=null,this.outlines_=Object.create(null),this.outputShapeType=this.remainingOutlines_=null},e.utils.object.inherits(e.zelos.PathObject,e.blockRendering.PathObject),e.zelos.PathObject.prototype.setPath=function(t){e.zelos.PathObject.superClass_.setPath.call(this,t),this.svgPathSelected_&&this.svgPathSelected_.setAttribute("d",t)},e.zelos.PathObject.prototype.applyColour=function(t){for(var n in e.zelos.PathObject.superClass_.applyColour.call(this,t),t.isShadow()&&t.getParent()&&this.svgPath.setAttribute("stroke",t.getParent().style.colourTertiary),this.outlines_)this.outlines_[n].setAttribute("fill",this.style.colourTertiary)},e.zelos.PathObject.prototype.flipRTL=function(){for(var t in e.zelos.PathObject.superClass_.flipRTL.call(this),this.outlines_)this.outlines_[t].setAttribute("transform","scale(-1 1)")},e.zelos.PathObject.prototype.updateSelected=function(e){this.setClass_("blocklySelected",e),e?this.svgPathSelected_||(this.svgPathSelected_=this.svgPath.cloneNode(!0),this.svgPathSelected_.setAttribute("fill","none"),this.svgPathSelected_.setAttribute("filter","url(#"+this.constants.selectedGlowFilterId+")"),this.svgRoot.appendChild(this.svgPathSelected_)):this.svgPathSelected_&&(this.svgRoot.removeChild(this.svgPathSelected_),this.svgPathSelected_=null)},e.zelos.PathObject.prototype.updateReplacementFade=function(e){this.setClass_("blocklyReplaceable",e),e?this.svgPath.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):this.svgPath.removeAttribute("filter")},e.zelos.PathObject.prototype.updateShapeForInputHighlight=function(e,t){e=e.getParentInput().name,(e=this.getOutlinePath_(e))&&(t?e.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):e.removeAttribute("filter"))},e.zelos.PathObject.prototype.beginDrawing=function(){for(var e in this.remainingOutlines_=Object.create(null),this.outlines_)this.remainingOutlines_[e]=1},e.zelos.PathObject.prototype.endDrawing=function(){if(this.remainingOutlines_)for(var e in this.remainingOutlines_)this.removeOutlinePath_(e);this.remainingOutlines_=null},e.zelos.PathObject.prototype.setOutlinePath=function(e,t){(e=this.getOutlinePath_(e)).setAttribute("d",t),e.setAttribute("fill",this.style.colourTertiary)},e.zelos.PathObject.prototype.getOutlinePath_=function(t){return this.outlines_[t]||(this.outlines_[t]=e.utils.dom.createSvgElement(e.utils.Svg.PATH,{class:"blocklyOutlinePath",d:""},this.svgRoot)),this.remainingOutlines_&&delete this.remainingOutlines_[t],this.outlines_[t]},e.zelos.PathObject.prototype.removeOutlinePath_=function(e){this.outlines_[e].parentNode.removeChild(this.outlines_[e]),delete this.outlines_[e]},e.zelos.Renderer=function(t){e.zelos.Renderer.superClass_.constructor.call(this,t)},e.utils.object.inherits(e.zelos.Renderer,e.blockRendering.Renderer),e.zelos.Renderer.prototype.makeConstants_=function(){return new e.zelos.ConstantProvider},e.zelos.Renderer.prototype.makeRenderInfo_=function(t){return new e.zelos.RenderInfo(this,t)},e.zelos.Renderer.prototype.makeDrawer_=function(t,n){return new e.zelos.Drawer(t,n)},e.zelos.Renderer.prototype.makeMarkerDrawer=function(t,n){return new e.zelos.MarkerSvg(t,this.getConstants(),n)},e.zelos.Renderer.prototype.makePathObject=function(t,n){return new e.zelos.PathObject(t,n,this.getConstants())},e.zelos.Renderer.prototype.shouldHighlightConnection=function(t){return t.type!=e.connectionTypes.INPUT_VALUE&&t.type!==e.connectionTypes.OUTPUT_VALUE},e.zelos.Renderer.prototype.getConnectionPreviewMethod=function(t,n,r){return n.type==e.connectionTypes.OUTPUT_VALUE?t.isConnected()?e.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:e.InsertionMarkerManager.PREVIEW_TYPE.INPUT_OUTLINE:e.zelos.Renderer.superClass_.getConnectionPreviewMethod(t,n,r)},e.blockRendering.register("zelos",e.zelos.Renderer),e.Themes.Dark=e.Theme.defineTheme("dark",{base:e.Themes.Classic,componentStyles:{workspaceBackgroundColour:"#1e1e1e",toolboxBackgroundColour:"blackBackground",toolboxForegroundColour:"#fff",flyoutBackgroundColour:"#252526",flyoutForegroundColour:"#ccc",flyoutOpacity:1,scrollbarColour:"#797979",insertionMarkerColour:"#fff",insertionMarkerOpacity:.3,scrollbarOpacity:.4,cursorColour:"#d0d0d0",blackBackground:"#333"}}),e.Themes.Deuteranopia={},e.Themes.Deuteranopia.defaultBlockStyles={colour_blocks:{colourPrimary:"#f2a72c",colourSecondary:"#f1c172",colourTertiary:"#da921c"},list_blocks:{colourPrimary:"#7d65ab",colourSecondary:"#a88be0",colourTertiary:"#66518e"},logic_blocks:{colourPrimary:"#9fd2f1",colourSecondary:"#c0e0f4",colourTertiary:"#74bae5"},loop_blocks:{colourPrimary:"#795a07",colourSecondary:"#ac8726",colourTertiary:"#c4a03f"},math_blocks:{colourPrimary:"#e6da39",colourSecondary:"#f3ec8e",colourTertiary:"#f2eeb7"},procedure_blocks:{colourPrimary:"#590721",colourSecondary:"#8c475d",colourTertiary:"#885464"},text_blocks:{colourPrimary:"#058863",colourSecondary:"#5ecfaf",colourTertiary:"#04684c"},variable_blocks:{colourPrimary:"#47025a",colourSecondary:"#820fa1",colourTertiary:"#8e579d"},variable_dynamic_blocks:{colourPrimary:"#47025a",colourSecondary:"#820fa1",colourTertiary:"#8e579d"}},e.Themes.Deuteranopia.categoryStyles={colour_category:{colour:"#f2a72c"},list_category:{colour:"#7d65ab"},logic_category:{colour:"#9fd2f1"},loop_category:{colour:"#795a07"},math_category:{colour:"#e6da39"},procedure_category:{colour:"#590721"},text_category:{colour:"#058863"},variable_category:{colour:"#47025a"},variable_dynamic_category:{colour:"#47025a"}},e.Themes.Deuteranopia=new e.Theme("deuteranopia",e.Themes.Deuteranopia.defaultBlockStyles,e.Themes.Deuteranopia.categoryStyles),e.Themes.HighContrast={},e.Themes.HighContrast.defaultBlockStyles={colour_blocks:{colourPrimary:"#a52714",colourSecondary:"#FB9B8C",colourTertiary:"#FBE1DD"},list_blocks:{colourPrimary:"#4a148c",colourSecondary:"#AD7BE9",colourTertiary:"#CDB6E9"},logic_blocks:{colourPrimary:"#01579b",colourSecondary:"#64C7FF",colourTertiary:"#C5EAFF"},loop_blocks:{colourPrimary:"#33691e",colourSecondary:"#9AFF78",colourTertiary:"#E1FFD7"},math_blocks:{colourPrimary:"#1a237e",colourSecondary:"#8A9EFF",colourTertiary:"#DCE2FF"},procedure_blocks:{colourPrimary:"#006064",colourSecondary:"#77E6EE",colourTertiary:"#CFECEE"},text_blocks:{colourPrimary:"#004d40",colourSecondary:"#5ae27c",colourTertiary:"#D2FFDD"},variable_blocks:{colourPrimary:"#880e4f",colourSecondary:"#FF73BE",colourTertiary:"#FFD4EB"},variable_dynamic_blocks:{colourPrimary:"#880e4f",colourSecondary:"#FF73BE",colourTertiary:"#FFD4EB"},hat_blocks:{colourPrimary:"#880e4f",colourSecondary:"#FF73BE",colourTertiary:"#FFD4EB",hat:"cap"}},e.Themes.HighContrast.categoryStyles={colour_category:{colour:"#a52714"},list_category:{colour:"#4a148c"},logic_category:{colour:"#01579b"},loop_category:{colour:"#33691e"},math_category:{colour:"#1a237e"},procedure_category:{colour:"#006064"},text_category:{colour:"#004d40"},variable_category:{colour:"#880e4f"},variable_dynamic_category:{colour:"#880e4f"}},e.Themes.HighContrast=new e.Theme("highcontrast",e.Themes.HighContrast.defaultBlockStyles,e.Themes.HighContrast.categoryStyles),e.Themes.HighContrast.setComponentStyle("selectedGlowColour","#000000"),e.Themes.HighContrast.setComponentStyle("selectedGlowSize",1),e.Themes.HighContrast.setComponentStyle("replacementGlowColour","#000000"),e.Themes.HighContrast.setFontStyle({family:null,weight:null,size:16}),e.Themes.Tritanopia={},e.Themes.Tritanopia.defaultBlockStyles={colour_blocks:{colourPrimary:"#05427f",colourSecondary:"#2974c0",colourTertiary:"#2d74bb"},list_blocks:{colourPrimary:"#b69ce8",colourSecondary:"#ccbaef",colourTertiary:"#9176c5"},logic_blocks:{colourPrimary:"#9fd2f1",colourSecondary:"#c0e0f4",colourTertiary:"#74bae5"},loop_blocks:{colourPrimary:"#aa1846",colourSecondary:"#d36185",colourTertiary:"#7c1636"},math_blocks:{colourPrimary:"#e6da39",colourSecondary:"#f3ec8e",colourTertiary:"#f2eeb7"},procedure_blocks:{colourPrimary:"#590721",colourSecondary:"#8c475d",colourTertiary:"#885464"},text_blocks:{colourPrimary:"#058863",colourSecondary:"#5ecfaf",colourTertiary:"#04684c"},variable_blocks:{colourPrimary:"#4b2d84",colourSecondary:"#816ea7",colourTertiary:"#83759e"},variable_dynamic_blocks:{colourPrimary:"#4b2d84",colourSecondary:"#816ea7",colourTertiary:"#83759e"}},e.Themes.Tritanopia.categoryStyles={colour_category:{colour:"#05427f"},list_category:{colour:"#b69ce8"},logic_category:{colour:"#9fd2f1"},loop_category:{colour:"#aa1846"},math_category:{colour:"#e6da39"},procedure_category:{colour:"#590721"},text_category:{colour:"#058863"},variable_category:{colour:"#4b2d84"},variable_dynamic_category:{colour:"#4b2d84"}},e.Themes.Tritanopia=new e.Theme("tritanopia",e.Themes.Tritanopia.defaultBlockStyles,e.Themes.Tritanopia.categoryStyles),e.requires={},e})?r.apply(t,i):r)||(e.exports=o)},3487:function(e,t,n){var r,i,o;i=[n(7365)],void 0===(o="function"===typeof(r=function(e){"use strict";return e.Blocks={},e.Blocks})?r.apply(t,i):r)||(e.exports=o)},7365:function(e,t,n){var r,i,o;i=[n(9810)],void 0===(o="function"===typeof(r=function(e){"use strict";return e.Blocks.colour={},e.Constants={},e.Constants.Colour={},e.Constants.Colour.HUE=20,e.defineBlocksWithJsonArray([{type:"colour_picker",message0:"%1",args0:[{type:"field_colour",name:"COLOUR",colour:"#ff0000"}],output:"Colour",helpUrl:"%{BKY_COLOUR_PICKER_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_PICKER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"colour_random",message0:"%{BKY_COLOUR_RANDOM_TITLE}",output:"Colour",helpUrl:"%{BKY_COLOUR_RANDOM_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RANDOM_TOOLTIP}"},{type:"colour_rgb",message0:"%{BKY_COLOUR_RGB_TITLE} %{BKY_COLOUR_RGB_RED} %1 %{BKY_COLOUR_RGB_GREEN} %2 %{BKY_COLOUR_RGB_BLUE} %3",args0:[{type:"input_value",name:"RED",check:"Number",align:"RIGHT"},{type:"input_value",name:"GREEN",check:"Number",align:"RIGHT"},{type:"input_value",name:"BLUE",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_RGB_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RGB_TOOLTIP}"},{type:"colour_blend",message0:"%{BKY_COLOUR_BLEND_TITLE} %{BKY_COLOUR_BLEND_COLOUR1} %1 %{BKY_COLOUR_BLEND_COLOUR2} %2 %{BKY_COLOUR_BLEND_RATIO} %3",args0:[{type:"input_value",name:"COLOUR1",check:"Colour",align:"RIGHT"},{type:"input_value",name:"COLOUR2",check:"Colour",align:"RIGHT"},{type:"input_value",name:"RATIO",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_BLEND_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_BLEND_TOOLTIP}"}]),e.Constants.Lists={},e.Constants.Lists.HUE=260,e.defineBlocksWithJsonArray([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]),e.Blocks.lists_create_with={init:function(){this.setHelpUrl(e.Msg.LISTS_CREATE_WITH_HELPURL),this.setStyle("list_blocks"),this.itemCount_=3,this.updateShape_(),this.setOutput(!0,"Array"),this.setMutator(new e.Mutator(["lists_create_with_item"])),this.setTooltip(e.Msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){var t=e.utils.xml.createElement("mutation");return t.setAttribute("items",this.itemCount_),t},domToMutation:function(e){this.itemCount_=parseInt(e.getAttribute("items"),10),this.updateShape_()},decompose:function(e){var t=e.newBlock("lists_create_with_container");t.initSvg();for(var n=t.getInput("STACK").connection,r=0;r<this.itemCount_;r++){var i=e.newBlock("lists_create_with_item");i.initSvg(),n.connect(i.previousConnection),n=i.nextConnection}return t},compose:function(t){var n=t.getInputTargetBlock("STACK");for(t=[];n&&!n.isInsertionMarker();)t.push(n.valueConnection_),n=n.nextConnection&&n.nextConnection.targetBlock();for(n=0;n<this.itemCount_;n++){var r=this.getInput("ADD"+n).connection.targetConnection;r&&-1==t.indexOf(r)&&r.disconnect()}for(this.itemCount_=t.length,this.updateShape_(),n=0;n<this.itemCount_;n++)e.Mutator.reconnect(t[n],this,"ADD"+n)},saveConnections:function(e){e=e.getInputTargetBlock("STACK");for(var t=0;e;){var n=this.getInput("ADD"+t);e.valueConnection_=n&&n.connection.targetConnection,t++,e=e.nextConnection&&e.nextConnection.targetBlock()}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(e.Msg.LISTS_CREATE_EMPTY_TITLE);for(var t=0;t<this.itemCount_;t++)if(!this.getInput("ADD"+t)){var n=this.appendValueInput("ADD"+t).setAlign(e.ALIGN_RIGHT);0==t&&n.appendField(e.Msg.LISTS_CREATE_WITH_INPUT_WITH)}for(;this.getInput("ADD"+t);)this.removeInput("ADD"+t),t++}},e.Blocks.lists_create_with_container={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(e.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD),this.appendStatementInput("STACK"),this.setTooltip(e.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP),this.contextMenu=!1}},e.Blocks.lists_create_with_item={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(e.Msg.LISTS_CREATE_WITH_ITEM_TITLE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(e.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP),this.contextMenu=!1}},e.Blocks.lists_indexOf={init:function(){var t=[[e.Msg.LISTS_INDEX_OF_FIRST,"FIRST"],[e.Msg.LISTS_INDEX_OF_LAST,"LAST"]];this.setHelpUrl(e.Msg.LISTS_INDEX_OF_HELPURL),this.setStyle("list_blocks"),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck("Array").appendField(e.Msg.LISTS_INDEX_OF_INPUT_IN_LIST),this.appendValueInput("FIND").appendField(new e.FieldDropdown(t),"END"),this.setInputsInline(!0);var n=this;this.setTooltip((function(){return e.Msg.LISTS_INDEX_OF_TOOLTIP.replace("%1",n.workspace.options.oneBasedIndex?"0":"-1")}))}},e.Blocks.lists_getIndex={init:function(){var t=[[e.Msg.LISTS_GET_INDEX_GET,"GET"],[e.Msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[e.Msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[e.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[e.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[e.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[e.Msg.LISTS_GET_INDEX_LAST,"LAST"],[e.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(e.Msg.LISTS_GET_INDEX_HELPURL),this.setStyle("list_blocks"),t=new e.FieldDropdown(t,(function(e){e="REMOVE"==e,this.getSourceBlock().updateStatement_(e)})),this.appendValueInput("VALUE").setCheck("Array").appendField(e.Msg.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(t,"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),e.Msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(e.Msg.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0),this.updateAt_(!0);var n=this;this.setTooltip((function(){var t=n.getFieldValue("MODE"),r=n.getFieldValue("WHERE"),i="";switch(t+" "+r){case"GET FROM_START":case"GET FROM_END":i=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case"GET FIRST":i=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case"GET LAST":i=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case"GET RANDOM":i=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case"GET_REMOVE FROM_START":case"GET_REMOVE FROM_END":i=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case"GET_REMOVE FIRST":i=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case"GET_REMOVE LAST":i=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case"GET_REMOVE RANDOM":i=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case"REMOVE FROM_START":case"REMOVE FROM_END":i=e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case"REMOVE FIRST":i=e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case"REMOVE LAST":i=e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case"REMOVE RANDOM":i=e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}return"FROM_START"!=r&&"FROM_END"!=r||(i+="  "+("FROM_START"==r?e.Msg.LISTS_INDEX_FROM_START_TOOLTIP:e.Msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",n.workspace.options.oneBasedIndex?"#1":"#0")),i}))},mutationToDom:function(){var t=e.utils.xml.createElement("mutation");t.setAttribute("statement",!this.outputConnection);var n=this.getInput("AT").type==e.INPUT_VALUE;return t.setAttribute("at",n),t},domToMutation:function(e){var t="true"==e.getAttribute("statement");this.updateStatement_(t),e="false"!=e.getAttribute("at"),this.updateAt_(e)},updateStatement_:function(e){e!=!this.outputConnection&&(this.unplug(!0,!0),e?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(t){this.removeInput("AT"),this.removeInput("ORDINAL",!0),t?(this.appendValueInput("AT").setCheck("Number"),e.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(e.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var n=new e.FieldDropdown(this.WHERE_OPTIONS,(function(e){var n="FROM_START"==e||"FROM_END"==e;if(n!=t){var r=this.getSourceBlock();return r.updateAt_(n),r.setFieldValue(e,"WHERE"),null}}));this.getInput("AT").appendField(n,"WHERE"),e.Msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}},e.Blocks.lists_setIndex={init:function(){var t=[[e.Msg.LISTS_SET_INDEX_SET,"SET"],[e.Msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[e.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[e.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[e.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[e.Msg.LISTS_GET_INDEX_LAST,"LAST"],[e.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(e.Msg.LISTS_SET_INDEX_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(e.Msg.LISTS_SET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(new e.FieldDropdown(t),"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendField(e.Msg.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(e.Msg.LISTS_SET_INDEX_TOOLTIP),this.updateAt_(!0);var n=this;this.setTooltip((function(){var t=n.getFieldValue("MODE"),r=n.getFieldValue("WHERE"),i="";switch(t+" "+r){case"SET FROM_START":case"SET FROM_END":i=e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case"SET FIRST":i=e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case"SET LAST":i=e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case"SET RANDOM":i=e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case"INSERT FROM_START":case"INSERT FROM_END":i=e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case"INSERT FIRST":i=e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case"INSERT LAST":i=e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case"INSERT RANDOM":i=e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}return"FROM_START"!=r&&"FROM_END"!=r||(i+="  "+e.Msg.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",n.workspace.options.oneBasedIndex?"#1":"#0")),i}))},mutationToDom:function(){var t=e.utils.xml.createElement("mutation"),n=this.getInput("AT").type==e.INPUT_VALUE;return t.setAttribute("at",n),t},domToMutation:function(e){e="false"!=e.getAttribute("at"),this.updateAt_(e)},updateAt_:function(t){this.removeInput("AT"),this.removeInput("ORDINAL",!0),t?(this.appendValueInput("AT").setCheck("Number"),e.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(e.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var n=new e.FieldDropdown(this.WHERE_OPTIONS,(function(e){var n="FROM_START"==e||"FROM_END"==e;if(n!=t){var r=this.getSourceBlock();return r.updateAt_(n),r.setFieldValue(e,"WHERE"),null}}));this.moveInputBefore("AT","TO"),this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL","TO"),this.getInput("AT").appendField(n,"WHERE")}},e.Blocks.lists_getSublist={init:function(){this.WHERE_OPTIONS_1=[[e.Msg.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[e.Msg.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[e.Msg.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[e.Msg.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[e.Msg.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[e.Msg.LISTS_GET_SUBLIST_END_LAST,"LAST"]],this.setHelpUrl(e.Msg.LISTS_GET_SUBLIST_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(e.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),e.Msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(e.Msg.LISTS_GET_SUBLIST_TAIL),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(e.Msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){var t=e.utils.xml.createElement("mutation"),n=this.getInput("AT1").type==e.INPUT_VALUE;return t.setAttribute("at1",n),n=this.getInput("AT2").type==e.INPUT_VALUE,t.setAttribute("at2",n),t},domToMutation:function(e){var t="true"==e.getAttribute("at1");e="true"==e.getAttribute("at2"),this.updateAt_(1,t),this.updateAt_(2,e)},updateAt_:function(t,n){this.removeInput("AT"+t),this.removeInput("ORDINAL"+t,!0),n?(this.appendValueInput("AT"+t).setCheck("Number"),e.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+t).appendField(e.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+t);var r=new e.FieldDropdown(this["WHERE_OPTIONS_"+t],(function(e){var r="FROM_START"==e||"FROM_END"==e;if(r!=n){var i=this.getSourceBlock();return i.updateAt_(t,r),i.setFieldValue(e,"WHERE"+t),null}}));this.getInput("AT"+t).appendField(r,"WHERE"+t),1==t&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2")),e.Msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}},e.Blocks.lists_sort={init:function(){this.jsonInit({message0:e.Msg.LISTS_SORT_TITLE,args0:[{type:"field_dropdown",name:"TYPE",options:[[e.Msg.LISTS_SORT_TYPE_NUMERIC,"NUMERIC"],[e.Msg.LISTS_SORT_TYPE_TEXT,"TEXT"],[e.Msg.LISTS_SORT_TYPE_IGNORECASE,"IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[[e.Msg.LISTS_SORT_ORDER_ASCENDING,"1"],[e.Msg.LISTS_SORT_ORDER_DESCENDING,"-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:e.Msg.LISTS_SORT_TOOLTIP,helpUrl:e.Msg.LISTS_SORT_HELPURL})}},e.Blocks.lists_split={init:function(){var t=this,n=new e.FieldDropdown([[e.Msg.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[e.Msg.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]],(function(e){t.updateType_(e)}));this.setHelpUrl(e.Msg.LISTS_SPLIT_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("INPUT").setCheck("String").appendField(n,"MODE"),this.appendValueInput("DELIM").setCheck("String").appendField(e.Msg.LISTS_SPLIT_WITH_DELIMITER),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setTooltip((function(){var n=t.getFieldValue("MODE");if("SPLIT"==n)return e.Msg.LISTS_SPLIT_TOOLTIP_SPLIT;if("JOIN"==n)return e.Msg.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+n)}))},updateType_:function(e){if(this.getFieldValue("MODE")!=e){var t=this.getInput("INPUT").connection;t.setShadowDom(null);var n=t.targetBlock();n&&(t.disconnect(),n.isShadow()?n.dispose():this.bumpNeighbours())}"SPLIT"==e?(this.outputConnection.setCheck("Array"),this.getInput("INPUT").setCheck("String")):(this.outputConnection.setCheck("String"),this.getInput("INPUT").setCheck("Array"))},mutationToDom:function(){var t=e.utils.xml.createElement("mutation");return t.setAttribute("mode",this.getFieldValue("MODE")),t},domToMutation:function(e){this.updateType_(e.getAttribute("mode"))}},e.Blocks.logic={},e.Constants.Logic={},e.Constants.Logic.HUE=210,e.defineBlocksWithJsonArray([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["\u2260","NEQ"],["\u200f<","LT"],["\u200f\u2264","LTE"],["\u200f>","GT"],["\u200f\u2265","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]}]),e.defineBlocksWithJsonArray([{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]),e.Constants.Logic.TOOLTIPS_BY_OP={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"},e.Extensions.register("logic_op_tooltip",e.Extensions.buildTooltipForDropdown("OP",e.Constants.Logic.TOOLTIPS_BY_OP)),e.Constants.Logic.CONTROLS_IF_MUTATOR_MIXIN={elseifCount_:0,elseCount_:0,suppressPrefixSuffix:!0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;var t=e.utils.xml.createElement("mutation");return this.elseifCount_&&t.setAttribute("elseif",this.elseifCount_),this.elseCount_&&t.setAttribute("else",1),t},domToMutation:function(e){this.elseifCount_=parseInt(e.getAttribute("elseif"),10)||0,this.elseCount_=parseInt(e.getAttribute("else"),10)||0,this.rebuildShape_()},decompose:function(e){var t=e.newBlock("controls_if_if");t.initSvg();for(var n=t.nextConnection,r=1;r<=this.elseifCount_;r++){var i=e.newBlock("controls_if_elseif");i.initSvg(),n.connect(i.previousConnection),n=i.nextConnection}return this.elseCount_&&((e=e.newBlock("controls_if_else")).initSvg(),n.connect(e.previousConnection)),t},compose:function(e){e=e.nextConnection.targetBlock(),this.elseCount_=this.elseifCount_=0;for(var t=[null],n=[null],r=null;e&&!e.isInsertionMarker();){switch(e.type){case"controls_if_elseif":this.elseifCount_++,t.push(e.valueConnection_),n.push(e.statementConnection_);break;case"controls_if_else":this.elseCount_++,r=e.statementConnection_;break;default:throw TypeError("Unknown block type: "+e.type)}e=e.nextConnection&&e.nextConnection.targetBlock()}this.updateShape_(),this.reconnectChildBlocks_(t,n,r)},saveConnections:function(e){e=e.nextConnection.targetBlock();for(var t=1;e;){switch(e.type){case"controls_if_elseif":var n=this.getInput("IF"+t),r=this.getInput("DO"+t);e.valueConnection_=n&&n.connection.targetConnection,e.statementConnection_=r&&r.connection.targetConnection,t++;break;case"controls_if_else":r=this.getInput("ELSE"),e.statementConnection_=r&&r.connection.targetConnection;break;default:throw TypeError("Unknown block type: "+e.type)}e=e.nextConnection&&e.nextConnection.targetBlock()}},rebuildShape_:function(){var e=[null],t=[null],n=null;this.getInput("ELSE")&&(n=this.getInput("ELSE").connection.targetConnection);for(var r=1;this.getInput("IF"+r);){var i=this.getInput("IF"+r),o=this.getInput("DO"+r);e.push(i.connection.targetConnection),t.push(o.connection.targetConnection),r++}this.updateShape_(),this.reconnectChildBlocks_(e,t,n)},updateShape_:function(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var t=1;this.getInput("IF"+t);)this.removeInput("IF"+t),this.removeInput("DO"+t),t++;for(t=1;t<=this.elseifCount_;t++)this.appendValueInput("IF"+t).setCheck("Boolean").appendField(e.Msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+t).appendField(e.Msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendField(e.Msg.CONTROLS_IF_MSG_ELSE)},reconnectChildBlocks_:function(t,n,r){for(var i=1;i<=this.elseifCount_;i++)e.Mutator.reconnect(t[i],this,"IF"+i),e.Mutator.reconnect(n[i],this,"DO"+i);e.Mutator.reconnect(r,this,"ELSE")}},e.Extensions.registerMutator("controls_if_mutator",e.Constants.Logic.CONTROLS_IF_MUTATOR_MIXIN,null,["controls_if_elseif","controls_if_else"]),e.Constants.Logic.CONTROLS_IF_TOOLTIP_EXTENSION=function(){this.setTooltip(function(){return this.elseifCount_||this.elseCount_?!this.elseifCount_&&this.elseCount_?e.Msg.CONTROLS_IF_TOOLTIP_2:this.elseifCount_&&!this.elseCount_?e.Msg.CONTROLS_IF_TOOLTIP_3:this.elseifCount_&&this.elseCount_?e.Msg.CONTROLS_IF_TOOLTIP_4:"":e.Msg.CONTROLS_IF_TOOLTIP_1}.bind(this))},e.Extensions.register("controls_if_tooltip",e.Constants.Logic.CONTROLS_IF_TOOLTIP_EXTENSION),e.Constants.Logic.LOGIC_COMPARE_ONCHANGE_MIXIN={onchange:function(t){this.prevBlocks_||(this.prevBlocks_=[null,null]);var n=this.getInputTargetBlock("A"),r=this.getInputTargetBlock("B");n&&r&&!this.workspace.connectionChecker.doTypeChecks(n.outputConnection,r.outputConnection)&&(e.Events.setGroup(t.group),(t=this.prevBlocks_[0])!==n&&(n.unplug(),!t||t.isDisposed()||t.isShadow()||this.getInput("A").connection.connect(t.outputConnection)),(n=this.prevBlocks_[1])!==r&&(r.unplug(),!n||n.isDisposed()||n.isShadow()||this.getInput("B").connection.connect(n.outputConnection)),this.bumpNeighbours(),e.Events.setGroup(!1)),this.prevBlocks_[0]=this.getInputTargetBlock("A"),this.prevBlocks_[1]=this.getInputTargetBlock("B")}},e.Constants.Logic.LOGIC_COMPARE_EXTENSION=function(){this.mixin(e.Constants.Logic.LOGIC_COMPARE_ONCHANGE_MIXIN)},e.Extensions.register("logic_compare",e.Constants.Logic.LOGIC_COMPARE_EXTENSION),e.Constants.Logic.LOGIC_TERNARY_ONCHANGE_MIXIN={prevParentConnection_:null,onchange:function(t){var n=this.getInputTargetBlock("THEN"),r=this.getInputTargetBlock("ELSE"),i=this.outputConnection.targetConnection;if((n||r)&&i)for(var o=0;2>o;o++){var s=1==o?n:r;s&&!s.workspace.connectionChecker.doTypeChecks(s.outputConnection,i)&&(e.Events.setGroup(t.group),i===this.prevParentConnection_?(this.unplug(),i.getSourceBlock().bumpNeighbours()):(s.unplug(),s.bumpNeighbours()),e.Events.setGroup(!1))}this.prevParentConnection_=i}},e.Extensions.registerMixin("logic_ternary",e.Constants.Logic.LOGIC_TERNARY_ONCHANGE_MIXIN),e.Blocks.loops={},e.Constants.Loops={},e.Constants.Loops.HUE=120,e.defineBlocksWithJsonArray([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",extensions:["controls_flow_tooltip","controls_flow_in_loop_check"]}]),e.Constants.Loops.WHILE_UNTIL_TOOLTIPS={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"},e.Extensions.register("controls_whileUntil_tooltip",e.Extensions.buildTooltipForDropdown("MODE",e.Constants.Loops.WHILE_UNTIL_TOOLTIPS)),e.Constants.Loops.BREAK_CONTINUE_TOOLTIPS={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"},e.Extensions.register("controls_flow_tooltip",e.Extensions.buildTooltipForDropdown("FLOW",e.Constants.Loops.BREAK_CONTINUE_TOOLTIPS)),e.Constants.Loops.CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN={customContextMenu:function(t){if(!this.isInFlyout){var n=this.getField("VAR").getVariable(),r=n.name;if(!this.isCollapsed()&&null!=r){var i={enabled:!0};i.text=e.Msg.VARIABLES_SET_CREATE_GET.replace("%1",r),n=e.Variables.generateVariableFieldDom(n),(r=e.utils.xml.createElement("block")).setAttribute("type","variables_get"),r.appendChild(n),i.callback=e.ContextMenu.callbackFactory(this,r),t.push(i)}}}},e.Extensions.registerMixin("contextMenu_newGetVariableBlock",e.Constants.Loops.CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN),e.Extensions.register("controls_for_tooltip",e.Extensions.buildTooltipWithFieldText("%{BKY_CONTROLS_FOR_TOOLTIP}","VAR")),e.Extensions.register("controls_forEach_tooltip",e.Extensions.buildTooltipWithFieldText("%{BKY_CONTROLS_FOREACH_TOOLTIP}","VAR")),e.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN={LOOP_TYPES:["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"],suppressPrefixSuffix:!0,getSurroundLoop:function(t){do{if(-1!=e.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.LOOP_TYPES.indexOf(t.type))return t;t=t.getSurroundParent()}while(t);return null},onchange:function(t){if(this.workspace.isDragging&&!this.workspace.isDragging()&&t.type==e.Events.BLOCK_MOVE){var n=e.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.getSurroundLoop(this);if(this.setWarningText(n?null:e.Msg.CONTROLS_FLOW_STATEMENTS_WARNING),!this.isInFlyout){var r=e.Events.getGroup();e.Events.setGroup(t.group),this.setEnabled(n),e.Events.setGroup(r)}}}},e.Extensions.registerMixin("controls_flow_in_loop_check",e.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN),e.Blocks.math={},e.Constants.Math={},e.Constants.Math.HUE=230,e.defineBlocksWithJsonArray([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["\u03c0","PI"],["e","E"],["\u03c6","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(\xbd)","SQRT1_2"],["\u221e","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}","RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]),e.Constants.Math.TOOLTIPS_BY_OP={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"},e.Extensions.register("math_op_tooltip",e.Extensions.buildTooltipForDropdown("OP",e.Constants.Math.TOOLTIPS_BY_OP)),e.Constants.Math.IS_DIVISIBLEBY_MUTATOR_MIXIN={mutationToDom:function(){var t=e.utils.xml.createElement("mutation"),n="DIVISIBLE_BY"==this.getFieldValue("PROPERTY");return t.setAttribute("divisor_input",n),t},domToMutation:function(e){e="true"==e.getAttribute("divisor_input"),this.updateShape_(e)},updateShape_:function(e){var t=this.getInput("DIVISOR");e?t||this.appendValueInput("DIVISOR").setCheck("Number"):t&&this.removeInput("DIVISOR")}},e.Constants.Math.IS_DIVISIBLE_MUTATOR_EXTENSION=function(){this.getField("PROPERTY").setValidator((function(e){e="DIVISIBLE_BY"==e,this.getSourceBlock().updateShape_(e)}))},e.Extensions.registerMutator("math_is_divisibleby_mutator",e.Constants.Math.IS_DIVISIBLEBY_MUTATOR_MIXIN,e.Constants.Math.IS_DIVISIBLE_MUTATOR_EXTENSION),e.Extensions.register("math_change_tooltip",e.Extensions.buildTooltipWithFieldText("%{BKY_MATH_CHANGE_TOOLTIP}","VAR")),e.Constants.Math.LIST_MODES_MUTATOR_MIXIN={updateType_:function(e){"MODE"==e?this.outputConnection.setCheck("Array"):this.outputConnection.setCheck("Number")},mutationToDom:function(){var t=e.utils.xml.createElement("mutation");return t.setAttribute("op",this.getFieldValue("OP")),t},domToMutation:function(e){this.updateType_(e.getAttribute("op"))}},e.Constants.Math.LIST_MODES_MUTATOR_EXTENSION=function(){this.getField("OP").setValidator(function(e){this.updateType_(e)}.bind(this))},e.Extensions.registerMutator("math_modes_of_list_mutator",e.Constants.Math.LIST_MODES_MUTATOR_MIXIN,e.Constants.Math.LIST_MODES_MUTATOR_EXTENSION),e.Blocks.procedures={},e.Blocks.procedures_defnoreturn={init:function(){var t=e.Procedures.findLegalName("",this);(t=new e.FieldTextInput(t,e.Procedures.rename)).setSpellcheck(!1),this.appendDummyInput().appendField(e.Msg.PROCEDURES_DEFNORETURN_TITLE).appendField(t,"NAME").appendField("","PARAMS"),this.setMutator(new e.Mutator(["procedures_mutatorarg"])),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&e.Msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText(e.Msg.PROCEDURES_DEFNORETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg.PROCEDURES_DEFNORETURN_TOOLTIP),this.setHelpUrl(e.Msg.PROCEDURES_DEFNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},setStatements_:function(t){this.hasStatements_!==t&&(t?(this.appendStatementInput("STACK").appendField(e.Msg.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&this.moveInputBefore("STACK","RETURN")):this.removeInput("STACK",!0),this.hasStatements_=t)},updateParams_:function(){var t="";this.arguments_.length&&(t=e.Msg.PROCEDURES_BEFORE_PARAMS+" "+this.arguments_.join(", ")),e.Events.disable();try{this.setFieldValue(t,"PARAMS")}finally{e.Events.enable()}},mutationToDom:function(t){var n=e.utils.xml.createElement("mutation");t&&n.setAttribute("name",this.getFieldValue("NAME"));for(var r=0;r<this.argumentVarModels_.length;r++){var i=e.utils.xml.createElement("arg"),o=this.argumentVarModels_[r];i.setAttribute("name",o.name),i.setAttribute("varid",o.getId()),t&&this.paramIds_&&i.setAttribute("paramId",this.paramIds_[r]),n.appendChild(i)}return this.hasStatements_||n.setAttribute("statements","false"),n},domToMutation:function(t){this.arguments_=[],this.argumentVarModels_=[];for(var n,r=0;n=t.childNodes[r];r++)if("arg"==n.nodeName.toLowerCase()){var i=n.getAttribute("name");n=n.getAttribute("varid")||n.getAttribute("varId"),this.arguments_.push(i),null!=(n=e.Variables.getOrCreateVariablePackage(this.workspace,n,i,""))?this.argumentVarModels_.push(n):console.log("Failed to create a variable with name "+i+", ignoring.")}this.updateParams_(),e.Procedures.mutateCallers(this),this.setStatements_("false"!==t.getAttribute("statements"))},decompose:function(t){var n=e.utils.xml.createElement("block");n.setAttribute("type","procedures_mutatorcontainer");var r=e.utils.xml.createElement("statement");r.setAttribute("name","STACK"),n.appendChild(r);for(var i=0;i<this.arguments_.length;i++){var o=e.utils.xml.createElement("block");o.setAttribute("type","procedures_mutatorarg");var s=e.utils.xml.createElement("field");s.setAttribute("name","NAME");var a=e.utils.xml.createTextNode(this.arguments_[i]);s.appendChild(a),o.appendChild(s),s=e.utils.xml.createElement("next"),o.appendChild(s),r.appendChild(o),r=s}return t=e.Xml.domToBlock(n,t),"procedures_defreturn"==this.type?t.setFieldValue(this.hasStatements_,"STATEMENTS"):t.removeInput("STATEMENT_INPUT"),e.Procedures.mutateCallers(this),t},compose:function(t){this.arguments_=[],this.paramIds_=[],this.argumentVarModels_=[];for(var n=t.getInputTargetBlock("STACK");n&&!n.isInsertionMarker();){var r=n.getFieldValue("NAME");this.arguments_.push(r),r=this.workspace.getVariable(r,""),this.argumentVarModels_.push(r),this.paramIds_.push(n.id),n=n.nextConnection&&n.nextConnection.targetBlock()}this.updateParams_(),e.Procedures.mutateCallers(this),null!==(t=t.getFieldValue("STATEMENTS"))&&(t="TRUE"==t,this.hasStatements_!=t)&&(t?(this.setStatements_(!0),e.Mutator.reconnect(this.statementConnection_,this,"STACK"),this.statementConnection_=null):(t=this.getInput("STACK").connection,(this.statementConnection_=t.targetConnection)&&((t=t.targetBlock()).unplug(),t.bumpNeighbours()),this.setStatements_(!1)))},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1]},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(t,n){var r=this.workspace.getVariableById(t);if(""==r.type){r=r.name,n=this.workspace.getVariableById(n);for(var i=!1,o=0;o<this.argumentVarModels_.length;o++)this.argumentVarModels_[o].getId()==t&&(this.arguments_[o]=n.name,this.argumentVarModels_[o]=n,i=!0);i&&(this.displayRenamedVar_(r,n.name),e.Procedures.mutateCallers(this))}},updateVarName:function(t){for(var n=t.name,r=!1,i=0;i<this.argumentVarModels_.length;i++)if(this.argumentVarModels_[i].getId()==t.getId()){var o=this.arguments_[i];this.arguments_[i]=n,r=!0}r&&(this.displayRenamedVar_(o,n),e.Procedures.mutateCallers(this))},displayRenamedVar_:function(t,n){if(this.updateParams_(),this.mutator&&this.mutator.isVisible())for(var r,i=this.mutator.workspace_.getAllBlocks(!1),o=0;r=i[o];o++)"procedures_mutatorarg"==r.type&&e.Names.equals(t,r.getFieldValue("NAME"))&&r.setFieldValue(n,"NAME")},customContextMenu:function(t){if(!this.isInFlyout){var n={enabled:!0},r=this.getFieldValue("NAME");n.text=e.Msg.PROCEDURES_CREATE_DO.replace("%1",r);var i=e.utils.xml.createElement("mutation");for(i.setAttribute("name",r),r=0;r<this.arguments_.length;r++){var o=e.utils.xml.createElement("arg");o.setAttribute("name",this.arguments_[r]),i.appendChild(o)}if((r=e.utils.xml.createElement("block")).setAttribute("type",this.callType_),r.appendChild(i),n.callback=e.ContextMenu.callbackFactory(this,r),t.push(n),!this.isCollapsed())for(r=0;r<this.argumentVarModels_.length;r++)n={enabled:!0},i=this.argumentVarModels_[r],n.text=e.Msg.VARIABLES_SET_CREATE_GET.replace("%1",i.name),i=e.Variables.generateVariableFieldDom(i),(o=e.utils.xml.createElement("block")).setAttribute("type","variables_get"),o.appendChild(i),n.callback=e.ContextMenu.callbackFactory(this,o),t.push(n)}},callType_:"procedures_callnoreturn"},e.Blocks.procedures_defreturn={init:function(){var t=e.Procedures.findLegalName("",this);(t=new e.FieldTextInput(t,e.Procedures.rename)).setSpellcheck(!1),this.appendDummyInput().appendField(e.Msg.PROCEDURES_DEFRETURN_TITLE).appendField(t,"NAME").appendField("","PARAMS"),this.appendValueInput("RETURN").setAlign(e.ALIGN_RIGHT).appendField(e.Msg.PROCEDURES_DEFRETURN_RETURN),this.setMutator(new e.Mutator(["procedures_mutatorarg"])),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&e.Msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText(e.Msg.PROCEDURES_DEFRETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg.PROCEDURES_DEFRETURN_TOOLTIP),this.setHelpUrl(e.Msg.PROCEDURES_DEFRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},setStatements_:e.Blocks.procedures_defnoreturn.setStatements_,updateParams_:e.Blocks.procedures_defnoreturn.updateParams_,mutationToDom:e.Blocks.procedures_defnoreturn.mutationToDom,domToMutation:e.Blocks.procedures_defnoreturn.domToMutation,decompose:e.Blocks.procedures_defnoreturn.decompose,compose:e.Blocks.procedures_defnoreturn.compose,getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0]},getVars:e.Blocks.procedures_defnoreturn.getVars,getVarModels:e.Blocks.procedures_defnoreturn.getVarModels,renameVarById:e.Blocks.procedures_defnoreturn.renameVarById,updateVarName:e.Blocks.procedures_defnoreturn.updateVarName,displayRenamedVar_:e.Blocks.procedures_defnoreturn.displayRenamedVar_,customContextMenu:e.Blocks.procedures_defnoreturn.customContextMenu,callType_:"procedures_callreturn"},e.Blocks.procedures_mutatorcontainer={init:function(){this.appendDummyInput().appendField(e.Msg.PROCEDURES_MUTATORCONTAINER_TITLE),this.appendStatementInput("STACK"),this.appendDummyInput("STATEMENT_INPUT").appendField(e.Msg.PROCEDURES_ALLOW_STATEMENTS).appendField(new e.FieldCheckbox("TRUE"),"STATEMENTS"),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP),this.contextMenu=!1}},e.Blocks.procedures_mutatorarg={init:function(){var t=new e.FieldTextInput(e.Procedures.DEFAULT_ARG,this.validator_);t.oldShowEditorFn_=t.showEditor_,t.showEditor_=function(){this.createdVariables_=[],this.oldShowEditorFn_()},this.appendDummyInput().appendField(e.Msg.PROCEDURES_MUTATORARG_TITLE).appendField(t,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg.PROCEDURES_MUTATORARG_TOOLTIP),this.contextMenu=!1,t.onFinishEditing_=this.deleteIntermediateVars_,t.createdVariables_=[],t.onFinishEditing_("x")},validator_:function(t){var n=this.getSourceBlock(),r=e.Mutator.findParentWs(n.workspace);if(!(t=t.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,"")))return null;for(var i=(n.workspace.targetWorkspace||n.workspace).getAllBlocks(!1),o=t.toLowerCase(),s=0;s<i.length;s++)if(i[s].id!=this.getSourceBlock().id){var a=i[s].getFieldValue("NAME");if(a&&a.toLowerCase()==o)return null}return n.isInFlyout||((n=r.getVariable(t,""))&&n.name!=t&&r.renameVariableById(n.getId(),t),n||(n=r.createVariable(t,""))&&this.createdVariables_&&this.createdVariables_.push(n)),t},deleteIntermediateVars_:function(t){var n=e.Mutator.findParentWs(this.getSourceBlock().workspace);if(n)for(var r=0;r<this.createdVariables_.length;r++){var i=this.createdVariables_[r];i.name!=t&&n.deleteVariableById(i.getId())}}},e.Blocks.procedures_callnoreturn={init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(e.Msg.PROCEDURES_CALLNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(t,n){e.Names.equals(t,this.getProcedureCall())&&(this.setFieldValue(n,"NAME"),this.setTooltip((this.outputConnection?e.Msg.PROCEDURES_CALLRETURN_TOOLTIP:e.Msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",n)))},setProcedureParameters_:function(t,n){var r=e.Procedures.getDefinition(this.getProcedureCall(),this.workspace),i=r&&r.mutator&&r.mutator.isVisible();if(i||(this.quarkConnections_={},this.quarkIds_=null),n)if(t.join("\n")==this.arguments_.join("\n"))this.quarkIds_=n;else{if(n.length!=t.length)throw RangeError("paramNames and paramIds must be the same length.");this.setCollapsed(!1),this.quarkIds_||(this.quarkConnections_={},this.quarkIds_=[]),r=this.rendered,this.rendered=!1;for(var o=0;o<this.arguments_.length;o++){var s=this.getInput("ARG"+o);s&&(s=s.connection.targetConnection,this.quarkConnections_[this.quarkIds_[o]]=s,i&&s&&-1==n.indexOf(this.quarkIds_[o])&&(s.disconnect(),s.getSourceBlock().bumpNeighbours()))}for(this.arguments_=[].concat(t),this.argumentVarModels_=[],o=0;o<this.arguments_.length;o++)t=e.Variables.getOrCreateVariablePackage(this.workspace,null,this.arguments_[o],""),this.argumentVarModels_.push(t);if(this.updateShape_(),this.quarkIds_=n)for(o=0;o<this.arguments_.length;o++)(n=this.quarkIds_[o])in this.quarkConnections_&&(s=this.quarkConnections_[n],e.Mutator.reconnect(s,this,"ARG"+o)||delete this.quarkConnections_[n]);(this.rendered=r)&&this.render()}},updateShape_:function(){for(var t=0;t<this.arguments_.length;t++){var n=this.getField("ARGNAME"+t);if(n){e.Events.disable();try{n.setValue(this.arguments_[t])}finally{e.Events.enable()}}else n=new e.FieldLabel(this.arguments_[t]),this.appendValueInput("ARG"+t).setAlign(e.ALIGN_RIGHT).appendField(n,"ARGNAME"+t).init()}for(;this.getInput("ARG"+t);)this.removeInput("ARG"+t),t++;(t=this.getInput("TOPROW"))&&(this.arguments_.length?this.getField("WITH")||(t.appendField(e.Msg.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"),t.init()):this.getField("WITH")&&t.removeField("WITH"))},mutationToDom:function(){var t=e.utils.xml.createElement("mutation");t.setAttribute("name",this.getProcedureCall());for(var n=0;n<this.arguments_.length;n++){var r=e.utils.xml.createElement("arg");r.setAttribute("name",this.arguments_[n]),t.appendChild(r)}return t},domToMutation:function(e){var t=e.getAttribute("name");this.renameProcedure(this.getProcedureCall(),t),t=[];for(var n,r=[],i=0;n=e.childNodes[i];i++)"arg"==n.nodeName.toLowerCase()&&(t.push(n.getAttribute("name")),r.push(n.getAttribute("paramId")));this.setProcedureParameters_(t,r)},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},onchange:function(t){if(this.workspace&&!this.workspace.isFlyout&&t.recordUndo)if(t.type==e.Events.BLOCK_CREATE&&-1!=t.ids.indexOf(this.id)){var n=this.getProcedureCall();if(!(n=e.Procedures.getDefinition(n,this.workspace))||n.type==this.defType_&&JSON.stringify(n.getVars())==JSON.stringify(this.arguments_)||(n=null),!n){e.Events.setGroup(t.group),t=e.utils.xml.createElement("xml"),(n=e.utils.xml.createElement("block")).setAttribute("type",this.defType_);var r=this.getRelativeToSurfaceXY(),i=r.y+2*e.SNAP_RADIUS;n.setAttribute("x",r.x+e.SNAP_RADIUS*(this.RTL?-1:1)),n.setAttribute("y",i),r=this.mutationToDom(),n.appendChild(r),(r=e.utils.xml.createElement("field")).setAttribute("name","NAME"),(i=this.getProcedureCall())||(i=e.Procedures.findLegalName("",this),this.renameProcedure("",i)),r.appendChild(e.utils.xml.createTextNode(i)),n.appendChild(r),t.appendChild(n),e.Xml.domToWorkspace(t,this.workspace),e.Events.setGroup(!1)}}else t.type==e.Events.BLOCK_DELETE?(n=this.getProcedureCall(),(n=e.Procedures.getDefinition(n,this.workspace))||(e.Events.setGroup(t.group),this.dispose(!0),e.Events.setGroup(!1))):t.type==e.Events.CHANGE&&"disabled"==t.element&&(n=this.getProcedureCall(),(n=e.Procedures.getDefinition(n,this.workspace))&&n.id==t.blockId&&((n=e.Events.getGroup())&&console.log("Saw an existing group while responding to a definition change"),e.Events.setGroup(t.group),t.newValue?(this.previousEnabledState_=this.isEnabled(),this.setEnabled(!1)):this.setEnabled(this.previousEnabledState_),e.Events.setGroup(n)))},customContextMenu:function(t){if(this.workspace.isMovable()){var n={enabled:!0};n.text=e.Msg.PROCEDURES_HIGHLIGHT_DEF;var r=this.getProcedureCall(),i=this.workspace;n.callback=function(){var t=e.Procedures.getDefinition(r,i);t&&(i.centerOnBlock(t.id),t.select())},t.push(n)}},defType_:"procedures_defnoreturn"},e.Blocks.procedures_callreturn={init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setOutput(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(e.Msg.PROCEDURES_CALLRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},getProcedureCall:e.Blocks.procedures_callnoreturn.getProcedureCall,renameProcedure:e.Blocks.procedures_callnoreturn.renameProcedure,setProcedureParameters_:e.Blocks.procedures_callnoreturn.setProcedureParameters_,updateShape_:e.Blocks.procedures_callnoreturn.updateShape_,mutationToDom:e.Blocks.procedures_callnoreturn.mutationToDom,domToMutation:e.Blocks.procedures_callnoreturn.domToMutation,getVars:e.Blocks.procedures_callnoreturn.getVars,getVarModels:e.Blocks.procedures_callnoreturn.getVarModels,onchange:e.Blocks.procedures_callnoreturn.onchange,customContextMenu:e.Blocks.procedures_callnoreturn.customContextMenu,defType_:"procedures_defreturn"},e.Blocks.procedures_ifreturn={init:function(){this.appendValueInput("CONDITION").setCheck("Boolean").appendField(e.Msg.CONTROLS_IF_MSG_IF),this.appendValueInput("VALUE").appendField(e.Msg.PROCEDURES_DEFRETURN_RETURN),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg.PROCEDURES_IFRETURN_TOOLTIP),this.setHelpUrl(e.Msg.PROCEDURES_IFRETURN_HELPURL),this.hasReturnValue_=!0},mutationToDom:function(){var t=e.utils.xml.createElement("mutation");return t.setAttribute("value",Number(this.hasReturnValue_)),t},domToMutation:function(t){this.hasReturnValue_=1==t.getAttribute("value"),this.hasReturnValue_||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(e.Msg.PROCEDURES_DEFRETURN_RETURN))},onchange:function(t){if(this.workspace.isDragging&&!this.workspace.isDragging()){t=!1;var n=this;do{if(-1!=this.FUNCTION_TYPES.indexOf(n.type)){t=!0;break}n=n.getSurroundParent()}while(n);t?("procedures_defnoreturn"==n.type&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(e.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):"procedures_defreturn"!=n.type||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField(e.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null),this.isInFlyout||this.setEnabled(!0)):(this.setWarningText(e.Msg.PROCEDURES_IFRETURN_WARNING),this.isInFlyout||this.getInheritedDisabled()||this.setEnabled(!1))}},FUNCTION_TYPES:["procedures_defnoreturn","procedures_defreturn"]},e.Blocks.texts={},e.Constants.Text={},e.Constants.Text.HUE=160,e.defineBlocksWithJsonArray([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_multiline",message0:"%1 %2",args0:[{type:"field_image",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAARCAYAAADpPU2iAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAdhgAAHYYBXaITgQAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMS42/U4J6AAAAP1JREFUOE+Vks0KQUEYhjmRIja4ABtZ2dm5A3t3Ia6AUm7CylYuQRaUhZSlLZJiQbFAyRnPN33y01HOW08z8873zpwzM4F3GWOCruvGIE4/rLaV+Nq1hVGMBqzhqlxgCys4wJA65xnogMHsQ5lujnYHTejBBCK2mE4abjCgMGhNxHgDFWjDSG07kdfVa2pZMf4ZyMAdWmpZMfYOsLiDMYMjlMB+K613QISRhTnITnsYg5yUd0DETmEoMlkFOeIT/A58iyK5E18BuTBfgYXfwNJv4P9/oEBerLylOnRhygmGdPpTTBZAPkde61lbQe4moWUvYUZYLfUNftIY4zwA5X2Z9AYnQrEAAAAASUVORK5CYII=",width:12,height:17,alt:"\xb6"},{type:"field_multilinetext",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",args0:[{type:"input_dummy"},{type:"input_statement",name:"STACK"}],style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"text_blocks",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"text_blocks",tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",style:"text_blocks",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,extensions:["text_indexOf_tooltip"]},{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]),e.Blocks.text_getSubstring={init:function(){this.WHERE_OPTIONS_1=[[e.Msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[e.Msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[e.Msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[e.Msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[e.Msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[e.Msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]],this.setHelpUrl(e.Msg.TEXT_GET_SUBSTRING_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("STRING").setCheck("String").appendField(e.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),e.Msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(e.Msg.TEXT_GET_SUBSTRING_TAIL),this.setInputsInline(!0),this.setOutput(!0,"String"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(e.Msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){var t=e.utils.xml.createElement("mutation"),n=this.getInput("AT1").type==e.INPUT_VALUE;return t.setAttribute("at1",n),n=this.getInput("AT2").type==e.INPUT_VALUE,t.setAttribute("at2",n),t},domToMutation:function(e){var t="true"==e.getAttribute("at1");e="true"==e.getAttribute("at2"),this.updateAt_(1,t),this.updateAt_(2,e)},updateAt_:function(t,n){this.removeInput("AT"+t),this.removeInput("ORDINAL"+t,!0),n?(this.appendValueInput("AT"+t).setCheck("Number"),e.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+t).appendField(e.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+t),2==t&&e.Msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(e.Msg.TEXT_GET_SUBSTRING_TAIL));var r=new e.FieldDropdown(this["WHERE_OPTIONS_"+t],(function(e){var r="FROM_START"==e||"FROM_END"==e;if(r!=n){var i=this.getSourceBlock();return i.updateAt_(t,r),i.setFieldValue(e,"WHERE"+t),null}}));this.getInput("AT"+t).appendField(r,"WHERE"+t),1==t&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2"))}},e.Blocks.text_changeCase={init:function(){var t=[[e.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[e.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[e.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(e.Msg.TEXT_CHANGECASE_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(new e.FieldDropdown(t),"CASE"),this.setOutput(!0,"String"),this.setTooltip(e.Msg.TEXT_CHANGECASE_TOOLTIP)}},e.Blocks.text_trim={init:function(){var t=[[e.Msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[e.Msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[e.Msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(e.Msg.TEXT_TRIM_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(new e.FieldDropdown(t),"MODE"),this.setOutput(!0,"String"),this.setTooltip(e.Msg.TEXT_TRIM_TOOLTIP)}},e.Blocks.text_print={init:function(){this.jsonInit({message0:e.Msg.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:e.Msg.TEXT_PRINT_TOOLTIP,helpUrl:e.Msg.TEXT_PRINT_HELPURL})}},e.Blocks.text_prompt_ext={init:function(){var t=[[e.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[e.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(e.Msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks");var n=this;t=new e.FieldDropdown(t,(function(e){n.updateType_(e)})),this.appendValueInput("TEXT").appendField(t,"TYPE"),this.setOutput(!0,"String"),this.setTooltip((function(){return"TEXT"==n.getFieldValue("TYPE")?e.Msg.TEXT_PROMPT_TOOLTIP_TEXT:e.Msg.TEXT_PROMPT_TOOLTIP_NUMBER}))},updateType_:function(e){this.outputConnection.setCheck("NUMBER"==e?"Number":"String")},mutationToDom:function(){var t=e.utils.xml.createElement("mutation");return t.setAttribute("type",this.getFieldValue("TYPE")),t},domToMutation:function(e){this.updateType_(e.getAttribute("type"))}},e.Blocks.text_prompt={init:function(){this.mixin(e.Constants.Text.QUOTE_IMAGE_MIXIN);var t=[[e.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[e.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]],n=this;this.setHelpUrl(e.Msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),t=new e.FieldDropdown(t,(function(e){n.updateType_(e)})),this.appendDummyInput().appendField(t,"TYPE").appendField(this.newQuote_(!0)).appendField(new e.FieldTextInput(""),"TEXT").appendField(this.newQuote_(!1)),this.setOutput(!0,"String"),this.setTooltip((function(){return"TEXT"==n.getFieldValue("TYPE")?e.Msg.TEXT_PROMPT_TOOLTIP_TEXT:e.Msg.TEXT_PROMPT_TOOLTIP_NUMBER}))},updateType_:e.Blocks.text_prompt_ext.updateType_,mutationToDom:e.Blocks.text_prompt_ext.mutationToDom,domToMutation:e.Blocks.text_prompt_ext.domToMutation},e.Blocks.text_count={init:function(){this.jsonInit({message0:e.Msg.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,style:"text_blocks",tooltip:e.Msg.TEXT_COUNT_TOOLTIP,helpUrl:e.Msg.TEXT_COUNT_HELPURL})}},e.Blocks.text_replace={init:function(){this.jsonInit({message0:e.Msg.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:e.Msg.TEXT_REPLACE_TOOLTIP,helpUrl:e.Msg.TEXT_REPLACE_HELPURL})}},e.Blocks.text_reverse={init:function(){this.jsonInit({message0:e.Msg.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:e.Msg.TEXT_REVERSE_TOOLTIP,helpUrl:e.Msg.TEXT_REVERSE_HELPURL})}},e.Constants.Text.QUOTE_IMAGE_MIXIN={QUOTE_IMAGE_LEFT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",QUOTE_IMAGE_RIGHT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",QUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(e){for(var t,n=0;t=this.inputList[n];n++)for(var r,i=0;r=t.fieldRow[i];i++)if(e==r.name)return t.insertFieldAt(i,this.newQuote_(!0)),void t.insertFieldAt(i+2,this.newQuote_(!1));console.warn('field named "'+e+'" not found in '+this.toDevString())},newQuote_:function(t){return t=this.RTL?!t:t,new e.FieldImage(t?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,this.QUOTE_IMAGE_WIDTH,this.QUOTE_IMAGE_HEIGHT,t?"\u201c":"\u201d")}},e.Constants.Text.TEXT_QUOTES_EXTENSION=function(){this.mixin(e.Constants.Text.QUOTE_IMAGE_MIXIN),this.quoteField_("TEXT")},e.Constants.Text.TEXT_JOIN_MUTATOR_MIXIN={mutationToDom:function(){var t=e.utils.xml.createElement("mutation");return t.setAttribute("items",this.itemCount_),t},domToMutation:function(e){this.itemCount_=parseInt(e.getAttribute("items"),10),this.updateShape_()},decompose:function(e){var t=e.newBlock("text_create_join_container");t.initSvg();for(var n=t.getInput("STACK").connection,r=0;r<this.itemCount_;r++){var i=e.newBlock("text_create_join_item");i.initSvg(),n.connect(i.previousConnection),n=i.nextConnection}return t},compose:function(t){var n=t.getInputTargetBlock("STACK");for(t=[];n&&!n.isInsertionMarker();)t.push(n.valueConnection_),n=n.nextConnection&&n.nextConnection.targetBlock();for(n=0;n<this.itemCount_;n++){var r=this.getInput("ADD"+n).connection.targetConnection;r&&-1==t.indexOf(r)&&r.disconnect()}for(this.itemCount_=t.length,this.updateShape_(),n=0;n<this.itemCount_;n++)e.Mutator.reconnect(t[n],this,"ADD"+n)},saveConnections:function(e){e=e.getInputTargetBlock("STACK");for(var t=0;e;){var n=this.getInput("ADD"+t);e.valueConnection_=n&&n.connection.targetConnection,t++,e=e.nextConnection&&e.nextConnection.targetBlock()}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var t=0;t<this.itemCount_;t++)if(!this.getInput("ADD"+t)){var n=this.appendValueInput("ADD"+t).setAlign(e.ALIGN_RIGHT);0==t&&n.appendField(e.Msg.TEXT_JOIN_TITLE_CREATEWITH)}for(;this.getInput("ADD"+t);)this.removeInput("ADD"+t),t++}},e.Constants.Text.TEXT_JOIN_EXTENSION=function(){this.mixin(e.Constants.Text.QUOTE_IMAGE_MIXIN),this.itemCount_=2,this.updateShape_(),this.setMutator(new e.Mutator(["text_create_join_item"]))},e.Extensions.register("text_append_tooltip",e.Extensions.buildTooltipWithFieldText("%{BKY_TEXT_APPEND_TOOLTIP}","VAR")),e.Constants.Text.TEXT_INDEXOF_TOOLTIP_EXTENSION=function(){var t=this;this.setTooltip((function(){return e.Msg.TEXT_INDEXOF_TOOLTIP.replace("%1",t.workspace.options.oneBasedIndex?"0":"-1")}))},e.Constants.Text.TEXT_CHARAT_MUTATOR_MIXIN={mutationToDom:function(){var t=e.utils.xml.createElement("mutation");return t.setAttribute("at",!!this.isAt_),t},domToMutation:function(e){e="false"!=e.getAttribute("at"),this.updateAt_(e)},updateAt_:function(t){this.removeInput("AT",!0),this.removeInput("ORDINAL",!0),t&&(this.appendValueInput("AT").setCheck("Number"),e.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(e.Msg.ORDINAL_NUMBER_SUFFIX)),e.Msg.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(e.Msg.TEXT_CHARAT_TAIL)),this.isAt_=t}},e.Constants.Text.TEXT_CHARAT_EXTENSION=function(){this.getField("WHERE").setValidator((function(e){(e="FROM_START"==e||"FROM_END"==e)!=this.isAt_&&this.getSourceBlock().updateAt_(e)})),this.updateAt_(!0);var t=this;this.setTooltip((function(){var n=t.getFieldValue("WHERE"),r=e.Msg.TEXT_CHARAT_TOOLTIP;return("FROM_START"==n||"FROM_END"==n)&&(n="FROM_START"==n?e.Msg.LISTS_INDEX_FROM_START_TOOLTIP:e.Msg.LISTS_INDEX_FROM_END_TOOLTIP)&&(r+="  "+n.replace("%1",t.workspace.options.oneBasedIndex?"#1":"#0")),r}))},e.Extensions.register("text_indexOf_tooltip",e.Constants.Text.TEXT_INDEXOF_TOOLTIP_EXTENSION),e.Extensions.register("text_quotes",e.Constants.Text.TEXT_QUOTES_EXTENSION),e.Extensions.registerMutator("text_join_mutator",e.Constants.Text.TEXT_JOIN_MUTATOR_MIXIN,e.Constants.Text.TEXT_JOIN_EXTENSION),e.Extensions.registerMutator("text_charAt_mutator",e.Constants.Text.TEXT_CHARAT_MUTATOR_MIXIN,e.Constants.Text.TEXT_CHARAT_EXTENSION),e.Blocks.variables={},e.Constants.Variables={},e.Constants.Variables.HUE=330,e.defineBlocksWithJsonArray([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]),e.Constants.Variables.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN={customContextMenu:function(t){if(this.isInFlyout)"variables_get"!=this.type&&"variables_get_reporter"!=this.type||(n={text:e.Msg.RENAME_VARIABLE,enabled:!0,callback:e.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY(this)},o=this.getField("VAR").getText(),i={text:e.Msg.DELETE_VARIABLE.replace("%1",o),enabled:!0,callback:e.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY(this)},t.unshift(n),t.unshift(i));else{if("variables_get"==this.type)var n="variables_set",r=e.Msg.VARIABLES_GET_CREATE_SET;else n="variables_get",r=e.Msg.VARIABLES_SET_CREATE_GET;var i={enabled:0<this.workspace.remainingCapacity()},o=this.getField("VAR").getText();i.text=r.replace("%1",o),(r=e.utils.xml.createElement("field")).setAttribute("name","VAR"),r.appendChild(e.utils.xml.createTextNode(o)),(o=e.utils.xml.createElement("block")).setAttribute("type",n),o.appendChild(r),i.callback=e.ContextMenu.callbackFactory(this,o),t.push(i)}}},e.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY=function(t){return function(){var n=t.workspace,r=t.getField("VAR").getVariable();e.Variables.renameVariable(n,r)}},e.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY=function(e){return function(){var t=e.workspace,n=e.getField("VAR").getVariable();t.deleteVariableById(n.getId()),t.refreshToolboxSelection()}},e.Extensions.registerMixin("contextMenu_variableSetterGetter",e.Constants.Variables.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN),e.Constants.VariablesDynamic={},e.Constants.VariablesDynamic.HUE=310,e.defineBlocksWithJsonArray([{type:"variables_get_dynamic",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_dynamic_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableDynamicSetterGetter"]},{type:"variables_set_dynamic",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_dynamic_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableDynamicSetterGetter"]}]),e.Constants.VariablesDynamic.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN={customContextMenu:function(t){if(this.isInFlyout)"variables_get_dynamic"!=this.type&&"variables_get_reporter_dynamic"!=this.type||(n={text:e.Msg.RENAME_VARIABLE,enabled:!0,callback:e.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY(this)},s=this.getField("VAR").getText(),o={text:e.Msg.DELETE_VARIABLE.replace("%1",s),enabled:!0,callback:e.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY(this)},t.unshift(n),t.unshift(o));else{var n=this.getFieldValue("VAR"),r=this.workspace.getVariableById(n).type;if("variables_get_dynamic"==this.type){n="variables_set_dynamic";var i=e.Msg.VARIABLES_GET_CREATE_SET}else n="variables_get_dynamic",i=e.Msg.VARIABLES_SET_CREATE_GET;var o={enabled:0<this.workspace.remainingCapacity()},s=this.getField("VAR").getText();o.text=i.replace("%1",s),(i=e.utils.xml.createElement("field")).setAttribute("name","VAR"),i.setAttribute("variabletype",r),i.appendChild(e.utils.xml.createTextNode(s)),(s=e.utils.xml.createElement("block")).setAttribute("type",n),s.appendChild(i),o.callback=e.ContextMenu.callbackFactory(this,s),t.push(o)}},onchange:function(t){t=this.getFieldValue("VAR"),t=e.Variables.getVariable(this.workspace,t),"variables_get_dynamic"==this.type?this.outputConnection.setCheck(t.type):this.getInput("VALUE").connection.setCheck(t.type)}},e.Constants.VariablesDynamic.RENAME_OPTION_CALLBACK_FACTORY=function(t){return function(){var n=t.workspace,r=t.getField("VAR").getVariable();e.Variables.renameVariable(n,r)}},e.Constants.VariablesDynamic.DELETE_OPTION_CALLBACK_FACTORY=function(e){return function(){var t=e.workspace,n=e.getField("VAR").getVariable();t.deleteVariableById(n.getId()),t.refreshToolboxSelection()}},e.Extensions.registerMixin("contextMenu_variableDynamicSetterGetter",e.Constants.VariablesDynamic.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN),e.Blocks})?r.apply(t,i):r)||(e.exports=o)},4117:function(e,t,n){var r,i,o;i=[n(947),n(8052),n(3487),n(4173)],void 0===(o="function"===typeof(r=function(e,t,n,r){"use strict";return e.setLocale(t),e.Blocks=e.Blocks||{},Object.keys(n).forEach((function(t){e.Blocks[t]=n[t]})),e.JavaScript=r,e})?r.apply(t,i):r)||(e.exports=o)},947:function(e,t,n){var r,i,o;i=[n(2845)],void 0===(o="function"===typeof(r=function(e){"use strict";return e.setLocale=function(t){e.Msg=e.Msg||{},Object.keys(t).forEach((function(n){e.Msg[n]=t[n]}))},e})?r.apply(t,i):r)||(e.exports=o)},7496:function(e,t,n){var r,i,o;i=[n(4117)],void 0===(o="function"===typeof(r=function(e){"use strict";return e})?r.apply(t,i):r)||(e.exports=o)},4173:function(e,t,n){var r,i,o;i=[n(947),n(9881)],void 0===(o="function"===typeof(r=function(e,t){"use strict";return e.JavaScript=t,t})?r.apply(t,i):r)||(e.exports=o)},9881:function(e,t,n){var r,i,o;i=[n(9810)],void 0===(o="function"===typeof(r=function(e){"use strict";return e.JavaScript=new e.Generator("JavaScript"),e.JavaScript.addReservedWords("break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(e.utils.global).join(",")),e.JavaScript.ORDER_ATOMIC=0,e.JavaScript.ORDER_NEW=1.1,e.JavaScript.ORDER_MEMBER=1.2,e.JavaScript.ORDER_FUNCTION_CALL=2,e.JavaScript.ORDER_INCREMENT=3,e.JavaScript.ORDER_DECREMENT=3,e.JavaScript.ORDER_BITWISE_NOT=4.1,e.JavaScript.ORDER_UNARY_PLUS=4.2,e.JavaScript.ORDER_UNARY_NEGATION=4.3,e.JavaScript.ORDER_LOGICAL_NOT=4.4,e.JavaScript.ORDER_TYPEOF=4.5,e.JavaScript.ORDER_VOID=4.6,e.JavaScript.ORDER_DELETE=4.7,e.JavaScript.ORDER_AWAIT=4.8,e.JavaScript.ORDER_EXPONENTIATION=5,e.JavaScript.ORDER_MULTIPLICATION=5.1,e.JavaScript.ORDER_DIVISION=5.2,e.JavaScript.ORDER_MODULUS=5.3,e.JavaScript.ORDER_SUBTRACTION=6.1,e.JavaScript.ORDER_ADDITION=6.2,e.JavaScript.ORDER_BITWISE_SHIFT=7,e.JavaScript.ORDER_RELATIONAL=8,e.JavaScript.ORDER_IN=8,e.JavaScript.ORDER_INSTANCEOF=8,e.JavaScript.ORDER_EQUALITY=9,e.JavaScript.ORDER_BITWISE_AND=10,e.JavaScript.ORDER_BITWISE_XOR=11,e.JavaScript.ORDER_BITWISE_OR=12,e.JavaScript.ORDER_LOGICAL_AND=13,e.JavaScript.ORDER_LOGICAL_OR=14,e.JavaScript.ORDER_CONDITIONAL=15,e.JavaScript.ORDER_ASSIGNMENT=16,e.JavaScript.ORDER_YIELD=17,e.JavaScript.ORDER_COMMA=18,e.JavaScript.ORDER_NONE=99,e.JavaScript.ORDER_OVERRIDES=[[e.JavaScript.ORDER_FUNCTION_CALL,e.JavaScript.ORDER_MEMBER],[e.JavaScript.ORDER_FUNCTION_CALL,e.JavaScript.ORDER_FUNCTION_CALL],[e.JavaScript.ORDER_MEMBER,e.JavaScript.ORDER_MEMBER],[e.JavaScript.ORDER_MEMBER,e.JavaScript.ORDER_FUNCTION_CALL],[e.JavaScript.ORDER_LOGICAL_NOT,e.JavaScript.ORDER_LOGICAL_NOT],[e.JavaScript.ORDER_MULTIPLICATION,e.JavaScript.ORDER_MULTIPLICATION],[e.JavaScript.ORDER_ADDITION,e.JavaScript.ORDER_ADDITION],[e.JavaScript.ORDER_LOGICAL_AND,e.JavaScript.ORDER_LOGICAL_AND],[e.JavaScript.ORDER_LOGICAL_OR,e.JavaScript.ORDER_LOGICAL_OR]],e.JavaScript.isInitialized=!1,e.JavaScript.init=function(t){Object.getPrototypeOf(this).init.call(this),this.nameDB_?this.nameDB_.reset():this.nameDB_=new e.Names(this.RESERVED_WORDS_),this.nameDB_.setVariableMap(t.getVariableMap()),this.nameDB_.populateVariables(t),this.nameDB_.populateProcedures(t);for(var n=[],r=e.Variables.allDeveloperVariables(t),i=0;i<r.length;i++)n.push(this.nameDB_.getName(r[i],e.Names.DEVELOPER_VARIABLE_TYPE));for(t=e.Variables.allUsedVarModels(t),i=0;i<t.length;i++)n.push(this.nameDB_.getName(t[i].getId(),e.VARIABLE_CATEGORY_NAME));n.length&&(this.definitions_.variables="var "+n.join(", ")+";"),this.isInitialized=!0},e.JavaScript.finish=function(t){var n=e.utils.object.values(this.definitions_);return t=Object.getPrototypeOf(this).finish.call(this,t),this.isInitialized=!1,this.nameDB_.reset(),n.join("\n\n")+"\n\n\n"+t},e.JavaScript.scrubNakedValue=function(e){return e+";\n"},e.JavaScript.quote_=function(e){return"'"+(e=e.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'"))+"'"},e.JavaScript.multiline_quote_=function(e){return e.split(/\n/g).map(this.quote_).join(" + '\\n' +\n")},e.JavaScript.scrub_=function(t,n,r){var i="";if(!t.outputConnection||!t.outputConnection.targetConnection){var o=t.getCommentText();o&&(o=e.utils.string.wrap(o,this.COMMENT_WRAP-3),i+=this.prefixLines(o+"\n","// "));for(var s=0;s<t.inputList.length;s++)t.inputList[s].type==e.inputTypes.VALUE&&(o=t.inputList[s].connection.targetBlock())&&(o=this.allNestedComments(o))&&(i+=this.prefixLines(o,"// "))}return t=t.nextConnection&&t.nextConnection.targetBlock(),i+n+(r=r?"":this.blockToCode(t))},e.JavaScript.getAdjusted=function(t,n,r,i,o){r=r||0,o=o||this.ORDER_NONE,t.workspace.options.oneBasedIndex&&r--;var s=t.workspace.options.oneBasedIndex?"1":"0";if(t=0<r?this.valueToCode(t,n,this.ORDER_ADDITION)||s:0>r?this.valueToCode(t,n,this.ORDER_SUBTRACTION)||s:i?this.valueToCode(t,n,this.ORDER_UNARY_NEGATION)||s:this.valueToCode(t,n,o)||s,e.isNumber(t))t=Number(t)+r,i&&(t=-t);else{if(0<r){t=t+" + "+r;var a=this.ORDER_ADDITION}else 0>r&&(t=t+" - "+-r,a=this.ORDER_SUBTRACTION);i&&(t=r?"-("+t+")":"-"+t,a=this.ORDER_UNARY_NEGATION),a=Math.floor(a),o=Math.floor(o),a&&o>=a&&(t="("+t+")")}return t},e.JavaScript.colour={},e.JavaScript.colour_picker=function(t){return[e.JavaScript.quote_(t.getFieldValue("COLOUR")),e.JavaScript.ORDER_ATOMIC]},e.JavaScript.colour_random=function(t){return[e.JavaScript.provideFunction_("colourRandom",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"() {","  var num = Math.floor(Math.random() * Math.pow(2, 24));","  return '#' + ('00000' + num.toString(16)).substr(-6);","}"])+"()",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.colour_rgb=function(t){var n=e.JavaScript.valueToCode(t,"RED",e.JavaScript.ORDER_NONE)||0,r=e.JavaScript.valueToCode(t,"GREEN",e.JavaScript.ORDER_NONE)||0;return t=e.JavaScript.valueToCode(t,"BLUE",e.JavaScript.ORDER_NONE)||0,[e.JavaScript.provideFunction_("colourRgb",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(r, g, b) {","  r = Math.max(Math.min(Number(r), 100), 0) * 2.55;","  g = Math.max(Math.min(Number(g), 100), 0) * 2.55;","  b = Math.max(Math.min(Number(b), 100), 0) * 2.55;","  r = ('0' + (Math.round(r) || 0).toString(16)).slice(-2);","  g = ('0' + (Math.round(g) || 0).toString(16)).slice(-2);","  b = ('0' + (Math.round(b) || 0).toString(16)).slice(-2);","  return '#' + r + g + b;","}"])+"("+n+", "+r+", "+t+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.colour_blend=function(t){var n=e.JavaScript.valueToCode(t,"COLOUR1",e.JavaScript.ORDER_NONE)||"'#000000'",r=e.JavaScript.valueToCode(t,"COLOUR2",e.JavaScript.ORDER_NONE)||"'#000000'";return t=e.JavaScript.valueToCode(t,"RATIO",e.JavaScript.ORDER_NONE)||.5,[e.JavaScript.provideFunction_("colourBlend",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(c1, c2, ratio) {","  ratio = Math.max(Math.min(Number(ratio), 1), 0);","  var r1 = parseInt(c1.substring(1, 3), 16);","  var g1 = parseInt(c1.substring(3, 5), 16);","  var b1 = parseInt(c1.substring(5, 7), 16);","  var r2 = parseInt(c2.substring(1, 3), 16);","  var g2 = parseInt(c2.substring(3, 5), 16);","  var b2 = parseInt(c2.substring(5, 7), 16);","  var r = Math.round(r1 * (1 - ratio) + r2 * ratio);","  var g = Math.round(g1 * (1 - ratio) + g2 * ratio);","  var b = Math.round(b1 * (1 - ratio) + b2 * ratio);","  r = ('0' + (r || 0).toString(16)).slice(-2);","  g = ('0' + (g || 0).toString(16)).slice(-2);","  b = ('0' + (b || 0).toString(16)).slice(-2);","  return '#' + r + g + b;","}"])+"("+n+", "+r+", "+t+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.lists={},e.JavaScript.lists_create_empty=function(t){return["[]",e.JavaScript.ORDER_ATOMIC]},e.JavaScript.lists_create_with=function(t){for(var n=Array(t.itemCount_),r=0;r<t.itemCount_;r++)n[r]=e.JavaScript.valueToCode(t,"ADD"+r,e.JavaScript.ORDER_NONE)||"null";return["["+n.join(", ")+"]",e.JavaScript.ORDER_ATOMIC]},e.JavaScript.lists_repeat=function(t){return[e.JavaScript.provideFunction_("listsRepeat",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(value, n) {","  var array = [];","  for (var i = 0; i < n; i++) {","    array[i] = value;","  }","  return array;","}"])+"("+(e.JavaScript.valueToCode(t,"ITEM",e.JavaScript.ORDER_NONE)||"null")+", "+(t=e.JavaScript.valueToCode(t,"NUM",e.JavaScript.ORDER_NONE)||"0")+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.lists_length=function(t){return[(e.JavaScript.valueToCode(t,"VALUE",e.JavaScript.ORDER_MEMBER)||"[]")+".length",e.JavaScript.ORDER_MEMBER]},e.JavaScript.lists_isEmpty=function(t){return["!"+(e.JavaScript.valueToCode(t,"VALUE",e.JavaScript.ORDER_MEMBER)||"[]")+".length",e.JavaScript.ORDER_LOGICAL_NOT]},e.JavaScript.lists_indexOf=function(t){var n="FIRST"==t.getFieldValue("END")?"indexOf":"lastIndexOf",r=e.JavaScript.valueToCode(t,"FIND",e.JavaScript.ORDER_NONE)||"''";return n=(e.JavaScript.valueToCode(t,"VALUE",e.JavaScript.ORDER_MEMBER)||"[]")+"."+n+"("+r+")",t.workspace.options.oneBasedIndex?[n+" + 1",e.JavaScript.ORDER_ADDITION]:[n,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.lists_getIndex=function(t){var n=t.getFieldValue("MODE")||"GET",r=t.getFieldValue("WHERE")||"FROM_START",i=e.JavaScript.valueToCode(t,"VALUE","RANDOM"==r?e.JavaScript.ORDER_NONE:e.JavaScript.ORDER_MEMBER)||"[]";switch(r){case"FIRST":if("GET"==n)return[i+"[0]",e.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==n)return[i+".shift()",e.JavaScript.ORDER_MEMBER];if("REMOVE"==n)return i+".shift();\n";break;case"LAST":if("GET"==n)return[i+".slice(-1)[0]",e.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==n)return[i+".pop()",e.JavaScript.ORDER_MEMBER];if("REMOVE"==n)return i+".pop();\n";break;case"FROM_START":if(t=e.JavaScript.getAdjusted(t,"AT"),"GET"==n)return[i+"["+t+"]",e.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==n)return[i+".splice("+t+", 1)[0]",e.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==n)return i+".splice("+t+", 1);\n";break;case"FROM_END":if(t=e.JavaScript.getAdjusted(t,"AT",1,!0),"GET"==n)return[i+".slice("+t+")[0]",e.JavaScript.ORDER_FUNCTION_CALL];if("GET_REMOVE"==n)return[i+".splice("+t+", 1)[0]",e.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==n)return i+".splice("+t+", 1);";break;case"RANDOM":if(i=e.JavaScript.provideFunction_("listsGetRandomItem",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(list, remove) {","  var x = Math.floor(Math.random() * list.length);","  if (remove) {","    return list.splice(x, 1)[0];","  } else {","    return list[x];","  }","}"])+"("+i+", "+("GET"!=n)+")","GET"==n||"GET_REMOVE"==n)return[i,e.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==n)return i+";\n"}throw Error("Unhandled combination (lists_getIndex).")},e.JavaScript.lists_setIndex=function(t){function n(){if(r.match(/^\w+$/))return"";var t=e.JavaScript.nameDB_.getDistinctName("tmpList",e.VARIABLE_CATEGORY_NAME),n="var "+t+" = "+r+";\n";return r=t,n}var r=e.JavaScript.valueToCode(t,"LIST",e.JavaScript.ORDER_MEMBER)||"[]",i=t.getFieldValue("MODE")||"GET",o=t.getFieldValue("WHERE")||"FROM_START",s=e.JavaScript.valueToCode(t,"TO",e.JavaScript.ORDER_ASSIGNMENT)||"null";switch(o){case"FIRST":if("SET"==i)return r+"[0] = "+s+";\n";if("INSERT"==i)return r+".unshift("+s+");\n";break;case"LAST":if("SET"==i)return(t=n())+(r+"[")+r+".length - 1] = "+s+";\n";if("INSERT"==i)return r+".push("+s+");\n";break;case"FROM_START":if(o=e.JavaScript.getAdjusted(t,"AT"),"SET"==i)return r+"["+o+"] = "+s+";\n";if("INSERT"==i)return r+".splice("+o+", 0, "+s+");\n";break;case"FROM_END":if(o=e.JavaScript.getAdjusted(t,"AT",1,!1,e.JavaScript.ORDER_SUBTRACTION),t=n(),"SET"==i)return t+(r+"[")+r+".length - "+o+"] = "+s+";\n";if("INSERT"==i)return t+(r+".splice(")+r+".length - "+o+", 0, "+s+");\n";break;case"RANDOM":if(t=n(),t+="var "+(o=e.JavaScript.nameDB_.getDistinctName("tmpX",e.VARIABLE_CATEGORY_NAME))+" = Math.floor(Math.random() * "+r+".length);\n","SET"==i)return t+(r+"[")+o+"] = "+s+";\n";if("INSERT"==i)return t+(r+".splice(")+o+", 0, "+s+");\n"}throw Error("Unhandled combination (lists_setIndex).")},e.JavaScript.lists.getIndex_=function(e,t,n){return"FIRST"==t?"0":"FROM_END"==t?e+".length - 1 - "+n:"LAST"==t?e+".length - 1":n},e.JavaScript.lists_getSublist=function(t){var n=e.JavaScript.valueToCode(t,"LIST",e.JavaScript.ORDER_MEMBER)||"[]",r=t.getFieldValue("WHERE1"),i=t.getFieldValue("WHERE2");if("FIRST"==r&&"LAST"==i)n+=".slice(0)";else if(n.match(/^\w+$/)||"FROM_END"!=r&&"FROM_START"==i){switch(r){case"FROM_START":var o=e.JavaScript.getAdjusted(t,"AT1");break;case"FROM_END":o=n+".length - "+(o=e.JavaScript.getAdjusted(t,"AT1",1,!1,e.JavaScript.ORDER_SUBTRACTION));break;case"FIRST":o="0";break;default:throw Error("Unhandled option (lists_getSublist).")}switch(i){case"FROM_START":t=e.JavaScript.getAdjusted(t,"AT2",1);break;case"FROM_END":t=n+".length - "+(t=e.JavaScript.getAdjusted(t,"AT2",0,!1,e.JavaScript.ORDER_SUBTRACTION));break;case"LAST":t=n+".length";break;default:throw Error("Unhandled option (lists_getSublist).")}n=n+".slice("+o+", "+t+")"}else{o=e.JavaScript.getAdjusted(t,"AT1"),t=e.JavaScript.getAdjusted(t,"AT2");var s=e.JavaScript.lists.getIndex_,a={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};n=e.JavaScript.provideFunction_("subsequence"+a[r]+a[i],["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(sequence"+("FROM_END"==r||"FROM_START"==r?", at1":"")+("FROM_END"==i||"FROM_START"==i?", at2":"")+") {","  var start = "+s("sequence",r,"at1")+";","  var end = "+s("sequence",i,"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+n+("FROM_END"==r||"FROM_START"==r?", "+o:"")+("FROM_END"==i||"FROM_START"==i?", "+t:"")+")"}return[n,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.lists_sort=function(t){var n=e.JavaScript.valueToCode(t,"LIST",e.JavaScript.ORDER_FUNCTION_CALL)||"[]",r="1"===t.getFieldValue("DIRECTION")?1:-1;return t=t.getFieldValue("TYPE"),[n+".slice().sort("+e.JavaScript.provideFunction_("listsGetSortCompare",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(type, direction) {","  var compareFuncs = {",'    "NUMERIC": function(a, b) {',"        return Number(a) - Number(b); },",'    "TEXT": function(a, b) {',"        return a.toString() > b.toString() ? 1 : -1; },",'    "IGNORE_CASE": function(a, b) {',"        return a.toString().toLowerCase() > b.toString().toLowerCase() ? 1 : -1; },","  };","  var compare = compareFuncs[type];","  return function(a, b) { return compare(a, b) * direction; }","}"])+'("'+t+'", '+r+"))",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.lists_split=function(t){var n=e.JavaScript.valueToCode(t,"INPUT",e.JavaScript.ORDER_MEMBER),r=e.JavaScript.valueToCode(t,"DELIM",e.JavaScript.ORDER_NONE)||"''";if("SPLIT"==(t=t.getFieldValue("MODE")))n||(n="''"),t="split";else{if("JOIN"!=t)throw Error("Unknown mode: "+t);n||(n="[]"),t="join"}return[n+"."+t+"("+r+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.lists_reverse=function(t){return[(e.JavaScript.valueToCode(t,"LIST",e.JavaScript.ORDER_FUNCTION_CALL)||"[]")+".slice().reverse()",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.logic={},e.JavaScript.controls_if=function(t){var n=0,r="";e.JavaScript.STATEMENT_PREFIX&&(r+=e.JavaScript.injectId(e.JavaScript.STATEMENT_PREFIX,t));do{var i=e.JavaScript.valueToCode(t,"IF"+n,e.JavaScript.ORDER_NONE)||"false",o=e.JavaScript.statementToCode(t,"DO"+n);e.JavaScript.STATEMENT_SUFFIX&&(o=e.JavaScript.prefixLines(e.JavaScript.injectId(e.JavaScript.STATEMENT_SUFFIX,t),e.JavaScript.INDENT)+o),r+=(0<n?" else ":"")+"if ("+i+") {\n"+o+"}",++n}while(t.getInput("IF"+n));return(t.getInput("ELSE")||e.JavaScript.STATEMENT_SUFFIX)&&(o=e.JavaScript.statementToCode(t,"ELSE"),e.JavaScript.STATEMENT_SUFFIX&&(o=e.JavaScript.prefixLines(e.JavaScript.injectId(e.JavaScript.STATEMENT_SUFFIX,t),e.JavaScript.INDENT)+o),r+=" else {\n"+o+"}"),r+"\n"},e.JavaScript.controls_ifelse=e.JavaScript.controls_if,e.JavaScript.logic_compare=function(t){var n={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[t.getFieldValue("OP")],r="=="==n||"!="==n?e.JavaScript.ORDER_EQUALITY:e.JavaScript.ORDER_RELATIONAL;return[(e.JavaScript.valueToCode(t,"A",r)||"0")+" "+n+" "+(t=e.JavaScript.valueToCode(t,"B",r)||"0"),r]},e.JavaScript.logic_operation=function(t){var n="AND"==t.getFieldValue("OP")?"&&":"||",r="&&"==n?e.JavaScript.ORDER_LOGICAL_AND:e.JavaScript.ORDER_LOGICAL_OR,i=e.JavaScript.valueToCode(t,"A",r);if(t=e.JavaScript.valueToCode(t,"B",r),i||t){var o="&&"==n?"true":"false";i||(i=o),t||(t=o)}else t=i="false";return[i+" "+n+" "+t,r]},e.JavaScript.logic_negate=function(t){var n=e.JavaScript.ORDER_LOGICAL_NOT;return["!"+(e.JavaScript.valueToCode(t,"BOOL",n)||"true"),n]},e.JavaScript.logic_boolean=function(t){return["TRUE"==t.getFieldValue("BOOL")?"true":"false",e.JavaScript.ORDER_ATOMIC]},e.JavaScript.logic_null=function(t){return["null",e.JavaScript.ORDER_ATOMIC]},e.JavaScript.logic_ternary=function(t){return[(e.JavaScript.valueToCode(t,"IF",e.JavaScript.ORDER_CONDITIONAL)||"false")+" ? "+(e.JavaScript.valueToCode(t,"THEN",e.JavaScript.ORDER_CONDITIONAL)||"null")+" : "+(t=e.JavaScript.valueToCode(t,"ELSE",e.JavaScript.ORDER_CONDITIONAL)||"null"),e.JavaScript.ORDER_CONDITIONAL]},e.JavaScript.loops={},e.JavaScript.controls_repeat_ext=function(t){var n=t.getField("TIMES")?String(Number(t.getFieldValue("TIMES"))):e.JavaScript.valueToCode(t,"TIMES",e.JavaScript.ORDER_ASSIGNMENT)||"0",r=e.JavaScript.statementToCode(t,"DO");r=e.JavaScript.addLoopTrap(r,t),t="";var i=e.JavaScript.nameDB_.getDistinctName("count",e.VARIABLE_CATEGORY_NAME),o=n;return n.match(/^\w+$/)||e.isNumber(n)||(t+="var "+(o=e.JavaScript.nameDB_.getDistinctName("repeat_end",e.VARIABLE_CATEGORY_NAME))+" = "+n+";\n"),t+"for (var "+i+" = 0; "+i+" < "+o+"; "+i+"++) {\n"+r+"}\n"},e.JavaScript.controls_repeat=e.JavaScript.controls_repeat_ext,e.JavaScript.controls_whileUntil=function(t){var n="UNTIL"==t.getFieldValue("MODE"),r=e.JavaScript.valueToCode(t,"BOOL",n?e.JavaScript.ORDER_LOGICAL_NOT:e.JavaScript.ORDER_NONE)||"false",i=e.JavaScript.statementToCode(t,"DO");return n&&(r="!"+r),"while ("+r+") {\n"+(i=e.JavaScript.addLoopTrap(i,t))+"}\n"},e.JavaScript.controls_for=function(t){var n=e.JavaScript.nameDB_.getName(t.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME),r=e.JavaScript.valueToCode(t,"FROM",e.JavaScript.ORDER_ASSIGNMENT)||"0",i=e.JavaScript.valueToCode(t,"TO",e.JavaScript.ORDER_ASSIGNMENT)||"0",o=e.JavaScript.valueToCode(t,"BY",e.JavaScript.ORDER_ASSIGNMENT)||"1",s=e.JavaScript.statementToCode(t,"DO");if(s=e.JavaScript.addLoopTrap(s,t),e.isNumber(r)&&e.isNumber(i)&&e.isNumber(o)){var a=Number(r)<=Number(i);t="for ("+n+" = "+r+"; "+n+(a?" <= ":" >= ")+i+"; "+n,t=(1==(n=Math.abs(Number(o)))?t+(a?"++":"--"):t+(a?" += ":" -= ")+n)+") {\n"+s+"}\n"}else t="",a=r,r.match(/^\w+$/)||e.isNumber(r)||(t+="var "+(a=e.JavaScript.nameDB_.getDistinctName(n+"_start",e.VARIABLE_CATEGORY_NAME))+" = "+r+";\n"),r=i,i.match(/^\w+$/)||e.isNumber(i)||(t+="var "+(r=e.JavaScript.nameDB_.getDistinctName(n+"_end",e.VARIABLE_CATEGORY_NAME))+" = "+i+";\n"),t+="var "+(i=e.JavaScript.nameDB_.getDistinctName(n+"_inc",e.VARIABLE_CATEGORY_NAME))+" = ",t=(t=e.isNumber(o)?t+(Math.abs(o)+";\n"):t+"Math.abs("+o+");\n")+"if ("+a+" > "+r+") {\n"+(e.JavaScript.INDENT+i)+" = -"+i+";\n",t+="}\n",t+="for ("+n+" = "+a+"; "+i+" >= 0 ? "+n+" <= "+r+" : "+n+" >= "+r+"; "+n+" += "+i+") {\n"+s+"}\n";return t},e.JavaScript.controls_forEach=function(t){var n=e.JavaScript.nameDB_.getName(t.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME),r=e.JavaScript.valueToCode(t,"LIST",e.JavaScript.ORDER_ASSIGNMENT)||"[]",i=e.JavaScript.statementToCode(t,"DO");i=e.JavaScript.addLoopTrap(i,t),t="";var o=r;return r.match(/^\w+$/)||(t+="var "+(o=e.JavaScript.nameDB_.getDistinctName(n+"_list",e.VARIABLE_CATEGORY_NAME))+" = "+r+";\n"),t+"for (var "+(r=e.JavaScript.nameDB_.getDistinctName(n+"_index",e.VARIABLE_CATEGORY_NAME))+" in "+o+") {\n"+(i=e.JavaScript.INDENT+n+" = "+o+"["+r+"];\n"+i)+"}\n"},e.JavaScript.controls_flow_statements=function(t){var n="";if(e.JavaScript.STATEMENT_PREFIX&&(n+=e.JavaScript.injectId(e.JavaScript.STATEMENT_PREFIX,t)),e.JavaScript.STATEMENT_SUFFIX&&(n+=e.JavaScript.injectId(e.JavaScript.STATEMENT_SUFFIX,t)),e.JavaScript.STATEMENT_PREFIX){var r=e.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.getSurroundLoop(t);r&&!r.suppressPrefixSuffix&&(n+=e.JavaScript.injectId(e.JavaScript.STATEMENT_PREFIX,r))}switch(t.getFieldValue("FLOW")){case"BREAK":return n+"break;\n";case"CONTINUE":return n+"continue;\n"}throw Error("Unknown flow statement.")},e.JavaScript.math={},e.JavaScript.math_number=function(t){return[t=Number(t.getFieldValue("NUM")),0<=t?e.JavaScript.ORDER_ATOMIC:e.JavaScript.ORDER_UNARY_NEGATION]},e.JavaScript.math_arithmetic=function(t){var n={ADD:[" + ",e.JavaScript.ORDER_ADDITION],MINUS:[" - ",e.JavaScript.ORDER_SUBTRACTION],MULTIPLY:[" * ",e.JavaScript.ORDER_MULTIPLICATION],DIVIDE:[" / ",e.JavaScript.ORDER_DIVISION],POWER:[null,e.JavaScript.ORDER_NONE]}[t.getFieldValue("OP")],r=n[0];n=n[1];var i=e.JavaScript.valueToCode(t,"A",n)||"0";return t=e.JavaScript.valueToCode(t,"B",n)||"0",r?[i+r+t,n]:["Math.pow("+i+", "+t+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.math_single=function(t){var n=t.getFieldValue("OP");if("NEG"==n)return"-"==(t=e.JavaScript.valueToCode(t,"NUM",e.JavaScript.ORDER_UNARY_NEGATION)||"0")[0]&&(t=" "+t),["-"+t,e.JavaScript.ORDER_UNARY_NEGATION];switch(t="SIN"==n||"COS"==n||"TAN"==n?e.JavaScript.valueToCode(t,"NUM",e.JavaScript.ORDER_DIVISION)||"0":e.JavaScript.valueToCode(t,"NUM",e.JavaScript.ORDER_NONE)||"0",n){case"ABS":var r="Math.abs("+t+")";break;case"ROOT":r="Math.sqrt("+t+")";break;case"LN":r="Math.log("+t+")";break;case"EXP":r="Math.exp("+t+")";break;case"POW10":r="Math.pow(10,"+t+")";break;case"ROUND":r="Math.round("+t+")";break;case"ROUNDUP":r="Math.ceil("+t+")";break;case"ROUNDDOWN":r="Math.floor("+t+")";break;case"SIN":r="Math.sin("+t+" / 180 * Math.PI)";break;case"COS":r="Math.cos("+t+" / 180 * Math.PI)";break;case"TAN":r="Math.tan("+t+" / 180 * Math.PI)"}if(r)return[r,e.JavaScript.ORDER_FUNCTION_CALL];switch(n){case"LOG10":r="Math.log("+t+") / Math.log(10)";break;case"ASIN":r="Math.asin("+t+") / Math.PI * 180";break;case"ACOS":r="Math.acos("+t+") / Math.PI * 180";break;case"ATAN":r="Math.atan("+t+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+n)}return[r,e.JavaScript.ORDER_DIVISION]},e.JavaScript.math_constant=function(t){return{PI:["Math.PI",e.JavaScript.ORDER_MEMBER],E:["Math.E",e.JavaScript.ORDER_MEMBER],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",e.JavaScript.ORDER_DIVISION],SQRT2:["Math.SQRT2",e.JavaScript.ORDER_MEMBER],SQRT1_2:["Math.SQRT1_2",e.JavaScript.ORDER_MEMBER],INFINITY:["Infinity",e.JavaScript.ORDER_ATOMIC]}[t.getFieldValue("CONSTANT")]},e.JavaScript.math_number_property=function(t){var n=e.JavaScript.valueToCode(t,"NUMBER_TO_CHECK",e.JavaScript.ORDER_MODULUS)||"0",r=t.getFieldValue("PROPERTY");if("PRIME"==r)return[e.JavaScript.provideFunction_("mathIsPrime",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(n) {","  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  if (n == 2 || n == 3) {","    return true;","  }","  // False if n is NaN, negative, is 1, or not whole.","  // And false if n is divisible by 2 or 3.","  if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {","    return false;","  }","  // Check all the numbers of form 6k +/- 1, up to sqrt(n).","  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {","    if (n % (x - 1) == 0 || n % (x + 1) == 0) {","      return false;","    }","  }","  return true;","}"])+"("+n+")",e.JavaScript.ORDER_FUNCTION_CALL];switch(r){case"EVEN":var i=n+" % 2 == 0";break;case"ODD":i=n+" % 2 == 1";break;case"WHOLE":i=n+" % 1 == 0";break;case"POSITIVE":i=n+" > 0";break;case"NEGATIVE":i=n+" < 0";break;case"DIVISIBLE_BY":i=n+" % "+(t=e.JavaScript.valueToCode(t,"DIVISOR",e.JavaScript.ORDER_MODULUS)||"0")+" == 0"}return[i,e.JavaScript.ORDER_EQUALITY]},e.JavaScript.math_change=function(t){var n=e.JavaScript.valueToCode(t,"DELTA",e.JavaScript.ORDER_ADDITION)||"0";return(t=e.JavaScript.nameDB_.getName(t.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME))+" = (typeof "+t+" == 'number' ? "+t+" : 0) + "+n+";\n"},e.JavaScript.math_round=e.JavaScript.math_single,e.JavaScript.math_trig=e.JavaScript.math_single,e.JavaScript.math_on_list=function(t){var n=t.getFieldValue("OP");switch(n){case"SUM":t=e.JavaScript.valueToCode(t,"LIST",e.JavaScript.ORDER_MEMBER)||"[]",t+=".reduce(function(x, y) {return x + y;})";break;case"MIN":t="Math.min.apply(null, "+(t=e.JavaScript.valueToCode(t,"LIST",e.JavaScript.ORDER_NONE)||"[]")+")";break;case"MAX":t="Math.max.apply(null, "+(t=e.JavaScript.valueToCode(t,"LIST",e.JavaScript.ORDER_NONE)||"[]")+")";break;case"AVERAGE":t=(n=e.JavaScript.provideFunction_("mathMean",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(myList) {","  return myList.reduce(function(x, y) {return x + y;}) / myList.length;","}"]))+"("+(t=e.JavaScript.valueToCode(t,"LIST",e.JavaScript.ORDER_NONE)||"[]")+")";break;case"MEDIAN":t=(n=e.JavaScript.provideFunction_("mathMedian",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(myList) {","  var localList = myList.filter(function (x) {return typeof x == 'number';});","  if (!localList.length) return null;","  localList.sort(function(a, b) {return b - a;});","  if (localList.length % 2 == 0) {","    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;","  } else {","    return localList[(localList.length - 1) / 2];","  }","}"]))+"("+(t=e.JavaScript.valueToCode(t,"LIST",e.JavaScript.ORDER_NONE)||"[]")+")";break;case"MODE":t=(n=e.JavaScript.provideFunction_("mathModes",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(values) {","  var modes = [];","  var counts = [];","  var maxCount = 0;","  for (var i = 0; i < values.length; i++) {","    var value = values[i];","    var found = false;","    var thisCount;","    for (var j = 0; j < counts.length; j++) {","      if (counts[j][0] === value) {","        thisCount = ++counts[j][1];","        found = true;","        break;","      }","    }","    if (!found) {","      counts.push([value, 1]);","      thisCount = 1;","    }","    maxCount = Math.max(thisCount, maxCount);","  }","  for (var j = 0; j < counts.length; j++) {","    if (counts[j][1] == maxCount) {","        modes.push(counts[j][0]);","    }","  }","  return modes;","}"]))+"("+(t=e.JavaScript.valueToCode(t,"LIST",e.JavaScript.ORDER_NONE)||"[]")+")";break;case"STD_DEV":t=(n=e.JavaScript.provideFunction_("mathStandardDeviation",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(numbers) {","  var n = numbers.length;","  if (!n) return null;","  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;","  var variance = 0;","  for (var j = 0; j < n; j++) {","    variance += Math.pow(numbers[j] - mean, 2);","  }","  variance = variance / n;","  return Math.sqrt(variance);","}"]))+"("+(t=e.JavaScript.valueToCode(t,"LIST",e.JavaScript.ORDER_NONE)||"[]")+")";break;case"RANDOM":t=(n=e.JavaScript.provideFunction_("mathRandomList",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(list) {","  var x = Math.floor(Math.random() * list.length);","  return list[x];","}"]))+"("+(t=e.JavaScript.valueToCode(t,"LIST",e.JavaScript.ORDER_NONE)||"[]")+")";break;default:throw Error("Unknown operator: "+n)}return[t,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.math_modulo=function(t){return[(e.JavaScript.valueToCode(t,"DIVIDEND",e.JavaScript.ORDER_MODULUS)||"0")+" % "+(t=e.JavaScript.valueToCode(t,"DIVISOR",e.JavaScript.ORDER_MODULUS)||"0"),e.JavaScript.ORDER_MODULUS]},e.JavaScript.math_constrain=function(t){return["Math.min(Math.max("+(e.JavaScript.valueToCode(t,"VALUE",e.JavaScript.ORDER_NONE)||"0")+", "+(e.JavaScript.valueToCode(t,"LOW",e.JavaScript.ORDER_NONE)||"0")+"), "+(t=e.JavaScript.valueToCode(t,"HIGH",e.JavaScript.ORDER_NONE)||"Infinity")+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.math_random_int=function(t){var n=e.JavaScript.valueToCode(t,"FROM",e.JavaScript.ORDER_NONE)||"0";return t=e.JavaScript.valueToCode(t,"TO",e.JavaScript.ORDER_NONE)||"0",[e.JavaScript.provideFunction_("mathRandomInt",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(a, b) {","  if (a > b) {","    // Swap a and b to ensure a is smaller.","    var c = a;","    a = b;","    b = c;","  }","  return Math.floor(Math.random() * (b - a + 1) + a);","}"])+"("+n+", "+t+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.math_random_float=function(t){return["Math.random()",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.math_atan2=function(t){var n=e.JavaScript.valueToCode(t,"X",e.JavaScript.ORDER_NONE)||"0";return["Math.atan2("+(e.JavaScript.valueToCode(t,"Y",e.JavaScript.ORDER_NONE)||"0")+", "+n+") / Math.PI * 180",e.JavaScript.ORDER_DIVISION]},e.JavaScript.procedures={},e.JavaScript.procedures_defreturn=function(t){var n=e.JavaScript.nameDB_.getName(t.getFieldValue("NAME"),e.PROCEDURE_CATEGORY_NAME),r="";e.JavaScript.STATEMENT_PREFIX&&(r+=e.JavaScript.injectId(e.JavaScript.STATEMENT_PREFIX,t)),e.JavaScript.STATEMENT_SUFFIX&&(r+=e.JavaScript.injectId(e.JavaScript.STATEMENT_SUFFIX,t)),r&&(r=e.JavaScript.prefixLines(r,e.JavaScript.INDENT));var i="";e.JavaScript.INFINITE_LOOP_TRAP&&(i=e.JavaScript.prefixLines(e.JavaScript.injectId(e.JavaScript.INFINITE_LOOP_TRAP,t),e.JavaScript.INDENT));var o=e.JavaScript.statementToCode(t,"STACK"),s=e.JavaScript.valueToCode(t,"RETURN",e.JavaScript.ORDER_NONE)||"",a="";o&&s&&(a=r),s&&(s=e.JavaScript.INDENT+"return "+s+";\n");for(var l=[],c=t.getVars(),u=0;u<c.length;u++)l[u]=e.JavaScript.nameDB_.getName(c[u],e.VARIABLE_CATEGORY_NAME);return r="function "+n+"("+l.join(", ")+") {\n"+r+i+o+a+s+"}",r=e.JavaScript.scrub_(t,r),e.JavaScript.definitions_["%"+n]=r,null},e.JavaScript.procedures_defnoreturn=e.JavaScript.procedures_defreturn,e.JavaScript.procedures_callreturn=function(t){for(var n=e.JavaScript.nameDB_.getName(t.getFieldValue("NAME"),e.PROCEDURE_CATEGORY_NAME),r=[],i=t.getVars(),o=0;o<i.length;o++)r[o]=e.JavaScript.valueToCode(t,"ARG"+o,e.JavaScript.ORDER_NONE)||"null";return[n+"("+r.join(", ")+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.procedures_callnoreturn=function(t){return e.JavaScript.procedures_callreturn(t)[0]+";\n"},e.JavaScript.procedures_ifreturn=function(t){var n="if ("+(e.JavaScript.valueToCode(t,"CONDITION",e.JavaScript.ORDER_NONE)||"false")+") {\n";return e.JavaScript.STATEMENT_SUFFIX&&(n+=e.JavaScript.prefixLines(e.JavaScript.injectId(e.JavaScript.STATEMENT_SUFFIX,t),e.JavaScript.INDENT)),t.hasReturnValue_?(t=e.JavaScript.valueToCode(t,"VALUE",e.JavaScript.ORDER_NONE)||"null",n+=e.JavaScript.INDENT+"return "+t+";\n"):n+=e.JavaScript.INDENT+"return;\n",n+"}\n"},e.JavaScript.texts={},e.JavaScript.text=function(t){return[e.JavaScript.quote_(t.getFieldValue("TEXT")),e.JavaScript.ORDER_ATOMIC]},e.JavaScript.text_multiline=function(t){var n=-1!=(t=e.JavaScript.multiline_quote_(t.getFieldValue("TEXT"))).indexOf("+")?e.JavaScript.ORDER_ADDITION:e.JavaScript.ORDER_ATOMIC;return[t,n]},e.JavaScript.text.forceString_=function(t){return e.JavaScript.text.forceString_.strRegExp.test(t)?[t,e.JavaScript.ORDER_ATOMIC]:["String("+t+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text.forceString_.strRegExp=/^\s*'([^']|\\')*'\s*$/,e.JavaScript.text_join=function(t){switch(t.itemCount_){case 0:return["''",e.JavaScript.ORDER_ATOMIC];case 1:return t=e.JavaScript.valueToCode(t,"ADD0",e.JavaScript.ORDER_NONE)||"''",e.JavaScript.text.forceString_(t);case 2:var n=e.JavaScript.valueToCode(t,"ADD0",e.JavaScript.ORDER_NONE)||"''";return t=e.JavaScript.valueToCode(t,"ADD1",e.JavaScript.ORDER_NONE)||"''",[t=e.JavaScript.text.forceString_(n)[0]+" + "+e.JavaScript.text.forceString_(t)[0],e.JavaScript.ORDER_ADDITION];default:n=Array(t.itemCount_);for(var r=0;r<t.itemCount_;r++)n[r]=e.JavaScript.valueToCode(t,"ADD"+r,e.JavaScript.ORDER_NONE)||"''";return[t="["+n.join(",")+"].join('')",e.JavaScript.ORDER_FUNCTION_CALL]}},e.JavaScript.text_append=function(t){var n=e.JavaScript.nameDB_.getName(t.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME);return t=e.JavaScript.valueToCode(t,"TEXT",e.JavaScript.ORDER_NONE)||"''",n+" += "+e.JavaScript.text.forceString_(t)[0]+";\n"},e.JavaScript.text_length=function(t){return[(e.JavaScript.valueToCode(t,"VALUE",e.JavaScript.ORDER_MEMBER)||"''")+".length",e.JavaScript.ORDER_MEMBER]},e.JavaScript.text_isEmpty=function(t){return["!"+(e.JavaScript.valueToCode(t,"VALUE",e.JavaScript.ORDER_MEMBER)||"''")+".length",e.JavaScript.ORDER_LOGICAL_NOT]},e.JavaScript.text_indexOf=function(t){var n="FIRST"==t.getFieldValue("END")?"indexOf":"lastIndexOf",r=e.JavaScript.valueToCode(t,"FIND",e.JavaScript.ORDER_NONE)||"''";return n=(e.JavaScript.valueToCode(t,"VALUE",e.JavaScript.ORDER_MEMBER)||"''")+"."+n+"("+r+")",t.workspace.options.oneBasedIndex?[n+" + 1",e.JavaScript.ORDER_ADDITION]:[n,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_charAt=function(t){var n=t.getFieldValue("WHERE")||"FROM_START",r=e.JavaScript.valueToCode(t,"VALUE","RANDOM"==n?e.JavaScript.ORDER_NONE:e.JavaScript.ORDER_MEMBER)||"''";switch(n){case"FIRST":return[r+".charAt(0)",e.JavaScript.ORDER_FUNCTION_CALL];case"LAST":return[r+".slice(-1)",e.JavaScript.ORDER_FUNCTION_CALL];case"FROM_START":return[r+".charAt("+(t=e.JavaScript.getAdjusted(t,"AT"))+")",e.JavaScript.ORDER_FUNCTION_CALL];case"FROM_END":return[r+".slice("+(t=e.JavaScript.getAdjusted(t,"AT",1,!0))+").charAt(0)",e.JavaScript.ORDER_FUNCTION_CALL];case"RANDOM":return[e.JavaScript.provideFunction_("textRandomLetter",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(text) {","  var x = Math.floor(Math.random() * text.length);","  return text[x];","}"])+"("+r+")",e.JavaScript.ORDER_FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},e.JavaScript.text.getIndex_=function(e,t,n){return"FIRST"==t?"0":"FROM_END"==t?e+".length - 1 - "+n:"LAST"==t?e+".length - 1":n},e.JavaScript.text_getSubstring=function(t){var n=t.getFieldValue("WHERE1"),r=t.getFieldValue("WHERE2"),i="FROM_END"!=n&&"LAST"!=n&&"FROM_END"!=r&&"LAST"!=r,o=e.JavaScript.valueToCode(t,"STRING",i?e.JavaScript.ORDER_MEMBER:e.JavaScript.ORDER_NONE)||"''";if("FIRST"==n&&"LAST"==r)return[o,e.JavaScript.ORDER_NONE];if(o.match(/^'?\w+'?$/)||i){switch(n){case"FROM_START":i=e.JavaScript.getAdjusted(t,"AT1");break;case"FROM_END":i=o+".length - "+(i=e.JavaScript.getAdjusted(t,"AT1",1,!1,e.JavaScript.ORDER_SUBTRACTION));break;case"FIRST":i="0";break;default:throw Error("Unhandled option (text_getSubstring).")}switch(r){case"FROM_START":t=e.JavaScript.getAdjusted(t,"AT2",1);break;case"FROM_END":t=o+".length - "+(t=e.JavaScript.getAdjusted(t,"AT2",0,!1,e.JavaScript.ORDER_SUBTRACTION));break;case"LAST":t=o+".length";break;default:throw Error("Unhandled option (text_getSubstring).")}n=o+".slice("+i+", "+t+")"}else{i=e.JavaScript.getAdjusted(t,"AT1"),t=e.JavaScript.getAdjusted(t,"AT2");var s=e.JavaScript.text.getIndex_,a={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};n=e.JavaScript.provideFunction_("subsequence"+a[n]+a[r],["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(sequence"+("FROM_END"==n||"FROM_START"==n?", at1":"")+("FROM_END"==r||"FROM_START"==r?", at2":"")+") {","  var start = "+s("sequence",n,"at1")+";","  var end = "+s("sequence",r,"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+o+("FROM_END"==n||"FROM_START"==n?", "+i:"")+("FROM_END"==r||"FROM_START"==r?", "+t:"")+")"}return[n,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_changeCase=function(t){var n={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[t.getFieldValue("CASE")];return t=e.JavaScript.valueToCode(t,"TEXT",n?e.JavaScript.ORDER_MEMBER:e.JavaScript.ORDER_NONE)||"''",[n?t+n:e.JavaScript.provideFunction_("textToTitleCase",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(str) {","  return str.replace(/\\S+/g,","      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});","}"])+"("+t+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_trim=function(t){var n={LEFT:".replace(/^[\\s\\xa0]+/, '')",RIGHT:".replace(/[\\s\\xa0]+$/, '')",BOTH:".trim()"}[t.getFieldValue("MODE")];return[(e.JavaScript.valueToCode(t,"TEXT",e.JavaScript.ORDER_MEMBER)||"''")+n,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_print=function(t){return"window.alert("+(e.JavaScript.valueToCode(t,"TEXT",e.JavaScript.ORDER_NONE)||"''")+");\n"},e.JavaScript.text_prompt_ext=function(t){var n="window.prompt("+(t.getField("TEXT")?e.JavaScript.quote_(t.getFieldValue("TEXT")):e.JavaScript.valueToCode(t,"TEXT",e.JavaScript.ORDER_NONE)||"''")+")";return"NUMBER"==t.getFieldValue("TYPE")&&(n="Number("+n+")"),[n,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_prompt=e.JavaScript.text_prompt_ext,e.JavaScript.text_count=function(t){var n=e.JavaScript.valueToCode(t,"TEXT",e.JavaScript.ORDER_NONE)||"''";return t=e.JavaScript.valueToCode(t,"SUB",e.JavaScript.ORDER_NONE)||"''",[e.JavaScript.provideFunction_("textCount",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(haystack, needle) {","  if (needle.length === 0) {","    return haystack.length + 1;","  } else {","    return haystack.split(needle).length - 1;","  }","}"])+"("+n+", "+t+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_replace=function(t){var n=e.JavaScript.valueToCode(t,"TEXT",e.JavaScript.ORDER_NONE)||"''",r=e.JavaScript.valueToCode(t,"FROM",e.JavaScript.ORDER_NONE)||"''";return t=e.JavaScript.valueToCode(t,"TO",e.JavaScript.ORDER_NONE)||"''",[e.JavaScript.provideFunction_("textReplace",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(haystack, needle, replacement) {",'  needle = needle.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g,"\\\\$1")','                 .replace(/\\x08/g,"\\\\x08");',"  return haystack.replace(new RegExp(needle, 'g'), replacement);","}"])+"("+n+", "+r+", "+t+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_reverse=function(t){return[(e.JavaScript.valueToCode(t,"TEXT",e.JavaScript.ORDER_MEMBER)||"''")+".split('').reverse().join('')",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.variables={},e.JavaScript.variables_get=function(t){return[e.JavaScript.nameDB_.getName(t.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME),e.JavaScript.ORDER_ATOMIC]},e.JavaScript.variables_set=function(t){var n=e.JavaScript.valueToCode(t,"VALUE",e.JavaScript.ORDER_ASSIGNMENT)||"0";return e.JavaScript.nameDB_.getName(t.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME)+" = "+n+";\n"},e.JavaScript.variablesDynamic={},e.JavaScript.variables_get_dynamic=e.JavaScript.variables_get,e.JavaScript.variables_set_dynamic=e.JavaScript.variables_set,e.JavaScript})?r.apply(t,i):r)||(e.exports=o)},8052:function(e,t,n){var r,i,o;i=[n(947)],void 0===(o="function"===typeof(r=function(e){return(e={Msg:{}}).Msg.ADD_COMMENT="Add Comment",e.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'",e.Msg.CHANGE_VALUE_TITLE="Change value:",e.Msg.CLEAN_UP="Clean up Blocks",e.Msg.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.",e.Msg.COLLAPSE_ALL="Collapse Blocks",e.Msg.COLLAPSE_BLOCK="Collapse Block",e.Msg.COLOUR_BLEND_COLOUR1="colour 1",e.Msg.COLOUR_BLEND_COLOUR2="colour 2",e.Msg.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp",e.Msg.COLOUR_BLEND_RATIO="ratio",e.Msg.COLOUR_BLEND_TITLE="blend",e.Msg.COLOUR_BLEND_TOOLTIP="Blends two colours together with a given ratio (0.0 - 1.0).",e.Msg.COLOUR_PICKER_HELPURL="https://en.wikipedia.org/wiki/Color",e.Msg.COLOUR_PICKER_TOOLTIP="Choose a colour from the palette.",e.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com",e.Msg.COLOUR_RANDOM_TITLE="random colour",e.Msg.COLOUR_RANDOM_TOOLTIP="Choose a colour at random.",e.Msg.COLOUR_RGB_BLUE="blue",e.Msg.COLOUR_RGB_GREEN="green",e.Msg.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html",e.Msg.COLOUR_RGB_RED="red",e.Msg.COLOUR_RGB_TITLE="colour with",e.Msg.COLOUR_RGB_TOOLTIP="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.",e.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",e.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop",e.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop",e.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.",e.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.",e.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.",e.Msg.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each",e.Msg.CONTROLS_FOREACH_TITLE="for each item %1 in list %2",e.Msg.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.",e.Msg.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with",e.Msg.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4",e.Msg.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.",e.Msg.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.",e.Msg.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.",e.Msg.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse",e.Msg.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.",e.Msg.CONTROLS_IF_MSG_ELSE="else",e.Msg.CONTROLS_IF_MSG_ELSEIF="else if",e.Msg.CONTROLS_IF_MSG_IF="if",e.Msg.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.",e.Msg.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.",e.Msg.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.",e.Msg.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.",e.Msg.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop",e.Msg.CONTROLS_REPEAT_INPUT_DO="do",e.Msg.CONTROLS_REPEAT_TITLE="repeat %1 times",e.Msg.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.",e.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat",e.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until",e.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while",e.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.",e.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.",e.Msg.DELETE_ALL_BLOCKS="Delete all %1 blocks?",e.Msg.DELETE_BLOCK="Delete Block",e.Msg.DELETE_VARIABLE="Delete the '%1' variable",e.Msg.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?",e.Msg.DELETE_X_BLOCKS="Delete %1 Blocks",e.Msg.DISABLE_BLOCK="Disable Block",e.Msg.DUPLICATE_BLOCK="Duplicate",e.Msg.DUPLICATE_COMMENT="Duplicate Comment",e.Msg.ENABLE_BLOCK="Enable Block",e.Msg.EXPAND_ALL="Expand Blocks",e.Msg.EXPAND_BLOCK="Expand Block",e.Msg.EXTERNAL_INPUTS="External Inputs",e.Msg.HELP="Help",e.Msg.INLINE_INPUTS="Inline Inputs",e.Msg.IOS_CANCEL="Cancel",e.Msg.IOS_ERROR="Error",e.Msg.IOS_OK="OK",e.Msg.IOS_PROCEDURES_ADD_INPUT="+ Add Input",e.Msg.IOS_PROCEDURES_ALLOW_STATEMENTS="Allow statements",e.Msg.IOS_PROCEDURES_DUPLICATE_INPUTS_ERROR="This function has duplicate inputs.",e.Msg.IOS_PROCEDURES_INPUTS="INPUTS",e.Msg.IOS_VARIABLES_ADD_BUTTON="Add",e.Msg.IOS_VARIABLES_ADD_VARIABLE="+ Add Variable",e.Msg.IOS_VARIABLES_DELETE_BUTTON="Delete",e.Msg.IOS_VARIABLES_EMPTY_NAME_ERROR="You can't use an empty variable name.",e.Msg.IOS_VARIABLES_RENAME_BUTTON="Rename",e.Msg.IOS_VARIABLES_VARIABLE_NAME="Variable name",e.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",e.Msg.LISTS_CREATE_EMPTY_TITLE="create empty list",e.Msg.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records",e.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list",e.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.",e.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",e.Msg.LISTS_CREATE_WITH_INPUT_WITH="create list with",e.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.",e.Msg.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.",e.Msg.LISTS_GET_INDEX_FIRST="first",e.Msg.LISTS_GET_INDEX_FROM_END="# from end",e.Msg.LISTS_GET_INDEX_FROM_START="#",e.Msg.LISTS_GET_INDEX_GET="get",e.Msg.LISTS_GET_INDEX_GET_REMOVE="get and remove",e.Msg.LISTS_GET_INDEX_LAST="last",e.Msg.LISTS_GET_INDEX_RANDOM="random",e.Msg.LISTS_GET_INDEX_REMOVE="remove",e.Msg.LISTS_GET_INDEX_TAIL="",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.",e.Msg.LISTS_GET_SUBLIST_END_FROM_END="to # from end",e.Msg.LISTS_GET_SUBLIST_END_FROM_START="to #",e.Msg.LISTS_GET_SUBLIST_END_LAST="to last",e.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",e.Msg.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first",e.Msg.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end",e.Msg.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #",e.Msg.LISTS_GET_SUBLIST_TAIL="",e.Msg.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.",e.Msg.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.",e.Msg.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.",e.Msg.LISTS_INDEX_OF_FIRST="find first occurrence of item",e.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",e.Msg.LISTS_INDEX_OF_LAST="find last occurrence of item",e.Msg.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.",e.Msg.LISTS_INLIST="in list",e.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",e.Msg.LISTS_ISEMPTY_TITLE="%1 is empty",e.Msg.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.",e.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",e.Msg.LISTS_LENGTH_TITLE="length of %1",e.Msg.LISTS_LENGTH_TOOLTIP="Returns the length of a list.",e.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",e.Msg.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times",e.Msg.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.",e.Msg.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",e.Msg.LISTS_REVERSE_MESSAGE0="reverse %1",e.Msg.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.",e.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",e.Msg.LISTS_SET_INDEX_INPUT_TO="as",e.Msg.LISTS_SET_INDEX_INSERT="insert at",e.Msg.LISTS_SET_INDEX_SET="set",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.",e.Msg.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",e.Msg.LISTS_SORT_ORDER_ASCENDING="ascending",e.Msg.LISTS_SORT_ORDER_DESCENDING="descending",e.Msg.LISTS_SORT_TITLE="sort %1 %2 %3",e.Msg.LISTS_SORT_TOOLTIP="Sort a copy of a list.",e.Msg.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case",e.Msg.LISTS_SORT_TYPE_NUMERIC="numeric",e.Msg.LISTS_SORT_TYPE_TEXT="alphabetic",e.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",e.Msg.LISTS_SPLIT_LIST_FROM_TEXT="make list from text",e.Msg.LISTS_SPLIT_TEXT_FROM_LIST="make text from list",e.Msg.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.",e.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.",e.Msg.LISTS_SPLIT_WITH_DELIMITER="with delimiter",e.Msg.LOGIC_BOOLEAN_FALSE="false",e.Msg.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values",e.Msg.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.",e.Msg.LOGIC_BOOLEAN_TRUE="true",e.Msg.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)",e.Msg.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.",e.Msg.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.",e.Msg.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.",e.Msg.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.",e.Msg.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.",e.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.",e.Msg.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not",e.Msg.LOGIC_NEGATE_TITLE="not %1",e.Msg.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.",e.Msg.LOGIC_NULL="null",e.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",e.Msg.LOGIC_NULL_TOOLTIP="Returns null.",e.Msg.LOGIC_OPERATION_AND="and",e.Msg.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations",e.Msg.LOGIC_OPERATION_OR="or",e.Msg.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.",e.Msg.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.",e.Msg.LOGIC_TERNARY_CONDITION="test",e.Msg.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:",e.Msg.LOGIC_TERNARY_IF_FALSE="if false",e.Msg.LOGIC_TERNARY_IF_TRUE="if true",e.Msg.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.",e.Msg.MATH_ADDITION_SYMBOL="+",e.Msg.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic",e.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.",e.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.",e.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.",e.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.",e.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.",e.Msg.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2",e.Msg.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2",e.Msg.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.",e.Msg.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter",e.Msg.MATH_CHANGE_TITLE="change %1 by %2",e.Msg.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.",e.Msg.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant",e.Msg.MATH_CONSTANT_TOOLTIP="Return one of the common constants: \u03c0 (3.141\u2026), e (2.718\u2026), \u03c6 (1.618\u2026), sqrt(2) (1.414\u2026), sqrt(\xbd) (0.707\u2026), or \u221e (infinity).",e.Msg.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)",e.Msg.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3",e.Msg.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).",e.Msg.MATH_DIVISION_SYMBOL="\xf7",e.Msg.MATH_IS_DIVISIBLE_BY="is divisible by",e.Msg.MATH_IS_EVEN="is even",e.Msg.MATH_IS_NEGATIVE="is negative",e.Msg.MATH_IS_ODD="is odd",e.Msg.MATH_IS_POSITIVE="is positive",e.Msg.MATH_IS_PRIME="is prime",e.Msg.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.",e.Msg.MATH_IS_WHOLE="is whole",e.Msg.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation",e.Msg.MATH_MODULO_TITLE="remainder of %1 \xf7 %2",e.Msg.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.",e.Msg.MATH_MULTIPLICATION_SYMBOL="\xd7",e.Msg.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number",e.Msg.MATH_NUMBER_TOOLTIP="A number.",e.Msg.MATH_ONLIST_HELPURL="",e.Msg.MATH_ONLIST_OPERATOR_AVERAGE="average of list",e.Msg.MATH_ONLIST_OPERATOR_MAX="max of list",e.Msg.MATH_ONLIST_OPERATOR_MEDIAN="median of list",e.Msg.MATH_ONLIST_OPERATOR_MIN="min of list",e.Msg.MATH_ONLIST_OPERATOR_MODE="modes of list",e.Msg.MATH_ONLIST_OPERATOR_RANDOM="random item of list",e.Msg.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list",e.Msg.MATH_ONLIST_OPERATOR_SUM="sum of list",e.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.",e.Msg.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.",e.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.",e.Msg.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.",e.Msg.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.",e.Msg.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.",e.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.",e.Msg.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.",e.Msg.MATH_POWER_SYMBOL="^",e.Msg.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",e.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction",e.Msg.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).",e.Msg.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",e.Msg.MATH_RANDOM_INT_TITLE="random integer from %1 to %2",e.Msg.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.",e.Msg.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding",e.Msg.MATH_ROUND_OPERATOR_ROUND="round",e.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="round down",e.Msg.MATH_ROUND_OPERATOR_ROUNDUP="round up",e.Msg.MATH_ROUND_TOOLTIP="Round a number up or down.",e.Msg.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root",e.Msg.MATH_SINGLE_OP_ABSOLUTE="absolute",e.Msg.MATH_SINGLE_OP_ROOT="square root",e.Msg.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.",e.Msg.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.",e.Msg.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.",e.Msg.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.",e.Msg.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.",e.Msg.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.",e.Msg.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.",e.Msg.MATH_SUBTRACTION_SYMBOL="-",e.Msg.MATH_TRIG_ACOS="acos",e.Msg.MATH_TRIG_ASIN="asin",e.Msg.MATH_TRIG_ATAN="atan",e.Msg.MATH_TRIG_COS="cos",e.Msg.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions",e.Msg.MATH_TRIG_SIN="sin",e.Msg.MATH_TRIG_TAN="tan",e.Msg.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.",e.Msg.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.",e.Msg.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.",e.Msg.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).",e.Msg.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).",e.Msg.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).",e.Msg.NEW_COLOUR_VARIABLE="Create colour variable...",e.Msg.NEW_NUMBER_VARIABLE="Create number variable...",e.Msg.NEW_STRING_VARIABLE="Create string variable...",e.Msg.NEW_VARIABLE="Create variable...",e.Msg.NEW_VARIABLE_TITLE="New variable name:",e.Msg.NEW_VARIABLE_TYPE_TITLE="New variable type:",e.Msg.ORDINAL_NUMBER_SUFFIX="",e.Msg.PROCEDURES_ALLOW_STATEMENTS="allow statements",e.Msg.PROCEDURES_BEFORE_PARAMS="with:",e.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.",e.Msg.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.",e.Msg.PROCEDURES_CALL_BEFORE_PARAMS="with:",e.Msg.PROCEDURES_CREATE_DO="Create '%1'",e.Msg.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...",e.Msg.PROCEDURES_DEFNORETURN_DO="",e.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="do something",e.Msg.PROCEDURES_DEFNORETURN_TITLE="to",e.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.",e.Msg.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_DEFRETURN_RETURN="return",e.Msg.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.",e.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="Warning: This function has duplicate parameters.",e.Msg.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition",e.Msg.PROCEDURES_IFRETURN_HELPURL="http://c2.com/cgi/wiki?GuardClause",e.Msg.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.",e.Msg.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.",e.Msg.PROCEDURES_MUTATORARG_TITLE="input name:",e.Msg.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.",e.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="inputs",e.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.",e.Msg.REDO="Redo",e.Msg.REMOVE_COMMENT="Remove Comment",e.Msg.RENAME_VARIABLE="Rename variable...",e.Msg.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:",e.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",e.Msg.TEXT_APPEND_TITLE="to %1 append text %2",e.Msg.TEXT_APPEND_TOOLTIP="Append some text to variable '%1'.",e.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",e.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="to lower case",e.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="to Title Case",e.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="to UPPER CASE",e.Msg.TEXT_CHANGECASE_TOOLTIP="Return a copy of the text in a different case.",e.Msg.TEXT_CHARAT_FIRST="get first letter",e.Msg.TEXT_CHARAT_FROM_END="get letter # from end",e.Msg.TEXT_CHARAT_FROM_START="get letter #",e.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",e.Msg.TEXT_CHARAT_LAST="get last letter",e.Msg.TEXT_CHARAT_RANDOM="get random letter",e.Msg.TEXT_CHARAT_TAIL="",e.Msg.TEXT_CHARAT_TITLE="in text %1 %2",e.Msg.TEXT_CHARAT_TOOLTIP="Returns the letter at the specified position.",e.Msg.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",e.Msg.TEXT_COUNT_MESSAGE0="count %1 in %2",e.Msg.TEXT_COUNT_TOOLTIP="Count how many times some text occurs within some other text.",e.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Add an item to the text.",e.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="join",e.Msg.TEXT_CREATE_JOIN_TOOLTIP="Add, remove, or reorder sections to reconfigure this text block.",e.Msg.TEXT_GET_SUBSTRING_END_FROM_END="to letter # from end",e.Msg.TEXT_GET_SUBSTRING_END_FROM_START="to letter #",e.Msg.TEXT_GET_SUBSTRING_END_LAST="to last letter",e.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",e.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="in text",e.Msg.TEXT_GET_SUBSTRING_START_FIRST="get substring from first letter",e.Msg.TEXT_GET_SUBSTRING_START_FROM_END="get substring from letter # from end",e.Msg.TEXT_GET_SUBSTRING_START_FROM_START="get substring from letter #",e.Msg.TEXT_GET_SUBSTRING_TAIL="",e.Msg.TEXT_GET_SUBSTRING_TOOLTIP="Returns a specified portion of the text.",e.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",e.Msg.TEXT_INDEXOF_OPERATOR_FIRST="find first occurrence of text",e.Msg.TEXT_INDEXOF_OPERATOR_LAST="find last occurrence of text",e.Msg.TEXT_INDEXOF_TITLE="in text %1 %2 %3",e.Msg.TEXT_INDEXOF_TOOLTIP="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.",e.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",e.Msg.TEXT_ISEMPTY_TITLE="%1 is empty",e.Msg.TEXT_ISEMPTY_TOOLTIP="Returns true if the provided text is empty.",e.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",e.Msg.TEXT_JOIN_TITLE_CREATEWITH="create text with",e.Msg.TEXT_JOIN_TOOLTIP="Create a piece of text by joining together any number of items.",e.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",e.Msg.TEXT_LENGTH_TITLE="length of %1",e.Msg.TEXT_LENGTH_TOOLTIP="Returns the number of letters (including spaces) in the provided text.",e.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",e.Msg.TEXT_PRINT_TITLE="print %1",e.Msg.TEXT_PRINT_TOOLTIP="Print the specified text, number or other value.",e.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",e.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="Prompt for user for a number.",e.Msg.TEXT_PROMPT_TOOLTIP_TEXT="Prompt for user for some text.",e.Msg.TEXT_PROMPT_TYPE_NUMBER="prompt for number with message",e.Msg.TEXT_PROMPT_TYPE_TEXT="prompt for text with message",e.Msg.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",e.Msg.TEXT_REPLACE_MESSAGE0="replace %1 with %2 in %3",e.Msg.TEXT_REPLACE_TOOLTIP="Replace all occurances of some text within some other text.",e.Msg.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",e.Msg.TEXT_REVERSE_MESSAGE0="reverse %1",e.Msg.TEXT_REVERSE_TOOLTIP="Reverses the order of the characters in the text.",e.Msg.TEXT_TEXT_HELPURL="https://en.wikipedia.org/wiki/String_(computer_science)",e.Msg.TEXT_TEXT_TOOLTIP="A letter, word, or line of text.",e.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",e.Msg.TEXT_TRIM_OPERATOR_BOTH="trim spaces from both sides of",e.Msg.TEXT_TRIM_OPERATOR_LEFT="trim spaces from left side of",e.Msg.TEXT_TRIM_OPERATOR_RIGHT="trim spaces from right side of",e.Msg.TEXT_TRIM_TOOLTIP="Return a copy of the text with spaces removed from one or both ends.",e.Msg.TODAY="Today",e.Msg.UNDO="Undo",e.Msg.UNNAMED_KEY="unnamed",e.Msg.VARIABLES_DEFAULT_NAME="item",e.Msg.VARIABLES_GET_CREATE_SET="Create 'set %1'",e.Msg.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get",e.Msg.VARIABLES_GET_TOOLTIP="Returns the value of this variable.",e.Msg.VARIABLES_SET="set %1 to %2",e.Msg.VARIABLES_SET_CREATE_GET="Create 'get %1'",e.Msg.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set",e.Msg.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.",e.Msg.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.",e.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.",e.Msg.WORKSPACE_ARIA_LABEL="Blockly Workspace",e.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...",e.Msg.CONTROLS_FOREACH_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_FOR_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=e.Msg.CONTROLS_IF_MSG_ELSEIF,e.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=e.Msg.CONTROLS_IF_MSG_ELSE,e.Msg.CONTROLS_IF_IF_TITLE_IF=e.Msg.CONTROLS_IF_MSG_IF,e.Msg.CONTROLS_IF_MSG_THEN=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.LISTS_CREATE_WITH_ITEM_TITLE=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.LISTS_GET_INDEX_HELPURL=e.Msg.LISTS_INDEX_OF_HELPURL,e.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.MATH_CHANGE_TITLE_ITEM=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.PROCEDURES_DEFRETURN_COMMENT=e.Msg.PROCEDURES_DEFNORETURN_COMMENT,e.Msg.PROCEDURES_DEFRETURN_DO=e.Msg.PROCEDURES_DEFNORETURN_DO,e.Msg.PROCEDURES_DEFRETURN_PROCEDURE=e.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,e.Msg.PROCEDURES_DEFRETURN_TITLE=e.Msg.PROCEDURES_DEFNORETURN_TITLE,e.Msg.TEXT_APPEND_VARIABLE=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.MATH_HUE="230",e.Msg.LOOPS_HUE="120",e.Msg.LISTS_HUE="260",e.Msg.LOGIC_HUE="210",e.Msg.VARIABLES_HUE="330",e.Msg.TEXTS_HUE="160",e.Msg.PROCEDURES_HUE="290",e.Msg.COLOUR_HUE="20",e.Msg.VARIABLES_DYNAMIC_HUE="310",e.Msg})?r.apply(t,i):r)||(e.exports=o)},145:function(e,t,n){var r,i,o;i=[n(947)],void 0===(o="function"===typeof(r=function(e){return(e={Msg:{}}).Msg.ADD_COMMENT="\u30b3\u30e1\u30f3\u30c8\u3092\u8ffd\u52a0",e.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE="\u5909\u6570 '%1' \u306f\u95a2\u6570 '%2' \u306e\u5b9a\u7fa9\u306e\u4e00\u90e8\u3067\u3042\u308b\u305f\u3081\u3001\u524a\u9664\u3067\u304d\u307e\u305b\u3093",e.Msg.CHANGE_VALUE_TITLE="\u5024\u3092\u5909\u3048\u308b\uff1a",e.Msg.CLEAN_UP="\u30d6\u30ed\u30c3\u30af\u3092\u6574\u7406\u3059\u308b",e.Msg.COLLAPSED_WARNINGS_WARNING="\u3064\u3076\u3057\u305f\u30d6\u30ed\u30c3\u30af\u306b\u306f\u8b66\u544a\u304c\u5165\u3063\u3066\u3044\u307e\u3059\u3002",e.Msg.COLLAPSE_ALL="\u30d6\u30ed\u30c3\u30af\u3092\u6298\u308a\u305f\u305f\u3080",e.Msg.COLLAPSE_BLOCK="\u30d6\u30ed\u30c3\u30af\u3092\u6298\u308a\u305f\u305f\u3080",e.Msg.COLOUR_BLEND_COLOUR1="\u8272 1",e.Msg.COLOUR_BLEND_COLOUR2="\u8272 2",e.Msg.COLOUR_BLEND_HELPURL="http://meyerweb.com/eric/tools/color-blend/",e.Msg.COLOUR_BLEND_RATIO="\u6bd4\u7387",e.Msg.COLOUR_BLEND_TITLE="\u30d6\u30ec\u30f3\u30c9",e.Msg.COLOUR_BLEND_TOOLTIP="2\u8272\u3092\u4e0e\u3048\u3089\u308c\u305f\u6bd4\u7387\uff080.0\uff5e1.0\uff09\u3067\u6df7\u305c\u307e\u3059\u3002",e.Msg.COLOUR_PICKER_HELPURL="https://ja.wikipedia.org/wiki/\u8272",e.Msg.COLOUR_PICKER_TOOLTIP="\u30d1\u30ec\u30c3\u30c8\u304b\u3089\u8272\u3092\u9078\u3093\u3067\u304f\u3060\u3055\u3044\u3002",e.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com",e.Msg.COLOUR_RANDOM_TITLE="\u30e9\u30f3\u30c0\u30e0\u306a\u8272",e.Msg.COLOUR_RANDOM_TOOLTIP="\u30e9\u30f3\u30c0\u30e0\u306b\u8272\u3092\u9078\u3076\u3002",e.Msg.COLOUR_RGB_BLUE="\u9752",e.Msg.COLOUR_RGB_GREEN="\u7dd1",e.Msg.COLOUR_RGB_HELPURL="http://www.december.com/html/spec/colorper.html",e.Msg.COLOUR_RGB_RED="\u8d64",e.Msg.COLOUR_RGB_TITLE="\u8272:",e.Msg.COLOUR_RGB_TOOLTIP="\u8d64\u3001\u7dd1\u3001\u304a\u3088\u3073\u9752\u306e\u6307\u5b9a\u3055\u308c\u305f\u91cf\u3067\u8272\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u3059\u3079\u3066\u306e\u5024\u306f 0 \uff5e 100 \u306e\u9593\u3067\u306a\u3051\u308c\u3070\u306a\u308a\u307e\u305b\u3093\u3002",e.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",e.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="\u30eb\u30fc\u30d7\u304b\u3089\u629c\u3051\u51fa\u3059",e.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="\u30eb\u30fc\u30d7\u306e\u6b21\u306e\u53cd\u5fa9\u51e6\u7406\u3092\u7d9a\u884c\u3057\u307e\u3059",e.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="\u5165\u3063\u3066\u3044\u308b\u30eb\u30fc\u30d7\u304b\u3089\u629c\u3051\u51fa\u3057\u307e\u3059\u3002",e.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="\u3053\u306e\u30eb\u30fc\u30d7\u306e\u6b8b\u308a\u306e\u90e8\u5206\u3092\u30b9\u30ad\u30c3\u30d7\u3057\u3066\u3001\u30eb\u30fc\u30d7\u306e\u7e70\u308a\u8fd4\u3057\u3092\u7d9a\u3051\u307e\u3059\u3002",e.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="\u6ce8\u610f: \u3053\u306e\u30d6\u30ed\u30c3\u30af\u306f\u3001\u30eb\u30fc\u30d7\u5185\u3067\u306e\u307f\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002",e.Msg.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each",e.Msg.CONTROLS_FOREACH_TITLE="\u30ea\u30b9\u30c8%2\u306e\u5404\u9805\u76ee%1\u306b\u3064\u3044\u3066",e.Msg.CONTROLS_FOREACH_TOOLTIP="\u30ea\u30b9\u30c8\u306e\u5404\u9805\u76ee\u306b\u3064\u3044\u3066\u3001\u305d\u306e\u9805\u76ee\u3092\u5909\u6570'%1'\u3068\u3057\u3066\u3001\u3044\u304f\u3064\u304b\u306e\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002",e.Msg.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with",e.Msg.CONTROLS_FOR_TITLE="%1 \u3092 %2 \u304b\u3089 %3 \u307e\u3067 %4 \u305a\u3064\u30ab\u30a6\u30f3\u30c8\u3059\u308b",e.Msg.CONTROLS_FOR_TOOLTIP="\u5909\u6570 '%1' \u304c\u958b\u59cb\u756a\u53f7\u304b\u3089\u7d42\u4e86\u756a\u53f7\u307e\u3067\u6307\u5b9a\u3057\u305f\u9593\u9694\u3067\u306e\u5024\u3092\u3068\u3063\u3066\u3001\u6307\u5b9a\u3057\u305f\u30d6\u30ed\u30c3\u30af\u3092\u5b9f\u884c\u3059\u308b\u3002",e.Msg.CONTROLS_IF_ELSEIF_TOOLTIP="\u300c\u3082\u3057\u3082\u300d\u306e\u30d6\u30ed\u30c3\u30af\u306b\u6761\u4ef6\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002",e.Msg.CONTROLS_IF_ELSE_TOOLTIP="If\u30d6\u30ed\u30c3\u30af\u306b\u3001\u3059\u3079\u3066\u3092\u30ad\u30e3\u30c3\u30c1\u3059\u308b\u6761\u4ef6\u3092\u8ffd\u52a0\u3002",e.Msg.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse",e.Msg.CONTROLS_IF_IF_TOOLTIP="\u8ffd\u52a0\u3001\u524a\u9664\u3001\u307e\u305f\u306f\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u9806\u5e8f\u5909\u66f4\u3057\u3066\u3001\u30d6\u30ed\u30c3\u30af\u3092\u3053\u308c\u3092\u518d\u69cb\u6210\u3057\u307e\u3059\u3002",e.Msg.CONTROLS_IF_MSG_ELSE="\u305d\u3046\u3067\u306a\u3051\u308c\u3070",e.Msg.CONTROLS_IF_MSG_ELSEIF="\u305d\u3046\u3067\u306a\u304f\u3082\u3057",e.Msg.CONTROLS_IF_MSG_IF="\u3082\u3057",e.Msg.CONTROLS_IF_TOOLTIP_1="\u5024\u304c true \u306e\u5834\u5408\u3001\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002",e.Msg.CONTROLS_IF_TOOLTIP_2="\u5024\u304c true \u306e\u5834\u5408\u306f\u3001\u6700\u521d\u306e\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u306e\u30d6\u30ed\u30c3\u30af\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u305d\u308c\u4ee5\u5916\u306e\u5834\u5408\u306f\u30012\u756a\u76ee\u306e\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u306e\u30d6\u30ed\u30c3\u30af\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002",e.Msg.CONTROLS_IF_TOOLTIP_3="\u6700\u521d\u306e\u5024\u304c true \u306e\u5834\u5408\u306f\u3001\u6700\u521d\u306e\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u306e\u30d6\u30ed\u30c3\u30af\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u305d\u308c\u4ee5\u5916\u306e\u5834\u5408\u3067\u30012\u756a\u76ee\u306e\u5024\u304c true \u306e\u5834\u5408\u306f\u30012\u756a\u76ee\u306e\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u306e\u30d6\u30ed\u30c3\u30af\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002",e.Msg.CONTROLS_IF_TOOLTIP_4="\u6700\u521d\u306e\u5024\u304c true \u306e\u5834\u5408\u306f\u3001\u6700\u521d\u306e\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u306e\u30d6\u30ed\u30c3\u30af\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u305d\u308c\u4ee5\u5916\u306e\u5834\u5408\u3067\u30012\u756a\u76ee\u306e\u5024\u304c true \u306e\u5834\u5408\u306f\u30012\u756a\u76ee\u306e\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u306e\u30d6\u30ed\u30c3\u30af\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002\u3059\u3079\u3066\u306e\u5024\u304c true \u3067\u306a\u3044\u5834\u5408\u306f\u3001\u6700\u5f8c\u306e\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u306e\u30d6\u30ed\u30c3\u30af\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002",e.Msg.CONTROLS_REPEAT_HELPURL="https://ja.wikipedia.org/wiki/for\u6587",e.Msg.CONTROLS_REPEAT_INPUT_DO="\u5b9f\u884c",e.Msg.CONTROLS_REPEAT_TITLE="%1 \u56de\u7e70\u308a\u8fd4\u3059",e.Msg.CONTROLS_REPEAT_TOOLTIP="\u3044\u304f\u3064\u304b\u306e\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u3092\u6570\u56de\u5b9f\u884c\u3057\u307e\u3059\u3002",e.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat",e.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="\u7e70\u308a\u8fd4\u3059\uff1a\u7d42\u308f\u308b\u6761\u4ef6",e.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="\u7e70\u308a\u8fd4\u3059\uff1a\u7d9a\u3051\u308b\u6761\u4ef6",e.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="\u5024\u304cfalse\u306e\u9593\u3001\u3044\u304f\u3064\u304b\u306e\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u3092\u5b9f\u884c\u3059\u308b\u3002",e.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="\u5024\u304ctrue\u306e\u9593\u3001\u3044\u304f\u3064\u304b\u306e\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u3092\u5b9f\u884c\u3059\u308b\u3002",e.Msg.DELETE_ALL_BLOCKS="%1\u500b\u3042\u308b\u3059\u3079\u3066\u306e\u30d6\u30ed\u30c3\u30af\u3092\u524a\u9664\u3057\u307e\u3059\u304b\uff1f",e.Msg.DELETE_BLOCK="\u30d6\u30ed\u30c3\u30af\u3092\u524a\u9664",e.Msg.DELETE_VARIABLE="\u5909\u6570 '%1' \u3092\u524a\u9664",e.Msg.DELETE_VARIABLE_CONFIRMATION="%1\u304b\u6240\u3067\u4f7f\u308f\u308c\u3066\u3044\u308b\u5909\u6570 '%2' \u3092\u524a\u9664\u3057\u307e\u3059\u304b\uff1f",e.Msg.DELETE_X_BLOCKS="%1\u500b\u306e\u30d6\u30ed\u30c3\u30af\u3092\u524a\u9664",e.Msg.DISABLE_BLOCK="\u30d6\u30ed\u30c3\u30af\u3092\u7121\u52b9\u306b\u3059\u308b",e.Msg.DUPLICATE_BLOCK="\u8907\u88fd",e.Msg.DUPLICATE_COMMENT="\u30b3\u30e1\u30f3\u30c8\u3092\u8907\u88fd",e.Msg.ENABLE_BLOCK="\u30d6\u30ed\u30c3\u30af\u3092\u6709\u52b9\u306b\u3059\u308b",e.Msg.EXPAND_ALL="\u30d6\u30ed\u30c3\u30af\u3092\u5c55\u958b\u3059\u308b",e.Msg.EXPAND_BLOCK="\u30d6\u30ed\u30c3\u30af\u3092\u5c55\u958b\u3059\u308b",e.Msg.EXTERNAL_INPUTS="\u5916\u90e8\u5165\u529b",e.Msg.HELP="\u30d8\u30eb\u30d7",e.Msg.INLINE_INPUTS="\u30a4\u30f3\u30e9\u30a4\u30f3\u5165\u529b",e.Msg.IOS_CANCEL="\u30ad\u30e3\u30f3\u30bb\u30eb",e.Msg.IOS_ERROR="\u30a8\u30e9\u30fc",e.Msg.IOS_OK="OK",e.Msg.IOS_PROCEDURES_ADD_INPUT="+\u3000\u5165\u529b\u3092\u8ffd\u52a0",e.Msg.IOS_PROCEDURES_ALLOW_STATEMENTS="\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u3092\u8a31\u53ef",e.Msg.IOS_PROCEDURES_DUPLICATE_INPUTS_ERROR="\u3053\u306e\u95a2\u6570\u306b\u306f\u91cd\u8907\u3059\u308b\u5165\u529b\u304c\u3042\u308a\u307e\u3059\u3002",e.Msg.IOS_PROCEDURES_INPUTS="\u5165\u529b",e.Msg.IOS_VARIABLES_ADD_BUTTON="\u8ffd\u52a0",e.Msg.IOS_VARIABLES_ADD_VARIABLE="+ \u5909\u6570\u3092\u8ffd\u52a0",e.Msg.IOS_VARIABLES_DELETE_BUTTON="\u524a\u9664",e.Msg.IOS_VARIABLES_EMPTY_NAME_ERROR="\u7a7a\u306e\u5909\u6570\u540d\u306f\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093\u3002",e.Msg.IOS_VARIABLES_RENAME_BUTTON="\u540d\u524d\u3092\u5909\u66f4",e.Msg.IOS_VARIABLES_VARIABLE_NAME="\u5909\u6570\u540d",e.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",e.Msg.LISTS_CREATE_EMPTY_TITLE="\u7a7a\u306e\u30ea\u30b9\u30c8\u3092\u4f5c\u6210",e.Msg.LISTS_CREATE_EMPTY_TOOLTIP="\u9577\u3055\uff10\u3067\u30c7\u30fc\u30bf\u30fb\u30ec\u30b3\u30fc\u30c9\u3092\u542b\u307e\u306a\u3044\u7a7a\u306e\u30ea\u30b9\u30c8\u3092\u8fd4\u3059",e.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="\u30ea\u30b9\u30c8",e.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="\u8ffd\u52a0\u3001\u524a\u9664\u3001\u307e\u305f\u306f\u30bb\u30af\u30b7\u30e7\u30f3\u306e\u9806\u5e8f\u5909\u66f4\u3092\u3057\u3066\u3001\u3053\u306e\u30ea\u30b9\u30c8\u30fb\u30d6\u30ed\u30c3\u30af\u3092\u518d\u69cb\u6210\u3059\u308b\u3002",e.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",e.Msg.LISTS_CREATE_WITH_INPUT_WITH="\u4ee5\u4e0b\u3092\u4f7f\u3063\u3066\u30ea\u30b9\u30c8\u3092\u4f5c\u6210\uff1a",e.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="\u30ea\u30b9\u30c8\u306b\u9805\u76ee\u3092\u8ffd\u52a0\u3002",e.Msg.LISTS_CREATE_WITH_TOOLTIP="\u9805\u76ee\u6570\u304c\u4e0d\u5b9a\u306e\u30ea\u30b9\u30c8\u3092\u4f5c\u6210\u3002",e.Msg.LISTS_GET_INDEX_FIRST="\u6700\u521d",e.Msg.LISTS_GET_INDEX_FROM_END="\u4f4d\u7f6e\uff1a\u5f8c\u308d\u304b\u3089",e.Msg.LISTS_GET_INDEX_FROM_START="#",e.Msg.LISTS_GET_INDEX_GET="\u53d6\u5f97",e.Msg.LISTS_GET_INDEX_GET_REMOVE="\u53d6\u5f97\u3057\u3066\u524a\u9664",e.Msg.LISTS_GET_INDEX_LAST="\u6700\u5f8c",e.Msg.LISTS_GET_INDEX_RANDOM="\u30e9\u30f3\u30c0\u30e0",e.Msg.LISTS_GET_INDEX_REMOVE="\u524a\u9664",e.Msg.LISTS_GET_INDEX_TAIL="",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="\u30ea\u30b9\u30c8\u306e\u6700\u521d\u306e\u9805\u76ee\u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM="\u30ea\u30b9\u30c8\u5185\u306e\u6307\u5b9a\u4f4d\u7f6e\u306b\u3042\u308b\u9805\u76ee\u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="\u30ea\u30b9\u30c8\u306e\u6700\u5f8c\u306e\u9805\u76ee\u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="\u30e9\u30f3\u30c0\u30e0 \u30a2\u30a4\u30c6\u30e0 \u30ea\u30b9\u30c8\u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="\u30ea\u30b9\u30c8\u5185\u306e\u6700\u521d\u306e\u9805\u76ee\u3092\u524a\u9664\u3057\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="\u30ea\u30b9\u30c8\u5185\u306e\u6307\u5b9a\u4f4d\u7f6e\u306b\u3042\u308b\u9805\u76ee\u3092\u524a\u9664\u3057\u3001\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="\u30ea\u30b9\u30c8\u5185\u306e\u6700\u5f8c\u306e\u9805\u76ee\u3092\u524a\u9664\u3057\u305f\u3042\u3068\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="\u30ea\u30b9\u30c8\u306e\u30e9\u30f3\u30c0\u30e0\u306a\u30a2\u30a4\u30c6\u30e0\u3092\u524a\u9664\u3057\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="\u30ea\u30b9\u30c8\u5185\u306e\u6700\u521d\u306e\u9805\u76ee\u3092\u524a\u9664\u3057\u307e\u3059\u3002",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="\u30ea\u30b9\u30c8\u5185\u306e\u6307\u5b9a\u3055\u308c\u305f\u9805\u76ee\u3092\u524a\u9664\u3057\u307e\u3059\u3002",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="\u30ea\u30b9\u30c8\u5185\u306e\u6700\u5f8c\u306e\u9805\u76ee\u3092\u524a\u9664\u3057\u307e\u3059\u3002",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="\u30ea\u30b9\u30c8\u5185\u306b\u3042\u308b\u30a2\u30a4\u30c6\u30e0\u3092\u30e9\u30f3\u30c0\u30e0\u306b\u524a\u9664\u3057\u307e\u3059\u3002",e.Msg.LISTS_GET_SUBLIST_END_FROM_END="\u7d42\u4e86\u4f4d\u7f6e\uff1a\u5f8c\u308d\u304b\u3089",e.Msg.LISTS_GET_SUBLIST_END_FROM_START="\u7d42\u4e86\u4f4d\u7f6e\uff1a",e.Msg.LISTS_GET_SUBLIST_END_LAST="\u6700\u5f8c\u307e\u3067",e.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",e.Msg.LISTS_GET_SUBLIST_START_FIRST="\u6700\u521d\u304b\u3089\u30b5\u30d6\u30ea\u30b9\u30c8\u3092\u53d6\u5f97\u3059\u308b\u3002",e.Msg.LISTS_GET_SUBLIST_START_FROM_END="\u7aef\u304b\u3089 #\u306e\u30b5\u30d6\u30ea\u30b9\u30c8\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002",e.Msg.LISTS_GET_SUBLIST_START_FROM_START="# \u304b\u3089\u30b5\u30d6\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30ea\u30b9\u30c8\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002",e.Msg.LISTS_GET_SUBLIST_TAIL="",e.Msg.LISTS_GET_SUBLIST_TOOLTIP="\u30ea\u30b9\u30c8\u306e\u6307\u5b9a\u3055\u308c\u305f\u90e8\u5206\u306e\u30b3\u30d4\u30fc\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002",e.Msg.LISTS_INDEX_FROM_END_TOOLTIP="%1 \u306f\u3001\u6700\u5f8c\u306e\u9805\u76ee\u3067\u3059\u3002",e.Msg.LISTS_INDEX_FROM_START_TOOLTIP="%1 \u306f\u3001\u6700\u521d\u306e\u9805\u76ee\u3067\u3059\u3002",e.Msg.LISTS_INDEX_OF_FIRST="\u3067\u4ee5\u4e0b\u306e\u30a2\u30a4\u30c6\u30e0\u306e\u6700\u521d\u306e\u51fa\u73fe\u7b87\u6240\u3092\u691c\u7d22\uff1a",e.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",e.Msg.LISTS_INDEX_OF_LAST="\u3067\u4ee5\u4e0b\u306e\u30c6\u30ad\u30b9\u30c8\u306e\u6700\u5f8c\u306e\u51fa\u73fe\u7b87\u6240\u3092\u691c\u7d22\uff1a",e.Msg.LISTS_INDEX_OF_TOOLTIP="\u30ea\u30b9\u30c8\u9805\u76ee\u306e\u6700\u521d/\u6700\u5f8c\u306b\u51fa\u73fe\u3059\u308b\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u4f4d\u7f6e\u3092\u8fd4\u3057\u307e\u3059\u3002\u9805\u76ee\u304c\u898b\u3064\u304b\u3089\u306a\u3044\u5834\u5408\u306f %1 \u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LISTS_INLIST="\u30ea\u30b9\u30c8",e.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",e.Msg.LISTS_ISEMPTY_TITLE="%1\u304c\u7a7a",e.Msg.LISTS_ISEMPTY_TOOLTIP="\u30ea\u30b9\u30c8\u304c\u7a7a\u306e\u5834\u5408\u306f\u3001true \u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",e.Msg.LISTS_LENGTH_TITLE="%1\u306e\u9577\u3055",e.Msg.LISTS_LENGTH_TOOLTIP="\u30ea\u30b9\u30c8\u306e\u9577\u3055\u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",e.Msg.LISTS_REPEAT_TITLE="\u9805\u76ee%1\u3092%2\u56de\u7e70\u308a\u8fd4\u3057\u305f\u30ea\u30b9\u30c8\u3092\u4f5c\u6210",e.Msg.LISTS_REPEAT_TOOLTIP="\u4e0e\u3048\u3089\u308c\u305f\u5024\u3092\u6307\u5b9a\u3055\u308c\u305f\u56de\u6570\u7e70\u308a\u8fd4\u3057\u3066\u30ea\u30b9\u30c8\u3092\u4f5c\u6210\u3002",e.Msg.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",e.Msg.LISTS_REVERSE_MESSAGE0="%1\u3092\u9006\u9806\u306b",e.Msg.LISTS_REVERSE_TOOLTIP="\u30ea\u30b9\u30c8\u306e\u30b3\u30d4\u30fc\u3092\u9006\u9806\u306b\u3059\u308b\u3002",e.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",e.Msg.LISTS_SET_INDEX_INPUT_TO="\u5024\uff1a",e.Msg.LISTS_SET_INDEX_INSERT="\u633f\u5165\u4f4d\u7f6e\uff1a",e.Msg.LISTS_SET_INDEX_SET="\u30bb\u30c3\u30c8",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="\u30ea\u30b9\u30c8\u306e\u5148\u982d\u306b\u9805\u76ee\u3092\u633f\u5165\u3057\u307e\u3059\u3002",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="\u30ea\u30b9\u30c8\u5185\u306e\u6307\u5b9a\u4f4d\u7f6e\u306b\u9805\u76ee\u3092\u633f\u5165\u3057\u307e\u3059\u3002",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="\u30ea\u30b9\u30c8\u306e\u672b\u5c3e\u306b\u9805\u76ee\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="\u30ea\u30b9\u30c8\u306b\u9805\u76ee\u3092\u30e9\u30f3\u30c0\u30e0\u306b\u633f\u5165\u3057\u307e\u3059\u3002",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="\u30ea\u30b9\u30c8\u5185\u306b\u6700\u521d\u306e\u9805\u76ee\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM="\u30ea\u30b9\u30c8\u5185\u306e\u6307\u5b9a\u3055\u308c\u305f\u4f4d\u7f6e\u306b\u9805\u76ee\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="\u30ea\u30b9\u30c8\u5185\u306e\u6700\u5f8c\u306e\u9805\u76ee\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="\u30ea\u30b9\u30c8\u5185\u306b\u30e9\u30f3\u30c0\u30e0\u306a\u30a2\u30a4\u30c6\u30e0\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002",e.Msg.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",e.Msg.LISTS_SORT_ORDER_ASCENDING="\u6607\u9806",e.Msg.LISTS_SORT_ORDER_DESCENDING="\u964d\u9806",e.Msg.LISTS_SORT_TITLE="%1 ( %2 ) \u306b %3 \u3092\u4e26\u3073\u66ff\u3048\u308b",e.Msg.LISTS_SORT_TOOLTIP="\u30ea\u30b9\u30c8\u306e\u30b3\u30d4\u30fc\u3092\u4e26\u3079\u66ff\u3048",e.Msg.LISTS_SORT_TYPE_IGNORECASE="\u30a2\u30eb\u30d5\u30a1\u30d9\u30c3\u30c8\u9806\uff08\u5927\u6587\u5b57\u30fb\u5c0f\u6587\u5b57\u306e\u533a\u5225\u7121\u3057\uff09",e.Msg.LISTS_SORT_TYPE_NUMERIC="\u6570\u5024\u9806",e.Msg.LISTS_SORT_TYPE_TEXT="\u30a2\u30eb\u30d5\u30a1\u30d9\u30c3\u30c8\u9806",e.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",e.Msg.LISTS_SPLIT_LIST_FROM_TEXT="\u30c6\u30ad\u30b9\u30c8\u304b\u3089\u30ea\u30b9\u30c8\u3092\u4f5c\u308b",e.Msg.LISTS_SPLIT_TEXT_FROM_LIST="\u30ea\u30b9\u30c8\u304b\u3089\u30c6\u30ad\u30b9\u30c8\u3092\u4f5c\u308b",e.Msg.LISTS_SPLIT_TOOLTIP_JOIN="\u30c6\u30ad\u30b9\u30c8\u306e\u30ea\u30b9\u30c8\u3092\u533a\u5207\u308a\u8a18\u53f7\u3067\u533a\u5207\u3089\u308c\u305f\u4e00\u3064\u306e\u30c6\u30ad\u30b9\u30c8\u306b\u3059\u308b",e.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="\u30c6\u30ad\u30b9\u30c8\u3092\u533a\u5207\u308a\u8a18\u53f7\u3067\u5206\u5272\u3057\u305f\u30ea\u30b9\u30c8\u306b\u3059\u308b",e.Msg.LISTS_SPLIT_WITH_DELIMITER="\u533a\u5207\u308a\u8a18\u53f7",e.Msg.LOGIC_BOOLEAN_FALSE="false",e.Msg.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values",e.Msg.LOGIC_BOOLEAN_TOOLTIP="true \u307e\u305f\u306f false \u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LOGIC_BOOLEAN_TRUE="true",e.Msg.LOGIC_COMPARE_HELPURL="https://ja.wikipedia.org/wiki/\u4e0d\u7b49\u5f0f",e.Msg.LOGIC_COMPARE_TOOLTIP_EQ="\u4e21\u65b9\u306e\u5165\u529b\u304c\u4e92\u3044\u306b\u7b49\u3057\u3044\u5834\u5408\u306b true \u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LOGIC_COMPARE_TOOLTIP_GT="\u6700\u521d\u306e\u5165\u529b\u304c 2 \u756a\u76ee\u306e\u5165\u529b\u3088\u308a\u3082\u5927\u304d\u3044\u5834\u5408\u306f true \u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LOGIC_COMPARE_TOOLTIP_GTE="\u6700\u521d\u306e\u5165\u529b\u304c 2 \u756a\u76ee\u306e\u5165\u529b\u4ee5\u4e0a\u306e\u5834\u5408\u306b true \u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LOGIC_COMPARE_TOOLTIP_LT="\u6700\u521d\u306e\u5165\u529b\u304c 2 \u756a\u76ee\u306e\u5165\u529b\u3088\u308a\u3082\u5c0f\u3055\u3044\u5834\u5408\u306f true \u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LOGIC_COMPARE_TOOLTIP_LTE="\u6700\u521d\u306e\u5165\u529b\u304c 2 \u756a\u76ee\u306e\u5165\u529b\u4ee5\u4e0b\u306e\u5834\u5408\u306b true \u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="\u4e21\u65b9\u306e\u5165\u529b\u304c\u4e92\u3044\u306b\u7b49\u3057\u304f\u306a\u3044\u5834\u5408\u306b true \u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LOGIC_NEGATE_HELPURL="https://ja.wikipedia.org/wiki/\u5426\u5b9a",e.Msg.LOGIC_NEGATE_TITLE="%1\u3067\u306f\u306a\u3044",e.Msg.LOGIC_NEGATE_TOOLTIP="\u5165\u529b\u304c false \u306e\u5834\u5408\u306f\u3001true \u3092\u8fd4\u3057\u307e\u3059\u3002\u5165\u529b\u304c true \u306e\u5834\u5408\u306f false \u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LOGIC_NULL="null",e.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",e.Msg.LOGIC_NULL_TOOLTIP="null \u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LOGIC_OPERATION_AND="\u304b\u3064",e.Msg.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations",e.Msg.LOGIC_OPERATION_OR="\u307e\u305f\u306f",e.Msg.LOGIC_OPERATION_TOOLTIP_AND="\u4e21\u65b9\u306e\u5165\u529b\u304c true \u306e\u3068\u304d\u306b true \u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LOGIC_OPERATION_TOOLTIP_OR="\u5c11\u306a\u304f\u3068\u3082 1 \u3064\u306e\u5165\u529b\u304c true \u306e\u3068\u304d\u306b true \u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.LOGIC_TERNARY_CONDITION="\u30c6\u30b9\u30c8",e.Msg.LOGIC_TERNARY_HELPURL="https://ja.wikipedia.org/wiki/%3F:",e.Msg.LOGIC_TERNARY_IF_FALSE="false \u306e\u5834\u5408",e.Msg.LOGIC_TERNARY_IF_TRUE="true \u306e\u5834\u5408",e.Msg.LOGIC_TERNARY_TOOLTIP="'\u30c6\u30b9\u30c8' \u306e\u6761\u4ef6\u3092\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002\u6761\u4ef6\u304c true \u306e\u5834\u5408\u3001'true' \u306e\u5024\u3092\u8fd4\u3057\u307e\u3059\u3002\u305d\u308c\u4ee5\u5916\u306e\u5834\u5408 'false' \u306e\u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.MATH_ADDITION_SYMBOL="+",e.Msg.MATH_ARITHMETIC_HELPURL="https://ja.wikipedia.org/wiki/\u7b97\u8853",e.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="2 \u3064\u306e\u6570\u306e\u5408\u8a08\u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="2 \u3064\u306e\u6570\u306e\u5546\u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="2 \u3064\u306e\u6570\u306e\u5dee\u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="2 \u3064\u306e\u6570\u306e\u7a4d\u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="\u6700\u521d\u306e\u6570\u30922 \u756a\u76ee\u306e\u5024\u3067\u7d2f\u4e57\u3057\u305f\u7d50\u679c\u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2",e.Msg.MATH_ATAN2_TITLE="X:%1 Y:%2\u306earan2",e.Msg.MATH_ATAN2_TOOLTIP="\u70b9 (X, Y) \u306e\u9006\u95a2\u6570\u3092 -180 \u5ea6\u304b\u3089 180\u5ea6\u307e\u3067\u8fd4\u3057\u307e\u3059\u3002",e.Msg.MATH_CHANGE_HELPURL="https://ja.wikipedia.org/wiki/\u52a0\u6cd5",e.Msg.MATH_CHANGE_TITLE="%1 \u3092 %2 \u5897\u3084\u3059",e.Msg.MATH_CHANGE_TOOLTIP="\u5909\u6570'%1'\u306b\u6570\u3092\u305f\u3059\u3002",e.Msg.MATH_CONSTANT_HELPURL="https://ja.wikipedia.org/wiki/\u6570\u5b66\u5b9a\u6570",e.Msg.MATH_CONSTANT_TOOLTIP="\u3044\u305a\u308c\u304b\u306e\u5171\u901a\u306e\u5b9a\u6570\u306e\u3092\u8fd4\u3059: \u03c0 (3.141\u2026), e (2.718\u2026), \u03c6 (1.618\u2026), sqrt(2) (1.414\u2026), sqrt(\xbd) (0.707\u2026), or \u221e (\u7121\u9650).",e.Msg.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)",e.Msg.MATH_CONSTRAIN_TITLE="%1 \u3092 %2 \u4ee5\u4e0a %3 \u4ee5\u4e0b\u306e\u7bc4\u56f2\u306b\u5236\u9650",e.Msg.MATH_CONSTRAIN_TOOLTIP="\u6307\u5b9a\u3057\u305f\u4e0a\u9650\u3068\u4e0b\u9650\u306e\u9593\u306b\u5024\u3092\u5236\u9650\u3059\u308b\uff08\u4e0a\u9650\u3068\u4e0b\u9650\u306e\u5024\u3092\u542b\u3080\uff09\u3002",e.Msg.MATH_DIVISION_SYMBOL="\xf7",e.Msg.MATH_IS_DIVISIBLE_BY="\u306f\u4ee5\u4e0b\u3067\u5272\u308a\u304d\u308c\u308b\uff1a",e.Msg.MATH_IS_EVEN="\u306f\u5076\u6570",e.Msg.MATH_IS_NEGATIVE="\u306f\u8ca0",e.Msg.MATH_IS_ODD="\u306f\u5947\u6570",e.Msg.MATH_IS_POSITIVE="\u306f\u6b63",e.Msg.MATH_IS_PRIME="\u306f\u7d20\u6570",e.Msg.MATH_IS_TOOLTIP="\u6570\u5b57\u304c\u3001\u5076\u6570\u3001\u5947\u6570\u3001\u7d20\u6570\u3001\u6574\u6570\u3001\u6b63\u6570\u3001\u8ca0\u6570\u3001\u307e\u305f\u306f\u7279\u5b9a\u306e\u6570\u3067\u5272\u308a\u5207\u308c\u308b\u304b\u3069\u3046\u304b\u3092\u5224\u5b9a\u3057\u3001true \u304b false \u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.MATH_IS_WHOLE="\u306f\u6574\u6570",e.Msg.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation",e.Msg.MATH_MODULO_TITLE="%1\xf7%2\u306e\u4f59\u308a",e.Msg.MATH_MODULO_TOOLTIP="2\u3064\u306e\u6570\u5024\u306e\u5272\u308a\u7b97\u306e\u4f59\u308a\u3092\u8fd4\u3059\u3002",e.Msg.MATH_MULTIPLICATION_SYMBOL="\xd7",e.Msg.MATH_NUMBER_HELPURL="https://ja.wikipedia.org/wiki/\u6570",e.Msg.MATH_NUMBER_TOOLTIP="\u6570\u3067\u3059\u3002",e.Msg.MATH_ONLIST_HELPURL="",e.Msg.MATH_ONLIST_OPERATOR_AVERAGE="\u30ea\u30b9\u30c8\u306e\u5e73\u5747",e.Msg.MATH_ONLIST_OPERATOR_MAX="\u30ea\u30b9\u30c8\u306e\u6700\u5927\u5024",e.Msg.MATH_ONLIST_OPERATOR_MEDIAN="\u30ea\u30b9\u30c8\u306e\u4e2d\u592e\u5024",e.Msg.MATH_ONLIST_OPERATOR_MIN="\u30ea\u30b9\u30c8\u306e\u6700\u5c0f\u5024",e.Msg.MATH_ONLIST_OPERATOR_MODE="\u30ea\u30b9\u30c8\u306e\u6700\u983b\u5024",e.Msg.MATH_ONLIST_OPERATOR_RANDOM="\u30ea\u30b9\u30c8\u304b\u3089\u30e9\u30f3\u30c0\u30e0\u306b\u9078\u3070\u308c\u305f\u9805\u76ee",e.Msg.MATH_ONLIST_OPERATOR_STD_DEV="\u30ea\u30b9\u30c8\u306e\u6a19\u6e96\u504f\u5dee",e.Msg.MATH_ONLIST_OPERATOR_SUM="\u30ea\u30b9\u30c8\u306e\u5408\u8a08",e.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="\u30ea\u30b9\u30c8\u306e\u6570\u5024\u306e\u5e73\u5747 (\u7b97\u8853\u5e73\u5747) \u3092\u8fd4\u3059\u3002",e.Msg.MATH_ONLIST_TOOLTIP_MAX="\u30ea\u30b9\u30c8\u306e\u6700\u5927\u5024\u3092\u8fd4\u3059\u3002",e.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="\u30ea\u30b9\u30c8\u306e\u4e2d\u592e\u5024\u3092\u8fd4\u3059\u3002",e.Msg.MATH_ONLIST_TOOLTIP_MIN="\u30ea\u30b9\u30c8\u306e\u6700\u5c0f\u5024\u3092\u8fd4\u3059\u3002",e.Msg.MATH_ONLIST_TOOLTIP_MODE="\u30ea\u30b9\u30c8\u4e2d\u306e\u6700\u983b\u9805\u76ee\u306e\u30ea\u30b9\u30c8\u3092\u8fd4\u3059\u3002",e.Msg.MATH_ONLIST_TOOLTIP_RANDOM="\u30ea\u30b9\u30c8\u304b\u3089\u30e9\u30f3\u30c0\u30e0\u306b\u9078\u3070\u308c\u305f\u8981\u7d20\u3092\u8fd4\u3059\u3002",e.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="\u30ea\u30b9\u30c8\u306e\u6a19\u6e96\u504f\u5dee\u3092\u8fd4\u3059\u3002",e.Msg.MATH_ONLIST_TOOLTIP_SUM="\u30ea\u30b9\u30c8\u306e\u6570\u5024\u3092\u8db3\u3057\u3066\u8fd4\u3059\u3002",e.Msg.MATH_POWER_SYMBOL="^",e.Msg.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",e.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="1\u672a\u6e80\u306e\u6b63\u306e\u4e71\u6570",e.Msg.MATH_RANDOM_FLOAT_TOOLTIP="0.0\u4ee5\u4e0a\u30671.0\u672a\u6e80\u306e\u7bc4\u56f2\u306e\u4e71\u6570\u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",e.Msg.MATH_RANDOM_INT_TITLE="%1\u304b\u3089%2\u307e\u3067\u306e\u30e9\u30f3\u30c0\u30e0\u306a\u6574\u6570",e.Msg.MATH_RANDOM_INT_TOOLTIP="\u6307\u5b9a\u3055\u308c\u305f\uff08\u4e0a\u4e0b\u9650\u3092\u542b\u3080\uff09\u7bc4\u56f2\u306e\u30e9\u30f3\u30c0\u30e0\u306a\u6574\u6570\u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.MATH_ROUND_HELPURL="https://ja.wikipedia.org/wiki/\u7aef\u6570\u51e6\u7406",e.Msg.MATH_ROUND_OPERATOR_ROUND="\u56db\u6368\u4e94\u5165",e.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="\u5207\u308a\u6368\u3066",e.Msg.MATH_ROUND_OPERATOR_ROUNDUP="\u5207\u308a\u4e0a\u3052",e.Msg.MATH_ROUND_TOOLTIP="\u6570\u5024\u3092\u5207\u308a\u4e0a\u3052\u308b\u304b\u5207\u308a\u6368\u3066\u308b",e.Msg.MATH_SINGLE_HELPURL="https://ja.wikipedia.org/wiki/\u5e73\u65b9\u6839",e.Msg.MATH_SINGLE_OP_ABSOLUTE="\u7d76\u5bfe\u5024",e.Msg.MATH_SINGLE_OP_ROOT="\u5e73\u65b9\u6839",e.Msg.MATH_SINGLE_TOOLTIP_ABS="\u7d76\u5bfe\u5024\u3092\u8fd4\u3059\u3002",e.Msg.MATH_SINGLE_TOOLTIP_EXP="\u30cd\u30a4\u30d4\u30a2\u6570e\u306e\u6570\u5024\u4e57\u3092\u8fd4\u3059\u3002",e.Msg.MATH_SINGLE_TOOLTIP_LN="\u6570\u5024\u306e\u81ea\u7136\u5bfe\u6570\u3092\u8fd4\u3059\u3002",e.Msg.MATH_SINGLE_TOOLTIP_LOG10="\u5e95\u304c10\u306e\u5bfe\u6570\u3092\u8fd4\u3059\u3002",e.Msg.MATH_SINGLE_TOOLTIP_NEG="\u8ca0\u306e\u6570\u3092\u8fd4\u3059\u3002",e.Msg.MATH_SINGLE_TOOLTIP_POW10="10\u306e\u6570\u5024\u4e57\u3092\u8fd4\u3059\u3002",e.Msg.MATH_SINGLE_TOOLTIP_ROOT="\u5e73\u65b9\u6839\u3092\u8fd4\u3059\u3002",e.Msg.MATH_SUBTRACTION_SYMBOL="-",e.Msg.MATH_TRIG_ACOS="acos",e.Msg.MATH_TRIG_ASIN="asin",e.Msg.MATH_TRIG_ATAN="atan",e.Msg.MATH_TRIG_COS="cos",e.Msg.MATH_TRIG_HELPURL="https://ja.wikipedia.org/wiki/\u4e09\u89d2\u95a2\u6570",e.Msg.MATH_TRIG_SIN="sin",e.Msg.MATH_TRIG_TAN="tan",e.Msg.MATH_TRIG_TOOLTIP_ACOS="\u30a2\u30fc\u30af\u30b3\u30b5\u30a4\u30f3\uff08arccosin\uff09\u3092\u8fd4\u3059\u3002",e.Msg.MATH_TRIG_TOOLTIP_ASIN="\u30a2\u30fc\u30af\u30b5\u30a4\u30f3\uff08arcsin\uff09\u3092\u8fd4\u3059\u3002",e.Msg.MATH_TRIG_TOOLTIP_ATAN="\u30a2\u30fc\u30af\u30bf\u30f3\u30b8\u30a7\u30f3\u30c8\uff08arctan\uff09\u3092\u8fd4\u3059\u3002",e.Msg.MATH_TRIG_TOOLTIP_COS="\uff08\u30e9\u30b8\u30a2\u30f3\u3067\u306f\u306a\u304f\uff09\u5ea6\u6570\u306e\u4f59\u5f26\uff08cosin\uff09\u3092\u8fd4\u3059\u3002",e.Msg.MATH_TRIG_TOOLTIP_SIN="\uff08\u30e9\u30b8\u30a2\u30f3\u3067\u306f\u306a\u304f\uff09\u5ea6\u6570\u306e\u6b63\u5f26\uff08sin\uff09\u3092\u8fd4\u3059\u3002",e.Msg.MATH_TRIG_TOOLTIP_TAN="\uff08\u30e9\u30b8\u30a2\u30f3\u3067\u306f\u306a\u304f\uff09\u5ea6\u6570\u306e\u6b63\u63a5\uff08tan\uff09\u3092\u8fd4\u3059\u3002",e.Msg.NEW_COLOUR_VARIABLE="\u8272\u306e\u5909\u6570\u3092\u4f5c\u308b...",e.Msg.NEW_NUMBER_VARIABLE="\u6570\u306e\u5909\u6570\u3092\u4f5c\u308b...",e.Msg.NEW_STRING_VARIABLE="\u6587\u5b57\u5217\u306e\u5909\u6570\u3092\u4f5c\u308b...",e.Msg.NEW_VARIABLE="\u5909\u6570\u306e\u4f5c\u6210\u2026",e.Msg.NEW_VARIABLE_TITLE="\u65b0\u3057\u3044\u5909\u6570\u306e\u540d\u524d:",e.Msg.NEW_VARIABLE_TYPE_TITLE="\u65b0\u3057\u3044\u5909\u6570\u306e\u578b:",e.Msg.ORDINAL_NUMBER_SUFFIX="",e.Msg.PROCEDURES_ALLOW_STATEMENTS="\u30b9\u30c6\u30fc\u30c8\u30e1\u30f3\u30c8\u3092\u8a31\u53ef",e.Msg.PROCEDURES_BEFORE_PARAMS="\u5f15\u6570\uff1a",e.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://ja.wikipedia.org/wiki/\u30b5\u30d6\u30eb\u30fc\u30c1\u30f3",e.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="\u30e6\u30fc\u30b6\u30fc\u5b9a\u7fa9\u95a2\u6570 '%1' \u3092\u5b9f\u884c\u3057\u307e\u3059\u3002",e.Msg.PROCEDURES_CALLRETURN_HELPURL="https://ja.wikipedia.org/wiki/\u30b5\u30d6\u30eb\u30fc\u30c1\u30f3",e.Msg.PROCEDURES_CALLRETURN_TOOLTIP="\u30e6\u30fc\u30b6\u30fc\u5b9a\u7fa9\u95a2\u6570 '%1' \u3092\u5b9f\u884c\u3057\u3001\u305d\u306e\u51fa\u529b\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002",e.Msg.PROCEDURES_CALL_BEFORE_PARAMS="\u5f15\u6570\uff1a",e.Msg.PROCEDURES_CREATE_DO="'%1' \u3092\u4f5c\u6210",e.Msg.PROCEDURES_DEFNORETURN_COMMENT="\u3053\u306e\u95a2\u6570\u306e\u8aac\u660e\u2026",e.Msg.PROCEDURES_DEFNORETURN_DO="",e.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://ja.wikipedia.org/wiki/\u30b5\u30d6\u30eb\u30fc\u30c1\u30f3",e.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="\u4f55\u304b\u3059\u308b",e.Msg.PROCEDURES_DEFNORETURN_TITLE="\u95a2\u6570",e.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="\u51fa\u529b\u306a\u3057\u306e\u95a2\u6570\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002",e.Msg.PROCEDURES_DEFRETURN_HELPURL="https://ja.wikipedia.org/wiki/\u30b5\u30d6\u30eb\u30fc\u30c1\u30f3",e.Msg.PROCEDURES_DEFRETURN_RETURN="\u8fd4\u3059",e.Msg.PROCEDURES_DEFRETURN_TOOLTIP="\u4e00\u3064\u306e\u51fa\u529b\u3092\u6301\u3064\u95a2\u6570\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002",e.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="\u8b66\u544a: \u3053\u306e\u95a2\u6570\u306b\u306f\u91cd\u8907\u3059\u308b\u30d1\u30e9\u30e1\u30fc\u30bf\u30fc\u304c\u3042\u308a\u307e\u3059\u3002",e.Msg.PROCEDURES_HIGHLIGHT_DEF="\u95a2\u6570\u306e\u5185\u5bb9\u3092\u5f37\u8abf\u8868\u793a\u3057\u307e\u3059\u3002",e.Msg.PROCEDURES_IFRETURN_HELPURL="http://c2.com/cgi/wiki?GuardClause",e.Msg.PROCEDURES_IFRETURN_TOOLTIP="1\u756a\u76ee\u306e\u5024\u304c true \u306e\u5834\u5408\u30012\u756a\u76ee\u306e\u5024\u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.PROCEDURES_IFRETURN_WARNING="\u8b66\u544a: \u3053\u306e\u30d6\u30ed\u30c3\u30af\u306f\u3001\u95a2\u6570\u5b9a\u7fa9\u5185\u3067\u306e\u307f\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002",e.Msg.PROCEDURES_MUTATORARG_TITLE="\u5165\u529b\u540d:",e.Msg.PROCEDURES_MUTATORARG_TOOLTIP="\u95a2\u6570\u3078\u306e\u5165\u529b\u306e\u8ffd\u52a0\u3002",e.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="\u5165\u529b",e.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="\u3053\u306e\u95a2\u6570\u3078\u306e\u5165\u529b\u306e\u8ffd\u52a0\u3001\u524a\u9664\u3001\u9806\u756a\u5909\u66f4\u3002",e.Msg.REDO="\u3084\u308a\u76f4\u3059",e.Msg.REMOVE_COMMENT="\u30b3\u30e1\u30f3\u30c8\u3092\u524a\u9664",e.Msg.RENAME_VARIABLE="\u5909\u6570\u306e\u540d\u524d\u3092\u5909\u3048\u308b\u2026",e.Msg.RENAME_VARIABLE_TITLE="\u9078\u629e\u3057\u305f%1\u500b\u3059\u3079\u3066\u306e\u5909\u6570\u306e\u540d\u524d\u3092\u5909\u3048\u308b\uff1a",e.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",e.Msg.TEXT_APPEND_TITLE="\u9805\u76ee %1 \u3078\u30c6\u30ad\u30b9\u30c8\u3092\u8ffd\u52a0 %2",e.Msg.TEXT_APPEND_TOOLTIP="\u5909\u6570 '%1' \u306b\u30c6\u30ad\u30b9\u30c8\u3092\u8ffd\u52a0\u3002",e.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",e.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="\u5c0f\u6587\u5b57\u306b",e.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="\u30bf\u30a4\u30c8\u30eb \u30b1\u30fc\u30b9\u306b",e.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="\u5927\u6587\u5b57\u306b",e.Msg.TEXT_CHANGECASE_TOOLTIP="\u5225\u306e\u30b1\u30fc\u30b9\u306b\u3001\u30c6\u30ad\u30b9\u30c8\u306e\u30b3\u30d4\u30fc\u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.TEXT_CHARAT_FIRST="\u6700\u521d\u306e\u6587\u5b57\u3092\u5f97\u308b",e.Msg.TEXT_CHARAT_FROM_END="\u306e\u3001\u5f8c\u308d\u304b\u3089\u4ee5\u4e0b\u306e\u6570\u5b57\u756a\u76ee\u306e\u6587\u5b57\uff1a",e.Msg.TEXT_CHARAT_FROM_START="\u306e\u3001\u4ee5\u4e0b\u306e\u6570\u5b57\u756a\u76ee\u306e\u6587\u5b57\uff1a",e.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",e.Msg.TEXT_CHARAT_LAST="\u6700\u5f8c\u306e\u6587\u5b57\u3092\u5f97\u308b",e.Msg.TEXT_CHARAT_RANDOM="\u30e9\u30f3\u30c0\u30e0\u306a\u6587\u5b57\u3092\u5f97\u308b",e.Msg.TEXT_CHARAT_TAIL="",e.Msg.TEXT_CHARAT_TITLE="\u30c6\u30ad\u30b9\u30c8 %1 %2",e.Msg.TEXT_CHARAT_TOOLTIP="\u6307\u5b9a\u3055\u308c\u305f\u4f4d\u7f6e\u306b\u6587\u5b57\u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",e.Msg.TEXT_COUNT_MESSAGE0="%2\u306b\u542b\u307e\u308c\u308b%1\u306e\u6570\u3092\u6570\u3048\u308b",e.Msg.TEXT_COUNT_TOOLTIP="\u3068\u3042\u308b\u6587\u304c\u5225\u306e\u6587\u306e\u306a\u304b\u306b\u4f7f\u308f\u308c\u305f\u56de\u6570\u3092\u6570\u3048\u308b\u3002",e.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="\u30c6\u30ad\u30b9\u30c8\u3078\u9805\u76ee\u3092\u8ffd\u52a0\u3002",e.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="\u7d50\u5408",e.Msg.TEXT_CREATE_JOIN_TOOLTIP="\u30bb\u30af\u30b7\u30e7\u30f3\u3092\u8ffd\u52a0\u3001\u524a\u9664\u3001\u307e\u305f\u306f\u9806\u5e8f\u5909\u66f4\u3057\u3066\u3001\u30d6\u30ed\u30c3\u30af\u3092\u518d\u69cb\u6210\u3002",e.Msg.TEXT_GET_SUBSTRING_END_FROM_END="\u7d42\u4e86\u4f4d\u7f6e\uff1a\u5f8c\u308d\u304b\u3089",e.Msg.TEXT_GET_SUBSTRING_END_FROM_START="\u7d42\u4e86\u4f4d\u7f6e\uff1a",e.Msg.TEXT_GET_SUBSTRING_END_LAST="\u6700\u5f8c\u306e\u306e\u6587\u5b57",e.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",e.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="\u30c6\u30ad\u30b9\u30c8",e.Msg.TEXT_GET_SUBSTRING_START_FIRST="\u306e\u90e8\u5206\u6587\u5b57\u5217\u3092\u53d6\u5f97\uff1b\u6700\u521d\u304b\u3089",e.Msg.TEXT_GET_SUBSTRING_START_FROM_END="\u306e\u90e8\u5206\u6587\u5b57\u5217\u3092\u53d6\u5f97\uff1b\u958b\u59cb\u4f4d\u7f6e\uff1a\u5f8c\u308d\u304b\u3089",e.Msg.TEXT_GET_SUBSTRING_START_FROM_START="\u306e\u90e8\u5206\u6587\u5b57\u5217\u3092\u53d6\u5f97\uff1b\u958b\u59cb\u4f4d\u7f6e\uff1a",e.Msg.TEXT_GET_SUBSTRING_TAIL="",e.Msg.TEXT_GET_SUBSTRING_TOOLTIP="\u30c6\u30ad\u30b9\u30c8\u306e\u6307\u5b9a\u90e8\u5206\u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",e.Msg.TEXT_INDEXOF_OPERATOR_FIRST="\u3067\u4ee5\u4e0b\u306e\u30c6\u30ad\u30b9\u30c8\u306e\u6700\u521d\u306e\u51fa\u73fe\u7b87\u6240\u3092\u691c\u7d22\uff1a",e.Msg.TEXT_INDEXOF_OPERATOR_LAST="\u3067\u4ee5\u4e0b\u306e\u30c6\u30ad\u30b9\u30c8\u306e\u6700\u5f8c\u306e\u51fa\u73fe\u7b87\u6240\u3092\u691c\u7d22\uff1a",e.Msg.TEXT_INDEXOF_TITLE="\u30c6\u30ad\u30b9\u30c8 %1 %2 %3",e.Msg.TEXT_INDEXOF_TOOLTIP="\u4e8c\u756a\u76ee\u306e\u30c6\u30ad\u30b9\u30c8\u306e\u4e2d\u3067\u4e00\u756a\u76ee\u306e\u30c6\u30ad\u30b9\u30c8\u304c\u6700\u521d\uff0f\u6700\u5f8c\u306b\u51fa\u73fe\u3057\u305f\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u8fd4\u3059\u3002\u30c6\u30ad\u30b9\u30c8\u304c\u898b\u3064\u304b\u3089\u306a\u3044\u5834\u5408\u306f%1\u3092\u8fd4\u3059\u3002",e.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",e.Msg.TEXT_ISEMPTY_TITLE="%1\u304c\u7a7a",e.Msg.TEXT_ISEMPTY_TOOLTIP="\u4e0e\u3048\u3089\u308c\u305f\u30c6\u30ad\u30b9\u30c8\u304c\u7a7a\u306e\u5834\u5408\u306f true \u3092\u8fd4\u3059\u3002",e.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",e.Msg.TEXT_JOIN_TITLE_CREATEWITH="\u30c6\u30ad\u30b9\u30c8\u306e\u4f5c\u6210\uff1a",e.Msg.TEXT_JOIN_TOOLTIP="\u4efb\u610f\u306e\u6570\u306e\u9805\u76ee\u4e00\u90e8\u3092\u4e00\u7dd2\u306b\u63a5\u5408\u3057\u3066\u30c6\u30ad\u30b9\u30c8\u3092\u4f5c\u6210\u3002",e.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",e.Msg.TEXT_LENGTH_TITLE="%1\u306e\u9577\u3055",e.Msg.TEXT_LENGTH_TOOLTIP="\u4e0e\u3048\u3089\u308c\u305f\u30c6\u30ad\u30b9\u30c8\u306e(\u30b9\u30da\u30fc\u30b9\u3092\u542b\u3080)\u6587\u5b57\u6570\u3092\u8fd4\u3059\u3002",e.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",e.Msg.TEXT_PRINT_TITLE="%1 \u3092\u8868\u793a",e.Msg.TEXT_PRINT_TOOLTIP="\u6307\u5b9a\u3057\u305f\u30c6\u30ad\u30b9\u30c8\u3001\u756a\u53f7\u307e\u305f\u306f\u4ed6\u306e\u5024\u3092\u5370\u5237\u3057\u307e\u3059\u3002",e.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",e.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="\u30e6\u30fc\u30b6\u30fc\u306b\u6570\u5024\u306e\u30a4\u30f3\u30d7\u30c3\u30c8\u3092\u6c42\u3081\u308b\u3002",e.Msg.TEXT_PROMPT_TOOLTIP_TEXT="\u30e6\u30fc\u30b6\u30fc\u306b\u30c6\u30ad\u30b9\u30c8\u5165\u529b\u3092\u6c42\u3081\u308b\u3002",e.Msg.TEXT_PROMPT_TYPE_NUMBER="\u30e1\u30c3\u30bb\u30fc\u30b8\u3067\u756a\u53f7\u306e\u5165\u529b\u3092\u6c42\u3081\u308b",e.Msg.TEXT_PROMPT_TYPE_TEXT="\u30e1\u30c3\u30bb\u30fc\u30b8\u3067\u30c6\u30ad\u30b9\u30c8\u5165\u529b\u3092\u6c42\u3081\u308b",e.Msg.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",e.Msg.TEXT_REPLACE_MESSAGE0="%3\u306b\u542b\u307e\u308c\u308b%1\u3092%2\u306b\u7f6e\u63db",e.Msg.TEXT_REPLACE_TOOLTIP="\u6587\u306b\u542b\u307e\u308c\u308b\u30ad\u30fc\u30ef\u30fc\u30c9\u3092\u7f6e\u63db\u3059\u308b\u3002",e.Msg.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",e.Msg.TEXT_REVERSE_MESSAGE0="%1\u3092\u9006\u9806\u306b",e.Msg.TEXT_REVERSE_TOOLTIP="\u6587\u306e\u6587\u5b57\u3092\u9006\u9806\u306b\u3059\u308b\u3002",e.Msg.TEXT_TEXT_HELPURL="https://ja.wikipedia.org/wiki/\u6587\u5b57\u5217",e.Msg.TEXT_TEXT_TOOLTIP="\u6587\u5b57\u3001\u5358\u8a9e\u3001\u307e\u305f\u306f\u884c\u306e\u30c6\u30ad\u30b9\u30c8\u3002",e.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",e.Msg.TEXT_TRIM_OPERATOR_BOTH="\u4e21\u7aef\u306e\u30b9\u30da\u30fc\u30b9\u3092\u53d6\u308a\u9664\u304f",e.Msg.TEXT_TRIM_OPERATOR_LEFT="\u5de6\u7aef\u306e\u30b9\u30da\u30fc\u30b9\u3092\u53d6\u308a\u9664\u304f",e.Msg.TEXT_TRIM_OPERATOR_RIGHT="\u53f3\u7aef\u306e\u30b9\u30da\u30fc\u30b9\u3092\u53d6\u308a\u9664\u304f",e.Msg.TEXT_TRIM_TOOLTIP="\u30b9\u30da\u30fc\u30b9\u3092 1 \u3064\u307e\u305f\u306f\u4e21\u65b9\u306e\u7aef\u304b\u3089\u524a\u9664\u3057\u305f\u306e\u3061\u3001\u30c6\u30ad\u30b9\u30c8\u306e\u30b3\u30d4\u30fc\u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.TODAY="\u4eca\u65e5",e.Msg.UNDO="\u53d6\u308a\u6d88\u3059",e.Msg.UNNAMED_KEY="\u540d\u524d\u306a\u3057",e.Msg.VARIABLES_DEFAULT_NAME="\u9805\u76ee",e.Msg.VARIABLES_GET_CREATE_SET="'\u30bb\u30c3\u30c8%1\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002",e.Msg.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get",e.Msg.VARIABLES_GET_TOOLTIP="\u3053\u306e\u5909\u6570\u306e\u5024\u3092\u8fd4\u3057\u307e\u3059\u3002",e.Msg.VARIABLES_SET="%1 \u306b %2 \u3092\u30bb\u30c3\u30c8",e.Msg.VARIABLES_SET_CREATE_GET="'%1 \u3092\u53d6\u5f97' \u3092\u4f5c\u6210\u3057\u307e\u3059\u3002",e.Msg.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set",e.Msg.VARIABLES_SET_TOOLTIP="\u3053\u306e\u5165\u529b\u3092\u5909\u6570\u3068\u7b49\u3057\u304f\u306a\u308b\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002",e.Msg.VARIABLE_ALREADY_EXISTS="\u5909\u6570\u540d '%1' \u306f\u65e2\u306b\u5b58\u5728\u3057\u3066\u3044\u307e\u3059\u3002",e.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="'%2' \u578b\u306e '%1' \u3068\u3044\u3046\u540d\u524d\u306e\u5909\u6570\u304c\u65e2\u306b\u5b58\u5728\u3057\u307e\u3059\u3002",e.Msg.WORKSPACE_ARIA_LABEL="Blockly\u30ef\u30fc\u30af\u30b9\u30da\u30fc\u30b9",e.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT="\u3053\u3053\u3078\u5165\u529b",e.Msg.CONTROLS_FOREACH_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_FOR_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=e.Msg.CONTROLS_IF_MSG_ELSEIF,e.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=e.Msg.CONTROLS_IF_MSG_ELSE,e.Msg.CONTROLS_IF_IF_TITLE_IF=e.Msg.CONTROLS_IF_MSG_IF,e.Msg.CONTROLS_IF_MSG_THEN=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.LISTS_CREATE_WITH_ITEM_TITLE=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.LISTS_GET_INDEX_HELPURL=e.Msg.LISTS_INDEX_OF_HELPURL,e.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.MATH_CHANGE_TITLE_ITEM=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.PROCEDURES_DEFRETURN_COMMENT=e.Msg.PROCEDURES_DEFNORETURN_COMMENT,e.Msg.PROCEDURES_DEFRETURN_DO=e.Msg.PROCEDURES_DEFNORETURN_DO,e.Msg.PROCEDURES_DEFRETURN_PROCEDURE=e.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,e.Msg.PROCEDURES_DEFRETURN_TITLE=e.Msg.PROCEDURES_DEFNORETURN_TITLE,e.Msg.TEXT_APPEND_VARIABLE=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.MATH_HUE="230",e.Msg.LOOPS_HUE="120",e.Msg.LISTS_HUE="260",e.Msg.LOGIC_HUE="210",e.Msg.VARIABLES_HUE="330",e.Msg.TEXTS_HUE="160",e.Msg.PROCEDURES_HUE="290",e.Msg.COLOUR_HUE="20",e.Msg.VARIABLES_DYNAMIC_HUE="310",e.Msg})?r.apply(t,i):r)||(e.exports=o)},7161:function(e,t,n){var r,i,o;i=[n(947)],void 0===(o="function"===typeof(r=function(e){return(e={Msg:{}}).Msg.ADD_COMMENT="\uc8fc\uc11d \ucd94\uac00",e.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE="'%2' \ud568\uc218 \uc815\uc758\uc758 \uc77c\ubd80\uc774\uae30 \ub54c\ubb38\uc5d0 '%1' \ubcc0\uc218\ub97c \uc0ad\uc81c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4",e.Msg.CHANGE_VALUE_TITLE="\uac12 \ubc14\uafb8\uae30:",e.Msg.CLEAN_UP="\ube14\ub85d \uc815\ub9ac",e.Msg.COLLAPSED_WARNINGS_WARNING="\uc811\ud78c \ube14\ub85d\uc774 \uacbd\uace0\ub97c \ud3ec\ud568\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4.",e.Msg.COLLAPSE_ALL="\ube14\ub85d \ucd95\uc18c",e.Msg.COLLAPSE_BLOCK="\ube14\ub85d \ucd95\uc18c",e.Msg.COLOUR_BLEND_COLOUR1="\uc0c9 1",e.Msg.COLOUR_BLEND_COLOUR2="\uc0c9 2",e.Msg.COLOUR_BLEND_HELPURL="http://meyerweb.com/eric/tools/color-blend/",e.Msg.COLOUR_BLEND_RATIO="\ube44\uc728",e.Msg.COLOUR_BLEND_TITLE="\ud63c\ud569",e.Msg.COLOUR_BLEND_TOOLTIP="\ub450 \uc0c9\uc744 \uc8fc\uc5b4\uc9c4 \ube44\uc728\ub85c \ud63c\ud569 (0.0 - 1.0)",e.Msg.COLOUR_PICKER_HELPURL="https://ko.wikipedia.org/wiki/\uc0c9",e.Msg.COLOUR_PICKER_TOOLTIP="\ud314\ub808\ud2b8\uc5d0\uc11c \uc0c9\uc744 \uace0\ub985\ub2c8\ub2e4",e.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com",e.Msg.COLOUR_RANDOM_TITLE="\ubb34\uc791\uc704 \uc0c9\uc0c1",e.Msg.COLOUR_RANDOM_TOOLTIP="\ubb34\uc791\uc704\ub85c \uc0c9\uc744 \uace0\ub985\ub2c8\ub2e4.",e.Msg.COLOUR_RGB_BLUE="\ud30c\ub791",e.Msg.COLOUR_RGB_GREEN="\ucd08\ub85d",e.Msg.COLOUR_RGB_HELPURL="http://www.december.com/html/spec/colorper.html",e.Msg.COLOUR_RGB_RED="\ube68\uac15",e.Msg.COLOUR_RGB_TITLE="\uc0c9",e.Msg.COLOUR_RGB_TOOLTIP="\ube68\uac15,\ud30c\ub791,\ucd08\ub85d\uc758 \uac12\uc744 \uc774\uc6a9\ud558\uc5ec \uc0c9\uc744 \ub9cc\ub4dc\uc2ed\uc2dc\uc624. \ubaa8\ub4e0 \uac12\uc740 0\uacfc 100 \uc0ac\uc774\uc5d0 \uc788\uc5b4\uc57c \ud569\ub2c8\ub2e4.",e.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://ko.wikipedia.org/wiki/%EC%A0%9C%EC%96%B4_%ED%9D%90%EB%A6%84",e.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="\ubc18\ubcf5 \uc911\ub2e8",e.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="\ub2e4\uc74c \ubc18\ubcf5",e.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="\ud604\uc7ac \ubc18\ubcf5 \uc2e4\ud589 \ube14\ub7ed\uc744 \ube60\uc838\ub098\uac11\ub2c8\ub2e4.",e.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="\ub098\uba38\uc9c0 \ubc18\ubcf5 \ubd80\ubd84\uc744 \ub354 \uc774\uc0c1 \uc2e4\ud589\ud558\uc9c0 \uc54a\uace0, \ub2e4\uc74c \ubc18\ubcf5\uc744 \uc218\ud589\ud569\ub2c8\ub2e4.",e.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="\uacbd\uace0 : \uc774 \ube14\ub85d\uc740 \ubc18\ubcf5 \uc2e4\ud589 \ube14\ub7ed \uc548\uc5d0\uc11c\ub9cc \uc0ac\uc6a9\ub429\ub2c8\ub2e4.",e.Msg.CONTROLS_FOREACH_HELPURL="https://ko.wikipedia.org/wiki/For_%EB%A3%A8%ED%94%84#.EC.9E.84.EC.9D.98.EC.9D.98_.EC.A7.91.ED.95.A9",e.Msg.CONTROLS_FOREACH_TITLE="\uac01 \ud56d\ubaa9\uc5d0 \ub300\ud574 %1 \ubaa9\ub85d\uc73c\ub85c %2",e.Msg.CONTROLS_FOREACH_TOOLTIP="\ub9ac\uc2a4\ud2b8 \uc548\uc5d0 \ub4e4\uc5b4\uc788\ub294 \uac01 \uc544\uc774\ud15c\ub4e4\uc744, \uc21c\uc11c\ub300\ub85c \ubcc0\uc218 '%1' \uc5d0 \ud55c \ubc88\uc529 \uc800\uc7a5\uc2dc\ud0a4\uace0, \uadf8 \ub54c \ub9c8\ub2e4 \uba85\ub839\uc744 \uc2e4\ud589\ud569\ub2c8\ub2e4.",e.Msg.CONTROLS_FOR_HELPURL="https://ko.wikipedia.org/wiki/For_%EB%A3%A8%ED%94%84",e.Msg.CONTROLS_FOR_TITLE="\uc73c\ub85c \uacc4\uc0b0 %1 %2\uc5d0\uc11c %4\uc744 \uc774\uc6a9\ud558\uc5ec %3\ub85c",e.Msg.CONTROLS_FOR_TOOLTIP='\ubcc0\uc218 "%1"\uc740 \uc9c0\uc815\ub41c \uac04\uaca9\uc73c\ub85c \uc2dc\uc791 \uc218\uc5d0\uc11c \ub05d \uc218\uae4c\uc9c0\ub97c \uc138\uc5b4 \uc9c0\uc815\ub41c \ube14\ub85d\uc744 \uc218\ud589\ud574\uc57c \ud569\ub2c8\ub2e4.',e.Msg.CONTROLS_IF_ELSEIF_TOOLTIP='"\ub9cc\uc57d" \ube14\ub7ed\uc5d0 \uc870\uac74 \uac80\uc0ac\ub97c \ucd94\uac00\ud569\ub2c8\ub2e4.',e.Msg.CONTROLS_IF_ELSE_TOOLTIP='"\ub9cc\uc57d" \ube14\ub7ed\uc758 \ub9c8\uc9c0\ub9c9\uc5d0, \ubaa8\ub4e0 \uac80\uc0ac \uacb0\uacfc\uac00 \uac70\uc9d3\uc778 \uacbd\uc6b0 \uc2e4\ud589\ud560 \ubd80\ubd84\uc744 \ucd94\uac00\ud569\ub2c8\ub2e4.',e.Msg.CONTROLS_IF_HELPURL="https://ko.wikipedia.org/wiki/%EC%A1%B0%EA%B1%B4%EB%AC%B8",e.Msg.CONTROLS_IF_IF_TOOLTIP="\uc139\uc158\uc744 \ucd94\uac00, \uc81c\uac70\ud558\uac70\ub098 \uc21c\uc11c\ub97c \ubcc0\uacbd\ud558\uc5ec \uc774 if \ube14\ub7ed\uc744 \uc7ac\uad6c\uc131\ud569\ub2c8\ub2e4.",e.Msg.CONTROLS_IF_MSG_ELSE="\uc544\ub2c8\ub77c\uba74",e.Msg.CONTROLS_IF_MSG_ELSEIF="\ub2e4\ub978 \uacbd\uc6b0",e.Msg.CONTROLS_IF_MSG_IF="\ub9cc\uc57d",e.Msg.CONTROLS_IF_TOOLTIP_1="\uc870\uac74\uc2dd\uc758 \uacc4\uc0b0 \uacb0\uacfc\uac00 \ucc38\uc774\uba74, \uba85\ub839\uc744 \uc2e4\ud589\ud569\ub2c8\ub2e4.",e.Msg.CONTROLS_IF_TOOLTIP_2="\uc870\uac74\uc2dd\uc758 \uacc4\uc0b0 \uacb0\uacfc\uac00 \ucc38\uc774\uba74, \uccab \ubc88\uc9f8 \ube14\ub7ed\uc758 \uba85\ub839\uc744 \uc2e4\ud589\ud558\uace0, \uadf8\ub807\uc9c0 \uc54a\uc73c\uba74 \ub450 \ubc88\uc9f8 \ube14\ub7ed\uc758 \uba85\ub839\uc744 \uc2e4\ud589\ud569\ub2c8\ub2e4.",e.Msg.CONTROLS_IF_TOOLTIP_3="\uccab \ubc88\uc9f8 \uc870\uac74\uc2dd\uc758 \uacc4\uc0b0 \uacb0\uacfc\uac00 \ucc38\uc774\uba74, \uccab \ubc88\uc9f8 \ube14\ub7ed\uc758 \uba85\ub839\uc744 \uc2e4\ud589\ud558\uace0, \ub450 \ubc88\uc9f8 \uc870\uac74\uc2dd\uc758 \uacc4\uc0b0 \uacb0\uacfc\uac00 \ucc38\uc774\uba74, \ub450 \ubc88\uc9f8 \ube14\ub7ed\uc758 \uba85\ub839\uc744 \uc2e4\ud589\ud569\ub2c8\ub2e4.",e.Msg.CONTROLS_IF_TOOLTIP_4="\uccab \ubc88\uc9f8 \uc870\uac74\uc2dd\uc758 \uacc4\uc0b0 \uacb0\uacfc\uac00 \ucc38\uc774\uba74, \uccab \ubc88\uc9f8 \ube14\ub7ed\uc758 \uba85\ub839\uc744 \uc2e4\ud589\ud558\uace0, \ub450 \ubc88\uc9f8 \uc870\uac74\uc2dd\uc758 \uacc4\uc0b0 \uacb0\uacfc\uac00 \ucc38\uc774\uba74, \ub450 \ubc88\uc9f8 \ube14\ub7ed\uc758 \uba85\ub839\uc744 \uc2e4\ud589\ud558\uace0, ... , \uc5b4\ub5a4 \uc870\uac74\uc2dd\uc758 \uacc4\uc0b0 \uacb0\uacfc\ub3c4 \ucc38\uc774 \uc544\ub2c8\uba74, \ub9c8\uc9c0\ub9c9 \ube14\ub7ed\uc758 \uba85\ub839\uc744 \uc2e4\ud589\ud569\ub2c8\ub2e4.",e.Msg.CONTROLS_REPEAT_HELPURL="https://ko.wikipedia.org/wiki/For_\ub8e8\ud504",e.Msg.CONTROLS_REPEAT_INPUT_DO="\ud558\uae30",e.Msg.CONTROLS_REPEAT_TITLE="%1\ud68c \ubc18\ubcf5",e.Msg.CONTROLS_REPEAT_TOOLTIP="\uc5ec\ub7ec \ubc88 \ubc18\ubcf5\ud574 \uba85\ub839\ub4e4\uc744 \uc2e4\ud589\ud569\ub2c8\ub2e4.",e.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://ko.wikipedia.org/wiki/While_%EB%A3%A8%ED%94%84",e.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="\ub2e4\uc74c\uae4c\uc9c0 \ubc18\ubcf5",e.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="\ub3d9\uc548 \ubc18\ubcf5",e.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="\uac12\uc774 \uac70\uc9d3\uc77c \ub54c, \uba87 \uac00\uc9c0 \uc120\uc5b8\uc744 \ud569\ub2c8\ub2e4.",e.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="\uac12\uc774 \ucc38\uc77c \ub54c, \uba87 \uac00\uc9c0 \uc120\uc5b8\uc744 \ud569\ub2c8\ub2e4.",e.Msg.DELETE_ALL_BLOCKS="\ubaa8\ub4e0 \ube14\ub85d %1\uac1c\ub97c \uc0ad\uc81c\ud558\uaca0\uc2b5\ub2c8\uae4c?",e.Msg.DELETE_BLOCK="\ube14\ub85d \uc0ad\uc81c",e.Msg.DELETE_VARIABLE="'%1' \ubcc0\uc218\ub97c \uc0ad\uc81c\ud569\ub2c8\ub2e4",e.Msg.DELETE_VARIABLE_CONFIRMATION="'%2' \ubcc0\uc218\uc5d0\uc11c %1\uc744(\ub97c) \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",e.Msg.DELETE_X_BLOCKS="\ube14\ub85d %1\uac1c \uc0ad\uc81c",e.Msg.DISABLE_BLOCK="\ube14\ub85d \ube44\ud65c\uc131\ud654",e.Msg.DUPLICATE_BLOCK="\ubcf5\uc81c",e.Msg.DUPLICATE_COMMENT="\uc8fc\uc11d \ubcf5\uc81c\ud558\uae30",e.Msg.ENABLE_BLOCK="\ube14\ub85d \ud65c\uc131\ud654",e.Msg.EXPAND_ALL="\ube14\ub85d \ud655\uc7a5",e.Msg.EXPAND_BLOCK="\ube14\ub85d \ud655\uc7a5",e.Msg.EXTERNAL_INPUTS="\uc678\ubd80 \uc785\ub825",e.Msg.HELP="\ub3c4\uc6c0\ub9d0",e.Msg.INLINE_INPUTS="\ub0b4\ubd80 \uc785\ub825",e.Msg.IOS_CANCEL="\ucde8\uc18c",e.Msg.IOS_ERROR="\uc624\ub958",e.Msg.IOS_OK="\ud655\uc778",e.Msg.IOS_PROCEDURES_ADD_INPUT="+ \uc785\ub825 \ucd94\uac00",e.Msg.IOS_PROCEDURES_ALLOW_STATEMENTS="\uad6c\ubb38 \ud5c8\uac00",e.Msg.IOS_PROCEDURES_DUPLICATE_INPUTS_ERROR="\uc774 \uae30\ub2a5\uc740 \uc911\ubcf5\ub41c \uc785\ub825\uc774 \uc788\uc2b5\ub2c8\ub2e4.",e.Msg.IOS_PROCEDURES_INPUTS="\uc785\ub825",e.Msg.IOS_VARIABLES_ADD_BUTTON="\ucd94\uac00",e.Msg.IOS_VARIABLES_ADD_VARIABLE="+ \ubcc0\uc218 \ucd94\uac00",e.Msg.IOS_VARIABLES_DELETE_BUTTON="\uc0ad\uc81c",e.Msg.IOS_VARIABLES_EMPTY_NAME_ERROR="\ube44\uc5b4\uc788\ub294 \ubcc0\uc218 \uc774\ub984\uc744 \uc0ac\uc6a9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",e.Msg.IOS_VARIABLES_RENAME_BUTTON="\uc774\ub984 \ubc14\uafb8\uae30",e.Msg.IOS_VARIABLES_VARIABLE_NAME="\ubcc0\uc218 \uc774\ub984",e.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",e.Msg.LISTS_CREATE_EMPTY_TITLE="\ube48 \ub9ac\uc2a4\ud2b8 \uc0dd\uc131",e.Msg.LISTS_CREATE_EMPTY_TOOLTIP="\ub370\uc774\ud130 \ub808\ucf54\ub4dc\uac00 \uc5c6\ub294, \uae38\uc774\uac00 0\uc778 \ubaa9\ub85d\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="\ub9ac\uc2a4\ud2b8",e.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="\uc139\uc158\uc744 \ucd94\uac00, \uc81c\uac70\ud558\uac70\ub098 \uc21c\uc11c\ub97c \ubcc0\uacbd\ud558\uc5ec \uc774 \ub9ac\uc2a4\ud2b8 \ube14\ub7ed\uc744 \uc7ac\uad6c\uc131\ud569\ub2c8\ub2e4.",e.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",e.Msg.LISTS_CREATE_WITH_INPUT_WITH="\ub9ac\uc2a4\ud2b8 \ub9cc\ub4e4\uae30",e.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="\uc544\uc774\ud15c\uc744 \ub9ac\uc2a4\ud2b8\uc5d0 \ucd94\uac00\ud569\ub2c8\ub2e4.",e.Msg.LISTS_CREATE_WITH_TOOLTIP="\uc6d0\ud558\ub294 \uc218\uc758 \ud56d\ubaa9\ub4e4\ub85c \ubaa9\ub85d\uc744 \uc0dd\uc131\ud569\ub2c8\ub2e4.",e.Msg.LISTS_GET_INDEX_FIRST="\uccab \ubc88\uc9f8",e.Msg.LISTS_GET_INDEX_FROM_END="\ub9c8\uc9c0\ub9c9 \ubc88\uc9f8 \uc704\uce58\ubd80\ud130, # \ubc88\uc9f8",e.Msg.LISTS_GET_INDEX_FROM_START="#",e.Msg.LISTS_GET_INDEX_GET="\uac00\uc838\uc624\uae30",e.Msg.LISTS_GET_INDEX_GET_REMOVE="\uc798\ub77c \ub0b4\uae30",e.Msg.LISTS_GET_INDEX_LAST="\ub9c8\uc9c0\ub9c9",e.Msg.LISTS_GET_INDEX_RANDOM="\uc784\uc758\ub85c",e.Msg.LISTS_GET_INDEX_REMOVE="\uc0ad\uc81c",e.Msg.LISTS_GET_INDEX_TAIL="",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="\uccab \ubc88\uc9f8 \uc544\uc774\ud15c\uc744 \ucc3e\uc544 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM="\ubaa9\ub85d\uc5d0\uc11c \ud2b9\uc815 \uc704\uce58\uc758 \ud56d\ubaa9\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="\ub9c8\uc9c0\ub9c9 \uc544\uc774\ud15c\uc744 \ucc3e\uc544 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="\ub9ac\uc2a4\ud2b8\uc758 \uc544\uc774\ud15c\ub4e4 \uc911, \ub79c\ub364\uc73c\ub85c \uc120\ud0dd\ud574 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="\uccab \ubc88\uc9f8 \uc544\uc774\ud15c\uc744 \ucc3e\uc544\ub0b4 \ub3cc\ub824\uc8fc\uace0, \uadf8 \uc544\uc774\ud15c\uc744 \ub9ac\uc2a4\ud2b8\uc5d0\uc11c \uc0ad\uc81c\ud569\ub2c8\ub2e4.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="\ubaa9\ub85d\uc758 \ud2b9\uc815 \uc704\uce58\uc5d0 \uc788\ub294 \ud56d\ubaa9\uc744 \uc81c\uac70\ud558\uace0 \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="\ub9c8\uc9c0\ub9c9 \uc544\uc774\ud15c\uc744 \ucc3e\uc544\ub0b4 \ub3cc\ub824\uc8fc\uace0, \uadf8 \uc544\uc774\ud15c\uc744 \ub9ac\uc2a4\ud2b8\uc5d0\uc11c \uc0ad\uc81c\ud569\ub2c8\ub2e4.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="\ubaa9\ub85d\uc5d0\uc11c \uc784\uc758 \uc704\uce58\uc758 \uc544\uc774\ud15c\uc744 \ucc3e\uc544\ub0b4 \uc0ad\uc81c\ud558\uace0 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="\ub9ac\uc2a4\ud2b8\uc5d0\uc11c \uccab \ubc88\uc9f8 \uc544\uc774\ud15c\uc744 \uc0ad\uc81c\ud569\ub2c8\ub2e4.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="\ubaa9\ub85d\uc5d0\uc11c \ud2b9\uc815 \uc704\uce58\uc758 \ud56d\ubaa9\uc744 \uc0ad\uc81c\ud569\ub2c8\ub2e4.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="\ub9ac\uc2a4\ud2b8\uc5d0\uc11c \ub9c8\uc9c0\ub9c9 \uc544\uc774\ud15c\uc744 \ucc3e\uc544 \uc0ad\uc81c\ud569\ub2c8\ub2e4.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="\ub9ac\uc2a4\ud2b8\uc5d0\uc11c \ub79c\ub364\ud558\uac8c \uc544\uc774\ud15c\uc744 \uc0ad\uc81c\ud569\ub2c8\ub2e4.",e.Msg.LISTS_GET_SUBLIST_END_FROM_END="\ub05d\uc5d0\uc11c\ubd80\ud130 # \ubc88\uc9f8\ub85c",e.Msg.LISTS_GET_SUBLIST_END_FROM_START="\uc55e\uc5d0\uc11c\ubd80\ud130 # \ubc88\uc9f8\ub85c",e.Msg.LISTS_GET_SUBLIST_END_LAST="\ub9c8\uc9c0\ub9c9\uc73c\ub85c",e.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",e.Msg.LISTS_GET_SUBLIST_START_FIRST="\uccab \ubc88\uc9f8 \uc704\uce58\ubd80\ud130, \uc11c\ube0c \ub9ac\uc2a4\ud2b8 \ucd94\ucd9c",e.Msg.LISTS_GET_SUBLIST_START_FROM_END="\ub9c8\uc9c0\ub9c9\ubd80\ud130 # \ubc88\uc9f8 \uc704\uce58\ubd80\ud130, \uc11c\ube0c \ub9ac\uc2a4\ud2b8 \ucd94\ucd9c",e.Msg.LISTS_GET_SUBLIST_START_FROM_START="\ucc98\uc74c # \ubc88\uc9f8 \uc704\uce58\ubd80\ud130, \uc11c\ube0c \ub9ac\uc2a4\ud2b8 \ucd94\ucd9c",e.Msg.LISTS_GET_SUBLIST_TAIL="",e.Msg.LISTS_GET_SUBLIST_TOOLTIP="\ubaa9\ub85d\uc758 \ud2b9\uc815 \ubd80\ubd84\uc5d0 \ub300\ud55c \ubcf5\uc0ac\ubcf8\uc744 \ub9cc\ub4ed\ub2c8\ub2e4.",e.Msg.LISTS_INDEX_FROM_END_TOOLTIP="%1\uc740(\ub294) \ub9c8\uc9c0\ub9c9 \ud56d\ubaa9\uc785\ub2c8\ub2e4.",e.Msg.LISTS_INDEX_FROM_START_TOOLTIP="%1\uc740 \uccab \ubc88\uc9f8 \ud56d\ubaa9\uc785\ub2c8\ub2e4.",e.Msg.LISTS_INDEX_OF_FIRST="\ucc98\uc74c\uc73c\ub85c \ub098\ud0c0\ub09c \uc704\uce58",e.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",e.Msg.LISTS_INDEX_OF_LAST="\ub9c8\uc9c0\ub9c9\uc73c\ub85c \ub098\ud0c0\ub09c \uc704\uce58",e.Msg.LISTS_INDEX_OF_TOOLTIP="\ubaa9\ub85d\uc5d0\uc11c \ud56d\ubaa9\uc774 \ucc98\uc74c \ub610\ub294 \ub9c8\uc9c0\ub9c9\uc73c\ub85c \ubc1c\uc0dd\ud55c \uc0c9\uc778 \uc704\uce58\ub97c \ubc18\ud658\ud569\ub2c8\ub2e4. \ud56d\ubaa9\uc774 \uc5c6\uc73c\uba74 %1\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.LISTS_INLIST="\ub9ac\uc2a4\ud2b8",e.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",e.Msg.LISTS_ISEMPTY_TITLE="%1\uc774 \ube44\uc5b4 \uc788\uc2b5\ub2c8\ub2e4",e.Msg.LISTS_ISEMPTY_TOOLTIP="\ubaa9\ub85d\uc774 \ube44\uc5c8\uc744 \ub54c \ucc38\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",e.Msg.LISTS_LENGTH_TITLE="%1\uc758 \uae38\uc774",e.Msg.LISTS_LENGTH_TOOLTIP="\ubaa9\ub85d\uc758 \uae38\uc774\ub97c \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",e.Msg.LISTS_REPEAT_TITLE="%1\uc744 %2\ubc88 \ub123\uc5b4, \ub9ac\uc2a4\ud2b8 \uc0dd\uc131",e.Msg.LISTS_REPEAT_TOOLTIP="\uc9c0\uc815\ub41c \uac12\uc744, \uc9c0\uc815\ub41c \uac1c\uc218 \ub9cc\ud07c \ub123\uc5b4, \ubaa9\ub85d\uc744 \uc0dd\uc131\ud569\ub2c8\ub2e4.",e.Msg.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",e.Msg.LISTS_REVERSE_MESSAGE0="%1 \ub4a4\uc9d1\uae30",e.Msg.LISTS_REVERSE_TOOLTIP="\ub9ac\uc2a4\ud2b8\uc758 \ubcf5\uc0ac\ubcf8\uc744 \ub4a4\uc9d1\uc2b5\ub2c8\ub2e4.",e.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",e.Msg.LISTS_SET_INDEX_INPUT_TO="\uc5d0",e.Msg.LISTS_SET_INDEX_INSERT="\uc5d0\uc11c \uc6d0\ud558\ub294 \uc704\uce58\uc5d0 \uc0bd\uc785",e.Msg.LISTS_SET_INDEX_SET="\uc5d0\uc11c \uc124\uc815",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="\ud56d\ubaa9\uc744 \ubaa9\ub85d\uc758 \ucc98\uc74c \uc704\uce58\uc5d0 \uc0bd\uc785\ud569\ub2c8\ub2e4.",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="\ubaa9\ub85d\uc758 \ud2b9\uc815 \uc704\uce58\uc5d0 \ud56d\ubaa9\uc744 \uc0bd\uc785\ud569\ub2c8\ub2e4.",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="\ub9ac\uc2a4\ud2b8\uc758 \ub9c8\uc9c0\ub9c9\uc5d0 \uc544\uc774\ud15c\uc744 \ucd94\uac00\ud569\ub2c8\ub2e4.",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="\ubaa9\ub85d\uc5d0\uc11c \uc784\uc758 \uc704\uce58\uc5d0 \uc544\uc774\ud15c\uc744 \uc0bd\uc785\ud569\ub2c8\ub2e4.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="\uccab \ubc88\uc9f8 \uc704\uce58\uc758 \uc544\uc774\ud15c\uc73c\ub85c \uc124\uc815\ud569\ub2c8\ub2e4.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM="\ubaa9\ub85d\uc758 \ud2b9\uc815 \uc704\uce58\uc5d0 \uc788\ub294 \ud56d\ubaa9\uc73c\ub85c \uc124\uc815\ud569\ub2c8\ub2e4.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="\ub9c8\uc9c0\ub9c9 \uc544\uc774\ud15c\uc73c\ub85c \uc124\uc815\ud569\ub2c8\ub2e4.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="\ubaa9\ub85d\uc5d0\uc11c \uc784\uc758 \uc704\uce58\uc758 \uc544\uc774\ud15c\uc744 \uc124\uc815\ud569\ub2c8\ub2e4.",e.Msg.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",e.Msg.LISTS_SORT_ORDER_ASCENDING="\uc624\ub984\ucc28\uc21c",e.Msg.LISTS_SORT_ORDER_DESCENDING="\ub0b4\ub9bc\ucc28\uc21c",e.Msg.LISTS_SORT_TITLE="\uc815\ub82c %1 %2 %3",e.Msg.LISTS_SORT_TOOLTIP="\ubaa9\ub85d\uc758 \uc0ac\ubcf8\uc744 \uc815\ub82c\ud569\ub2c8\ub2e4.",e.Msg.LISTS_SORT_TYPE_IGNORECASE="\uc54c\ud30c\ubcb3\uc21c (\ub300\uc18c\ubb38\uc790 \uad6c\ubd84 \uc548 \ud568)",e.Msg.LISTS_SORT_TYPE_NUMERIC="\uc22b\uc790\uc21c",e.Msg.LISTS_SORT_TYPE_TEXT="\uc54c\ud30c\ubcb3\uc21c",e.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",e.Msg.LISTS_SPLIT_LIST_FROM_TEXT="\ud14d\uc2a4\ud2b8\uc5d0\uc11c \ubaa9\ub85d \ub9cc\ub4e4\uae30",e.Msg.LISTS_SPLIT_TEXT_FROM_LIST="\ubaa9\ub85d\uc5d0\uc11c \ud14d\uc2a4\ud2b8 \ub9cc\ub4e4\uae30",e.Msg.LISTS_SPLIT_TOOLTIP_JOIN="\uad6c\ubd84 \uae30\ud638\ub85c \uad6c\ubd84\ud558\uc5ec \ud14d\uc2a4\ud2b8 \ubaa9\ub85d\uc744 \ud558\ub098\uc758 \ud14d\uc2a4\ud2b8\uc5d0 \ubcd1\ud569\ud569\ub2c8\ub2e4.",e.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="\uac01 \uc18d\ubcf4, \ud14d\uc2a4\ud2b8\uc758 \ubaa9\ub85d\ub4e4\uc5d0\uc11c \ud14d\uc2a4\ud2b8\ub97c \ubd84\ud560\ud569\ub2c8\ub2e4.",e.Msg.LISTS_SPLIT_WITH_DELIMITER="\ubd84\ub9ac\uc640",e.Msg.LOGIC_BOOLEAN_FALSE="\uac70\uc9d3",e.Msg.LOGIC_BOOLEAN_HELPURL="https://ko.wikipedia.org/wiki/%EC%A7%84%EB%A6%BF%EA%B0%92",e.Msg.LOGIC_BOOLEAN_TOOLTIP="\ucc38 \ud639\uc740 \uac70\uc9d3 \ubaa8\ub450 \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.LOGIC_BOOLEAN_TRUE="\ucc38",e.Msg.LOGIC_COMPARE_HELPURL="https://ko.wikipedia.org/wiki/\ubd80\ub4f1\uc2dd",e.Msg.LOGIC_COMPARE_TOOLTIP_EQ="\ub450 \uac12\uc774 \uac19\uc73c\uba74, \ucc38(true) \uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.LOGIC_COMPARE_TOOLTIP_GT="\uccab \ubc88\uc9f8 \uac12\uc774 \ub450 \ubc88\uc9f8 \uac12\ubcf4\ub2e4 \ud06c\uba74, \ucc38(true) \uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.LOGIC_COMPARE_TOOLTIP_GTE="\uccab \ubc88\uc9f8 \uac12\uc774 \ub450 \ubc88\uc9f8 \uac12\ubcf4\ub2e4 \ud06c\uac70\ub098 \uac19\uc73c\uba74, \ucc38(true) \uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.LOGIC_COMPARE_TOOLTIP_LT="\uccab \ubc88\uc9f8 \uac12\uc774 \ub450 \ubc88\uc9f8 \uac12\ubcf4\ub2e4 \uc791\uc73c\uba74, \ucc38(true) \uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.LOGIC_COMPARE_TOOLTIP_LTE="\uccab \ubc88\uc9f8 \uac12\uc774 \ub450 \ubc88\uc9f8 \uac12\ubcf4\ub2e4 \uc791\uac70\ub098 \uac19\uc73c\uba74, \ucc38(true) \uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="\ub450 \uac12\uc774 \uc11c\ub85c \ub2e4\ub974\uba74, \ucc38(true) \uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.LOGIC_NEGATE_HELPURL="https://ko.wikipedia.org/wiki/%EB%B6%80%EC%A0%95",e.Msg.LOGIC_NEGATE_TITLE="%1\uac00 \uc544\ub2d9\ub2c8\ub2e4",e.Msg.LOGIC_NEGATE_TOOLTIP="\uc785\ub825\uac12\uc774 \uac70\uc9d3\uc774\ub77c\uba74 \ucc38\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4. \ucc38\uc774\ub77c\uba74 \uac70\uc9d3\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.LOGIC_NULL="\ube48 \uac12",e.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",e.Msg.LOGIC_NULL_TOOLTIP="\ube48 \uac12\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.LOGIC_OPERATION_AND="\uadf8\ub9ac\uace0",e.Msg.LOGIC_OPERATION_HELPURL="https://ko.wikipedia.org/wiki/%EB%B6%88_%EB%85%BC%EB%A6%AC",e.Msg.LOGIC_OPERATION_OR="\ub610\ub294",e.Msg.LOGIC_OPERATION_TOOLTIP_AND="\ub450 \uac12\uc774 \ubaa8\ub450 \ucc38(true) \uac12\uc774\uba74, \ucc38 \uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.LOGIC_OPERATION_TOOLTIP_OR="\uc801\uc5b4\ub3c4 \ud558\ub098\uc758 \uac12\uc774 \ucc38\uc77c \uacbd\uc6b0 \ucc38\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.LOGIC_TERNARY_CONDITION="\ud14c\uc2a4\ud2b8",e.Msg.LOGIC_TERNARY_HELPURL="https://ko.wikipedia.org/wiki/\ubb3c\uc74c\ud45c",e.Msg.LOGIC_TERNARY_IF_FALSE="\ub9cc\uc57d \uac70\uc9d3\uc774\ub77c\uba74",e.Msg.LOGIC_TERNARY_IF_TRUE="\ub9cc\uc57d \ucc38\uc774\ub77c\uba74",e.Msg.LOGIC_TERNARY_TOOLTIP="'test'\uc758 \uc870\uac74\uc744 \uac80\uc0ac\ud569\ub2c8\ub2e4. \uc870\uac74\uc774 \ucc38\uc774\uba74 'if true' \uac12\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4. \uac70\uc9d3\uc774\uba74 'if false' \uac12\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.MATH_ADDITION_SYMBOL="+",e.Msg.MATH_ARITHMETIC_HELPURL="https://ko.wikipedia.org/wiki/\uc0b0\uc220",e.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="\ub450 \uc218\uc758 \ud569\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="\ub450 \uc218\uc758 \ub098\ub208 \uacb0\uacfc\ub97c \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="\ub450 \uc218\uac04\uc758 \ucc28\uc774\ub97c \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="\ub450 \uc218\uc758 \uacf1\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="\uccab \ubc88\uc9f8 \uc218\ub97c \ub450 \ubc88\uc9f8 \uc218 \ub9cc\ud07c, \uac70\ub4ed\uc81c\uacf1 \ud55c \uacb0\uacfc\uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2",e.Msg.MATH_ATAN2_TITLE="X:%1 Y:%2\uc758 atan2",e.Msg.MATH_ATAN2_TOOLTIP="\uc810 (X, Y)\uc758 \uc544\ud06c\ud0c4\uc820\ud2b8\ub97c -180\uc5d0\uc11c 180\uae4c\uc9c0 \ub3c4 \ub2e8\uc704\ub85c \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter",e.Msg.MATH_CHANGE_TITLE="\ubc14\uafb8\uae30 %1 \ub9cc\ud07c %2",e.Msg.MATH_CHANGE_TOOLTIP="\ubcc0\uc218 '%1' \uc5d0 \uc800\uc7a5\ub418\uc5b4\uc788\ub294 \uac12\uc5d0, \uc5b4\ub5a4 \uc218\ub97c \ub354\ud574, \ubcc0\uc218\uc5d0 \ub2e4\uc2dc \uc800\uc7a5\ud569\ub2c8\ub2e4.",e.Msg.MATH_CONSTANT_HELPURL="https://ko.wikipedia.org/wiki/\uc218\ud559_\uc0c1\uc218",e.Msg.MATH_CONSTANT_TOOLTIP="\uc77c\ubc18\uc801\uc778 \uc0c1\uc218 \uac12\ub4e4 \uc911 \ud558\ub098\ub97c \ub3cc\ub824\uc90d\ub2c8\ub2e4. : \u03c0 (3.141\u2026), e (2.718\u2026), \u03c6 (1.618\u2026), sqrt(2) (1.414\u2026), sqrt(\xbd) (0.707\u2026), or \u221e (infinity).",e.Msg.MATH_CONSTRAIN_HELPURL="https://ko.wikipedia.org/wiki/\ud074\ub7a8\ud551_(\uadf8\ub798\ud53d)",e.Msg.MATH_CONSTRAIN_TITLE="%1\uc758 \uac12\uc744, \ucd5c\uc18c %2 \ucd5c\ub300 %3\uc73c\ub85c \uc870\uc815",e.Msg.MATH_CONSTRAIN_TOOLTIP="\uc5b4\ub5a4 \uc218\ub97c, \ud2b9\uc815 \ubc94\uc704\uc758 \uac12\uc774 \ub418\ub3c4\ub85d \uac15\uc81c\ub85c \uc870\uc815\ud569\ub2c8\ub2e4.",e.Msg.MATH_DIVISION_SYMBOL="\xf7",e.Msg.MATH_IS_DIVISIBLE_BY="\uac00 \ub2e4\uc74c \uc218\ub85c \ub098\ub204\uc5b4 \ub5a8\uc5b4\uc9c0\uba74 :",e.Msg.MATH_IS_EVEN="\uac00 \uc9dd\uc218(even) \uc774\uba74",e.Msg.MATH_IS_NEGATIVE="\uac00 \uc74c(-)\uc218 \uc774\uba74",e.Msg.MATH_IS_ODD="\uac00 \ud640\uc218(odd) \uc774\uba74",e.Msg.MATH_IS_POSITIVE="\uac00 \uc591(+)\uc218 \uc774\uba74",e.Msg.MATH_IS_PRIME="\uac00 \uc18c\uc218(prime) \uc774\uba74",e.Msg.MATH_IS_TOOLTIP="\uc5b4\ub5a4 \uc218\uac00 \uc9dd \uc218, \ud640 \uc218, \uc18c \uc218, \uc815 \uc218, \uc591 \uc218, \uc74c \uc218, \ub098\ub204\uc5b4 \ub5a8\uc5b4\uc9c0\ub294 \uc218 \uc778\uc9c0 \uac80\uc0ac\ud574 \uacb0\uacfc\uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4. \ucc38(true) \ub610\ub294 \uac70\uc9d3(false) \uac12\uc744 \ub3cc\ub824\uc90c.",e.Msg.MATH_IS_WHOLE="\uac00 \uc815\uc218\uc774\uba74",e.Msg.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation",e.Msg.MATH_MODULO_TITLE="%1 \xf7 %2\uc758 \ub098\uba38\uc9c0",e.Msg.MATH_MODULO_TOOLTIP="\uccab \ubc88\uc9f8 \uc218\ub97c \ub450 \ubc88\uc9f8 \uc218\ub85c \ub098\ub208, \ub098\uba38\uc9c0 \uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.MATH_MULTIPLICATION_SYMBOL="x",e.Msg.MATH_NUMBER_HELPURL="https://ko.wikipedia.org/wiki/\uc218_(\uc218\ud559)",e.Msg.MATH_NUMBER_TOOLTIP="\uc218",e.Msg.MATH_ONLIST_HELPURL="",e.Msg.MATH_ONLIST_OPERATOR_AVERAGE="\ud3c9\uade0\uac12",e.Msg.MATH_ONLIST_OPERATOR_MAX="\ucd5c\ub300\uac12",e.Msg.MATH_ONLIST_OPERATOR_MEDIAN="\uc911\uac04\uac12",e.Msg.MATH_ONLIST_OPERATOR_MIN="\ucd5c\uc18c\uac12",e.Msg.MATH_ONLIST_OPERATOR_MODE="\uac00\uc7a5 \uc5ec\ub7ec \uac1c \uc788\ub294 \uac12",e.Msg.MATH_ONLIST_OPERATOR_RANDOM="\ubaa9\ub85d\uc758 \uc784\uc758 \ud56d\ubaa9",e.Msg.MATH_ONLIST_OPERATOR_STD_DEV="\ud45c\uc900 \ud3b8\ucc28",e.Msg.MATH_ONLIST_OPERATOR_SUM="\ud569",e.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="\ub9ac\uc2a4\ud2b8\uc5d0 \ub4e4\uc5b4\uc788\ub294 \uc218(\uac12)\ub4e4\uc5d0 \ub300\ud574, \uc0b0\uc220 \ud3c9\uade0(arithmetic mean) \ud55c \uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.MATH_ONLIST_TOOLTIP_MAX="\ub9ac\uc2a4\ud2b8\uc5d0 \ub4e4\uc5b4\uc788\ub294 \uc218(\uac12) \ub4e4 \uc911, \uac00\uc7a5 \ud070(max) \uc218(\uac12)\ub97c \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="\ub9ac\uc2a4\ud2b8\uc5d0 \ub4e4\uc5b4\uc788\ub294 \uc218(\uac12) \ub4e4 \uc911, \uc911\uac04(median) \uc218(\uac12)\ub97c \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.MATH_ONLIST_TOOLTIP_MIN="\ub9ac\uc2a4\ud2b8\uc5d0 \ub4e4\uc5b4\uc788\ub294 \uc218(\uac12) \ub4e4 \uc911, \uac00\uc7a5 \uc791\uc740(min) \uc218(\uac12)\ub97c \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.MATH_ONLIST_TOOLTIP_MODE="\ub9ac\uc2a4\ud2b8\uc5d0 \ub4e4\uc5b4\uc788\ub294 \uc544\uc774\ud15c\ub4e4 \uc911\uc5d0\uc11c, \uac00\uc7a5 \uc5ec\ub7ec \ubc88 \ub4e4\uc5b4\uc788\ub294 \uc544\uc774\ud15c\ub4e4\uc744 \ub9ac\uc2a4\ud2b8\ub85c \ub9cc\ub4e4\uc5b4 \ub3cc\ub824\uc90d\ub2c8\ub2e4. (\ucd5c\ube48\uac12, modes)",e.Msg.MATH_ONLIST_TOOLTIP_RANDOM="\ubaa9\ub85d\uc5d0\uc11c \uc784\uc758\uc758 \uc544\uc774\ud15c\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="\uc774 \ub9ac\uc2a4\ud2b8\uc758 \ud45c\uc900 \ud3b8\ucc28\ub97c \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.MATH_ONLIST_TOOLTIP_SUM="\ub9ac\uc2a4\ud2b8\uc5d0 \ub4e4\uc5b4\uc788\ub294 \uc218(\uac12)\ub4e4\uc744, \ubaa8\ub450 \ud569(sum) \ud55c, \ucd1d\ud569(sum)\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.MATH_POWER_SYMBOL="^",e.Msg.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",e.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="\uc784\uc758 \ubd84\uc218",e.Msg.MATH_RANDOM_FLOAT_TOOLTIP="0.0 (\ud3ec\ud568)\uacfc 1.0 (\ubc30\ud0c0\uc801) \uc0ac\uc774\uc758 \uc784\uc758 \ubd84\uc218 \uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",e.Msg.MATH_RANDOM_INT_TITLE="\ub79c\ub364\uc815\uc218(%1<= n <=%2)",e.Msg.MATH_RANDOM_INT_TOOLTIP="\ub450 \uc8fc\uc5b4\uc9c4 \uc81c\ud55c\ub41c \ubc94\uc704 \uc0ac\uc774\uc758 \uc784\uc758 \uc815\uc218\uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.MATH_ROUND_HELPURL="https://ko.wikipedia.org/wiki/\ubc18\uc62c\ub9bc",e.Msg.MATH_ROUND_OPERATOR_ROUND="\ubc18\uc62c\ub9bc",e.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="\ubc84\ub9bc",e.Msg.MATH_ROUND_OPERATOR_ROUNDUP="\uc62c\ub9bc",e.Msg.MATH_ROUND_TOOLTIP="\uc5b4\ub5a4 \uc218\ub97c \ubc18\uc62c\ub9bc/\uc62c\ub9bc/\ubc84\ub9bc\ud55c \uacb0\uacfc\ub97c, \uc815\uc218\uac12\uc73c\ub85c \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.MATH_SINGLE_HELPURL="https://ko.wikipedia.org/wiki/\uc81c\uacf1\uadfc",e.Msg.MATH_SINGLE_OP_ABSOLUTE="\uc808\ub300\uac12",e.Msg.MATH_SINGLE_OP_ROOT="\uc81c\uacf1\uadfc",e.Msg.MATH_SINGLE_TOOLTIP_ABS="\uc5b4\ub5a4 \uc218\uc758 \uc808\ub300\uac12(absolute)\uc744 \uacc4\uc0b0\ud55c \uacb0\uacfc\ub97c, \uc815\uc218\uac12\uc73c\ub85c \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.MATH_SINGLE_TOOLTIP_EXP="e\uc758 \uac70\ub4ed\uc81c\uacf1 \uac12\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.MATH_SINGLE_TOOLTIP_LN="\uc5b4\ub5a4 \uc218\uc758, \uc790\uc5f0\ub85c\uadf8(natural logarithm) \uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.(\ubc11 e, \uc608\uc2dc log e x)",e.Msg.MATH_SINGLE_TOOLTIP_LOG10="\uc5b4\ub5a4 \uc218\uc758, \uae30\ubcf8\ub85c\uadf8(logarithm) \uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.(\ubc11 10, \uc608\uc2dc log 10 x)",e.Msg.MATH_SINGLE_TOOLTIP_NEG="\uc74c(-)/\uc591(+), \ubd80\ud638\ub97c \ubc18\ub300\ub85c \ud558\uc5ec \uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.MATH_SINGLE_TOOLTIP_POW10="10\uc758 \uac70\ub4ed\uc81c\uacf1 \uac12\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.MATH_SINGLE_TOOLTIP_ROOT="\uc22b\uc790\uc758 \uc81c\uacf1\uadfc\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.MATH_SUBTRACTION_SYMBOL="-",e.Msg.MATH_TRIG_ACOS="acos",e.Msg.MATH_TRIG_ASIN="asin",e.Msg.MATH_TRIG_ATAN="atan",e.Msg.MATH_TRIG_COS="cos",e.Msg.MATH_TRIG_HELPURL="https://ko.wikipedia.org/wiki/\uc0bc\uac01\ud568\uc218",e.Msg.MATH_TRIG_SIN="sin",e.Msg.MATH_TRIG_TAN="tan",e.Msg.MATH_TRIG_TOOLTIP_ACOS="\uc5b4\ub5a4 \uc218\uc5d0 \ub300\ud55c, acos(arccosine) \uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.MATH_TRIG_TOOLTIP_ASIN="\uc5b4\ub5a4 \uc218\uc5d0 \ub300\ud55c, asin(arcsine) \uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.MATH_TRIG_TOOLTIP_ATAN="\uc5b4\ub5a4 \uc218\uc5d0 \ub300\ud55c, atan(arctangent) \uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.MATH_TRIG_TOOLTIP_COS="\uac01\ub3c4\uc758 \ucf54\uc0ac\uc778\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4. (\ub77c\ub514\uc548 \uc544\ub2d8)",e.Msg.MATH_TRIG_TOOLTIP_SIN="\uac01\ub3c4\uc758 \uc0ac\uc778\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4. (\ub77c\ub514\uc548 \uc544\ub2d8)",e.Msg.MATH_TRIG_TOOLTIP_TAN="\uac01\ub3c4\uc758 \ud0c4\uc820\ud2b8\ub97c \ubc18\ud658\ud569\ub2c8\ub2e4. (\ub77c\ub514\uc548 \uc544\ub2d8)",e.Msg.NEW_COLOUR_VARIABLE="\uc0c9 \ubcc0\uc218 \ub9cc\ub4e4\uae30...",e.Msg.NEW_NUMBER_VARIABLE="\uc22b\uc790 \ubcc0\uc218 \ub9cc\ub4e4\uae30....",e.Msg.NEW_STRING_VARIABLE="\ubb38\uc790\uc5f4 \ubcc0\uc218 \ub9cc\ub4e4\uae30...",e.Msg.NEW_VARIABLE="\ubcc0\uc218 \ub9cc\ub4e4\uae30...",e.Msg.NEW_VARIABLE_TITLE="\uc0c8 \ubcc0\uc218 \uc774\ub984:",e.Msg.NEW_VARIABLE_TYPE_TITLE="\uc0c8 \ubcc0\uc218 \uc720\ud615:",e.Msg.ORDINAL_NUMBER_SUFFIX="",e.Msg.PROCEDURES_ALLOW_STATEMENTS="\uc11c\uc220 \ud5c8\uac00",e.Msg.PROCEDURES_BEFORE_PARAMS="\uc0ac\uc6a9:",e.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://ko.wikipedia.org/wiki/\ud568\uc218_(\ud504\ub85c\uadf8\ub798\ubc0d)",e.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="\ubbf8\ub9ac \uc815\uc758\ud574 \ub454 '%1' \ud568\uc218\ub97c \uc2e4\ud589\ud569\ub2c8\ub2e4.",e.Msg.PROCEDURES_CALLRETURN_HELPURL="https://ko.wikipedia.org/wiki/\ud568\uc218_(\ud504\ub85c\uadf8\ub798\ubc0d)",e.Msg.PROCEDURES_CALLRETURN_TOOLTIP="\ubbf8\ub9ac \uc815\uc758\ud574 \ub454 '%1' \ud568\uc218\ub97c \uc2e4\ud589\ud558\uace0, \ud568\uc218\ub97c \uc2e4\ud589\ud55c \uacb0\uacfc \uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.PROCEDURES_CALL_BEFORE_PARAMS="\uc0ac\uc6a9:",e.Msg.PROCEDURES_CREATE_DO="'%1' \uc0dd\uc131",e.Msg.PROCEDURES_DEFNORETURN_COMMENT="\uc774 \ud568\uc218\ub97c \uc124\uba85\ud558\uc138\uc694...",e.Msg.PROCEDURES_DEFNORETURN_DO="",e.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://ko.wikipedia.org/wiki/%ED%95%A8%EC%88%98_%28%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D%29",e.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="\ud568\uc218 \uc774\ub984",e.Msg.PROCEDURES_DEFNORETURN_TITLE="\ud568\uc218",e.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="\uc2e4\ud589 \ud6c4, \uacb0\uacfc \uac12\uc744 \ub3cc\ub824\uc8fc\uc9c0 \uc54a\ub294 \ud568\uc218\ub97c \ub9cc\ub4ed\ub2c8\ub2e4.",e.Msg.PROCEDURES_DEFRETURN_HELPURL="https://ko.wikipedia.org/wiki/%ED%95%A8%EC%88%98_%28%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D%29",e.Msg.PROCEDURES_DEFRETURN_RETURN="\ub2e4\uc74c\uc744 \ub3cc\ub824\uc90c",e.Msg.PROCEDURES_DEFRETURN_TOOLTIP="\uc2e4\ud589 \ud6c4, \uacb0\uacfc \uac12\uc744 \ub3cc\ub824\uc8fc\ub294 \ud568\uc218\ub97c \ub9cc\ub4ed\ub2c8\ub2e4.",e.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="\uacbd\uace0: \uc774 \ud568\uc218\uc5d0\ub294, \uac19\uc740 \uc774\ub984\uc744 \uc0ac\uc6a9\ud558\ub294 \ub9e4\uac1c \ubcc0\uc218\ub4e4\uc774 \uc788\uc2b5\ub2c8\ub2e4.",e.Msg.PROCEDURES_HIGHLIGHT_DEF="\ud568\uc218 \uc815\uc758 \ucc3e\uae30",e.Msg.PROCEDURES_IFRETURN_HELPURL="http://c2.com/cgi/wiki?GuardClause",e.Msg.PROCEDURES_IFRETURN_TOOLTIP="\uac12\uc774 \ucc38\uc774\ub77c\uba74, \ub450 \ubc88\uc9f8 \uac12\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.PROCEDURES_IFRETURN_WARNING="\uacbd\uace0: \uc774 \ube14\ub7ed\uc740, \ud568\uc218 \uc815\uc758 \ube14\ub7ed \uc548\uc5d0\uc11c\ub9cc \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.",e.Msg.PROCEDURES_MUTATORARG_TITLE="\ub9e4\uac1c \ubcc0\uc218:",e.Msg.PROCEDURES_MUTATORARG_TOOLTIP="\ud568\uc218\uc5d0 \uac12\uc744 \ub354\ud569\ub2c8\ub2e4.",e.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="\ub9e4\uac1c \ubcc0\uc218\ub4e4",e.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="\uc774 \ud568\uc218\ub97c \ucd94\uac00, \uc0ad\uc81c, \ud639\uc740 \uc7ac\uc815\ub82c\ud569\ub2c8\ub2e4.",e.Msg.REDO="\ub2e4\uc2dc \uc2e4\ud589",e.Msg.REMOVE_COMMENT="\uc8fc\uc11d \uc81c\uac70",e.Msg.RENAME_VARIABLE="\ubcc0\uc218 \uc774\ub984 \ubc14\uafb8\uae30:",e.Msg.RENAME_VARIABLE_TITLE="'%1' \ubcc0\uc218 \uc774\ub984\uc744 \ubc14\uafb8\uae30:",e.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",e.Msg.TEXT_APPEND_TITLE="\ub2e4\uc74c %1 \ub0b4\uc6a9 \ub367\ubd99\uc774\uae30 %2",e.Msg.TEXT_APPEND_TOOLTIP="'%1' \ubcc0\uc218\uc758 \ub05d\uc5d0 \uc77c\ubd80 \ud14d\uc2a4\ud2b8\ub97c \ub367\ubd99\uc785\ub2c8\ub2e4.",e.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",e.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="\uc18c\ubb38\uc790\ub85c",e.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="\uccab \ubb38\uc790\ub9cc \ub300\ubb38\uc790\ub85c",e.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="\ub300\ubb38\uc790\ub85c",e.Msg.TEXT_CHANGECASE_TOOLTIP="\uc601\ubb38 \ub300\uc18c\ubb38\uc790 \ud615\ud0dc\ub97c \ubcc0\uacbd\ud574 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.TEXT_CHARAT_FIRST="\uc5d0\uc11c, \uccab \ubc88\uc9f8 \ubb38\uc790 \uc5bb\uae30",e.Msg.TEXT_CHARAT_FROM_END="\uc5d0\uc11c, \ub9c8\uc9c0\ub9c9\ubd80\ud130 # \ubc88\uc9f8 \uc704\uce58\uc758 \ubb38\uc790 \uc5bb\uae30",e.Msg.TEXT_CHARAT_FROM_START="\uc5d0\uc11c, \uc55e\uc5d0\uc11c\ubd80\ud130 # \ubc88\uc9f8 \uc704\uce58\uc758 \ubb38\uc790 \uc5bb\uae30",e.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",e.Msg.TEXT_CHARAT_LAST="\uc5d0\uc11c, \ub9c8\uc9c0\ub9c9 \ubb38\uc790 \uc5bb\uae30",e.Msg.TEXT_CHARAT_RANDOM="\uc5d0\uc11c, \ub79c\ub364\ud558\uac8c \ud55c \ubb38\uc790 \uc5bb\uae30",e.Msg.TEXT_CHARAT_TAIL="",e.Msg.TEXT_CHARAT_TITLE="\ud14d\uc2a4\ud2b8 %1 %2\uc5d0\uc11c",e.Msg.TEXT_CHARAT_TOOLTIP="\ud2b9\uc815 \ubc88\uc9f8 \uc704\uce58\uc5d0\uc11c, \ubb38\uc790\ub97c \uc5bb\uc5b4\ub0b4 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",e.Msg.TEXT_COUNT_MESSAGE0="%2\uc5d0\uc11c %1 \uc22b\uc790 \uc138\uae30",e.Msg.TEXT_COUNT_TOOLTIP="\ub2e4\ub978 \uc5b4\ub5a4 \ud14d\uc2a4\ud2b8\uc5d0\uc11c \uc5b4\ub5a4 \ud14d\uc2a4\ud2b8\uac00 \ub098\ud0c0\ub09c \ud69f\uc218\ub97c \uc149\ub2c8\ub2e4.",e.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="\ud14d\uc2a4\ud2b8\uc5d0 \ud56d\ubaa9\uc744 \ucd94\uac00\ud569\ub2c8\ub2e4.",e.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="\uac00\uc785",e.Msg.TEXT_CREATE_JOIN_TOOLTIP="\uc139\uc158\uc744 \ucd94\uac00, \uc81c\uac70\ud558\uac70\ub098 \uc21c\uc11c\ub97c \ubcc0\uacbd\ud558\uc5ec \uc774 \ud14d\uc2a4\ud2b8 \ube14\ub7ed\uc744 \uc7ac\uad6c\uc131\ud569\ub2c8\ub2e4.",e.Msg.TEXT_GET_SUBSTRING_END_FROM_END="\ub05d\uc5d0\uc11c\ubd80\ud130 # \ubc88\uc9f8 \ubb38\uc790\uae4c\uc9c0",e.Msg.TEXT_GET_SUBSTRING_END_FROM_START="# \ubc88\uc9f8 \ubb38\uc790\uae4c\uc9c0",e.Msg.TEXT_GET_SUBSTRING_END_LAST="\ub9c8\uc9c0\ub9c9 \ubb38\uc790\uae4c\uc9c0",e.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",e.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="\ubb38\uc7a5",e.Msg.TEXT_GET_SUBSTRING_START_FIRST="\uc5d0\uc11c, \ucc98\uc74c\ubd80\ud130 \uc5bb\uc5b4\ub0c4",e.Msg.TEXT_GET_SUBSTRING_START_FROM_END="\uc5d0\uc11c, \ub9c8\uc9c0\ub9c9\uc5d0\uc11c # \ubc88\uc9f8\ubd80\ud130 \uc5bb\uc5b4\ub0c4",e.Msg.TEXT_GET_SUBSTRING_START_FROM_START="\uc5d0\uc11c, \ucc98\uc74c\ubd80\ud130 # \ubc88\uc9f8 \ubb38\uc790\ubd80\ud130 \uc5bb\uc5b4\ub0c4",e.Msg.TEXT_GET_SUBSTRING_TAIL="",e.Msg.TEXT_GET_SUBSTRING_TOOLTIP="\ubb38\uc7a5 \uc911 \uc77c\ubd80\ub97c \uc5bb\uc5b4\ub0b4 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",e.Msg.TEXT_INDEXOF_OPERATOR_FIRST="\uc5d0\uc11c \ub2e4\uc74c \ubb38\uc7a5\uc774 \ucc98\uc74c\uc73c\ub85c \ub098\ud0c0\ub09c \uc704\uce58 \ucc3e\uae30 :",e.Msg.TEXT_INDEXOF_OPERATOR_LAST="\uc5d0\uc11c \ub2e4\uc74c \ubb38\uc7a5\uc774 \ub9c8\uc9c0\ub9c9\uc73c\ub85c \ub098\ud0c0\ub09c \uc704\uce58 \ucc3e\uae30 :",e.Msg.TEXT_INDEXOF_TITLE="\ubb38\uc7a5 %1 %2 %3",e.Msg.TEXT_INDEXOF_TOOLTIP="\ub450 \ubc88\uc9f8 \ud14d\uc2a4\ud2b8\uc5d0\uc11c \uccab \ubc88\uc9f8 \ud14d\uc2a4\ud2b8\uac00 \ucc98\uc74c \ub610\ub294 \ub9c8\uc9c0\ub9c9\uc73c\ub85c \ubc1c\uc0dd\ud55c \uc0c9\uc778 \uc704\uce58\ub97c \ubc18\ud658\ud569\ub2c8\ub2e4. \ud14d\uc2a4\ud2b8\uac00 \uc5c6\uc73c\uba74 %1\uc744 \ubc18\ud658\ud569\ub2c8\ub2e4.",e.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",e.Msg.TEXT_ISEMPTY_TITLE="%1\uc774 \ube44\uc5b4 \uc788\uc2b5\ub2c8\ub2e4",e.Msg.TEXT_ISEMPTY_TOOLTIP='\uc785\ub825\ub41c \ubb38\uc7a5\uc774, \ube48 \ubb38\uc7a5("")\uc774\uba74 \ucc38(true) \uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.',e.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",e.Msg.TEXT_JOIN_TITLE_CREATEWITH="\ud14d\uc2a4\ud2b8 \ub9cc\ub4e4\uae30",e.Msg.TEXT_JOIN_TOOLTIP="\uc5ec\ub7ec \uac1c\uc758 \uc544\uc774\ud15c\ub4e4\uc744 \uc5f0\uacb0\ud574(\ubb36\uc5b4), \uc0c8\ub85c\uc6b4 \ubb38\uc7a5\uc744 \ub9cc\ub4ed\ub2c8\ub2e4.",e.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",e.Msg.TEXT_LENGTH_TITLE="\ub2e4\uc74c \ubb38\uc7a5\uc758 \ubb38\uc790 \uac1c\uc218 %1",e.Msg.TEXT_LENGTH_TOOLTIP="\uc785\ub825\ub41c \ubb38\uc7a5\uc758, \ubb38\uc790 \uac1c\uc218\ub97c \ub3cc\ub824\uc90d\ub2c8\ub2e4.(\uacf5\ubc31\ubb38\uc790 \ud3ec\ud568)",e.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",e.Msg.TEXT_PRINT_TITLE="\ub2e4\uc74c \ub0b4\uc6a9 \ucd9c\ub825 %1",e.Msg.TEXT_PRINT_TOOLTIP="\uc6d0\ud558\ub294 \ubb38\uc7a5, \uc218, \uac12 \ub4f1\uc744 \ucd9c\ub825\ud569\ub2c8\ub2e4.",e.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",e.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="\uc218\uc5d0 \ub300\ud574 \uc0ac\uc6a9\uc790\uc758 \uc785\ub825\uc744 \ubc1b\uc2b5\ub2c8\ub2e4.",e.Msg.TEXT_PROMPT_TOOLTIP_TEXT="\ubb38\uc7a5\uc5d0 \ub300\ud574 \uc0ac\uc6a9\uc790\uc758 \uc785\ub825\uc744 \ubc1b\uc2b5\ub2c8\ub2e4.",e.Msg.TEXT_PROMPT_TYPE_NUMBER="\uba54\uc2dc\uc9c0\ub97c \ud65c\uc6a9\ud574 \uc218 \uc785\ub825",e.Msg.TEXT_PROMPT_TYPE_TEXT="\uba54\uc2dc\uc9c0\ub97c \ud65c\uc6a9\ud574 \ubb38\uc7a5 \uc785\ub825",e.Msg.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",e.Msg.TEXT_REPLACE_MESSAGE0="%3\uc5d0\uc11c %2\uc744(\ub97c) %1(\uc73c)\ub85c \ubc14\uafb8\uae30",e.Msg.TEXT_REPLACE_TOOLTIP="\ub2e4\ub978 \ud14d\uc2a4\ud2b8 \ub0b4\uc5d0\uc11c \uc77c\ubd80 \ud14d\uc2a4\ud2b8\uc758 \ubaa8\ub4e0 \ubc1c\uc0dd\uc744 \uce58\ud658\ud569\ub2c8\ub2e4.",e.Msg.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",e.Msg.TEXT_REVERSE_MESSAGE0="%1 \ub4a4\uc9d1\uae30",e.Msg.TEXT_REVERSE_TOOLTIP="\ud14d\uc2a4\ud2b8 \uc548\uc758 \ubb38\uc790\uc758 \uc21c\uc11c\ub97c \ubc18\uc804\uc2dc\ud0b5\ub2c8\ub2e4.",e.Msg.TEXT_TEXT_HELPURL="https://ko.wikipedia.org/wiki/\ubb38\uc790\uc5f4",e.Msg.TEXT_TEXT_TOOLTIP="\ubb38\uc790, \ub2e8\uc5b4, \ubb38\uc7a5.",e.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",e.Msg.TEXT_TRIM_OPERATOR_BOTH="\uc591\ucabd\uc758 \uacf5\ubc31 \ubb38\uc790 \uc81c\uac70",e.Msg.TEXT_TRIM_OPERATOR_LEFT="\uc67c\ucabd\uc758 \uacf5\ubc31 \ubb38\uc790 \uc81c\uac70",e.Msg.TEXT_TRIM_OPERATOR_RIGHT="\uc624\ub978\ucabd\uc758 \uacf5\ubc31 \ubb38\uc790 \uc81c\uac70",e.Msg.TEXT_TRIM_TOOLTIP="\ubb38\uc7a5\uc758 \uc67c\ucabd/\uc624\ub978\ucabd/\uc591\ucabd\uc5d0\uc11c \uc2a4\ud398\uc774\uc2a4 \ubb38\uc790\ub97c \uc81c\uac70\ud574 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.TODAY="\uc624\ub298",e.Msg.UNDO="\uc2e4\ud589 \ucde8\uc18c",e.Msg.UNNAMED_KEY="\uc774\ub984\uc774 \uc5c6\ub294",e.Msg.VARIABLES_DEFAULT_NAME="\ud56d\ubaa9",e.Msg.VARIABLES_GET_CREATE_SET="'\uc9d1\ud569 %1' \uc0dd\uc131",e.Msg.VARIABLES_GET_HELPURL="https://ko.wikipedia.org/wiki/%EB%B3%80%EC%88%98_(%EC%BB%B4%ED%93%A8%ED%84%B0_%EA%B3%BC%ED%95%99)",e.Msg.VARIABLES_GET_TOOLTIP="\ubcc0\uc218\uc5d0 \uc800\uc7a5 \ub418\uc5b4\uc788\ub294 \uac12\uc744 \ub3cc\ub824\uc90d\ub2c8\ub2e4.",e.Msg.VARIABLES_SET="%1\ub97c %2\ub85c \uc124\uc815",e.Msg.VARIABLES_SET_CREATE_GET="'%1 \uac12 \uc77d\uae30' \ube14\ub7ed \uc0dd\uc131",e.Msg.VARIABLES_SET_HELPURL="https://ko.wikipedia.org/wiki/%EB%B3%80%EC%88%98_(%EC%BB%B4%ED%93%A8%ED%84%B0_%EA%B3%BC%ED%95%99)",e.Msg.VARIABLES_SET_TOOLTIP="\ubcc0\uc218\uc758 \uac12\uc744 \uc785\ub825\ud55c \uac12\uc73c\ub85c \ubcc0\uacbd\ud574 \uc90d\ub2c8\ub2e4.",e.Msg.VARIABLE_ALREADY_EXISTS="'%1' \ubcc0\uc218\ub294 \uc774\ubbf8 \uc874\uc7ac\ud569\ub2c8\ub2e4.",e.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="'%1' \ubcc0\uc218\ub294 \ub2e4\ub978 \uc720\ud615\uc5d0 \ub300\ud574 \uc774\ubbf8 \uc874\uc7ac\ud569\ub2c8\ub2e4: '%2'.",e.Msg.WORKSPACE_ARIA_LABEL="Blockly \uc6cc\ud06c\uc2a4\ud398\uc774\uc2a4",e.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT="\ub9d0\ud574 \ubcf4\uc138\uc694...",e.Msg.CONTROLS_FOREACH_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_FOR_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=e.Msg.CONTROLS_IF_MSG_ELSEIF,e.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=e.Msg.CONTROLS_IF_MSG_ELSE,e.Msg.CONTROLS_IF_IF_TITLE_IF=e.Msg.CONTROLS_IF_MSG_IF,e.Msg.CONTROLS_IF_MSG_THEN=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.LISTS_CREATE_WITH_ITEM_TITLE=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.LISTS_GET_INDEX_HELPURL=e.Msg.LISTS_INDEX_OF_HELPURL,e.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.MATH_CHANGE_TITLE_ITEM=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.PROCEDURES_DEFRETURN_COMMENT=e.Msg.PROCEDURES_DEFNORETURN_COMMENT,e.Msg.PROCEDURES_DEFRETURN_DO=e.Msg.PROCEDURES_DEFNORETURN_DO,e.Msg.PROCEDURES_DEFRETURN_PROCEDURE=e.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,e.Msg.PROCEDURES_DEFRETURN_TITLE=e.Msg.PROCEDURES_DEFNORETURN_TITLE,e.Msg.TEXT_APPEND_VARIABLE=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.MATH_HUE="230",e.Msg.LOOPS_HUE="120",e.Msg.LISTS_HUE="260",e.Msg.LOGIC_HUE="210",e.Msg.VARIABLES_HUE="330",e.Msg.TEXTS_HUE="160",e.Msg.PROCEDURES_HUE="290",e.Msg.COLOUR_HUE="20",e.Msg.VARIABLES_DYNAMIC_HUE="310",e.Msg})?r.apply(t,i):r)||(e.exports=o)},5702:function(e,t,n){var r,i,o;i=[n(947),n(9074)],void 0===(o="function"===typeof(r=function(e,t){"use strict";return e.Python=t,t})?r.apply(t,i):r)||(e.exports=o)},9074:function(e,t,n){var r,i,o;i=[n(9810)],void 0===(o="function"===typeof(r=function(e){"use strict";return e.Python=new e.Generator("Python"),e.Python.addReservedWords("False,None,True,and,as,assert,break,class,continue,def,del,elif,else,except,exec,finally,for,from,global,if,import,in,is,lambda,nonlocal,not,or,pass,print,raise,return,try,while,with,yield,NotImplemented,Ellipsis,__debug__,quit,exit,copyright,license,credits,ArithmeticError,AssertionError,AttributeError,BaseException,BlockingIOError,BrokenPipeError,BufferError,BytesWarning,ChildProcessError,ConnectionAbortedError,ConnectionError,ConnectionRefusedError,ConnectionResetError,DeprecationWarning,EOFError,Ellipsis,EnvironmentError,Exception,FileExistsError,FileNotFoundError,FloatingPointError,FutureWarning,GeneratorExit,IOError,ImportError,ImportWarning,IndentationError,IndexError,InterruptedError,IsADirectoryError,KeyError,KeyboardInterrupt,LookupError,MemoryError,ModuleNotFoundError,NameError,NotADirectoryError,NotImplemented,NotImplementedError,OSError,OverflowError,PendingDeprecationWarning,PermissionError,ProcessLookupError,RecursionError,ReferenceError,ResourceWarning,RuntimeError,RuntimeWarning,StandardError,StopAsyncIteration,StopIteration,SyntaxError,SyntaxWarning,SystemError,SystemExit,TabError,TimeoutError,TypeError,UnboundLocalError,UnicodeDecodeError,UnicodeEncodeError,UnicodeError,UnicodeTranslateError,UnicodeWarning,UserWarning,ValueError,Warning,ZeroDivisionError,_,__build_class__,__debug__,__doc__,__import__,__loader__,__name__,__package__,__spec__,abs,all,any,apply,ascii,basestring,bin,bool,buffer,bytearray,bytes,callable,chr,classmethod,cmp,coerce,compile,complex,copyright,credits,delattr,dict,dir,divmod,enumerate,eval,exec,execfile,exit,file,filter,float,format,frozenset,getattr,globals,hasattr,hash,help,hex,id,input,int,intern,isinstance,issubclass,iter,len,license,list,locals,long,map,max,memoryview,min,next,object,oct,open,ord,pow,print,property,quit,range,raw_input,reduce,reload,repr,reversed,round,set,setattr,slice,sorted,staticmethod,str,sum,super,tuple,type,unichr,unicode,vars,xrange,zip"),e.Python.ORDER_ATOMIC=0,e.Python.ORDER_COLLECTION=1,e.Python.ORDER_STRING_CONVERSION=1,e.Python.ORDER_MEMBER=2.1,e.Python.ORDER_FUNCTION_CALL=2.2,e.Python.ORDER_EXPONENTIATION=3,e.Python.ORDER_UNARY_SIGN=4,e.Python.ORDER_BITWISE_NOT=4,e.Python.ORDER_MULTIPLICATIVE=5,e.Python.ORDER_ADDITIVE=6,e.Python.ORDER_BITWISE_SHIFT=7,e.Python.ORDER_BITWISE_AND=8,e.Python.ORDER_BITWISE_XOR=9,e.Python.ORDER_BITWISE_OR=10,e.Python.ORDER_RELATIONAL=11,e.Python.ORDER_LOGICAL_NOT=12,e.Python.ORDER_LOGICAL_AND=13,e.Python.ORDER_LOGICAL_OR=14,e.Python.ORDER_CONDITIONAL=15,e.Python.ORDER_LAMBDA=16,e.Python.ORDER_NONE=99,e.Python.ORDER_OVERRIDES=[[e.Python.ORDER_FUNCTION_CALL,e.Python.ORDER_MEMBER],[e.Python.ORDER_FUNCTION_CALL,e.Python.ORDER_FUNCTION_CALL],[e.Python.ORDER_MEMBER,e.Python.ORDER_MEMBER],[e.Python.ORDER_MEMBER,e.Python.ORDER_FUNCTION_CALL],[e.Python.ORDER_LOGICAL_NOT,e.Python.ORDER_LOGICAL_NOT],[e.Python.ORDER_LOGICAL_AND,e.Python.ORDER_LOGICAL_AND],[e.Python.ORDER_LOGICAL_OR,e.Python.ORDER_LOGICAL_OR]],e.Python.isInitialized=!1,e.Python.init=function(t){Object.getPrototypeOf(this).init.call(this),this.PASS=this.INDENT+"pass\n",this.nameDB_?this.nameDB_.reset():this.nameDB_=new e.Names(this.RESERVED_WORDS_),this.nameDB_.setVariableMap(t.getVariableMap()),this.nameDB_.populateVariables(t),this.nameDB_.populateProcedures(t);for(var n=[],r=e.Variables.allDeveloperVariables(t),i=0;i<r.length;i++)n.push(this.nameDB_.getName(r[i],e.Names.DEVELOPER_VARIABLE_TYPE)+" = None");for(t=e.Variables.allUsedVarModels(t),i=0;i<t.length;i++)n.push(this.nameDB_.getName(t[i].getId(),e.VARIABLE_CATEGORY_NAME)+" = None");this.definitions_.variables=n.join("\n"),this.isInitialized=!0},e.Python.finish=function(e){var t,n=[],r=[];for(t in this.definitions_){var i=this.definitions_[t];i.match(/^(from\s+\S+\s+)?import\s+\S+/)?n.push(i):r.push(i)}return e=Object.getPrototypeOf(this).finish.call(this,e),this.isInitialized=!1,this.nameDB_.reset(),(n.join("\n")+"\n\n"+r.join("\n\n")).replace(/\n\n+/g,"\n\n").replace(/\n*$/,"\n\n\n")+e},e.Python.scrubNakedValue=function(e){return e+"\n"},e.Python.quote_=function(e){var t="'";return-1!==(e=e.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n")).indexOf("'")&&(-1===e.indexOf('"')?t='"':e=e.replace(/'/g,"\\'")),t+e+t},e.Python.multiline_quote_=function(e){return e.split(/\n/g).map(this.quote_).join(" + '\\n' + \n")},e.Python.scrub_=function(t,n,r){var i="";if(!t.outputConnection||!t.outputConnection.targetConnection){var o=t.getCommentText();o&&(o=e.utils.string.wrap(o,this.COMMENT_WRAP-3),i+=this.prefixLines(o+"\n","# "));for(var s=0;s<t.inputList.length;s++)t.inputList[s].type==e.inputTypes.VALUE&&(o=t.inputList[s].connection.targetBlock())&&(o=this.allNestedComments(o))&&(i+=this.prefixLines(o,"# "))}return t=t.nextConnection&&t.nextConnection.targetBlock(),i+n+(r=r?"":this.blockToCode(t))},e.Python.getAdjustedInt=function(t,n,r,i){r=r||0,t.workspace.options.oneBasedIndex&&r--;var o=t.workspace.options.oneBasedIndex?"1":"0";return t=this.valueToCode(t,n,r?this.ORDER_ADDITIVE:this.ORDER_NONE)||o,e.isNumber(t)?(t=parseInt(t,10)+r,i&&(t=-t)):(t=0<r?"int("+t+" + "+r+")":0>r?"int("+t+" - "+-r+")":"int("+t+")",i&&(t="-"+t)),t},e.Python.colour={},e.Python.colour_picker=function(t){return[e.Python.quote_(t.getFieldValue("COLOUR")),e.Python.ORDER_ATOMIC]},e.Python.colour_random=function(t){return e.Python.definitions_.import_random="import random",["'#%06x' % random.randint(0, 2**24 - 1)",e.Python.ORDER_FUNCTION_CALL]},e.Python.colour_rgb=function(t){return[e.Python.provideFunction_("colour_rgb",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(r, g, b):","  r = round(min(100, max(0, r)) * 2.55)","  g = round(min(100, max(0, g)) * 2.55)","  b = round(min(100, max(0, b)) * 2.55)","  return '#%02x%02x%02x' % (r, g, b)"])+"("+(e.Python.valueToCode(t,"RED",e.Python.ORDER_NONE)||0)+", "+(e.Python.valueToCode(t,"GREEN",e.Python.ORDER_NONE)||0)+", "+(t=e.Python.valueToCode(t,"BLUE",e.Python.ORDER_NONE)||0)+")",e.Python.ORDER_FUNCTION_CALL]},e.Python.colour_blend=function(t){return[e.Python.provideFunction_("colour_blend",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(colour1, colour2, ratio):","  r1, r2 = int(colour1[1:3], 16), int(colour2[1:3], 16)","  g1, g2 = int(colour1[3:5], 16), int(colour2[3:5], 16)","  b1, b2 = int(colour1[5:7], 16), int(colour2[5:7], 16)","  ratio = min(1, max(0, ratio))","  r = round(r1 * (1 - ratio) + r2 * ratio)","  g = round(g1 * (1 - ratio) + g2 * ratio)","  b = round(b1 * (1 - ratio) + b2 * ratio)","  return '#%02x%02x%02x' % (r, g, b)"])+"("+(e.Python.valueToCode(t,"COLOUR1",e.Python.ORDER_NONE)||"'#000000'")+", "+(e.Python.valueToCode(t,"COLOUR2",e.Python.ORDER_NONE)||"'#000000'")+", "+(t=e.Python.valueToCode(t,"RATIO",e.Python.ORDER_NONE)||0)+")",e.Python.ORDER_FUNCTION_CALL]},e.Python.lists={},e.Python.lists_create_empty=function(t){return["[]",e.Python.ORDER_ATOMIC]},e.Python.lists_create_with=function(t){for(var n=Array(t.itemCount_),r=0;r<t.itemCount_;r++)n[r]=e.Python.valueToCode(t,"ADD"+r,e.Python.ORDER_NONE)||"None";return["["+n.join(", ")+"]",e.Python.ORDER_ATOMIC]},e.Python.lists_repeat=function(t){return["["+(e.Python.valueToCode(t,"ITEM",e.Python.ORDER_NONE)||"None")+"] * "+(t=e.Python.valueToCode(t,"NUM",e.Python.ORDER_MULTIPLICATIVE)||"0"),e.Python.ORDER_MULTIPLICATIVE]},e.Python.lists_length=function(t){return["len("+(e.Python.valueToCode(t,"VALUE",e.Python.ORDER_NONE)||"[]")+")",e.Python.ORDER_FUNCTION_CALL]},e.Python.lists_isEmpty=function(t){return["not len("+(e.Python.valueToCode(t,"VALUE",e.Python.ORDER_NONE)||"[]")+")",e.Python.ORDER_LOGICAL_NOT]},e.Python.lists_indexOf=function(t){var n=e.Python.valueToCode(t,"FIND",e.Python.ORDER_NONE)||"[]",r=e.Python.valueToCode(t,"VALUE",e.Python.ORDER_NONE)||"''";if(t.workspace.options.oneBasedIndex)var i=" 0",o=" + 1",s="";else i=" -1",o="",s=" - 1";return"FIRST"==t.getFieldValue("END")?[(t=e.Python.provideFunction_("first_index",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(my_list, elem):","  try: index = my_list.index(elem)"+o,"  except: index ="+i,"  return index"]))+"("+r+", "+n+")",e.Python.ORDER_FUNCTION_CALL]:[(t=e.Python.provideFunction_("last_index",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(my_list, elem):","  try: index = len(my_list) - my_list[::-1].index(elem)"+s,"  except: index ="+i,"  return index"]))+"("+r+", "+n+")",e.Python.ORDER_FUNCTION_CALL]},e.Python.lists_getIndex=function(t){var n=t.getFieldValue("MODE")||"GET",r=t.getFieldValue("WHERE")||"FROM_START",i=e.Python.valueToCode(t,"VALUE","RANDOM"==r?e.Python.ORDER_NONE:e.Python.ORDER_MEMBER)||"[]";switch(r){case"FIRST":if("GET"==n)return[i+"[0]",e.Python.ORDER_MEMBER];if("GET_REMOVE"==n)return[i+".pop(0)",e.Python.ORDER_FUNCTION_CALL];if("REMOVE"==n)return i+".pop(0)\n";break;case"LAST":if("GET"==n)return[i+"[-1]",e.Python.ORDER_MEMBER];if("GET_REMOVE"==n)return[i+".pop()",e.Python.ORDER_FUNCTION_CALL];if("REMOVE"==n)return i+".pop()\n";break;case"FROM_START":if(t=e.Python.getAdjustedInt(t,"AT"),"GET"==n)return[i+"["+t+"]",e.Python.ORDER_MEMBER];if("GET_REMOVE"==n)return[i+".pop("+t+")",e.Python.ORDER_FUNCTION_CALL];if("REMOVE"==n)return i+".pop("+t+")\n";break;case"FROM_END":if(t=e.Python.getAdjustedInt(t,"AT",1,!0),"GET"==n)return[i+"["+t+"]",e.Python.ORDER_MEMBER];if("GET_REMOVE"==n)return[i+".pop("+t+")",e.Python.ORDER_FUNCTION_CALL];if("REMOVE"==n)return i+".pop("+t+")\n";break;case"RANDOM":if(e.Python.definitions_.import_random="import random","GET"==n)return["random.choice("+i+")",e.Python.ORDER_FUNCTION_CALL];if(i=e.Python.provideFunction_("lists_remove_random_item",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(myList):","  x = int(random.random() * len(myList))","  return myList.pop(x)"])+"("+i+")","GET_REMOVE"==n)return[i,e.Python.ORDER_FUNCTION_CALL];if("REMOVE"==n)return i+"\n"}throw Error("Unhandled combination (lists_getIndex).")},e.Python.lists_setIndex=function(t){var n=e.Python.valueToCode(t,"LIST",e.Python.ORDER_MEMBER)||"[]",r=t.getFieldValue("MODE")||"GET",i=t.getFieldValue("WHERE")||"FROM_START",o=e.Python.valueToCode(t,"TO",e.Python.ORDER_NONE)||"None";switch(i){case"FIRST":if("SET"==r)return n+"[0] = "+o+"\n";if("INSERT"==r)return n+".insert(0, "+o+")\n";break;case"LAST":if("SET"==r)return n+"[-1] = "+o+"\n";if("INSERT"==r)return n+".append("+o+")\n";break;case"FROM_START":if(t=e.Python.getAdjustedInt(t,"AT"),"SET"==r)return n+"["+t+"] = "+o+"\n";if("INSERT"==r)return n+".insert("+t+", "+o+")\n";break;case"FROM_END":if(t=e.Python.getAdjustedInt(t,"AT",1,!0),"SET"==r)return n+"["+t+"] = "+o+"\n";if("INSERT"==r)return n+".insert("+t+", "+o+")\n";break;case"RANDOM":if(e.Python.definitions_.import_random="import random",n.match(/^\w+$/)?t="":(i=(t=e.Python.nameDB_.getDistinctName("tmp_list",e.VARIABLE_CATEGORY_NAME))+" = "+n+"\n",n=t,t=i),t+=(i=e.Python.nameDB_.getDistinctName("tmp_x",e.VARIABLE_CATEGORY_NAME))+" = int(random.random() * len("+n+"))\n","SET"==r)return t+(n+"[")+i+"] = "+o+"\n";if("INSERT"==r)return t+(n+".insert(")+i+", "+o+")\n"}throw Error("Unhandled combination (lists_setIndex).")},e.Python.lists_getSublist=function(t){var n=e.Python.valueToCode(t,"LIST",e.Python.ORDER_MEMBER)||"[]",r=t.getFieldValue("WHERE1"),i=t.getFieldValue("WHERE2");switch(r){case"FROM_START":"0"==(r=e.Python.getAdjustedInt(t,"AT1"))&&(r="");break;case"FROM_END":r=e.Python.getAdjustedInt(t,"AT1",1,!0);break;case"FIRST":r="";break;default:throw Error("Unhandled option (lists_getSublist)")}switch(i){case"FROM_START":t=e.Python.getAdjustedInt(t,"AT2",1);break;case"FROM_END":t=e.Python.getAdjustedInt(t,"AT2",0,!0),e.isNumber(String(t))?"0"==t&&(t=""):(e.Python.definitions_.import_sys="import sys",t+=" or sys.maxsize");break;case"LAST":t="";break;default:throw Error("Unhandled option (lists_getSublist)")}return[n+"["+r+" : "+t+"]",e.Python.ORDER_MEMBER]},e.Python.lists_sort=function(t){var n=e.Python.valueToCode(t,"LIST",e.Python.ORDER_NONE)||"[]",r=t.getFieldValue("TYPE");return t="1"===t.getFieldValue("DIRECTION")?"False":"True",[e.Python.provideFunction_("lists_sort",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(my_list, type, reverse):","  def try_float(s):","    try:","      return float(s)","    except:","      return 0","  key_funcs = {",'    "NUMERIC": try_float,','    "TEXT": str,','    "IGNORE_CASE": lambda s: str(s).lower()',"  }","  key_func = key_funcs[type]","  list_cpy = list(my_list)","  return sorted(list_cpy, key=key_func, reverse=reverse)"])+"("+n+', "'+r+'", '+t+")",e.Python.ORDER_FUNCTION_CALL]},e.Python.lists_split=function(t){var n=t.getFieldValue("MODE");if("SPLIT"==n)t=(n=e.Python.valueToCode(t,"INPUT",e.Python.ORDER_MEMBER)||"''")+".split("+(t=e.Python.valueToCode(t,"DELIM",e.Python.ORDER_NONE))+")";else{if("JOIN"!=n)throw Error("Unknown mode: "+n);n=e.Python.valueToCode(t,"INPUT",e.Python.ORDER_NONE)||"[]",t=(t=e.Python.valueToCode(t,"DELIM",e.Python.ORDER_MEMBER)||"''")+".join("+n+")"}return[t,e.Python.ORDER_FUNCTION_CALL]},e.Python.lists_reverse=function(t){return["list(reversed("+(e.Python.valueToCode(t,"LIST",e.Python.ORDER_NONE)||"[]")+"))",e.Python.ORDER_FUNCTION_CALL]},e.Python.logic={},e.Python.controls_if=function(t){var n=0,r="";e.Python.STATEMENT_PREFIX&&(r+=e.Python.injectId(e.Python.STATEMENT_PREFIX,t));do{var i=e.Python.valueToCode(t,"IF"+n,e.Python.ORDER_NONE)||"False",o=e.Python.statementToCode(t,"DO"+n)||e.Python.PASS;e.Python.STATEMENT_SUFFIX&&(o=e.Python.prefixLines(e.Python.injectId(e.Python.STATEMENT_SUFFIX,t),e.Python.INDENT)+o),r+=(0==n?"if ":"elif ")+i+":\n"+o,++n}while(t.getInput("IF"+n));return(t.getInput("ELSE")||e.Python.STATEMENT_SUFFIX)&&(o=e.Python.statementToCode(t,"ELSE")||e.Python.PASS,e.Python.STATEMENT_SUFFIX&&(o=e.Python.prefixLines(e.Python.injectId(e.Python.STATEMENT_SUFFIX,t),e.Python.INDENT)+o),r+="else:\n"+o),r},e.Python.controls_ifelse=e.Python.controls_if,e.Python.logic_compare=function(t){var n={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[t.getFieldValue("OP")],r=e.Python.ORDER_RELATIONAL;return[(e.Python.valueToCode(t,"A",r)||"0")+" "+n+" "+(t=e.Python.valueToCode(t,"B",r)||"0"),r]},e.Python.logic_operation=function(t){var n="AND"==t.getFieldValue("OP")?"and":"or",r="and"==n?e.Python.ORDER_LOGICAL_AND:e.Python.ORDER_LOGICAL_OR,i=e.Python.valueToCode(t,"A",r);if(t=e.Python.valueToCode(t,"B",r),i||t){var o="and"==n?"True":"False";i||(i=o),t||(t=o)}else t=i="False";return[i+" "+n+" "+t,r]},e.Python.logic_negate=function(t){return["not "+(e.Python.valueToCode(t,"BOOL",e.Python.ORDER_LOGICAL_NOT)||"True"),e.Python.ORDER_LOGICAL_NOT]},e.Python.logic_boolean=function(t){return["TRUE"==t.getFieldValue("BOOL")?"True":"False",e.Python.ORDER_ATOMIC]},e.Python.logic_null=function(t){return["None",e.Python.ORDER_ATOMIC]},e.Python.logic_ternary=function(t){var n=e.Python.valueToCode(t,"IF",e.Python.ORDER_CONDITIONAL)||"False";return[(e.Python.valueToCode(t,"THEN",e.Python.ORDER_CONDITIONAL)||"None")+" if "+n+" else "+(t=e.Python.valueToCode(t,"ELSE",e.Python.ORDER_CONDITIONAL)||"None"),e.Python.ORDER_CONDITIONAL]},e.Python.loops={},e.Python.controls_repeat_ext=function(t){var n=t.getField("TIMES")?String(parseInt(t.getFieldValue("TIMES"),10)):e.Python.valueToCode(t,"TIMES",e.Python.ORDER_NONE)||"0";n=e.isNumber(n)?parseInt(n,10):"int("+n+")";var r=e.Python.statementToCode(t,"DO");return r=e.Python.addLoopTrap(r,t)||e.Python.PASS,"for "+e.Python.nameDB_.getDistinctName("count",e.VARIABLE_CATEGORY_NAME)+" in range("+n+"):\n"+r},e.Python.controls_repeat=e.Python.controls_repeat_ext,e.Python.controls_whileUntil=function(t){var n="UNTIL"==t.getFieldValue("MODE"),r=e.Python.valueToCode(t,"BOOL",n?e.Python.ORDER_LOGICAL_NOT:e.Python.ORDER_NONE)||"False",i=e.Python.statementToCode(t,"DO");return n&&(r="not "+r),"while "+r+":\n"+(i=e.Python.addLoopTrap(i,t)||e.Python.PASS)},e.Python.controls_for=function(t){var n=e.Python.nameDB_.getName(t.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME),r=e.Python.valueToCode(t,"FROM",e.Python.ORDER_NONE)||"0",i=e.Python.valueToCode(t,"TO",e.Python.ORDER_NONE)||"0",o=e.Python.valueToCode(t,"BY",e.Python.ORDER_NONE)||"1",s=e.Python.statementToCode(t,"DO");s=e.Python.addLoopTrap(s,t)||e.Python.PASS;var a="",l=function(){return e.Python.provideFunction_("upRange",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(start, stop, step):","  while start <= stop:","    yield start","    start += abs(step)"])},c=function(){return e.Python.provideFunction_("downRange",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(start, stop, step):","  while start >= stop:","    yield start","    start -= abs(step)"])};if(t=function(e,t,n){return"("+e+" <= "+t+") and "+l()+"("+e+", "+t+", "+n+") or "+c()+"("+e+", "+t+", "+n+")"},e.isNumber(r)&&e.isNumber(i)&&e.isNumber(o))r=Number(r),i=Number(i),o=Math.abs(Number(o)),0===r%1&&0===i%1&&0===o%1?(r<=i?(i++,t=0==r&&1==o?i:r+", "+i,1!=o&&(t+=", "+o)):t=r+", "+--i+", -"+o,t="range("+t+")"):(t=r<i?l():c(),t+="("+r+", "+i+", "+o+")");else{var u=function(t,r){return e.isNumber(t)?t=Number(t):t.match(/^\w+$/)?t="float("+t+")":(r=e.Python.nameDB_.getDistinctName(n+r,e.VARIABLE_CATEGORY_NAME),a+=r+" = float("+t+")\n",t=r),t};r=u(r,"_start"),i=u(i,"_end"),o=u(o,"_inc"),"number"==typeof r&&"number"==typeof i?(t=r<i?l():c(),t+="("+r+", "+i+", "+o+")"):t=t(r,i,o)}return a+="for "+n+" in "+t+":\n"+s},e.Python.controls_forEach=function(t){var n=e.Python.nameDB_.getName(t.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME),r=e.Python.valueToCode(t,"LIST",e.Python.ORDER_RELATIONAL)||"[]",i=e.Python.statementToCode(t,"DO");return"for "+n+" in "+r+":\n"+(i=e.Python.addLoopTrap(i,t)||e.Python.PASS)},e.Python.controls_flow_statements=function(t){var n="";if(e.Python.STATEMENT_PREFIX&&(n+=e.Python.injectId(e.Python.STATEMENT_PREFIX,t)),e.Python.STATEMENT_SUFFIX&&(n+=e.Python.injectId(e.Python.STATEMENT_SUFFIX,t)),e.Python.STATEMENT_PREFIX){var r=e.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.getSurroundLoop(t);r&&!r.suppressPrefixSuffix&&(n+=e.Python.injectId(e.Python.STATEMENT_PREFIX,r))}switch(t.getFieldValue("FLOW")){case"BREAK":return n+"break\n";case"CONTINUE":return n+"continue\n"}throw Error("Unknown flow statement.")},e.Python.math={},e.Python.addReservedWords("math,random,Number"),e.Python.math_number=function(t){if(1/0==(t=Number(t.getFieldValue("NUM")))){t='float("inf")';var n=e.Python.ORDER_FUNCTION_CALL}else-1/0==t?(t='-float("inf")',n=e.Python.ORDER_UNARY_SIGN):n=0>t?e.Python.ORDER_UNARY_SIGN:e.Python.ORDER_ATOMIC;return[t,n]},e.Python.math_arithmetic=function(t){var n={ADD:[" + ",e.Python.ORDER_ADDITIVE],MINUS:[" - ",e.Python.ORDER_ADDITIVE],MULTIPLY:[" * ",e.Python.ORDER_MULTIPLICATIVE],DIVIDE:[" / ",e.Python.ORDER_MULTIPLICATIVE],POWER:[" ** ",e.Python.ORDER_EXPONENTIATION]}[t.getFieldValue("OP")],r=n[0];return n=n[1],[(e.Python.valueToCode(t,"A",n)||"0")+r+(t=e.Python.valueToCode(t,"B",n)||"0"),n]},e.Python.math_single=function(t){var n=t.getFieldValue("OP");if("NEG"==n){var r=e.Python.valueToCode(t,"NUM",e.Python.ORDER_UNARY_SIGN)||"0";return["-"+r,e.Python.ORDER_UNARY_SIGN]}switch(e.Python.definitions_.import_math="import math",t="SIN"==n||"COS"==n||"TAN"==n?e.Python.valueToCode(t,"NUM",e.Python.ORDER_MULTIPLICATIVE)||"0":e.Python.valueToCode(t,"NUM",e.Python.ORDER_NONE)||"0",n){case"ABS":r="math.fabs("+t+")";break;case"ROOT":r="math.sqrt("+t+")";break;case"LN":r="math.log("+t+")";break;case"LOG10":r="math.log10("+t+")";break;case"EXP":r="math.exp("+t+")";break;case"POW10":r="math.pow(10,"+t+")";break;case"ROUND":r="round("+t+")";break;case"ROUNDUP":r="math.ceil("+t+")";break;case"ROUNDDOWN":r="math.floor("+t+")";break;case"SIN":r="math.sin("+t+" / 180.0 * math.pi)";break;case"COS":r="math.cos("+t+" / 180.0 * math.pi)";break;case"TAN":r="math.tan("+t+" / 180.0 * math.pi)"}if(r)return[r,e.Python.ORDER_FUNCTION_CALL];switch(n){case"ASIN":r="math.asin("+t+") / math.pi * 180";break;case"ACOS":r="math.acos("+t+") / math.pi * 180";break;case"ATAN":r="math.atan("+t+") / math.pi * 180";break;default:throw Error("Unknown math operator: "+n)}return[r,e.Python.ORDER_MULTIPLICATIVE]},e.Python.math_constant=function(t){var n={PI:["math.pi",e.Python.ORDER_MEMBER],E:["math.e",e.Python.ORDER_MEMBER],GOLDEN_RATIO:["(1 + math.sqrt(5)) / 2",e.Python.ORDER_MULTIPLICATIVE],SQRT2:["math.sqrt(2)",e.Python.ORDER_MEMBER],SQRT1_2:["math.sqrt(1.0 / 2)",e.Python.ORDER_MEMBER],INFINITY:["float('inf')",e.Python.ORDER_ATOMIC]};return"INFINITY"!=(t=t.getFieldValue("CONSTANT"))&&(e.Python.definitions_.import_math="import math"),n[t]},e.Python.math_number_property=function(t){var n=e.Python.valueToCode(t,"NUMBER_TO_CHECK",e.Python.ORDER_MULTIPLICATIVE)||"0",r=t.getFieldValue("PROPERTY");if("PRIME"==r)return e.Python.definitions_.import_math="import math",e.Python.definitions_.from_numbers_import_Number="from numbers import Number",[e.Python.provideFunction_("math_isPrime",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(n):","  # https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  # If n is not a number but a string, try parsing it.","  if not isinstance(n, Number):","    try:","      n = float(n)","    except:","      return False","  if n == 2 or n == 3:","    return True","  # False if n is negative, is 1, or not whole, or if n is divisible by 2 or 3.","  if n <= 1 or n % 1 != 0 or n % 2 == 0 or n % 3 == 0:","    return False","  # Check all the numbers of form 6k +/- 1, up to sqrt(n).","  for x in range(6, int(math.sqrt(n)) + 2, 6):","    if n % (x - 1) == 0 or n % (x + 1) == 0:","      return False","  return True"])+"("+n+")",e.Python.ORDER_FUNCTION_CALL];switch(r){case"EVEN":var i=n+" % 2 == 0";break;case"ODD":i=n+" % 2 == 1";break;case"WHOLE":i=n+" % 1 == 0";break;case"POSITIVE":i=n+" > 0";break;case"NEGATIVE":i=n+" < 0";break;case"DIVISIBLE_BY":if(!(t=e.Python.valueToCode(t,"DIVISOR",e.Python.ORDER_MULTIPLICATIVE))||"0"==t)return["False",e.Python.ORDER_ATOMIC];i=n+" % "+t+" == 0"}return[i,e.Python.ORDER_RELATIONAL]},e.Python.math_change=function(t){e.Python.definitions_.from_numbers_import_Number="from numbers import Number";var n=e.Python.valueToCode(t,"DELTA",e.Python.ORDER_ADDITIVE)||"0";return(t=e.Python.nameDB_.getName(t.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME))+" = ("+t+" if isinstance("+t+", Number) else 0) + "+n+"\n"},e.Python.math_round=e.Python.math_single,e.Python.math_trig=e.Python.math_single,e.Python.math_on_list=function(t){var n=t.getFieldValue("OP");switch(t=e.Python.valueToCode(t,"LIST",e.Python.ORDER_NONE)||"[]",n){case"SUM":n="sum("+t+")";break;case"MIN":n="min("+t+")";break;case"MAX":n="max("+t+")";break;case"AVERAGE":e.Python.definitions_.from_numbers_import_Number="from numbers import Number",n=(n=e.Python.provideFunction_("math_mean",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(myList):","  localList = [e for e in myList if isinstance(e, Number)]","  if not localList: return","  return float(sum(localList)) / len(localList)"]))+"("+t+")";break;case"MEDIAN":e.Python.definitions_.from_numbers_import_Number="from numbers import Number",n=(n=e.Python.provideFunction_("math_median",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(myList):","  localList = sorted([e for e in myList if isinstance(e, Number)])","  if not localList: return","  if len(localList) % 2 == 0:","    return (localList[len(localList) // 2 - 1] + localList[len(localList) // 2]) / 2.0","  else:","    return localList[(len(localList) - 1) // 2]"]))+"("+t+")";break;case"MODE":n=(n=e.Python.provideFunction_("math_modes",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(some_list):","  modes = []","  # Using a lists of [item, count] to keep count rather than dict",'  # to avoid "unhashable" errors when the counted item is itself a list or dict.',"  counts = []","  maxCount = 1","  for item in some_list:","    found = False","    for count in counts:","      if count[0] == item:","        count[1] += 1","        maxCount = max(maxCount, count[1])","        found = True","    if not found:","      counts.append([item, 1])","  for counted_item, item_count in counts:","    if item_count == maxCount:","      modes.append(counted_item)","  return modes"]))+"("+t+")";break;case"STD_DEV":e.Python.definitions_.import_math="import math",n=(n=e.Python.provideFunction_("math_standard_deviation",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(numbers):","  n = len(numbers)","  if n == 0: return","  mean = float(sum(numbers)) / n","  variance = sum((x - mean) ** 2 for x in numbers) / n","  return math.sqrt(variance)"]))+"("+t+")";break;case"RANDOM":e.Python.definitions_.import_random="import random",n="random.choice("+t+")";break;default:throw Error("Unknown operator: "+n)}return[n,e.Python.ORDER_FUNCTION_CALL]},e.Python.math_modulo=function(t){return[(e.Python.valueToCode(t,"DIVIDEND",e.Python.ORDER_MULTIPLICATIVE)||"0")+" % "+(t=e.Python.valueToCode(t,"DIVISOR",e.Python.ORDER_MULTIPLICATIVE)||"0"),e.Python.ORDER_MULTIPLICATIVE]},e.Python.math_constrain=function(t){return["min(max("+(e.Python.valueToCode(t,"VALUE",e.Python.ORDER_NONE)||"0")+", "+(e.Python.valueToCode(t,"LOW",e.Python.ORDER_NONE)||"0")+"), "+(t=e.Python.valueToCode(t,"HIGH",e.Python.ORDER_NONE)||"float('inf')")+")",e.Python.ORDER_FUNCTION_CALL]},e.Python.math_random_int=function(t){return e.Python.definitions_.import_random="import random",["random.randint("+(e.Python.valueToCode(t,"FROM",e.Python.ORDER_NONE)||"0")+", "+(t=e.Python.valueToCode(t,"TO",e.Python.ORDER_NONE)||"0")+")",e.Python.ORDER_FUNCTION_CALL]},e.Python.math_random_float=function(t){return e.Python.definitions_.import_random="import random",["random.random()",e.Python.ORDER_FUNCTION_CALL]},e.Python.math_atan2=function(t){e.Python.definitions_.import_math="import math";var n=e.Python.valueToCode(t,"X",e.Python.ORDER_NONE)||"0";return["math.atan2("+(e.Python.valueToCode(t,"Y",e.Python.ORDER_NONE)||"0")+", "+n+") / math.pi * 180",e.Python.ORDER_MULTIPLICATIVE]},e.Python.procedures={},e.Python.procedures_defreturn=function(t){for(var n,r=[],i=t.workspace,o=e.Variables.allUsedVarModels(i)||[],s=0;n=o[s];s++)n=n.name,-1==t.getVars().indexOf(n)&&r.push(e.Python.nameDB_.getName(n,e.VARIABLE_CATEGORY_NAME));for(o=e.Variables.allDeveloperVariables(i),s=0;s<o.length;s++)r.push(e.Python.nameDB_.getName(o[s],e.Names.DEVELOPER_VARIABLE_TYPE));r=r.length?e.Python.INDENT+"global "+r.join(", ")+"\n":"",i=e.Python.nameDB_.getName(t.getFieldValue("NAME"),e.PROCEDURE_CATEGORY_NAME),n="",e.Python.STATEMENT_PREFIX&&(n+=e.Python.injectId(e.Python.STATEMENT_PREFIX,t)),e.Python.STATEMENT_SUFFIX&&(n+=e.Python.injectId(e.Python.STATEMENT_SUFFIX,t)),n&&(n=e.Python.prefixLines(n,e.Python.INDENT));var a="";e.Python.INFINITE_LOOP_TRAP&&(a=e.Python.prefixLines(e.Python.injectId(e.Python.INFINITE_LOOP_TRAP,t),e.Python.INDENT));var l=e.Python.statementToCode(t,"STACK"),c=e.Python.valueToCode(t,"RETURN",e.Python.ORDER_NONE)||"",u="";l&&c&&(u=n),c?c=e.Python.INDENT+"return "+c+"\n":l||(l=e.Python.PASS);var h=[];for(o=t.getVars(),s=0;s<o.length;s++)h[s]=e.Python.nameDB_.getName(o[s],e.VARIABLE_CATEGORY_NAME);return r="def "+i+"("+h.join(", ")+"):\n"+r+n+a+l+u+c,r=e.Python.scrub_(t,r),e.Python.definitions_["%"+i]=r,null},e.Python.procedures_defnoreturn=e.Python.procedures_defreturn,e.Python.procedures_callreturn=function(t){for(var n=e.Python.nameDB_.getName(t.getFieldValue("NAME"),e.PROCEDURE_CATEGORY_NAME),r=[],i=t.getVars(),o=0;o<i.length;o++)r[o]=e.Python.valueToCode(t,"ARG"+o,e.Python.ORDER_NONE)||"None";return[n+"("+r.join(", ")+")",e.Python.ORDER_FUNCTION_CALL]},e.Python.procedures_callnoreturn=function(t){return e.Python.procedures_callreturn(t)[0]+"\n"},e.Python.procedures_ifreturn=function(t){var n="if "+(e.Python.valueToCode(t,"CONDITION",e.Python.ORDER_NONE)||"False")+":\n";return e.Python.STATEMENT_SUFFIX&&(n+=e.Python.prefixLines(e.Python.injectId(e.Python.STATEMENT_SUFFIX,t),e.Python.INDENT)),t.hasReturnValue_?(t=e.Python.valueToCode(t,"VALUE",e.Python.ORDER_NONE)||"None",n+=e.Python.INDENT+"return "+t+"\n"):n+=e.Python.INDENT+"return\n",n},e.Python.texts={},e.Python.text=function(t){return[e.Python.quote_(t.getFieldValue("TEXT")),e.Python.ORDER_ATOMIC]},e.Python.text_multiline=function(t){var n=-1!=(t=e.Python.multiline_quote_(t.getFieldValue("TEXT"))).indexOf("+")?e.Python.ORDER_ADDITIVE:e.Python.ORDER_ATOMIC;return[t,n]},e.Python.text.forceString_=function(t){return e.Python.text.forceString_.strRegExp.test(t)?[t,e.Python.ORDER_ATOMIC]:["str("+t+")",e.Python.ORDER_FUNCTION_CALL]},e.Python.text.forceString_.strRegExp=/^\s*'([^']|\\')*'\s*$/,e.Python.text_join=function(t){switch(t.itemCount_){case 0:return["''",e.Python.ORDER_ATOMIC];case 1:return t=e.Python.valueToCode(t,"ADD0",e.Python.ORDER_NONE)||"''",e.Python.text.forceString_(t);case 2:var n=e.Python.valueToCode(t,"ADD0",e.Python.ORDER_NONE)||"''";return t=e.Python.valueToCode(t,"ADD1",e.Python.ORDER_NONE)||"''",[t=e.Python.text.forceString_(n)[0]+" + "+e.Python.text.forceString_(t)[0],e.Python.ORDER_ADDITIVE];default:n=[];for(var r=0;r<t.itemCount_;r++)n[r]=e.Python.valueToCode(t,"ADD"+r,e.Python.ORDER_NONE)||"''";return[t="''.join([str("+(t=e.Python.nameDB_.getDistinctName("x",e.VARIABLE_CATEGORY_NAME))+") for "+t+" in ["+n.join(", ")+"]])",e.Python.ORDER_FUNCTION_CALL]}},e.Python.text_append=function(t){var n=e.Python.nameDB_.getName(t.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME);return t=e.Python.valueToCode(t,"TEXT",e.Python.ORDER_NONE)||"''",n+" = str("+n+") + "+e.Python.text.forceString_(t)[0]+"\n"},e.Python.text_length=function(t){return["len("+(e.Python.valueToCode(t,"VALUE",e.Python.ORDER_NONE)||"''")+")",e.Python.ORDER_FUNCTION_CALL]},e.Python.text_isEmpty=function(t){return["not len("+(e.Python.valueToCode(t,"VALUE",e.Python.ORDER_NONE)||"''")+")",e.Python.ORDER_LOGICAL_NOT]},e.Python.text_indexOf=function(t){var n="FIRST"==t.getFieldValue("END")?"find":"rfind",r=e.Python.valueToCode(t,"FIND",e.Python.ORDER_NONE)||"''";return n=(e.Python.valueToCode(t,"VALUE",e.Python.ORDER_MEMBER)||"''")+"."+n+"("+r+")",t.workspace.options.oneBasedIndex?[n+" + 1",e.Python.ORDER_ADDITIVE]:[n,e.Python.ORDER_FUNCTION_CALL]},e.Python.text_charAt=function(t){var n=t.getFieldValue("WHERE")||"FROM_START",r=e.Python.valueToCode(t,"VALUE","RANDOM"==n?e.Python.ORDER_NONE:e.Python.ORDER_MEMBER)||"''";switch(n){case"FIRST":return[r+"[0]",e.Python.ORDER_MEMBER];case"LAST":return[r+"[-1]",e.Python.ORDER_MEMBER];case"FROM_START":return[r+"["+(t=e.Python.getAdjustedInt(t,"AT"))+"]",e.Python.ORDER_MEMBER];case"FROM_END":return[r+"["+(t=e.Python.getAdjustedInt(t,"AT",1,!0))+"]",e.Python.ORDER_MEMBER];case"RANDOM":return e.Python.definitions_.import_random="import random",[e.Python.provideFunction_("text_random_letter",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(text):","  x = int(random.random() * len(text))","  return text[x];"])+"("+r+")",e.Python.ORDER_FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},e.Python.text_getSubstring=function(t){var n=t.getFieldValue("WHERE1"),r=t.getFieldValue("WHERE2"),i=e.Python.valueToCode(t,"STRING",e.Python.ORDER_MEMBER)||"''";switch(n){case"FROM_START":"0"==(n=e.Python.getAdjustedInt(t,"AT1"))&&(n="");break;case"FROM_END":n=e.Python.getAdjustedInt(t,"AT1",1,!0);break;case"FIRST":n="";break;default:throw Error("Unhandled option (text_getSubstring)")}switch(r){case"FROM_START":t=e.Python.getAdjustedInt(t,"AT2",1);break;case"FROM_END":t=e.Python.getAdjustedInt(t,"AT2",0,!0),e.isNumber(String(t))?"0"==t&&(t=""):(e.Python.definitions_.import_sys="import sys",t+=" or sys.maxsize");break;case"LAST":t="";break;default:throw Error("Unhandled option (text_getSubstring)")}return[i+"["+n+" : "+t+"]",e.Python.ORDER_MEMBER]},e.Python.text_changeCase=function(t){var n={UPPERCASE:".upper()",LOWERCASE:".lower()",TITLECASE:".title()"}[t.getFieldValue("CASE")];return[(e.Python.valueToCode(t,"TEXT",e.Python.ORDER_MEMBER)||"''")+n,e.Python.ORDER_FUNCTION_CALL]},e.Python.text_trim=function(t){var n={LEFT:".lstrip()",RIGHT:".rstrip()",BOTH:".strip()"}[t.getFieldValue("MODE")];return[(e.Python.valueToCode(t,"TEXT",e.Python.ORDER_MEMBER)||"''")+n,e.Python.ORDER_FUNCTION_CALL]},e.Python.text_print=function(t){return"print("+(e.Python.valueToCode(t,"TEXT",e.Python.ORDER_NONE)||"''")+")\n"},e.Python.text_prompt_ext=function(t){var n=e.Python.provideFunction_("text_prompt",["def "+e.Python.FUNCTION_NAME_PLACEHOLDER_+"(msg):","  try:","    return raw_input(msg)","  except NameError:","    return input(msg)"]);return n=n+"("+(t.getField("TEXT")?e.Python.quote_(t.getFieldValue("TEXT")):e.Python.valueToCode(t,"TEXT",e.Python.ORDER_NONE)||"''")+")","NUMBER"==t.getFieldValue("TYPE")&&(n="float("+n+")"),[n,e.Python.ORDER_FUNCTION_CALL]},e.Python.text_prompt=e.Python.text_prompt_ext,e.Python.text_count=function(t){return[(e.Python.valueToCode(t,"TEXT",e.Python.ORDER_MEMBER)||"''")+".count("+(t=e.Python.valueToCode(t,"SUB",e.Python.ORDER_NONE)||"''")+")",e.Python.ORDER_FUNCTION_CALL]},e.Python.text_replace=function(t){return[(e.Python.valueToCode(t,"TEXT",e.Python.ORDER_MEMBER)||"''")+".replace("+(e.Python.valueToCode(t,"FROM",e.Python.ORDER_NONE)||"''")+", "+(t=e.Python.valueToCode(t,"TO",e.Python.ORDER_NONE)||"''")+")",e.Python.ORDER_MEMBER]},e.Python.text_reverse=function(t){return[(e.Python.valueToCode(t,"TEXT",e.Python.ORDER_MEMBER)||"''")+"[::-1]",e.Python.ORDER_MEMBER]},e.Python.variables={},e.Python.variables_get=function(t){return[e.Python.nameDB_.getName(t.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME),e.Python.ORDER_ATOMIC]},e.Python.variables_set=function(t){var n=e.Python.valueToCode(t,"VALUE",e.Python.ORDER_NONE)||"0";return e.Python.nameDB_.getName(t.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME)+" = "+n+"\n"},e.Python.variablesDynamic={},e.Python.variables_get_dynamic=e.Python.variables_get,e.Python.variables_set_dynamic=e.Python.variables_set,e.Python})?r.apply(t,i):r)||(e.exports=o)},918:function(e,t,n){"use strict";var r=n(4575).default,i=n(3913).default,o=n(1506).default,s=n(2205).default,a=n(9842).default,l=n(2470),c=n(545),u="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.lW=d,t.h2=50;var h=2147483647;function p(e){if(e>h)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,d.prototype),t}function d(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return g(e)}return f(e,t,n)}function f(e,t,n){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!d.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|T(e,t),r=p(n),i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(ee(e,Uint8Array)){var t=new Uint8Array(e);return v(t.buffer,t.byteOffset,t.byteLength)}return m(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(ee(e,ArrayBuffer)||e&&ee(e.buffer,ArrayBuffer))return v(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(ee(e,SharedArrayBuffer)||e&&ee(e.buffer,SharedArrayBuffer)))return v(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return d.from(r,t,n);var i=function(e){if(d.isBuffer(e)){var t=0|y(e.length),n=p(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!==typeof e.length||te(e.length)?p(0):m(e);if("Buffer"===e.type&&Array.isArray(e.data))return m(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return d.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function _(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function g(e){return _(e),p(e<0?0:0|y(e))}function m(e){for(var t=e.length<0?0:0|y(e.length),n=p(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function v(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,d.prototype),r}function y(e){if(e>=h)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h.toString(16)+" bytes");return 0|e}function T(e,t){if(d.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||ee(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return Q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return K(e).length;default:if(i)return r?-1:Q(e).length;t=(""+t).toLowerCase(),i=!0}}function E(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return D(this,t,n);case"utf8":case"utf-8":return x(this,t,n);case"ascii":return N(this,t,n);case"latin1":case"binary":return L(this,t,n);case"base64":return A(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function b(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function O(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),te(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=d.from(t,r)),d.isBuffer(t))return 0===t.length?-1:k(e,t,n,r,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):k(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function k(e,t,n,r,i){var o,s=1,a=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var u=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*s}else-1!==u&&(o-=o-u),u=-1}else for(n+l>a&&(n=a-l),o=n;o>=0;o--){for(var h=!0,p=0;p<l;p++)if(c(e,o+p)!==c(t,p)){h=!1;break}if(h)return o}return-1}function w(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o,s=t.length;for(r>s/2&&(r=s/2),o=0;o<r;++o){var a=parseInt(t.substr(2*o,2),16);if(te(a))return o;e[n+o]=a}return o}function S(e,t,n,r){return J(Q(t,e.length-n),e,n,r)}function I(e,t,n,r){return J(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function R(e,t,n,r){return J(K(t),e,n,r)}function C(e,t,n,r){return J(function(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function A(e,t,n){return 0===t&&n===e.length?l.fromByteArray(e):l.fromByteArray(e.slice(t,n))}function x(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o=e[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=n){var l=void 0,c=void 0,u=void 0,h=void 0;switch(a){case 1:o<128&&(s=o);break;case 2:128===(192&(l=e[i+1]))&&(h=(31&o)<<6|63&l)>127&&(s=h);break;case 3:l=e[i+1],c=e[i+2],128===(192&l)&&128===(192&c)&&(h=(15&o)<<12|(63&l)<<6|63&c)>2047&&(h<55296||h>57343)&&(s=h);break;case 4:l=e[i+1],c=e[i+2],u=e[i+3],128===(192&l)&&128===(192&c)&&128===(192&u)&&(h=(15&o)<<18|(63&l)<<12|(63&c)<<6|63&u)>65535&&h<1114112&&(s=h)}}null===s?(s=65533,a=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),i+=a}return function(e){var t=e.length;if(t<=M)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=M));return n}(r)}d.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(n){return!1}}(),d.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}}),d.poolSize=8192,d.from=function(e,t,n){return f(e,t,n)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array),d.alloc=function(e,t,n){return function(e,t,n){return _(e),e<=0?p(e):void 0!==t?"string"===typeof n?p(e).fill(t,n):p(e).fill(t):p(e)}(e,t,n)},d.allocUnsafe=function(e){return g(e)},d.allocUnsafeSlow=function(e){return g(e)},d.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==d.prototype},d.compare=function(e,t){if(ee(e,Uint8Array)&&(e=d.from(e,e.offset,e.byteLength)),ee(t,Uint8Array)&&(t=d.from(t,t.offset,t.byteLength)),!d.isBuffer(e)||!d.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},d.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return d.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=d.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(ee(o,Uint8Array))i+o.length>r.length?(d.isBuffer(o)||(o=d.from(o)),o.copy(r,i)):Uint8Array.prototype.set.call(r,o,i);else{if(!d.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i)}i+=o.length}return r},d.byteLength=T,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},d.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},d.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},d.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?x(this,0,e):E.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(e){if(!d.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===d.compare(this,e)},d.prototype.inspect=function(){var e="",n=t.h2;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},u&&(d.prototype[u]=d.prototype.inspect),d.prototype.compare=function(e,t,n,r,i){if(ee(e,Uint8Array)&&(e=d.from(e,e.offset,e.byteLength)),!d.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(o,s),l=this.slice(r,i),c=e.slice(t,n),u=0;u<a;++u)if(l[u]!==c[u]){o=l[u],s=c[u];break}return o<s?-1:s<o?1:0},d.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},d.prototype.indexOf=function(e,t,n){return O(this,e,t,n,!0)},d.prototype.lastIndexOf=function(e,t,n){return O(this,e,t,n,!1)},d.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return S(this,e,t,n);case"ascii":case"latin1":case"binary":return I(this,e,t,n);case"base64":return R(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var M=4096;function N(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function L(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function D(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=ne[e[o]];return i}function P(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function B(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function U(e,t,n,r,i,o){if(!d.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function F(e,t,n,r,i){X(t,r,i,e,n,7);var o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;var s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function W(e,t,n,r,i){X(t,r,i,e,n,7);var o=Number(t&BigInt(4294967295));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;var s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function H(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function G(e,t,n,r,i){return t=+t,n>>>=0,i||H(e,0,n,4),c.write(e,t,n,r,23,4),n+4}function V(e,t,n,r,i){return t=+t,n>>>=0,i||H(e,0,n,8),c.write(e,t,n,r,52,8),n+8}d.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,d.prototype),r},d.prototype.readUintLE=d.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},d.prototype.readUintBE=d.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},d.prototype.readUint8=d.prototype.readUInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),this[e]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]|this[e+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(e,t){return e>>>=0,t||B(e,2,this.length),this[e]<<8|this[e+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},d.prototype.readBigUInt64LE=re((function(e){$(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||Y(e,this.length-8);var r=t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24),i=this[++e]+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+n*Math.pow(2,24);return BigInt(r)+(BigInt(i)<<BigInt(32))})),d.prototype.readBigUInt64BE=re((function(e){$(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||Y(e,this.length-8);var r=t*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e],i=this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),d.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},d.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||B(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},d.prototype.readInt8=function(e,t){return e>>>=0,t||B(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},d.prototype.readInt16LE=function(e,t){e>>>=0,t||B(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},d.prototype.readInt16BE=function(e,t){e>>>=0,t||B(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},d.prototype.readInt32LE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},d.prototype.readInt32BE=function(e,t){return e>>>=0,t||B(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},d.prototype.readBigInt64LE=re((function(e){$(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||Y(e,this.length-8);var r=this[e+4]+this[e+5]*Math.pow(2,8)+this[e+6]*Math.pow(2,16)+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24))})),d.prototype.readBigInt64BE=re((function(e){$(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||Y(e,this.length-8);var r=(t<<24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+n)})),d.prototype.readFloatLE=function(e,t){return e>>>=0,t||B(e,4,this.length),c.read(this,e,!0,23,4)},d.prototype.readFloatBE=function(e,t){return e>>>=0,t||B(e,4,this.length),c.read(this,e,!1,23,4)},d.prototype.readDoubleLE=function(e,t){return e>>>=0,t||B(e,8,this.length),c.read(this,e,!0,52,8)},d.prototype.readDoubleBE=function(e,t){return e>>>=0,t||B(e,8,this.length),c.read(this,e,!1,52,8)},d.prototype.writeUintLE=d.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||U(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||U(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},d.prototype.writeUint8=d.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,1,255,0),this[t]=255&e,t+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},d.prototype.writeBigUInt64LE=re((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return F(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),d.prototype.writeBigUInt64BE=re((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return W(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),d.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);U(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},d.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);U(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},d.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},d.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},d.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},d.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},d.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||U(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},d.prototype.writeBigInt64LE=re((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return F(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),d.prototype.writeBigInt64BE=re((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return W(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),d.prototype.writeFloatLE=function(e,t,n){return G(this,e,t,!0,n)},d.prototype.writeFloatBE=function(e,t,n){return G(this,e,t,!1,n)},d.prototype.writeDoubleLE=function(e,t,n){return V(this,e,t,!0,n)},d.prototype.writeDoubleBE=function(e,t,n){return V(this,e,t,!1,n)},d.prototype.copy=function(e,t,n,r){if(!d.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},d.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!d.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=d.isBuffer(e)?e:d.from(e,r),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var j={};function Z(e,t,n){j[e]=function(n){s(c,n);var l=a(c);function c(){var n;return r(this,c),n=l.call(this),Object.defineProperty(o(n),"message",{value:t.apply(o(n),arguments),writable:!0,configurable:!0}),n.name="".concat(n.name," [").concat(e,"]"),n.stack,delete n.name,n}return i(c,[{key:"code",get:function(){return e},set:function(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}]),c}(n)}function q(e){for(var t="",n=e.length,r="-"===e[0]?1:0;n>=r+4;n-=3)t="_".concat(e.slice(n-3,n)).concat(t);return"".concat(e.slice(0,n)).concat(t)}function X(e,t,n,r,i,o){if(e>n||e<t){var s,a="bigint"===typeof t?"n":"";throw s=o>3?0===t||t===BigInt(0)?">= 0".concat(a," and < 2").concat(a," ** ").concat(8*(o+1)).concat(a):">= -(2".concat(a," ** ").concat(8*(o+1)-1).concat(a,") and < 2 ** ")+"".concat(8*(o+1)-1).concat(a):">= ".concat(t).concat(a," and <= ").concat(n).concat(a),new j.ERR_OUT_OF_RANGE("value",s,e)}!function(e,t,n){$(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||Y(t,e.length-(n+1))}(r,i,o)}function $(e,t){if("number"!==typeof e)throw new j.ERR_INVALID_ARG_TYPE(t,"number",e)}function Y(e,t,n){if(Math.floor(e)!==e)throw $(e,n),new j.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new j.ERR_BUFFER_OUT_OF_BOUNDS;throw new j.ERR_OUT_OF_RANGE(n||"offset",">= ".concat(n?1:0," and <= ").concat(t),e)}Z("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),Z("ERR_INVALID_ARG_TYPE",(function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(typeof t)}),TypeError),Z("ERR_OUT_OF_RANGE",(function(e,t,n){var r='The value of "'.concat(e,'" is out of range.'),i=n;return Number.isInteger(n)&&Math.abs(n)>Math.pow(2,32)?i=q(String(n)):"bigint"===typeof n&&(i=String(n),(n>Math.pow(BigInt(2),BigInt(32))||n<-Math.pow(BigInt(2),BigInt(32)))&&(i=q(i)),i+="n"),r+=" It must be ".concat(t,". Received ").concat(i)}),RangeError);var z=/[^+/0-9A-Za-z-_]/g;function Q(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function K(e){return l.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(z,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function J(e,t,n,r){var i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function ee(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function te(e){return e!==e}var ne=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}();function re(e){return"undefined"===typeof BigInt?ie:e}function ie(){throw new Error("BigInt not supported")}},6123:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var s=i.apply(null,n);s&&e.push(s)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var a in n)r.call(n,a)&&n[a]&&e.push(a);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},8925:function(e,t,n){var r,i,o;i=[],r=function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function r(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){l(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function i(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,a=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(e,t,n){var a=s.URL||s.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?o(l):i(l.href)?r(e,t,n):o(l,l.target="_blank")):(l.href=a.createObjectURL(e),setTimeout((function(){a.revokeObjectURL(l.href)}),4e4),setTimeout((function(){o(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,s){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,s),n);else if(i(e))r(e,n,s);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout((function(){o(a)}))}}:function(e,t,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return r(e,t,n);var o="application/octet-stream"===e.type,l=/constructor/i.test(s.HTMLElement)||s.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||o&&l||a)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},u.readAsDataURL(e)}else{var h=s.URL||s.webkitURL,p=h.createObjectURL(e);i?i.location=p:location.href=p,i=null,setTimeout((function(){h.revokeObjectURL(p)}),4e4)}});s.saveAs=l.saveAs=l,e.exports=l},void 0===(o="function"===typeof r?r.apply(t,i):r)||(e.exports=o)},7861:function(e,t,n){"use strict";var r=n(6214),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(f){var i=d(n);i&&i!==f&&e(t,i,r)}var s=u(n);h&&(s=s.concat(h(n)));for(var a=l(t),_=l(n),g=0;g<s.length;++g){var m=s[g];if(!o[m]&&(!r||!r[m])&&(!_||!_[m])&&(!a||!a[m])){var v=p(n,m);try{c(t,m,v)}catch(y){}}}}return t}},545:function(e,t){t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,l=(1<<a)-1,c=l>>1,u=-7,h=n?i-1:0,p=n?-1:1,d=e[t+h];for(h+=p,o=d&(1<<-u)-1,d>>=-u,u+=a;u>0;o=256*o+e[t+h],h+=p,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=256*s+e[t+h],h+=p,u-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=c}return(d?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,l,c=8*o-i-1,u=(1<<c)-1,h=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,f=r?1:-1,_=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+h>=1?p/l:p*Math.pow(2,1-h))*l>=2&&(s++,l/=2),s+h>=u?(a=0,s=u):s+h>=1?(a=(t*l-1)*Math.pow(2,i),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[n+d]=255&a,d+=f,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+d]=255&s,d+=f,s/=256,c-=8);e[n+d-f]|=128*_}},6666:function(e,t){var n;!function(t,n){"use strict";"object"===typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!==typeof window?window:this,(function(r,i){"use strict";var o=[],s=Object.getPrototypeOf,a=o.slice,l=o.flat?function(e){return o.flat.call(e)}:function(e){return o.concat.apply([],e)},c=o.push,u=o.indexOf,h={},p=h.toString,d=h.hasOwnProperty,f=d.toString,_=f.call(Object),g={},m=function(e){return"function"===typeof e&&"number"!==typeof e.nodeType&&"function"!==typeof e.item},v=function(e){return null!=e&&e===e.window},y=r.document,T={type:!0,src:!0,nonce:!0,noModule:!0};function E(e,t,n){var r,i,o=(n=n||y).createElement("script");if(o.text=e,t)for(r in T)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function b(e){return null==e?e+"":"object"===typeof e||"function"===typeof e?h[p.call(e)]||"object":typeof e}var O="3.6.0",k=function e(t,n){return new e.fn.init(t,n)};function w(e){var t=!!e&&"length"in e&&e.length,n=b(e);return!m(e)&&!v(e)&&("array"===n||0===t||"number"===typeof t&&t>0&&t-1 in e)}k.fn=k.prototype={jquery:O,constructor:k,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=k.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return k.each(this,e)},map:function(e){return this.pushStack(k.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(k.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(k.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},k.extend=k.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"===typeof s&&(c=s,s=arguments[a]||{},a++),"object"===typeof s||m(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)r=e[t],"__proto__"!==t&&s!==r&&(c&&r&&(k.isPlainObject(r)||(i=Array.isArray(r)))?(n=s[t],o=i&&!Array.isArray(n)?[]:i||k.isPlainObject(n)?n:{},i=!1,s[t]=k.extend(c,o,r)):void 0!==r&&(s[t]=r));return s},k.extend({expando:"jQuery"+(O+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==p.call(e))&&(!(t=s(e))||"function"===typeof(n=d.call(t,"constructor")&&t.constructor)&&f.call(n)===_)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){E(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(w(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(w(Object(e))?k.merge(n,"string"===typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:u.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,s=!n;i<o;i++)!t(e[i],i)!==s&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,s=[];if(w(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&s.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&s.push(i);return l(s)},guid:1,support:g}),"function"===typeof Symbol&&(k.fn[Symbol.iterator]=o[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){h["[object "+t+"]"]=t.toLowerCase()}));var S=function(e){var t,n,r,i,o,s,a,l,c,u,h,p,d,f,_,g,m,v,y,T="sizzle"+1*new Date,E=e.document,b=0,O=0,k=le(),w=le(),S=le(),I=le(),R=function(e,t){return e===t&&(h=!0),0},C={}.hasOwnProperty,A=[],x=A.pop,M=A.push,N=A.push,L=A.slice,D=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},P="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",U="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",F="\\[[\\x20\\t\\r\\n\\f]*("+U+")(?:"+B+"*([*^$|!~]?=)"+B+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+U+"))|)"+B+"*\\]",W=":("+U+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",H=new RegExp(B+"+","g"),G=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),V=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),j=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),Z=new RegExp(B+"|>"),q=new RegExp(W),X=new RegExp("^"+U+"$"),$={ID:new RegExp("^#("+U+")"),CLASS:new RegExp("^\\.("+U+")"),TAG:new RegExp("^("+U+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+W),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+P+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,z=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){p()},se=Te((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{N.apply(A=L.call(E.childNodes),E.childNodes),A[E.childNodes.length].nodeType}catch(we){N={apply:A.length?function(e,t){M.apply(e,L.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function ae(e,t,r,i){var o,a,c,u,h,f,m,v=t&&t.ownerDocument,E=t?t.nodeType:9;if(r=r||[],"string"!==typeof e||!e||1!==E&&9!==E&&11!==E)return r;if(!i&&(p(t),t=t||d,_)){if(11!==E&&(h=J.exec(e)))if(o=h[1]){if(9===E){if(!(c=t.getElementById(o)))return r;if(c.id===o)return r.push(c),r}else if(v&&(c=v.getElementById(o))&&y(t,c)&&c.id===o)return r.push(c),r}else{if(h[2])return N.apply(r,t.getElementsByTagName(e)),r;if((o=h[3])&&n.getElementsByClassName&&t.getElementsByClassName)return N.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!I[e+" "]&&(!g||!g.test(e))&&(1!==E||"object"!==t.nodeName.toLowerCase())){if(m=e,v=t,1===E&&(Z.test(e)||j.test(e))){for((v=ee.test(e)&&me(t.parentNode)||t)===t&&n.scope||((u=t.getAttribute("id"))?u=u.replace(re,ie):t.setAttribute("id",u=T)),a=(f=s(e)).length;a--;)f[a]=(u?"#"+u:":scope")+" "+ye(f[a]);m=f.join(",")}try{return N.apply(r,v.querySelectorAll(m)),r}catch(b){I(e,!0)}finally{u===T&&t.removeAttribute("id")}}}return l(e.replace(G,"$1"),t,r,i)}function le(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function ce(e){return e[T]=!0,e}function ue(e){var t=d.createElement("fieldset");try{return!!e(t)}catch(we){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function he(e,t){for(var n=e.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function de(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function fe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function _e(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&se(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ge(e){return ce((function(t){return t=+t,ce((function(n,r){for(var i,o=e([],n.length,t),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))}))}))}function me(e){return e&&"undefined"!==typeof e.getElementsByTagName&&e}for(t in n=ae.support={},o=ae.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},p=ae.setDocument=function(e){var t,i,s=e?e.ownerDocument||e:E;return s!=d&&9===s.nodeType&&s.documentElement?(f=(d=s).documentElement,_=!o(d),E!=d&&(i=d.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",oe,!1):i.attachEvent&&i.attachEvent("onunload",oe)),n.scope=ue((function(e){return f.appendChild(e).appendChild(d.createElement("div")),"undefined"!==typeof e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.attributes=ue((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=ue((function(e){return e.appendChild(d.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=K.test(d.getElementsByClassName),n.getById=ue((function(e){return f.appendChild(e).id=T,!d.getElementsByName||!d.getElementsByName(T).length})),n.getById?(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if("undefined"!==typeof t.getElementById&&_){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n="undefined"!==typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if("undefined"!==typeof t.getElementById&&_){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return"undefined"!==typeof t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if("undefined"!==typeof t.getElementsByClassName&&_)return t.getElementsByClassName(e)},m=[],g=[],(n.qsa=K.test(d.querySelectorAll))&&(ue((function(e){var t;f.appendChild(e).innerHTML="<a id='"+T+"'></a><select id='"+T+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+P+")"),e.querySelectorAll("[id~="+T+"-]").length||g.push("~="),(t=d.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||g.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+T+"+*").length||g.push(".#.+[+~]"),e.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")})),ue((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=d.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),f.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=K.test(v=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ue((function(e){n.disconnectedMatch=v.call(e,"*"),v.call(e,"[s!='']:x"),m.push("!=",W)})),g=g.length&&new RegExp(g.join("|")),m=m.length&&new RegExp(m.join("|")),t=K.test(f.compareDocumentPosition),y=t||K.test(f.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},R=t?function(e,t){if(e===t)return h=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e==d||e.ownerDocument==E&&y(E,e)?-1:t==d||t.ownerDocument==E&&y(E,t)?1:u?D(u,e)-D(u,t):0:4&r?-1:1)}:function(e,t){if(e===t)return h=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],a=[t];if(!i||!o)return e==d?-1:t==d?1:i?-1:o?1:u?D(u,e)-D(u,t):0;if(i===o)return pe(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;s[r]===a[r];)r++;return r?pe(s[r],a[r]):s[r]==E?-1:a[r]==E?1:0},d):d},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if(p(e),n.matchesSelector&&_&&!I[t+" "]&&(!m||!m.test(t))&&(!g||!g.test(t)))try{var r=v.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(we){I(t,!0)}return ae(t,d,null,[e]).length>0},ae.contains=function(e,t){return(e.ownerDocument||e)!=d&&p(e),y(e,t)},ae.attr=function(e,t){(e.ownerDocument||e)!=d&&p(e);var i=r.attrHandle[t.toLowerCase()],o=i&&C.call(r.attrHandle,t.toLowerCase())?i(e,t,!_):void 0;return void 0!==o?o:n.attributes||!_?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},ae.escape=function(e){return(e+"").replace(re,ie)},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,r=[],i=0,o=0;if(h=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(R),h){for(;t=e[o++];)t===e[o]&&(i=r.push(o));for(;i--;)e.splice(r[i],1)}return u=null,e},i=ae.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"===typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},r=ae.selectors={cacheLength:50,createPseudo:ce,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return $.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&q.test(n)&&(t=s(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=k[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"("+B+"|$)"))&&k(e,(function(e){return t.test("string"===typeof e.className&&e.className||"undefined"!==typeof e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var i=ae.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(H," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,u,h,p,d,f,_=o!==s?"nextSibling":"previousSibling",g=t.parentNode,m=a&&t.nodeName.toLowerCase(),v=!l&&!a,y=!1;if(g){if(o){for(;_;){for(p=t;p=p[_];)if(a?p.nodeName.toLowerCase()===m:1===p.nodeType)return!1;f=_="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&v){for(y=(d=(c=(u=(h=(p=g)[T]||(p[T]={}))[p.uniqueID]||(h[p.uniqueID]={}))[e]||[])[0]===b&&c[1])&&c[2],p=d&&g.childNodes[d];p=++d&&p&&p[_]||(y=d=0)||f.pop();)if(1===p.nodeType&&++y&&p===t){u[e]=[b,d,y];break}}else if(v&&(y=d=(c=(u=(h=(p=t)[T]||(p[T]={}))[p.uniqueID]||(h[p.uniqueID]={}))[e]||[])[0]===b&&c[1]),!1===y)for(;(p=++d&&p&&p[_]||(y=d=0)||f.pop())&&((a?p.nodeName.toLowerCase()!==m:1!==p.nodeType)||!++y||(v&&((u=(h=p[T]||(p[T]={}))[p.uniqueID]||(h[p.uniqueID]={}))[e]=[b,y]),p!==t)););return(y-=i)===r||y%r===0&&y/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return i[T]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ce((function(e,n){for(var r,o=i(e,t),s=o.length;s--;)e[r=D(e,o[s])]=!(n[r]=o[s])})):function(e){return i(e,0,n)}):i}},pseudos:{not:ce((function(e){var t=[],n=[],r=a(e.replace(G,"$1"));return r[T]?ce((function(e,t,n,i){for(var o,s=r(e,null,i,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))})):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}})),has:ce((function(e){return function(t){return ae(e,t).length>0}})),contains:ce((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||i(t)).indexOf(e)>-1}})),lang:ce((function(e){return X.test(e||"")||ae.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=_?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:_e(!1),disabled:_e(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return z.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ge((function(){return[0]})),last:ge((function(e,t){return[t-1]})),eq:ge((function(e,t,n){return[n<0?n+t:n]})),even:ge((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ge((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ge((function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e})),gt:ge((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}},r.pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=de(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=fe(t);function ve(){}function ye(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function Te(e,t,n){var r=t.dir,i=t.next,o=i||r,s=n&&"parentNode"===o,a=O++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||s)return e(t,n,i);return!1}:function(t,n,l){var c,u,h,p=[b,a];if(l){for(;t=t[r];)if((1===t.nodeType||s)&&e(t,n,l))return!0}else for(;t=t[r];)if(1===t.nodeType||s)if(u=(h=t[T]||(t[T]={}))[t.uniqueID]||(h[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=u[o])&&c[0]===b&&c[1]===a)return p[2]=c[2];if(u[o]=p,p[2]=e(t,n,l))return!0}return!1}}function Ee(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function be(e,t,n,r,i){for(var o,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(o=e[a])&&(n&&!n(o,r,i)||(s.push(o),c&&t.push(a)));return s}function Oe(e,t,n,r,i,o){return r&&!r[T]&&(r=Oe(r)),i&&!i[T]&&(i=Oe(i,o)),ce((function(o,s,a,l){var c,u,h,p=[],d=[],f=s.length,_=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)ae(e,t[r],n);return n}(t||"*",a.nodeType?[a]:a,[]),g=!e||!o&&t?_:be(_,p,e,a,l),m=n?i||(o?e:f||r)?[]:s:g;if(n&&n(g,m,a,l),r)for(c=be(m,d),r(c,[],a,l),u=c.length;u--;)(h=c[u])&&(m[d[u]]=!(g[d[u]]=h));if(o){if(i||e){if(i){for(c=[],u=m.length;u--;)(h=m[u])&&c.push(g[u]=h);i(null,m=[],c,l)}for(u=m.length;u--;)(h=m[u])&&(c=i?D(o,h):p[u])>-1&&(o[c]=!(s[c]=h))}}else m=be(m===s?m.splice(f,m.length):m),i?i(null,s,m,l):N.apply(s,m)}))}function ke(e){for(var t,n,i,o=e.length,s=r.relative[e[0].type],a=s||r.relative[" "],l=s?1:0,u=Te((function(e){return e===t}),a,!0),h=Te((function(e){return D(t,e)>-1}),a,!0),p=[function(e,n,r){var i=!s&&(r||n!==c)||((t=n).nodeType?u(e,n,r):h(e,n,r));return t=null,i}];l<o;l++)if(n=r.relative[e[l].type])p=[Te(Ee(p),n)];else{if((n=r.filter[e[l].type].apply(null,e[l].matches))[T]){for(i=++l;i<o&&!r.relative[e[i].type];i++);return Oe(l>1&&Ee(p),l>1&&ye(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(G,"$1"),n,l<i&&ke(e.slice(l,i)),i<o&&ke(e=e.slice(i)),i<o&&ye(e))}p.push(n)}return Ee(p)}return ve.prototype=r.filters=r.pseudos,r.setFilters=new ve,s=ae.tokenize=function(e,t){var n,i,o,s,a,l,c,u=w[e+" "];if(u)return t?0:u.slice(0);for(a=e,l=[],c=r.preFilter;a;){for(s in n&&!(i=V.exec(a))||(i&&(a=a.slice(i[0].length)||a),l.push(o=[])),n=!1,(i=j.exec(a))&&(n=i.shift(),o.push({value:n,type:i[0].replace(G," ")}),a=a.slice(n.length)),r.filter)!(i=$[s].exec(a))||c[s]&&!(i=c[s](i))||(n=i.shift(),o.push({value:n,type:s,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?ae.error(e):w(e,l).slice(0)},a=ae.compile=function(e,t){var n,i=[],o=[],a=S[e+" "];if(!a){for(t||(t=s(e)),n=t.length;n--;)(a=ke(t[n]))[T]?i.push(a):o.push(a);a=S(e,function(e,t){var n=t.length>0,i=e.length>0,o=function(o,s,a,l,u){var h,f,g,m=0,v="0",y=o&&[],T=[],E=c,O=o||i&&r.find.TAG("*",u),k=b+=null==E?1:Math.random()||.1,w=O.length;for(u&&(c=s==d||s||u);v!==w&&null!=(h=O[v]);v++){if(i&&h){for(f=0,s||h.ownerDocument==d||(p(h),a=!_);g=e[f++];)if(g(h,s||d,a)){l.push(h);break}u&&(b=k)}n&&((h=!g&&h)&&m--,o&&y.push(h))}if(m+=v,n&&v!==m){for(f=0;g=t[f++];)g(y,T,s,a);if(o){if(m>0)for(;v--;)y[v]||T[v]||(T[v]=x.call(l));T=be(T)}N.apply(l,T),u&&!o&&T.length>0&&m+t.length>1&&ae.uniqueSort(l)}return u&&(b=k,c=E),y};return n?ce(o):o}(o,i)),a.selector=e}return a},l=ae.select=function(e,t,n,i){var o,l,c,u,h,p="function"===typeof e&&e,d=!i&&s(e=p.selector||e);if(n=n||[],1===d.length){if((l=d[0]=d[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===t.nodeType&&_&&r.relative[l[1].type]){if(!(t=(r.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return n;p&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(o=$.needsContext.test(e)?0:l.length;o--&&(c=l[o],!r.relative[u=c.type]);)if((h=r.find[u])&&(i=h(c.matches[0].replace(te,ne),ee.test(l[0].type)&&me(t.parentNode)||t))){if(l.splice(o,1),!(e=i.length&&ye(l)))return N.apply(n,i),n;break}}return(p||a(e,d))(i,t,!_,n,!t||ee.test(e)&&me(t.parentNode)||t),n},n.sortStable=T.split("").sort(R).join("")===T,n.detectDuplicates=!!h,p(),n.sortDetached=ue((function(e){return 1&e.compareDocumentPosition(d.createElement("fieldset"))})),ue((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||he("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&ue((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||he("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ue((function(e){return null==e.getAttribute("disabled")}))||he(P,(function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),ae}(r);k.find=S,(k.expr=S.selectors)[":"]=k.expr.pseudos,k.uniqueSort=k.unique=S.uniqueSort,k.text=S.getText,k.isXMLDoc=S.isXML,k.contains=S.contains,k.escapeSelector=S.escape;var I=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&k(e).is(n))break;r.push(e)}return r},R=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},C=k.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var x=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function M(e,t,n){return m(t)?k.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?k.grep(e,(function(e){return e===t!==n})):"string"!==typeof t?k.grep(e,(function(e){return u.call(t,e)>-1!==n})):k.filter(t,e,n)}k.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?k.find.matchesSelector(r,e)?[r]:[]:k.find.matches(e,k.grep(t,(function(e){return 1===e.nodeType})))},k.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!==typeof e)return this.pushStack(k(e).filter((function(){for(t=0;t<r;t++)if(k.contains(i[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)k.find(e,i[t],n);return r>1?k.uniqueSort(n):n},filter:function(e){return this.pushStack(M(this,e||[],!1))},not:function(e){return this.pushStack(M(this,e||[],!0))},is:function(e){return!!M(this,"string"===typeof e&&C.test(e)?k(e):e||[],!1).length}});var N,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||N,"string"===typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:L.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof k?t[0]:t,k.merge(this,k.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:y,!0)),x.test(r[1])&&k.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=y.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(k):k.makeArray(e,this)}).prototype=k.fn,N=k(y);var D=/^(?:parents|prev(?:Until|All))/,P={children:!0,contents:!0,next:!0,prev:!0};function B(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}k.fn.extend({has:function(e){var t=k(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(k.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,i=this.length,o=[],s="string"!==typeof e&&k(e);if(!C.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&k.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?k.uniqueSort(o):o)},index:function(e){return e?"string"===typeof e?u.call(k(e),this[0]):u.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),k.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return I(e,"parentNode")},parentsUntil:function(e,t,n){return I(e,"parentNode",n)},next:function(e){return B(e,"nextSibling")},prev:function(e){return B(e,"previousSibling")},nextAll:function(e){return I(e,"nextSibling")},prevAll:function(e){return I(e,"previousSibling")},nextUntil:function(e,t,n){return I(e,"nextSibling",n)},prevUntil:function(e,t,n){return I(e,"previousSibling",n)},siblings:function(e){return R((e.parentNode||{}).firstChild,e)},children:function(e){return R(e.firstChild)},contents:function(e){return null!=e.contentDocument&&s(e.contentDocument)?e.contentDocument:(A(e,"template")&&(e=e.content||e),k.merge([],e.childNodes))}},(function(e,t){k.fn[e]=function(n,r){var i=k.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"===typeof r&&(i=k.filter(r,i)),this.length>1&&(P[e]||k.uniqueSort(i),D.test(e)&&i.reverse()),this.pushStack(i)}}));var U=/[^\x20\t\r\n\f]+/g;function F(e){return e}function W(e){throw e}function H(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}k.Callbacks=function(e){e="string"===typeof e?function(e){var t={};return k.each(e.match(U)||[],(function(e,n){t[n]=!0})),t}(e):k.extend({},e);var t,n,r,i,o=[],s=[],a=-1,l=function(){for(i=i||e.once,r=t=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(a=o.length-1,s.push(n)),function t(n){k.each(n,(function(n,r){m(r)?e.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==b(r)&&t(r)}))}(arguments),n&&!t&&l()),this},remove:function(){return k.each(arguments,(function(e,t){for(var n;(n=k.inArray(t,o,n))>-1;)o.splice(n,1),n<=a&&a--})),this},has:function(e){return e?k.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=s=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},k.extend({Deferred:function(e){var t=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return k.Deferred((function(n){k.each(t,(function(t,r){var i=m(e[r[4]])&&e[r[4]];o[r[1]]((function(){var e=i&&i.apply(this,arguments);e&&m(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[e]:arguments)}))})),e=null})).promise()},then:function(e,n,i){var o=0;function s(e,t,n,i){return function(){var a=this,l=arguments,c=function(){var r,c;if(!(e<o)){if((r=n.apply(a,l))===t.promise())throw new TypeError("Thenable self-resolution");c=r&&("object"===typeof r||"function"===typeof r)&&r.then,m(c)?i?c.call(r,s(o,t,F,i),s(o,t,W,i)):(o++,c.call(r,s(o,t,F,i),s(o,t,W,i),s(o,t,F,t.notifyWith))):(n!==F&&(a=void 0,l=[r]),(i||t.resolveWith)(a,l))}},u=i?c:function(){try{c()}catch(r){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(r,u.stackTrace),e+1>=o&&(n!==W&&(a=void 0,l=[r]),t.rejectWith(a,l))}};e?u():(k.Deferred.getStackHook&&(u.stackTrace=k.Deferred.getStackHook()),r.setTimeout(u))}}return k.Deferred((function(r){t[0][3].add(s(0,r,m(i)?i:F,r.notifyWith)),t[1][3].add(s(0,r,m(e)?e:F)),t[2][3].add(s(0,r,m(n)?n:W))})).promise()},promise:function(e){return null!=e?k.extend(e,i):i}},o={};return k.each(t,(function(e,r){var s=r[2],a=r[5];i[r[1]]=s.add,a&&s.add((function(){n=a}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),s.add(r[3].fire),o[r[0]]=function(){return o[r[0]+"With"](this===o?void 0:this,arguments),this},o[r[0]+"With"]=s.fireWith})),i.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=a.call(arguments),o=k.Deferred(),s=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?a.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(H(e,o.done(s(n)).resolve,o.reject,!t),"pending"===o.state()||m(i[n]&&i[n].then)))return o.then();for(;n--;)H(i[n],s(n),o.reject);return o.promise()}});var G=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(e,t){r.console&&r.console.warn&&e&&G.test(e.name)&&r.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},k.readyException=function(e){r.setTimeout((function(){throw e}))};var V=k.Deferred();function j(){y.removeEventListener("DOMContentLoaded",j),r.removeEventListener("load",j),k.ready()}k.fn.ready=function(e){return V.then(e).catch((function(e){k.readyException(e)})),this},k.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--k.readyWait:k.isReady)||(k.isReady=!0,!0!==e&&--k.readyWait>0||V.resolveWith(y,[k]))}}),k.ready.then=V.then,"complete"===y.readyState||"loading"!==y.readyState&&!y.documentElement.doScroll?r.setTimeout(k.ready):(y.addEventListener("DOMContentLoaded",j),r.addEventListener("load",j));var Z=function e(t,n,r,i,o,s,a){var l=0,c=t.length,u=null==r;if("object"===b(r))for(l in o=!0,r)e(t,n,l,r[l],!0,s,a);else if(void 0!==i&&(o=!0,m(i)||(a=!0),u&&(a?(n.call(t,i),n=null):(u=n,n=function(e,t,n){return u.call(k(e),n)})),n))for(;l<c;l++)n(t[l],r,a?i:i.call(t[l],l,n(t[l],r)));return o?t:u?n.call(t):c?n(t[0],r):s},q=/^-ms-/,X=/-([a-z])/g;function $(e,t){return t.toUpperCase()}function Y(e){return e.replace(q,"ms-").replace(X,$)}var z=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function Q(){this.expando=k.expando+Q.uid++}Q.uid=1,Q.prototype={cache:function(e){var t=e[this.expando];return t||(t={},z(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"===typeof t)i[Y(t)]=n;else for(r in t)i[Y(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][Y(t)]},access:function(e,t,n){return void 0===t||t&&"string"===typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(Y):(t=Y(t))in r?[t]:t.match(U)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||k.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!k.isEmptyObject(t)}};var K=new Q,J=new Q,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ne(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(te,"-$&").toLowerCase(),"string"===typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(n)}catch(i){}J.set(e,t,n)}else n=void 0;return n}k.extend({hasData:function(e){return J.hasData(e)||K.hasData(e)},data:function(e,t,n){return J.access(e,t,n)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,n){return K.access(e,t,n)},_removeData:function(e,t){K.remove(e,t)}}),k.fn.extend({data:function(e,t){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(i=J.get(o),1===o.nodeType&&!K.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(r=s[n].name).indexOf("data-")&&(r=Y(r.slice(5)),ne(o,r,i[r]));K.set(o,"hasDataAttrs",!0)}return i}return"object"===typeof e?this.each((function(){J.set(this,e)})):Z(this,(function(t){var n;if(o&&void 0===t)return void 0!==(n=J.get(o,e))||void 0!==(n=ne(o,e))?n:void 0;this.each((function(){J.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){J.remove(this,e)}))}}),k.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=K.get(e,t),n&&(!r||Array.isArray(n)?r=K.access(e,t,k.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){var n=k.queue(e,t=t||"fx"),r=n.length,i=n.shift(),o=k._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,(function(){k.dequeue(e,t)}),o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return K.get(e,n)||K.access(e,n,{empty:k.Callbacks("once memory").add((function(){K.remove(e,[t+"queue",n])}))})}}),k.fn.extend({queue:function(e,t){var n=2;return"string"!==typeof e&&(t=e,e="fx",n--),arguments.length<n?k.queue(this[0],e):void 0===t?this:this.each((function(){var n=k.queue(this,e,t);k._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&k.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){k.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=k.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!==typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=K.get(o[s],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(t)}});var re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ie=new RegExp("^(?:([+-])=|)("+re+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],se=y.documentElement,ae=function(e){return k.contains(e.ownerDocument,e)},le={composed:!0};se.getRootNode&&(ae=function(e){return k.contains(e.ownerDocument,e)||e.getRootNode(le)===e.ownerDocument});var ce=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ae(e)&&"none"===k.css(e,"display")};function ue(e,t,n,r){var i,o,s=20,a=r?function(){return r.cur()}:function(){return k.css(e,t,"")},l=a(),c=n&&n[3]||(k.cssNumber[t]?"":"px"),u=e.nodeType&&(k.cssNumber[t]||"px"!==c&&+l)&&ie.exec(k.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;s--;)k.style(e,t,u+c),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),u/=o;k.style(e,t,(u*=2)+c),n=n||[]}return n&&(u=+u||+l||0,i=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=u,r.end=i)),i}var he={};function pe(e){var t,n=e.ownerDocument,r=e.nodeName,i=he[r];return i||(t=n.body.appendChild(n.createElement(r)),i=k.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),he[r]=i,i)}function de(e,t){for(var n,r,i=[],o=0,s=e.length;o<s;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=K.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ce(r)&&(i[o]=pe(r))):"none"!==n&&(i[o]="none",K.set(r,"display",n)));for(o=0;o<s;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}k.fn.extend({show:function(){return de(this,!0)},hide:function(){return de(this)},toggle:function(e){return"boolean"===typeof e?e?this.show():this.hide():this.each((function(){ce(this)?k(this).show():k(this).hide()}))}});var fe=/^(?:checkbox|radio)$/i,_e=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ge=/^$|^module$|\/(?:java|ecma)script/i;!function(){var e=y.createDocumentFragment().appendChild(y.createElement("div")),t=y.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),g.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,e.innerHTML="<option></option>",g.option=!!e.lastChild}();var me={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var n;return n="undefined"!==typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!==typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?k.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n<r;n++)K.set(e[n],"globalEval",!t||K.get(t[n],"globalEval"))}me.tbody=me.tfoot=me.colgroup=me.caption=me.thead,me.th=me.td,g.option||(me.optgroup=me.option=[1,"<select multiple='multiple'>","</select>"]);var Te=/<|&#?\w+;/;function Ee(e,t,n,r,i){for(var o,s,a,l,c,u,h=t.createDocumentFragment(),p=[],d=0,f=e.length;d<f;d++)if((o=e[d])||0===o)if("object"===b(o))k.merge(p,o.nodeType?[o]:o);else if(Te.test(o)){for(s=s||h.appendChild(t.createElement("div")),a=(_e.exec(o)||["",""])[1].toLowerCase(),l=me[a]||me._default,s.innerHTML=l[1]+k.htmlPrefilter(o)+l[2],u=l[0];u--;)s=s.lastChild;k.merge(p,s.childNodes),(s=h.firstChild).textContent=""}else p.push(t.createTextNode(o));for(h.textContent="",d=0;o=p[d++];)if(r&&k.inArray(o,r)>-1)i&&i.push(o);else if(c=ae(o),s=ve(h.appendChild(o),"script"),c&&ye(s),n)for(u=0;o=s[u++];)ge.test(o.type||"")&&n.push(o);return h}var be=/^([^.]*)(?:\.(.+)|)/;function Oe(){return!0}function ke(){return!1}function we(e,t){return e===function(){try{return y.activeElement}catch(e){}}()===("focus"===t)}function Se(e,t,n,r,i,o){var s,a;if("object"===typeof t){for(a in"string"!==typeof n&&(r=r||n,n=void 0),t)Se(e,a,n,r,t[a],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"===typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=ke;else if(!i)return e;return 1===o&&(s=i,i=function(e){return k().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=k.guid++)),e.each((function(){k.event.add(this,t,i,r,n)}))}function Ie(e,t,n){n?(K.set(e,t,!1),k.event.add(e,t,{namespace:!1,handler:function(e){var r,i,o=K.get(this,t);if(1&e.isTrigger&&this[t]){if(o.length)(k.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=a.call(arguments),K.set(this,t,o),r=n(this,t),this[t](),o!==(i=K.get(this,t))||r?K.set(this,t,!1):i={},o!==i)return e.stopImmediatePropagation(),e.preventDefault(),i&&i.value}else o.length&&(K.set(this,t,{value:k.event.trigger(k.extend(o[0],k.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===K.get(e,t)&&k.event.add(e,t,Oe)}k.event={global:{},add:function(e,t,n,r,i){var o,s,a,l,c,u,h,p,d,f,_,g=K.get(e);if(z(e))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&k.find.matchesSelector(se,i),n.guid||(n.guid=k.guid++),(l=g.events)||(l=g.events=Object.create(null)),(s=g.handle)||(s=g.handle=function(t){return k.event.triggered!==t.type?k.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(U)||[""]).length;c--;)d=_=(a=be.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),d&&(h=k.event.special[d]||{},d=(i?h.delegateType:h.bindType)||d,h=k.event.special[d]||{},u=k.extend({type:d,origType:_,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&k.expr.match.needsContext.test(i),namespace:f.join(".")},o),(p=l[d])||((p=l[d]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,r,f,s)||e.addEventListener&&e.addEventListener(d,s)),h.add&&(h.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,u):p.push(u),k.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,s,a,l,c,u,h,p,d,f,_,g=K.hasData(e)&&K.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(U)||[""]).length;c--;)if(d=_=(a=be.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),d){for(h=k.event.special[d]||{},p=l[d=(r?h.delegateType:h.bindType)||d]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)u=p[o],!i&&_!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(p.splice(o,1),u.selector&&p.delegateCount--,h.remove&&h.remove.call(e,u));s&&!p.length&&(h.teardown&&!1!==h.teardown.call(e,f,g.handle)||k.removeEvent(e,d,g.handle),delete l[d])}else for(d in l)k.event.remove(e,d+t[c],n,r,!0);k.isEmptyObject(l)&&K.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,s,a=new Array(arguments.length),l=k.event.fix(e),c=(K.get(this,"events")||Object.create(null))[l.type]||[],u=k.event.special[l.type]||{};for(a[0]=l,t=1;t<arguments.length;t++)a[t]=arguments[t];if(l.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,l)){for(s=k.event.handlers.call(this,l,c),t=0;(i=s[t++])&&!l.isPropagationStopped();)for(l.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==o.namespace&&!l.rnamespace.test(o.namespace)||(l.handleObj=o,l.data=o.data,void 0!==(r=((k.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a))&&!1===(l.result=r)&&(l.preventDefault(),l.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,r,i,o,s,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[i=(r=t[n]).selector+" "]&&(s[i]=r.needsContext?k(i,this).index(c)>-1:k.find(i,this,null,[c]).length),s[i]&&o.push(r);o.length&&a.push({elem:c,handlers:o})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(k.Event.prototype,e,{enumerable:!0,configurable:!0,get:m(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[k.expando]?e:new k.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return fe.test(t.type)&&t.click&&A(t,"input")&&Ie(t,"click",Oe),!1},trigger:function(e){var t=this||e;return fe.test(t.type)&&t.click&&A(t,"input")&&Ie(t,"click"),!0},_default:function(e){var t=e.target;return fe.test(t.type)&&t.click&&A(t,"input")&&K.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},k.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},(k.Event=function(e,t){if(!(this instanceof k.Event))return new k.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Oe:ke,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&k.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[k.expando]=!0}).prototype={constructor:k.Event,isDefaultPrevented:ke,isPropagationStopped:ke,isImmediatePropagationStopped:ke,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Oe,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Oe,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Oe,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},(function(e,t){k.event.special[e]={setup:function(){return Ie(this,e,we),!1},trigger:function(){return Ie(this,e),!0},_default:function(){return!0},delegateType:t}})),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){k.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||k.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}})),k.fn.extend({on:function(e,t,n,r){return Se(this,e,t,n,r)},one:function(e,t,n,r){return Se(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,k(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"===typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!==typeof t||(n=t,t=void 0),!1===n&&(n=ke),this.each((function(){k.event.remove(this,e,n,t)}))}});var Re=/<script|<style|<link/i,Ce=/checked\s*(?:[^=]|=\s*.checked.)/i,Ae=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function xe(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&k(e).children("tbody")[0]||e}function Me(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ne(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Le(e,t){var n,r,i,o,s,a;if(1===t.nodeType){if(K.hasData(e)&&(a=K.get(e).events))for(i in K.remove(t,"handle events"),a)for(n=0,r=a[i].length;n<r;n++)k.event.add(t,i,a[i][n]);J.hasData(e)&&(o=J.access(e),s=k.extend({},o),J.set(t,s))}}function De(e,t){var n=t.nodeName.toLowerCase();"input"===n&&fe.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Pe(e,t,n,r){t=l(t);var i,o,s,a,c,u,h=0,p=e.length,d=p-1,f=t[0],_=m(f);if(_||p>1&&"string"===typeof f&&!g.checkClone&&Ce.test(f))return e.each((function(i){var o=e.eq(i);_&&(t[0]=f.call(this,i,o.html())),Pe(o,t,n,r)}));if(p&&(o=(i=Ee(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(a=(s=k.map(ve(i,"script"),Me)).length;h<p;h++)c=i,h!==d&&(c=k.clone(c,!0,!0),a&&k.merge(s,ve(c,"script"))),n.call(e[h],c,h);if(a)for(u=s[s.length-1].ownerDocument,k.map(s,Ne),h=0;h<a;h++)c=s[h],ge.test(c.type||"")&&!K.access(c,"globalEval")&&k.contains(u,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?k._evalUrl&&!c.noModule&&k._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},u):E(c.textContent.replace(Ae,""),c,u))}return e}function Be(e,t,n){for(var r,i=t?k.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||k.cleanData(ve(r)),r.parentNode&&(n&&ae(r)&&ye(ve(r,"script")),r.parentNode.removeChild(r));return e}k.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,s,a=e.cloneNode(!0),l=ae(e);if(!g.noCloneChecked&&(1===e.nodeType||11===e.nodeType)&&!k.isXMLDoc(e))for(s=ve(a),r=0,i=(o=ve(e)).length;r<i;r++)De(o[r],s[r]);if(t)if(n)for(o=o||ve(e),s=s||ve(a),r=0,i=o.length;r<i;r++)Le(o[r],s[r]);else Le(e,a);return(s=ve(a,"script")).length>0&&ye(s,!l&&ve(e,"script")),a},cleanData:function(e){for(var t,n,r,i=k.event.special,o=0;void 0!==(n=e[o]);o++)if(z(n)){if(t=n[K.expando]){if(t.events)for(r in t.events)i[r]?k.event.remove(n,r):k.removeEvent(n,r,t.handle);n[K.expando]=void 0}n[J.expando]&&(n[J.expando]=void 0)}}}),k.fn.extend({detach:function(e){return Be(this,e,!0)},remove:function(e){return Be(this,e)},text:function(e){return Z(this,(function(e){return void 0===e?k.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Pe(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||xe(this,e).appendChild(e)}))},prepend:function(){return Pe(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=xe(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Pe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Pe(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(k.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return k.clone(this,e,t)}))},html:function(e){return Z(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"===typeof e&&!Re.test(e)&&!me[(_e.exec(e)||["",""])[1].toLowerCase()]){e=k.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(k.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Pe(this,arguments,(function(t){var n=this.parentNode;k.inArray(this,e)<0&&(k.cleanData(ve(this)),n&&n.replaceChild(t,this))}),e)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){k.fn[e]=function(e){for(var n,r=[],i=k(e),o=i.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),k(i[s])[t](n),c.apply(r,n.get());return this.pushStack(r)}}));var Ue=new RegExp("^("+re+")(?!px)[a-z%]+$","i"),Fe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=r),t.getComputedStyle(e)},We=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},He=new RegExp(oe.join("|"),"i");function Ge(e,t,n){var r,i,o,s,a=e.style;return(n=n||Fe(e))&&(""!==(s=n.getPropertyValue(t)||n[t])||ae(e)||(s=k.style(e,t)),!g.pixelBoxStyles()&&Ue.test(s)&&He.test(t)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function Ve(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",se.appendChild(c).appendChild(u);var e=r.getComputedStyle(u);n="1%"!==e.top,l=12===t(e.marginLeft),u.style.right="60%",s=36===t(e.right),i=36===t(e.width),u.style.position="absolute",o=12===t(u.offsetWidth/3),se.removeChild(c),u=null}}function t(e){return Math.round(parseFloat(e))}var n,i,o,s,a,l,c=y.createElement("div"),u=y.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===u.style.backgroundClip,k.extend(g,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,t,n,i;return null==a&&(e=y.createElement("table"),t=y.createElement("tr"),n=y.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",se.appendChild(e).appendChild(t).appendChild(n),i=r.getComputedStyle(t),a=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===t.offsetHeight,se.removeChild(e)),a}}))}();var je=["Webkit","Moz","ms"],Ze=y.createElement("div").style,qe={};function Xe(e){var t=k.cssProps[e]||qe[e];return t||(e in Ze?e:qe[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=je.length;n--;)if((e=je[n]+t)in Ze)return e}(e)||e)}var $e=/^(none|table(?!-c[ea]).+)/,Ye=/^--/,ze={position:"absolute",visibility:"hidden",display:"block"},Qe={letterSpacing:"0",fontWeight:"400"};function Ke(e,t,n){var r=ie.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Je(e,t,n,r,i,o){var s="width"===t?1:0,a=0,l=0;if(n===(r?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=k.css(e,n+oe[s],!0,i)),r?("content"===n&&(l-=k.css(e,"padding"+oe[s],!0,i)),"margin"!==n&&(l-=k.css(e,"border"+oe[s]+"Width",!0,i))):(l+=k.css(e,"padding"+oe[s],!0,i),"padding"!==n?l+=k.css(e,"border"+oe[s]+"Width",!0,i):a+=k.css(e,"border"+oe[s]+"Width",!0,i));return!r&&o>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-a-.5))||0),l}function et(e,t,n){var r=Fe(e),i=(!g.boxSizingReliable()||n)&&"border-box"===k.css(e,"boxSizing",!1,r),o=i,s=Ge(e,t,r),a="offset"+t[0].toUpperCase()+t.slice(1);if(Ue.test(s)){if(!n)return s;s="auto"}return(!g.boxSizingReliable()&&i||!g.reliableTrDimensions()&&A(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===k.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===k.css(e,"boxSizing",!1,r),(o=a in e)&&(s=e[a])),(s=parseFloat(s)||0)+Je(e,t,n||(i?"border":"content"),o,r,s)+"px"}function tt(e,t,n,r,i){return new tt.prototype.init(e,t,n,r,i)}k.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ge(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=Y(t),l=Ye.test(t),c=e.style;if(l||(t=Xe(a)),s=k.cssHooks[t]||k.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(e,!1,r))?i:c[t];"string"===(o=typeof n)&&(i=ie.exec(n))&&i[1]&&(n=ue(e,t,i),o="number"),null!=n&&n===n&&("number"!==o||l||(n+=i&&i[3]||(k.cssNumber[a]?"":"px")),g.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var i,o,s,a=Y(t);return Ye.test(t)||(t=Xe(a)),(s=k.cssHooks[t]||k.cssHooks[a])&&"get"in s&&(i=s.get(e,!0,n)),void 0===i&&(i=Ge(e,t,r)),"normal"===i&&t in Qe&&(i=Qe[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),k.each(["height","width"],(function(e,t){k.cssHooks[t]={get:function(e,n,r){if(n)return!$e.test(k.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?et(e,t,r):We(e,ze,(function(){return et(e,t,r)}))},set:function(e,n,r){var i,o=Fe(e),s=!g.scrollboxSize()&&"absolute"===o.position,a=(s||r)&&"border-box"===k.css(e,"boxSizing",!1,o),l=r?Je(e,t,r,a,o):0;return a&&s&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-Je(e,t,"border",!1,o)-.5)),l&&(i=ie.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=k.css(e,t)),Ke(0,n,l)}}})),k.cssHooks.marginLeft=Ve(g.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ge(e,"marginLeft"))||e.getBoundingClientRect().left-We(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),k.each({margin:"",padding:"",border:"Width"},(function(e,t){k.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"===typeof n?n.split(" "):[n];r<4;r++)i[e+oe[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(k.cssHooks[e+t].set=Ke)})),k.fn.extend({css:function(e,t){return Z(this,(function(e,t,n){var r,i,o={},s=0;if(Array.isArray(t)){for(r=Fe(e),i=t.length;s<i;s++)o[t[s]]=k.css(e,t[s],!1,r);return o}return void 0!==n?k.style(e,t,n):k.css(e,t)}),e,t,arguments.length>1)}}),k.Tween=tt,tt.prototype={constructor:tt,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||k.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(k.cssNumber[n]?"":"px")},cur:function(){var e=tt.propHooks[this.prop];return e&&e.get?e.get(this):tt.propHooks._default.get(this)},run:function(e){var t,n=tt.propHooks[this.prop];return this.options.duration?this.pos=t=k.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):tt.propHooks._default.set(this),this}},tt.prototype.init.prototype=tt.prototype,tt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=k.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){k.fx.step[e.prop]?k.fx.step[e.prop](e):1!==e.elem.nodeType||!k.cssHooks[e.prop]&&null==e.elem.style[Xe(e.prop)]?e.elem[e.prop]=e.now:k.style(e.elem,e.prop,e.now+e.unit)}}},tt.propHooks.scrollTop=tt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},k.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},(k.fx=tt.prototype.init).step={};var nt,rt,it=/^(?:toggle|show|hide)$/,ot=/queueHooks$/;function st(){rt&&(!1===y.hidden&&r.requestAnimationFrame?r.requestAnimationFrame(st):r.setTimeout(st,k.fx.interval),k.fx.tick())}function at(){return r.setTimeout((function(){nt=void 0})),nt=Date.now()}function lt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=oe[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ct(e,t,n){for(var r,i=(ut.tweeners[t]||[]).concat(ut.tweeners["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,t,e))return r}function ut(e,t,n){var r,i,o=0,s=ut.prefilters.length,a=k.Deferred().always((function(){delete l.elem})),l=function(){if(i)return!1;for(var t=nt||at(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),o=0,s=c.tweens.length;o<s;o++)c.tweens[o].run(r);return a.notifyWith(e,[c,r,n]),r<1&&s?n:(s||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:k.extend({},t),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},n),originalProperties:t,originalOptions:n,startTime:nt||at(),duration:n.duration,tweens:[],createTween:function(t,n){var r=k.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),u=c.props;for(!function(e,t){var n,r,i,o,s;for(n in e)if(i=t[r=Y(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(s=k.cssHooks[r])&&"expand"in s)for(n in o=s.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(u,c.opts.specialEasing);o<s;o++)if(r=ut.prefilters[o].call(c,e,u,c.opts))return m(r.stop)&&(k._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return k.map(u,ct,c),m(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),k.fx.timer(k.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}k.Animation=k.extend(ut,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ue(n.elem,e,ie.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(U);for(var n,r=0,i=e.length;r<i;r++)n=e[r],ut.tweeners[n]=ut.tweeners[n]||[],ut.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,s,a,l,c,u,h="width"in t||"height"in t,p=this,d={},f=e.style,_=e.nodeType&&ce(e),g=K.get(e,"fxshow");for(r in n.queue||(null==(s=k._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,p.always((function(){p.always((function(){s.unqueued--,k.queue(e,"fx").length||s.empty.fire()}))}))),t)if(i=t[r],it.test(i)){if(delete t[r],o=o||"toggle"===i,i===(_?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;_=!0}d[r]=g&&g[r]||k.style(e,r)}if((l=!k.isEmptyObject(t))||!k.isEmptyObject(d))for(r in h&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=g&&g.display)&&(c=K.get(e,"display")),"none"===(u=k.css(e,"display"))&&(c?u=c:(de([e],!0),c=e.style.display||c,u=k.css(e,"display"),de([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===k.css(e,"float")&&(l||(p.done((function(){f.display=c})),null==c&&(u=f.display,c="none"===u?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",p.always((function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}))),l=!1,d)l||(g?"hidden"in g&&(_=g.hidden):g=K.access(e,"fxshow",{display:c}),o&&(g.hidden=!_),_&&de([e],!0),p.done((function(){for(r in _||de([e]),K.remove(e,"fxshow"),d)k.style(e,r,d[r])}))),l=ct(_?g[r]:0,r,p),r in g||(g[r]=l.start,_&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ut.prefilters.unshift(e):ut.prefilters.push(e)}}),k.speed=function(e,t,n){var r=e&&"object"===typeof e?k.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return k.fx.off?r.duration=0:"number"!==typeof r.duration&&(r.duration in k.fx.speeds?r.duration=k.fx.speeds[r.duration]:r.duration=k.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&k.dequeue(this,r.queue)},r},k.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ce).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=k.isEmptyObject(e),o=k.speed(t,n,r),s=function(){var t=ut(this,k.extend({},e),o);(i||K.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!==typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",o=k.timers,s=K.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&ot.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||k.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=K.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=k.timers,s=r?r.length:0;for(n.finish=!0,k.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),k.each(["toggle","show","hide"],(function(e,t){var n=k.fn[t];k.fn[t]=function(e,r,i){return null==e||"boolean"===typeof e?n.apply(this,arguments):this.animate(lt(t,!0),e,r,i)}})),k.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){k.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),k.timers=[],k.fx.tick=function(){var e,t=0,n=k.timers;for(nt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||k.fx.stop(),nt=void 0},k.fx.timer=function(e){k.timers.push(e),k.fx.start()},k.fx.interval=13,k.fx.start=function(){rt||(rt=!0,st())},k.fx.stop=function(){rt=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(e,t){return e=k.fx&&k.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,n){var i=r.setTimeout(t,e);n.stop=function(){r.clearTimeout(i)}}))},function(){var e=y.createElement("input"),t=y.createElement("select").appendChild(y.createElement("option"));e.type="checkbox",g.checkOn=""!==e.value,g.optSelected=t.selected,(e=y.createElement("input")).value="t",e.type="radio",g.radioValue="t"===e.value}();var ht,pt=k.expr.attrHandle;k.fn.extend({attr:function(e,t){return Z(this,k.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){k.removeAttr(this,e)}))}}),k.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"===typeof e.getAttribute?k.prop(e,t,n):(1===o&&k.isXMLDoc(e)||(i=k.attrHooks[t.toLowerCase()]||(k.expr.match.bool.test(t)?ht:void 0)),void 0!==n?null===n?void k.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=k.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!g.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(U);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),ht={set:function(e,t,n){return!1===t?k.removeAttr(e,n):e.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=pt[t]||k.find.attr;pt[t]=function(e,t,r){var i,o,s=t.toLowerCase();return r||(o=pt[s],pt[s]=i,i=null!=n(e,t,r)?s:null,pt[s]=o),i}}));var dt=/^(?:input|select|textarea|button)$/i,ft=/^(?:a|area)$/i;function _t(e){return(e.match(U)||[]).join(" ")}function gt(e){return e.getAttribute&&e.getAttribute("class")||""}function mt(e){return Array.isArray(e)?e:"string"===typeof e&&e.match(U)||[]}k.fn.extend({prop:function(e,t){return Z(this,k.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[k.propFix[e]||e]}))}}),k.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&k.isXMLDoc(e)||(t=k.propFix[t]||t,i=k.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=k.find.attr(e,"tabindex");return t?parseInt(t,10):dt.test(e.nodeName)||ft.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(k.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){k.propFix[this.toLowerCase()]=this})),k.fn.extend({addClass:function(e){var t,n,r,i,o,s,a,l=0;if(m(e))return this.each((function(t){k(this).addClass(e.call(this,t,gt(this)))}));if((t=mt(e)).length)for(;n=this[l++];)if(i=gt(n),r=1===n.nodeType&&" "+_t(i)+" "){for(s=0;o=t[s++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(a=_t(r))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,r,i,o,s,a,l=0;if(m(e))return this.each((function(t){k(this).removeClass(e.call(this,t,gt(this)))}));if(!arguments.length)return this.attr("class","");if((t=mt(e)).length)for(;n=this[l++];)if(i=gt(n),r=1===n.nodeType&&" "+_t(i)+" "){for(s=0;o=t[s++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(a=_t(r))&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"===typeof t&&r?t?this.addClass(e):this.removeClass(e):m(e)?this.each((function(n){k(this).toggleClass(e.call(this,n,gt(this),t),t)})):this.each((function(){var t,i,o,s;if(r)for(i=0,o=k(this),s=mt(e);t=s[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=gt(this))&&K.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":K.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+_t(gt(n))+" ").indexOf(t)>-1)return!0;return!1}});var vt=/\r/g;k.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=m(e),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,k(this).val()):e)?i="":"number"===typeof i?i+="":Array.isArray(i)&&(i=k.map(i,(function(e){return null==e?"":e+""}))),(t=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=k.valHooks[i.type]||k.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"===typeof(n=i.value)?n.replace(vt,""):null==n?"":n:void 0}}),k.extend({valHooks:{option:{get:function(e){var t=k.find.attr(e,"value");return null!=t?t:_t(k.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?o+1:i.length;for(r=o<0?l:s?o:0;r<l;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=k(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=k.makeArray(t),s=i.length;s--;)((r=i[s]).selected=k.inArray(k.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),k.each(["radio","checkbox"],(function(){k.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=k.inArray(k(e).val(),t)>-1}},g.checkOn||(k.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),g.focusin="onfocusin"in r;var yt=/^(?:focusinfocus|focusoutblur)$/,Tt=function(e){e.stopPropagation()};k.extend(k.event,{trigger:function(e,t,n,i){var o,s,a,l,c,u,h,p,f=[n||y],_=d.call(e,"type")?e.type:e,g=d.call(e,"namespace")?e.namespace.split("."):[];if(s=p=a=n=n||y,3!==n.nodeType&&8!==n.nodeType&&!yt.test(_+k.event.triggered)&&(_.indexOf(".")>-1&&(g=_.split("."),_=g.shift(),g.sort()),c=_.indexOf(":")<0&&"on"+_,(e=e[k.expando]?e:new k.Event(_,"object"===typeof e&&e)).isTrigger=i?2:3,e.namespace=g.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:k.makeArray(t,[e]),h=k.event.special[_]||{},i||!h.trigger||!1!==h.trigger.apply(n,t))){if(!i&&!h.noBubble&&!v(n)){for(l=h.delegateType||_,yt.test(l+_)||(s=s.parentNode);s;s=s.parentNode)f.push(s),a=s;a===(n.ownerDocument||y)&&f.push(a.defaultView||a.parentWindow||r)}for(o=0;(s=f[o++])&&!e.isPropagationStopped();)p=s,e.type=o>1?l:h.bindType||_,(u=(K.get(s,"events")||Object.create(null))[e.type]&&K.get(s,"handle"))&&u.apply(s,t),(u=c&&s[c])&&u.apply&&z(s)&&(e.result=u.apply(s,t),!1===e.result&&e.preventDefault());return e.type=_,i||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(f.pop(),t)||!z(n)||c&&m(n[_])&&!v(n)&&((a=n[c])&&(n[c]=null),k.event.triggered=_,e.isPropagationStopped()&&p.addEventListener(_,Tt),n[_](),e.isPropagationStopped()&&p.removeEventListener(_,Tt),k.event.triggered=void 0,a&&(n[c]=a)),e.result}},simulate:function(e,t,n){var r=k.extend(new k.Event,n,{type:e,isSimulated:!0});k.event.trigger(r,null,t)}}),k.fn.extend({trigger:function(e,t){return this.each((function(){k.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return k.event.trigger(e,t,n,!0)}}),g.focusin||k.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){k.event.simulate(t,e.target,k.event.fix(e))};k.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,i=K.access(r,t);i||r.addEventListener(e,n,!0),K.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=K.access(r,t)-1;i?K.access(r,t,i):(r.removeEventListener(e,n,!0),K.remove(r,t))}}}));var Et=r.location,bt={guid:Date.now()},Ot=/\?/;k.parseXML=function(e){var t,n;if(!e||"string"!==typeof e)return null;try{t=(new r.DOMParser).parseFromString(e,"text/xml")}catch(i){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||k.error("Invalid XML: "+(n?k.map(n.childNodes,(function(e){return e.textContent})).join("\n"):e)),t};var kt=/\[\]$/,wt=/\r?\n/g,St=/^(?:submit|button|image|reset|file)$/i,It=/^(?:input|select|textarea|keygen)/i;function Rt(e,t,n,r){var i;if(Array.isArray(t))k.each(t,(function(t,i){n||kt.test(e)?r(e,i):Rt(e+"["+("object"===typeof i&&null!=i?t:"")+"]",i,n,r)}));else if(n||"object"!==b(t))r(e,t);else for(i in t)Rt(e+"["+i+"]",t[i],n,r)}k.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!k.isPlainObject(e))k.each(e,(function(){i(this.name,this.value)}));else for(n in e)Rt(n,e[n],t,i);return r.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=k.prop(this,"elements");return e?k.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!k(this).is(":disabled")&&It.test(this.nodeName)&&!St.test(e)&&(this.checked||!fe.test(e))})).map((function(e,t){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,(function(e){return{name:t.name,value:e.replace(wt,"\r\n")}})):{name:t.name,value:n.replace(wt,"\r\n")}})).get()}});var Ct=/%20/g,At=/#.*$/,xt=/([?&])_=[^&]*/,Mt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Nt=/^(?:GET|HEAD)$/,Lt=/^\/\//,Dt={},Pt={},Bt="*/".concat("*"),Ut=y.createElement("a");function Ft(e){return function(t,n){"string"!==typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(U)||[];if(m(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Wt(e,t,n,r){var i={},o=e===Pt;function s(a){var l;return i[a]=!0,k.each(e[a]||[],(function(e,a){var c=a(t,n,r);return"string"!==typeof c||o||i[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),s(c),!1)})),l}return s(t.dataTypes[0])||!i["*"]&&s("*")}function Ht(e,t){var n,r,i=k.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&k.extend(!0,e,r),e}Ut.href=Et.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Et.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Et.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ht(Ht(e,k.ajaxSettings),t):Ht(k.ajaxSettings,e)},ajaxPrefilter:Ft(Dt),ajaxTransport:Ft(Pt),ajax:function(e,t){"object"===typeof e&&(t=e,e=void 0);var n,i,o,s,a,l,c,u,h,p,d=k.ajaxSetup({},t=t||{}),f=d.context||d,_=d.context&&(f.nodeType||f.jquery)?k(f):k.event,g=k.Deferred(),m=k.Callbacks("once memory"),v=d.statusCode||{},T={},E={},b="canceled",O={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Mt.exec(o);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(e,t){return null==c&&(e=E[e.toLowerCase()]=E[e.toLowerCase()]||e,T[e]=t),this},overrideMimeType:function(e){return null==c&&(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)O.always(e[O.status]);else for(t in e)v[t]=[v[t],e[t]];return this},abort:function(e){var t=e||b;return n&&n.abort(t),w(0,t),this}};if(g.promise(O),d.url=((e||d.url||Et.href)+"").replace(Lt,Et.protocol+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(U)||[""],null==d.crossDomain){l=y.createElement("a");try{l.href=d.url,l.href=l.href,d.crossDomain=Ut.protocol+"//"+Ut.host!==l.protocol+"//"+l.host}catch(S){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!==typeof d.data&&(d.data=k.param(d.data,d.traditional)),Wt(Dt,d,t,O),c)return O;for(h in(u=k.event&&d.global)&&0===k.active++&&k.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Nt.test(d.type),i=d.url.replace(At,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Ct,"+")):(p=d.url.slice(i.length),d.data&&(d.processData||"string"===typeof d.data)&&(i+=(Ot.test(i)?"&":"?")+d.data,delete d.data),!1===d.cache&&(i=i.replace(xt,"$1"),p=(Ot.test(i)?"&":"?")+"_="+bt.guid+++p),d.url=i+p),d.ifModified&&(k.lastModified[i]&&O.setRequestHeader("If-Modified-Since",k.lastModified[i]),k.etag[i]&&O.setRequestHeader("If-None-Match",k.etag[i])),(d.data&&d.hasContent&&!1!==d.contentType||t.contentType)&&O.setRequestHeader("Content-Type",d.contentType),O.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Bt+"; q=0.01":""):d.accepts["*"]),d.headers)O.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(!1===d.beforeSend.call(f,O,d)||c))return O.abort();if(b="abort",m.add(d.complete),O.done(d.success),O.fail(d.error),n=Wt(Pt,d,t,O)){if(O.readyState=1,u&&_.trigger("ajaxSend",[O,d]),c)return O;d.async&&d.timeout>0&&(a=r.setTimeout((function(){O.abort("timeout")}),d.timeout));try{c=!1,n.send(T,w)}catch(S){if(c)throw S;w(-1,S)}}else w(-1,"No Transport");function w(e,t,s,l){var h,p,y,T,E,b=t;c||(c=!0,a&&r.clearTimeout(a),n=void 0,o=l||"",O.readyState=e>0?4:0,h=e>=200&&e<300||304===e,s&&(T=function(e,t,n){for(var r,i,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){o=i;break}s||(s=i)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}(d,O,s)),!h&&k.inArray("script",d.dataTypes)>-1&&k.inArray("json",d.dataTypes)<0&&(d.converters["text script"]=function(){}),T=function(e,t,n,r){var i,o,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(i in c)if((a=i.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[i]:!0!==c[i]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(S){return{state:"parsererror",error:s?S:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(d,T,O,h),h?(d.ifModified&&((E=O.getResponseHeader("Last-Modified"))&&(k.lastModified[i]=E),(E=O.getResponseHeader("etag"))&&(k.etag[i]=E)),204===e||"HEAD"===d.type?b="nocontent":304===e?b="notmodified":(b=T.state,p=T.data,h=!(y=T.error))):(y=b,!e&&b||(b="error",e<0&&(e=0))),O.status=e,O.statusText=(t||b)+"",h?g.resolveWith(f,[p,b,O]):g.rejectWith(f,[O,b,y]),O.statusCode(v),v=void 0,u&&_.trigger(h?"ajaxSuccess":"ajaxError",[O,d,h?p:y]),m.fireWith(f,[O,b]),u&&(_.trigger("ajaxComplete",[O,d]),--k.active||k.event.trigger("ajaxStop")))}return O},getJSON:function(e,t,n){return k.get(e,t,n,"json")},getScript:function(e,t){return k.get(e,void 0,t,"script")}}),k.each(["get","post"],(function(e,t){k[t]=function(e,n,r,i){return m(n)&&(i=i||r,r=n,n=void 0),k.ajax(k.extend({url:e,type:t,dataType:i,data:n,success:r},k.isPlainObject(e)&&e))}})),k.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),k._evalUrl=function(e,t,n){return k.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){k.globalEval(e,t,n)}})},k.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=k(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return m(e)?this.each((function(t){k(this).wrapInner(e.call(this,t))})):this.each((function(){var t=k(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=m(e);return this.each((function(n){k(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){k(this).replaceWith(this.childNodes)})),this}}),k.expr.pseudos.hidden=function(e){return!k.expr.pseudos.visible(e)},k.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new r.XMLHttpRequest}catch(e){}};var Gt={0:200,1223:204},Vt=k.ajaxSettings.xhr();g.cors=!!Vt&&"withCredentials"in Vt,g.ajax=Vt=!!Vt,k.ajaxTransport((function(e){var t,n;if(g.cors||Vt&&!e.crossDomain)return{send:function(i,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)a.setRequestHeader(s,i[s]);t=function(e){return function(){t&&(t=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!==typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Gt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!==typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),n=a.onerror=a.ontimeout=t("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&r.setTimeout((function(){t&&n()}))},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(l){if(t)throw l}},abort:function(){t&&t()}}})),k.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return k.globalEval(e),e}}}),k.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),k.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,i){t=k("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),y.head.appendChild(t[0])},abort:function(){n&&n()}}}));var jt=[],Zt=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=jt.pop()||k.expando+"_"+bt.guid++;return this[e]=!0,e}}),k.ajaxPrefilter("json jsonp",(function(e,t,n){var i,o,s,a=!1!==e.jsonp&&(Zt.test(e.url)?"url":"string"===typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Zt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Zt,"$1"+i):!1!==e.jsonp&&(e.url+=(Ot.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return s||k.error(i+" was not called"),s[0]},e.dataTypes[0]="json",o=r[i],r[i]=function(){s=arguments},n.always((function(){void 0===o?k(r).removeProp(i):r[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,jt.push(i)),s&&m(o)&&o(s[0]),s=o=void 0})),"script"})),g.createHTMLDocument=function(){var e=y.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),k.parseHTML=function(e,t,n){return"string"!==typeof e?[]:("boolean"===typeof t&&(n=t,t=!1),t||(g.createHTMLDocument?((r=(t=y.implementation.createHTMLDocument("")).createElement("base")).href=y.location.href,t.head.appendChild(r)):t=y),o=!n&&[],(i=x.exec(e))?[t.createElement(i[1])]:(i=Ee([e],t,o),o&&o.length&&k(o).remove(),k.merge([],i.childNodes)));var r,i,o},k.fn.load=function(e,t,n){var r,i,o,s=this,a=e.indexOf(" ");return a>-1&&(r=_t(e.slice(a)),e=e.slice(0,a)),m(t)?(n=t,t=void 0):t&&"object"===typeof t&&(i="POST"),s.length>0&&k.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done((function(e){o=arguments,s.html(r?k("<div>").append(k.parseHTML(e)).find(r):e)})).always(n&&function(e,t){s.each((function(){n.apply(this,o||[e.responseText,t,e])}))}),this},k.expr.pseudos.animated=function(e){return k.grep(k.timers,(function(t){return e===t.elem})).length},k.offset={setOffset:function(e,t,n){var r,i,o,s,a,l,c=k.css(e,"position"),u=k(e),h={};"static"===c&&(e.style.position="relative"),a=u.offset(),o=k.css(e,"top"),l=k.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(s=(r=u.position()).top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(l)||0),m(t)&&(t=t.call(e,n,k.extend({},a))),null!=t.top&&(h.top=t.top-a.top+s),null!=t.left&&(h.left=t.left-a.left+i),"using"in t?t.using.call(e,h):u.css(h)}},k.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){k.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===k.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===k.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=k(e).offset()).top+=k.css(e,"borderTopWidth",!0),i.left+=k.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-k.css(r,"marginTop",!0),left:t.left-i.left-k.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===k.css(e,"position");)e=e.offsetParent;return e||se}))}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;k.fn[e]=function(r){return Z(this,(function(e,r,i){var o;if(v(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i}),e,r,arguments.length)}})),k.each(["top","left"],(function(e,t){k.cssHooks[t]=Ve(g.pixelPosition,(function(e,n){if(n)return n=Ge(e,t),Ue.test(n)?k(e).position()[t]+"px":n}))})),k.each({Height:"height",Width:"width"},(function(e,t){k.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){k.fn[r]=function(i,o){var s=arguments.length&&(n||"boolean"!==typeof i),a=n||(!0===i||!0===o?"margin":"border");return Z(this,(function(t,n,i){var o;return v(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?k.css(t,n,a):k.style(t,n,i,a)}),t,s?i:void 0,s)}}))})),k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){k.fn[t]=function(e){return this.on(t,e)}})),k.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){k.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var qt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;k.proxy=function(e,t){var n,r,i;if("string"===typeof t&&(n=e[t],t=e,e=n),m(e))return r=a.call(arguments,2),i=function(){return e.apply(t||this,r.concat(a.call(arguments)))},i.guid=e.guid=e.guid||k.guid++,i},k.holdReady=function(e){e?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=A,k.isFunction=m,k.isWindow=v,k.camelCase=Y,k.type=b,k.now=Date.now,k.isNumeric=function(e){var t=k.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},k.trim=function(e){return null==e?"":(e+"").replace(qt,"")},void 0===(n=function(){return k}.apply(t,[]))||(e.exports=n);var Xt=r.jQuery,$t=r.$;return k.noConflict=function(e){return r.$===k&&(r.$=$t),e&&r.jQuery===k&&(r.jQuery=Xt),k},"undefined"===typeof i&&(r.jQuery=r.$=k),k}))},658:function(e,t,n){e.exports=function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};t[s][0].call(c.exports,(function(e){return i(t[s][1][e]||e)}),c,c.exports,e,t,n,r)}return n[s].exports}for(var o=void 0,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,i,s,a,l,c,u=[],h=0,p=e.length,d=p,f="string"!==r.getTypeOf(e);h<e.length;)d=p-h,i=f?(t=e[h++],n=h<p?e[h++]:0,h<p?e[h++]:0):(t=e.charCodeAt(h++),n=h<p?e.charCodeAt(h++):0,h<p?e.charCodeAt(h++):0),s=t>>2,a=(3&t)<<4|n>>4,l=1<d?(15&n)<<2|i>>6:64,c=2<d?63&i:64,u.push(o.charAt(s)+o.charAt(a)+o.charAt(l)+o.charAt(c));return u.join("")},n.decode=function(e){var t,n,r,s,a,l,c=0,u=0,h="data:";if(e.substr(0,h.length)===h)throw new Error("Invalid base64 input, it looks like a data url.");var p,d=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===o.charAt(64)&&d--,e.charAt(e.length-2)===o.charAt(64)&&d--,d%1!=0)throw new Error("Invalid base64 input, bad content length.");for(p=i.uint8array?new Uint8Array(0|d):new Array(0|d);c<e.length;)t=o.indexOf(e.charAt(c++))<<2|(s=o.indexOf(e.charAt(c++)))>>4,n=(15&s)<<4|(a=o.indexOf(e.charAt(c++)))>>2,r=(3&a)<<6|(l=o.indexOf(e.charAt(c++))),p[u++]=t,64!==a&&(p[u++]=n),64!==l&&(p[u++]=r);return p}},{"./support":30,"./utils":32}],2:[function(e,t,n){"use strict";var r=e("./external"),i=e("./stream/DataWorker"),o=e("./stream/Crc32Probe"),s=e("./stream/DataLengthProbe");function a(e,t,n,r,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=i}a.prototype={getContentWorker:function(){var e=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},a.createWorkerFrom=function(e,t,n){return e.pipe(new o).pipe(new s("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new s("compressedSize")).withStreamInfo("compression",t)},t.exports=a},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var r=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(e){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){"use strict";var r=e("./utils"),i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==r.getTypeOf(e)?function(e,t,n,r){var o=i,s=r+n;e^=-1;for(var a=r;a<s;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}(0|t,e,e.length,0):function(e,t,n,r){var o=i,s=r+n;e^=-1;for(var a=r;a<s;a++)e=e>>>8^o[255&(e^t.charCodeAt(a))];return-1^e}(0|t,e,e.length,0):0}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){"use strict";var r=null;r="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:r}},{lie:37}],7:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=e("pako"),o=e("./utils"),s=e("./stream/GenericWorker"),a=r?"uint8array":"array";function l(e,t){s.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",o.inherits(l,s),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(a,e.data),!1)},l.prototype.flush=function(){s.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new l("Deflate",e)},n.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){"use strict";function r(e,t){var n,r="";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r}function i(e,t,n,i,s,u){var h,p,d=e.file,f=e.compression,_=u!==a.utf8encode,g=o.transformTo("string",u(d.name)),m=o.transformTo("string",a.utf8encode(d.name)),v=d.comment,y=o.transformTo("string",u(v)),T=o.transformTo("string",a.utf8encode(v)),E=m.length!==d.name.length,b=T.length!==v.length,O="",k="",w="",S=d.dir,I=d.date,R={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(R.crc32=e.crc32,R.compressedSize=e.compressedSize,R.uncompressedSize=e.uncompressedSize);var C=0;t&&(C|=8),_||!E&&!b||(C|=2048);var A=0,x=0;S&&(A|=16),"UNIX"===s?(x=798,A|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(d.unixPermissions,S)):(x=20,A|=function(e){return 63&(e||0)}(d.dosPermissions)),h=I.getUTCHours(),h<<=6,h|=I.getUTCMinutes(),h<<=5,h|=I.getUTCSeconds()/2,p=I.getUTCFullYear()-1980,p<<=4,p|=I.getUTCMonth()+1,p<<=5,p|=I.getUTCDate(),E&&(k=r(1,1)+r(l(g),4)+m,O+="up"+r(k.length,2)+k),b&&(w=r(1,1)+r(l(y),4)+T,O+="uc"+r(w.length,2)+w);var M="";return M+="\n\0",M+=r(C,2),M+=f.magic,M+=r(h,2),M+=r(p,2),M+=r(R.crc32,4),M+=r(R.compressedSize,4),M+=r(R.uncompressedSize,4),M+=r(g.length,2),M+=r(O.length,2),{fileRecord:c.LOCAL_FILE_HEADER+M+g+O,dirRecord:c.CENTRAL_FILE_HEADER+r(x,2)+M+r(y.length,2)+"\0\0\0\0"+r(A,4)+r(i,4)+g+O+y}}var o=e("../utils"),s=e("../stream/GenericWorker"),a=e("../utf8"),l=e("../crc32"),c=e("../signature");function u(e,t,n,r){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(u,s),u.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,s.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},u.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=i(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=i(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:function(e){return c.DATA_DESCRIPTOR+r(e.crc32,4)+r(e.compressedSize,4)+r(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,i=function(e,t,n,i,s){var a=o.transformTo("string",s(i));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(e,2)+r(e,2)+r(t,4)+r(n,4)+r(a.length,2)+a}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},u.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(e){var t=this._sources;if(!s.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},u.prototype.lock=function(){s.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=u},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var r=e("../compressions"),i=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var o=new i(t.streamFiles,n,t.platform,t.encodeFileName),s=0;try{e.forEach((function(e,n){s++;var i=function(e,t){var n=e||t,i=r[n];if(!i)throw new Error(n+" is not a valid compression method !");return i}(n.options.compression,t.compression),a=n.options.compressionOptions||t.compressionOptions||{},l=n.dir,c=n.date;n._compressWorker(i,a).withStreamInfo("file",{name:e,dir:l,date:c,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(o)})),o.entriesCount=s}catch(e){o.error(e)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new r;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(r.prototype=e("./object")).loadAsync=e("./load"),r.support=e("./support"),r.defaults=e("./defaults"),r.version="3.7.1",r.loadAsync=function(e,t){return(new r).loadAsync(e,t)},r.external=e("./external"),t.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./external"),o=e("./utf8"),s=e("./zipEntries"),a=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function c(e){return new i.Promise((function(t,n){var r=e.decompressed.getContentWorker().pipe(new a);r.on("error",(function(e){n(e)})).on("end",(function(){r.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var n=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(e)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new s(t);return n.load(e),n})).then((function(e){var n=[i.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var o=0;o<r.length;o++)n.push(c(r[o]));return i.Promise.all(n)})).then((function(e){for(var r=e.shift(),i=r.files,o=0;o<i.length;o++){var s=i[o];n.file(s.fileNameStr,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:t.createFolders})}return r.zipComment.length&&(n.comment=r.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../stream/GenericWorker");function o(e,t){i.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(o,i),o.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},o.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){"use strict";var r=e("readable-stream").Readable;function i(e,t,n){r.call(this,t),this._helper=e;var i=this;e.on("data",(function(e,t){i.push(e)||i._helper.pause(),n&&n(t)})).on("error",(function(e){i.emit("error",e)})).on("end",(function(){i.push(null)}))}e("../utils").inherits(i,r),i.prototype._read=function(){this._helper.resume()},t.exports=i},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){"use strict";function r(e,t,n){var r,i=o.getTypeOf(t),a=o.extend(n||{},l);a.date=a.date||new Date,null!==a.compression&&(a.compression=a.compression.toUpperCase()),"string"==typeof a.unixPermissions&&(a.unixPermissions=parseInt(a.unixPermissions,8)),a.unixPermissions&&16384&a.unixPermissions&&(a.dir=!0),a.dosPermissions&&16&a.dosPermissions&&(a.dir=!0),a.dir&&(e=_(e)),a.createFolders&&(r=f(e))&&g.call(this,r,!0);var h="string"===i&&!1===a.binary&&!1===a.base64;n&&void 0!==n.binary||(a.binary=!h),(t instanceof c&&0===t.uncompressedSize||a.dir||!t||0===t.length)&&(a.base64=!1,a.binary=!0,t="",a.compression="STORE",i="string");var m=null;m=t instanceof c||t instanceof s?t:p.isNode&&p.isStream(t)?new d(e,t):o.prepareContent(e,t,a.binary,a.optimizedBinaryString,a.base64);var v=new u(e,m,a);this.files[e]=v}var i=e("./utf8"),o=e("./utils"),s=e("./stream/GenericWorker"),a=e("./stream/StreamHelper"),l=e("./defaults"),c=e("./compressedObject"),u=e("./zipObject"),h=e("./generate"),p=e("./nodejsUtils"),d=e("./nodejs/NodejsStreamInputAdapter"),f=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},_=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},g=function(e,t){return t=void 0!==t?t:l.createFolders,e=_(e),this.files[e]||r.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function m(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,r;for(t in this.files)r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r)},filter:function(e){var t=[];return this.forEach((function(n,r){e(n,r)&&t.push(r)})),t},file:function(e,t,n){if(1!==arguments.length)return e=this.root+e,r.call(this,e,t,n),this;if(m(e)){var i=e;return this.filter((function(e,t){return!t.dir&&i.test(e)}))}var o=this.files[this.root+e];return o&&!o.dir?o:null},folder:function(e){if(!e)return this;if(m(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,n=g.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=o.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");o.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";t=h.generateWorker(this,n,r)}catch(e){(t=new s("error")).error(e)}return new a(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=v},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){"use strict";var r=e("./DataReader");function i(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),o=this.length-4;0<=o;--o)if(this.data[o]===t&&this.data[o+1]===n&&this.data[o+2]===r&&this.data[o+3]===i)return o-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&n===o[1]&&r===o[2]&&i===o[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){"use strict";var r=e("../utils");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{"../utils":32}],19:[function(e,t,n){"use strict";var r=e("./Uint8ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){"use strict";var r=e("./DataReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){"use strict";var r=e("./ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../support"),o=e("./ArrayReader"),s=e("./StringReader"),a=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),"string"!==t||i.uint8array?"nodebuffer"===t?new a(e):i.uint8array?new l(r.transformTo("uint8array",e)):new o(r.transformTo("array",e)):new s(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK\x03\x04",n.CENTRAL_FILE_HEADER="PK\x01\x02",n.CENTRAL_DIRECTORY_END="PK\x05\x06",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,n){"use strict";var r=e("./GenericWorker"),i=e("../utils");function o(e){r.call(this,"ConvertWorker to "+e),this.destType=e}i.inherits(o,r),o.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){"use strict";var r=e("./GenericWorker"),i=e("../crc32");function o(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(o,r),o.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./GenericWorker");function o(e){i.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(o,i),o.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./GenericWorker");function o(e){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}r.inherits(o,i),o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){"use strict";function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=r},{}],29:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./ConvertWorker"),o=e("./GenericWorker"),s=e("../base64"),a=e("../support"),l=e("../external"),c=null;if(a.nodestream)try{c=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function u(e,t){return new l.Promise((function(n,i){var o=[],a=e._internalType,l=e._outputType,c=e._mimeType;e.on("data",(function(e,n){o.push(e),t&&t(n)})).on("error",(function(e){o=[],i(e)})).on("end",(function(){try{var e=function(e,t,n){switch(e){case"blob":return r.newBlob(r.transformTo("arraybuffer",t),n);case"base64":return s.encode(t);default:return r.transformTo(e,t)}}(l,function(e,t){var n,r=0,i=null,o=0;for(n=0;n<t.length;n++)o+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(i=new Uint8Array(o),n=0;n<t.length;n++)i.set(t[n],r),r+=t[n].length;return i;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(a,o),c);n(e)}catch(e){i(e)}o=[]})).resume()}))}function h(e,t,n){var s=t;switch(t){case"blob":case"arraybuffer":s="uint8array";break;case"base64":s="string"}try{this._internalType=s,this._outputType=t,this._mimeType=n,r.checkSupport(s),this._worker=e.pipe(new i(s)),e.lock()}catch(e){this._worker=new o("error"),this._worker.error(e)}}h.prototype={accumulate:function(e){return u(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,(function(e){t.call(n,e.data,e.meta)})):this._worker.on(e,(function(){r.delay(t,arguments,n)})),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=0===new Blob([r],{type:"application/zip"}).size}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(r),n.blob=0===i.getBlob("application/zip").size}catch(e){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(e){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";for(var r=e("./utils"),i=e("./support"),o=e("./nodejsUtils"),s=e("./stream/GenericWorker"),a=new Array(256),l=0;l<256;l++)a[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function c(){s.call(this,"utf-8 decode"),this.leftOver=null}function u(){s.call(this,"utf-8 encode")}a[254]=a[254]=1,n.utf8encode=function(e){return i.nodebuffer?o.newBufferFrom(e,"utf-8"):function(e){var t,n,r,o,s,a=e.length,l=0;for(o=0;o<a;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=i.uint8array?new Uint8Array(l):new Array(l),o=s=0;s<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?t[s++]=n:(n<2048?t[s++]=192|n>>>6:(n<65536?t[s++]=224|n>>>12:(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63),t[s++]=128|n>>>6&63),t[s++]=128|63&n);return t}(e)},n.utf8decode=function(e){return i.nodebuffer?r.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,i,o,s=e.length,l=new Array(2*s);for(t=n=0;t<s;)if((i=e[t++])<128)l[n++]=i;else if(4<(o=a[i]))l[n++]=65533,t+=o-1;else{for(i&=2===o?31:3===o?15:7;1<o&&t<s;)i=i<<6|63&e[t++],o--;1<o?l[n++]=65533:i<65536?l[n++]=i:(i-=65536,l[n++]=55296|i>>10&1023,l[n++]=56320|1023&i)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),r.applyFromCharCode(l)}(e=r.transformTo(i.uint8array?"uint8array":"array",e))},r.inherits(c,s),c.prototype.processChunk=function(e){var t=r.transformTo(i.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var o=t;(t=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),t.set(o,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var s=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}(t),l=t;s!==t.length&&(i.uint8array?(l=t.subarray(0,s),this.leftOver=t.subarray(s,t.length)):(l=t.slice(0,s),this.leftOver=t.slice(s,t.length))),this.push({data:n.utf8decode(l),meta:e.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=c,r.inherits(u,s),u.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){"use strict";var r=e("./support"),i=e("./base64"),o=e("./nodejsUtils"),s=e("set-immediate-shim"),a=e("./external");function l(e){return e}function c(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}n.newBlob=function(t,r){n.checkSupport("blob");try{return new Blob([t],{type:r})}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(t),i.getBlob(r)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(e,t,n){var r=[],i=0,o=e.length;if(o<=n)return String.fromCharCode.apply(null,e);for(;i<o;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+n,o)))):r.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+n,o)))),i+=n;return r.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(e){return!1}}()}};function h(e){var t=65536,r=n.getTypeOf(e),i=!0;if("uint8array"===r?i=u.applyCanBeUsed.uint8array:"nodebuffer"===r&&(i=u.applyCanBeUsed.nodebuffer),i)for(;1<t;)try{return u.stringifyByChunk(e,r,t)}catch(e){t=Math.floor(t/2)}return u.stringifyByChar(e)}function p(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=h;var d={};d.string={string:l,array:function(e){return c(e,new Array(e.length))},arraybuffer:function(e){return d.string.uint8array(e).buffer},uint8array:function(e){return c(e,new Uint8Array(e.length))},nodebuffer:function(e){return c(e,o.allocBuffer(e.length))}},d.array={string:h,array:l,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(e)}},d.arraybuffer={string:function(e){return h(new Uint8Array(e))},array:function(e){return p(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:l,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(new Uint8Array(e))}},d.uint8array={string:h,array:function(e){return p(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:l,nodebuffer:function(e){return o.newBufferFrom(e)}},d.nodebuffer={string:h,array:function(e){return p(e,new Array(e.length))},arraybuffer:function(e){return d.nodebuffer.uint8array(e).buffer},uint8array:function(e){return p(e,new Uint8Array(e.length))},nodebuffer:l},n.transformTo=function(e,t){if(t=t||"",!e)return t;n.checkSupport(e);var r=n.getTypeOf(t);return d[r][e](t)},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&o.isBuffer(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!r[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)r+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return r},n.delay=function(e,t,n){s((function(){e.apply(n||null,t||[])}))},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,o,s,l){return a.Promise.resolve(t).then((function(e){return r.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new a.Promise((function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)})):e})).then((function(t){var u=n.getTypeOf(t);return u?("arraybuffer"===u?t=n.transformTo("uint8array",t):"string"===u&&(l?t=i.decode(t):o&&!0!==s&&(t=function(e){return c(e,r.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):a.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),i=e("./utils"),o=e("./signature"),s=e("./zipEntry"),a=(e("./utf8"),e("./support"));function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(t)+", expected "+i.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=a.uint8array?"uint8array":"array",n=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(e=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(0<r)this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),i=e("./utils"),o=e("./compressedObject"),s=e("./crc32"),a=e("./utf8"),l=e("./compressions"),c=e("./support");function u(e,t){this.options=e,this.loadOptions=t}u.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(l.hasOwnProperty(t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,r,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<i;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r};e.setIndex(i)},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var o=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)||s(this.fileName)!==t.readInt(4)?null:a.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)||s(this.fileComment)!==t.readInt(4)?null:a.utf8decode(t.readData(e.length-5))}return null}},t.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){"use strict";function r(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var i=e("./stream/StreamHelper"),o=e("./stream/DataWorker"),s=e("./utf8"),a=e("./compressedObject"),l=e("./stream/GenericWorker");r.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var o=!this._dataBinary;o&&!r&&(t=t.pipe(new s.Utf8EncodeWorker)),!o&&r&&(t=t.pipe(new s.Utf8DecodeWorker))}catch(e){(t=new l("error")).error(e)}return new i(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof a&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new s.Utf8EncodeWorker)),a.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof l?this._data:new o(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<c.length;h++)r.prototype[c[h]]=u;t.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,r){(function(e){"use strict";var n,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var o=0,s=new i(u),a=e.document.createTextNode("");s.observe(a,{characterData:!0}),n=function(){a.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var l=new e.MessageChannel;l.port1.onmessage=u,n=function(){l.port2.postMessage(0)}}var c=[];function u(){var e,t;r=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}r=!1}t.exports=function(e){1!==c.push(e)||r||n()}}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){"use strict";var r=e("immediate");function i(){}var o={},s=["REJECTED"],a=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==i&&d(this,e)}function u(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(e,t,n){r((function(){var r;try{r=t(n)}catch(r){return o.reject(e,r)}r===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,r)}))}function p(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function d(e,t){var n=!1;function r(t){n||(n=!0,o.reject(e,t))}function i(t){n||(n=!0,o.resolve(e,t))}var s=f((function(){t(i,r)}));"error"===s.status&&r(s.value)}function f(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}(t.exports=c).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===s)return this;var n=new this.constructor(i);return this.state!==l?h(n,this.state===a?e:t,this.outcome):this.queue.push(new u(n,e,t)),n},u.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){o.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=f(p,t);if("error"===n.status)return o.reject(e,n.value);var r=n.value;if(r)d(e,r);else{e.state=a,e.outcome=t;for(var i=-1,s=e.queue.length;++i<s;)e.queue[i].callFulfilled(t)}return e},o.reject=function(e,t){e.state=s,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:o.resolve(new this(i),e)},c.reject=function(e){var t=new this(i);return o.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var s=new Array(n),a=0,l=-1,c=new this(i);++l<n;)u(e[l],l);return c;function u(e,i){t.resolve(e).then((function(e){s[i]=e,++a!==n||r||(r=!0,o.resolve(c,s))}),(function(e){r||(r=!0,o.reject(c,e))}))}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var s,a=-1,l=new this(i);++a<n;)s=e[a],t.resolve(s).then((function(e){r||(r=!0,o.resolve(l,e))}),(function(e){r||(r=!0,o.reject(l,e))}));return l}},{immediate:36}],38:[function(e,t,n){"use strict";var r={};(0,e("./lib/utils/common").assign)(r,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){"use strict";var r=e("./zlib/deflate"),i=e("./utils/common"),o=e("./utils/strings"),s=e("./zlib/messages"),a=e("./zlib/zstream"),l=Object.prototype.toString,c=0,u=-1,h=0,p=8;function d(e){if(!(this instanceof d))return new d(e);this.options=i.assign({level:u,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==c)throw new Error(s[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var f;if(f="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=r.deflateSetDictionary(this.strm,f))!==c)throw new Error(s[n]);this._dict_set=!0}}function f(e,t){var n=new d(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}d.prototype.push=function(e,t){var n,s,a=this.strm,u=this.options.chunkSize;if(this.ended)return!1;s=t===~~t?t:!0===t?4:0,"string"==typeof e?a.input=o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new i.Buf8(u),a.next_out=0,a.avail_out=u),1!==(n=r.deflate(a,s))&&n!==c)return this.onEnd(n),!(this.ended=!0);0!==a.avail_out&&(0!==a.avail_in||4!==s&&2!==s)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(a.output,a.next_out))):this.onData(i.shrinkBuf(a.output,a.next_out)))}while((0<a.avail_in||0===a.avail_out)&&1!==n);return 4===s?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c):2!==s||(this.onEnd(c),!(a.avail_out=0))},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=d,n.deflate=f,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,f(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){"use strict";var r=e("./zlib/inflate"),i=e("./utils/common"),o=e("./utils/strings"),s=e("./zlib/constants"),a=e("./zlib/messages"),l=e("./zlib/zstream"),c=e("./zlib/gzheader"),u=Object.prototype.toString;function h(e){if(!(this instanceof h))return new h(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==s.Z_OK)throw new Error(a[n]);this.header=new c,r.inflateGetHeader(this.strm,this.header)}function p(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}h.prototype.push=function(e,t){var n,a,l,c,h,p,d=this.strm,f=this.options.chunkSize,_=this.options.dictionary,g=!1;if(this.ended)return!1;a=t===~~t?t:!0===t?s.Z_FINISH:s.Z_NO_FLUSH,"string"==typeof e?d.input=o.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?d.input=new Uint8Array(e):d.input=e,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new i.Buf8(f),d.next_out=0,d.avail_out=f),(n=r.inflate(d,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&_&&(p="string"==typeof _?o.string2buf(_):"[object ArrayBuffer]"===u.call(_)?new Uint8Array(_):_,n=r.inflateSetDictionary(this.strm,p)),n===s.Z_BUF_ERROR&&!0===g&&(n=s.Z_OK,g=!1),n!==s.Z_STREAM_END&&n!==s.Z_OK)return this.onEnd(n),!(this.ended=!0);d.next_out&&(0!==d.avail_out&&n!==s.Z_STREAM_END&&(0!==d.avail_in||a!==s.Z_FINISH&&a!==s.Z_SYNC_FLUSH)||("string"===this.options.to?(l=o.utf8border(d.output,d.next_out),c=d.next_out-l,h=o.buf2string(d.output,l),d.next_out=c,d.avail_out=f-c,c&&i.arraySet(d.output,d.output,l,c,0),this.onData(h)):this.onData(i.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(g=!0)}while((0<d.avail_in||0===d.avail_out)&&n!==s.Z_STREAM_END);return n===s.Z_STREAM_END&&(a=s.Z_FINISH),a===s.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===s.Z_OK):a!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),!(d.avail_out=0))},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===s.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=h,n.inflate=p,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},n.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,s;for(t=r=0,n=e.length;t<n;t++)r+=e[t].length;for(s=new Uint8Array(r),t=i=0,n=e.length;t<n;t++)o=e[t],s.set(o,i),i+=o.length;return s}},o={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(r)},{}],42:[function(e,t,n){"use strict";var r=e("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var s=new r.Buf8(256),a=0;a<256;a++)s[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;function l(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",s=0;s<t;s++)n+=String.fromCharCode(e[s]);return n}s[254]=s[254]=1,n.string2buf=function(e){var t,n,i,o,s,a=e.length,l=0;for(o=0;o<a;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),o=s=0;s<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[s++]=n:(n<2048?t[s++]=192|n>>>6:(n<65536?t[s++]=224|n>>>12:(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63),t[s++]=128|n>>>6&63),t[s++]=128|63&n);return t},n.buf2binstring=function(e){return l(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,i,o,a=t||e.length,c=new Array(2*a);for(n=r=0;n<a;)if((i=e[n++])<128)c[r++]=i;else if(4<(o=s[i]))c[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;1<o&&n<a;)i=i<<6|63&e[n++],o--;1<o?c[r++]=65533:i<65536?c[r++]=i:(i-=65536,c[r++]=55296|i>>10&1023,c[r++]=56320|1023&i)}return l(c,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+s[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,s=0;0!==n;){for(n-=s=2e3<n?2e3:n;o=o+(i=i+t[r++]|0)|0,--s;);i%=65521,o%=65521}return i|o<<16|0}},{}],44:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,i){var o=r,s=i+n;e^=-1;for(var a=i;a<s;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}},{}],46:[function(e,t,n){"use strict";var r,i=e("../utils/common"),o=e("./trees"),s=e("./adler32"),a=e("./crc32"),l=e("./messages"),c=0,u=4,h=0,p=-2,d=-1,f=4,_=2,g=8,m=9,v=286,y=30,T=19,E=2*v+1,b=15,O=3,k=258,w=k+O+1,S=42,I=113,R=1,C=2,A=3,x=4;function M(e,t){return e.msg=l[t],t}function N(e){return(e<<1)-(4<e?9:0)}function L(e){for(var t=e.length;0<=--t;)e[t]=0}function D(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function P(e,t){o._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,D(e.strm)}function B(e,t){e.pending_buf[e.pending++]=t}function U(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function F(e,t){var n,r,i=e.max_chain_length,o=e.strstart,s=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-w?e.strstart-(e.w_size-w):0,c=e.window,u=e.w_mask,h=e.prev,p=e.strstart+k,d=c[o+s-1],f=c[o+s];e.prev_length>=e.good_match&&(i>>=2),a>e.lookahead&&(a=e.lookahead);do{if(c[(n=t)+s]===f&&c[n+s-1]===d&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<p);if(r=k-(p-o),o=p-k,s<r){if(e.match_start=t,a<=(s=r))break;d=c[o+s-1],f=c[o+s]}}}while((t=h[t&u])>l&&0!=--i);return s<=e.lookahead?s:e.lookahead}function W(e){var t,n,r,o,l,c,u,h,p,d,f=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=f+(f-w)){for(i.arraySet(e.window,e.window,f,f,0),e.match_start-=f,e.strstart-=f,e.block_start-=f,t=n=e.hash_size;r=e.head[--t],e.head[t]=f<=r?r-f:0,--n;);for(t=n=f;r=e.prev[--t],e.prev[t]=f<=r?r-f:0,--n;);o+=f}if(0===e.strm.avail_in)break;if(c=e.strm,u=e.window,h=e.strstart+e.lookahead,d=void 0,(p=o)<(d=c.avail_in)&&(d=p),n=0===d?0:(c.avail_in-=d,i.arraySet(u,c.input,c.next_in,d,h),1===c.state.wrap?c.adler=s(c.adler,u,d,h):2===c.state.wrap&&(c.adler=a(c.adler,u,d,h)),c.next_in+=d,c.total_in+=d,d),e.lookahead+=n,e.lookahead+e.insert>=O)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+O-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<O)););}while(e.lookahead<w&&0!==e.strm.avail_in)}function H(e,t){for(var n,r;;){if(e.lookahead<w){if(W(e),e.lookahead<w&&t===c)return R;if(0===e.lookahead)break}if(n=0,e.lookahead>=O&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+O-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-w&&(e.match_length=F(e,n)),e.match_length>=O)if(r=o._tr_tally(e,e.strstart-e.match_start,e.match_length-O),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=O){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+O-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(P(e,!1),0===e.strm.avail_out))return R}return e.insert=e.strstart<O-1?e.strstart:O-1,t===u?(P(e,!0),0===e.strm.avail_out?A:x):e.last_lit&&(P(e,!1),0===e.strm.avail_out)?R:C}function G(e,t){for(var n,r,i;;){if(e.lookahead<w){if(W(e),e.lookahead<w&&t===c)return R;if(0===e.lookahead)break}if(n=0,e.lookahead>=O&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+O-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=O-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-w&&(e.match_length=F(e,n),e.match_length<=5&&(1===e.strategy||e.match_length===O&&4096<e.strstart-e.match_start)&&(e.match_length=O-1)),e.prev_length>=O&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-O,r=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-O),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+O-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=O-1,e.strstart++,r&&(P(e,!1),0===e.strm.avail_out))return R}else if(e.match_available){if((r=o._tr_tally(e,0,e.window[e.strstart-1]))&&P(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return R}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<O-1?e.strstart:O-1,t===u?(P(e,!0),0===e.strm.avail_out?A:x):e.last_lit&&(P(e,!1),0===e.strm.avail_out)?R:C}function V(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function j(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*E),this.dyn_dtree=new i.Buf16(2*(2*y+1)),this.bl_tree=new i.Buf16(2*(2*T+1)),L(this.dyn_ltree),L(this.dyn_dtree),L(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(b+1),this.heap=new i.Buf16(2*v+1),L(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*v+1),L(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Z(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=_,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?S:I,e.adler=2===t.wrap?0:1,t.last_flush=c,o._tr_init(t),h):M(e,p)}function q(e){var t=Z(e);return t===h&&function(e){e.window_size=2*e.w_size,L(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=O-1,e.match_available=0,e.ins_h=0}(e.state),t}function X(e,t,n,r,o,s){if(!e)return p;var a=1;if(t===d&&(t=6),r<0?(a=0,r=-r):15<r&&(a=2,r-=16),o<1||m<o||n!==g||r<8||15<r||t<0||9<t||s<0||f<s)return M(e,p);8===r&&(r=9);var l=new j;return(e.state=l).strm=e,l.wrap=a,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+O-1)/O),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=s,l.method=n,q(e)}r=[new V(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(W(e),0===e.lookahead&&t===c)return R;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,P(e,!1),0===e.strm.avail_out))return R;if(e.strstart-e.block_start>=e.w_size-w&&(P(e,!1),0===e.strm.avail_out))return R}return e.insert=0,t===u?(P(e,!0),0===e.strm.avail_out?A:x):(e.strstart>e.block_start&&(P(e,!1),e.strm.avail_out),R)})),new V(4,4,8,4,H),new V(4,5,16,8,H),new V(4,6,32,32,H),new V(4,4,16,16,G),new V(8,16,32,32,G),new V(8,16,128,128,G),new V(8,32,128,256,G),new V(32,128,258,1024,G),new V(32,258,258,4096,G)],n.deflateInit=function(e,t){return X(e,t,g,15,8,0)},n.deflateInit2=X,n.deflateReset=q,n.deflateResetKeep=Z,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?p:(e.state.gzhead=t,h):p},n.deflate=function(e,t){var n,i,s,l;if(!e||!e.state||5<t||t<0)return e?M(e,p):p;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&t!==u)return M(e,0===e.avail_out?-5:p);if(i.strm=e,n=i.last_flush,i.last_flush=t,i.status===S)if(2===i.wrap)e.adler=0,B(i,31),B(i,139),B(i,8),i.gzhead?(B(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),B(i,255&i.gzhead.time),B(i,i.gzhead.time>>8&255),B(i,i.gzhead.time>>16&255),B(i,i.gzhead.time>>24&255),B(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),B(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(B(i,255&i.gzhead.extra.length),B(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=a(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(B(i,0),B(i,0),B(i,0),B(i,0),B(i,0),B(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),B(i,3),i.status=I);else{var d=g+(i.w_bits-8<<4)<<8;d|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(d|=32),d+=31-d%31,i.status=I,U(i,d),0!==i.strstart&&(U(i,e.adler>>>16),U(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(s=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),D(e),s=i.pending,i.pending!==i.pending_buf_size));)B(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),D(e),s=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,B(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),D(e),s=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,B(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),0===l&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&D(e),i.pending+2<=i.pending_buf_size&&(B(i,255&e.adler),B(i,e.adler>>8&255),e.adler=0,i.status=I)):i.status=I),0!==i.pending){if(D(e),0===e.avail_out)return i.last_flush=-1,h}else if(0===e.avail_in&&N(t)<=N(n)&&t!==u)return M(e,-5);if(666===i.status&&0!==e.avail_in)return M(e,-5);if(0!==e.avail_in||0!==i.lookahead||t!==c&&666!==i.status){var f=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(W(e),0===e.lookahead)){if(t===c)return R;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(P(e,!1),0===e.strm.avail_out))return R}return e.insert=0,t===u?(P(e,!0),0===e.strm.avail_out?A:x):e.last_lit&&(P(e,!1),0===e.strm.avail_out)?R:C}(i,t):3===i.strategy?function(e,t){for(var n,r,i,s,a=e.window;;){if(e.lookahead<=k){if(W(e),e.lookahead<=k&&t===c)return R;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=O&&0<e.strstart&&(r=a[i=e.strstart-1])===a[++i]&&r===a[++i]&&r===a[++i]){s=e.strstart+k;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<s);e.match_length=k-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=O?(n=o._tr_tally(e,1,e.match_length-O),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(P(e,!1),0===e.strm.avail_out))return R}return e.insert=0,t===u?(P(e,!0),0===e.strm.avail_out?A:x):e.last_lit&&(P(e,!1),0===e.strm.avail_out)?R:C}(i,t):r[i.level].func(i,t);if(f!==A&&f!==x||(i.status=666),f===R||f===A)return 0===e.avail_out&&(i.last_flush=-1),h;if(f===C&&(1===t?o._tr_align(i):5!==t&&(o._tr_stored_block(i,0,0,!1),3===t&&(L(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),D(e),0===e.avail_out))return i.last_flush=-1,h}return t!==u?h:i.wrap<=0?1:(2===i.wrap?(B(i,255&e.adler),B(i,e.adler>>8&255),B(i,e.adler>>16&255),B(i,e.adler>>24&255),B(i,255&e.total_in),B(i,e.total_in>>8&255),B(i,e.total_in>>16&255),B(i,e.total_in>>24&255)):(U(i,e.adler>>>16),U(i,65535&e.adler)),D(e),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?h:1)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==S&&69!==t&&73!==t&&91!==t&&103!==t&&t!==I&&666!==t?M(e,p):(e.state=null,t===I?M(e,-3):h):p},n.deflateSetDictionary=function(e,t){var n,r,o,a,l,c,u,d,f=t.length;if(!e||!e.state)return p;if(2===(a=(n=e.state).wrap)||1===a&&n.status!==S||n.lookahead)return p;for(1===a&&(e.adler=s(e.adler,t,f,0)),n.wrap=0,f>=n.w_size&&(0===a&&(L(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new i.Buf8(n.w_size),i.arraySet(d,t,f-n.w_size,n.w_size,0),t=d,f=n.w_size),l=e.avail_in,c=e.next_in,u=e.input,e.avail_in=f,e.next_in=0,e.input=t,W(n);n.lookahead>=O;){for(r=n.strstart,o=n.lookahead-(O-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+O-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--o;);n.strstart=r,n.lookahead=O-1,W(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=O-1,n.match_available=0,e.next_in=c,e.input=u,e.avail_in=l,n.wrap=a,h},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){"use strict";t.exports=function(e,t){var n,r,i,o,s,a,l,c,u,h,p,d,f,_,g,m,v,y,T,E,b,O,k,w,S;n=e.state,r=e.next_in,w=e.input,i=r+(e.avail_in-5),o=e.next_out,S=e.output,s=o-(t-e.avail_out),a=o+(e.avail_out-257),l=n.dmax,c=n.wsize,u=n.whave,h=n.wnext,p=n.window,d=n.hold,f=n.bits,_=n.lencode,g=n.distcode,m=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;e:do{f<15&&(d+=w[r++]<<f,f+=8,d+=w[r++]<<f,f+=8),y=_[d&m];t:for(;;){if(d>>>=T=y>>>24,f-=T,0===(T=y>>>16&255))S[o++]=65535&y;else{if(!(16&T)){if(0==(64&T)){y=_[(65535&y)+(d&(1<<T)-1)];continue t}if(32&T){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}E=65535&y,(T&=15)&&(f<T&&(d+=w[r++]<<f,f+=8),E+=d&(1<<T)-1,d>>>=T,f-=T),f<15&&(d+=w[r++]<<f,f+=8,d+=w[r++]<<f,f+=8),y=g[d&v];n:for(;;){if(d>>>=T=y>>>24,f-=T,!(16&(T=y>>>16&255))){if(0==(64&T)){y=g[(65535&y)+(d&(1<<T)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(b=65535&y,f<(T&=15)&&(d+=w[r++]<<f,(f+=8)<T&&(d+=w[r++]<<f,f+=8)),l<(b+=d&(1<<T)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(d>>>=T,f-=T,(T=o-s)<b){if(u<(T=b-T)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(k=p,(O=0)===h){if(O+=c-T,T<E){for(E-=T;S[o++]=p[O++],--T;);O=o-b,k=S}}else if(h<T){if(O+=c+h-T,(T-=h)<E){for(E-=T;S[o++]=p[O++],--T;);if(O=0,h<E){for(E-=T=h;S[o++]=p[O++],--T;);O=o-b,k=S}}}else if(O+=h-T,T<E){for(E-=T;S[o++]=p[O++],--T;);O=o-b,k=S}for(;2<E;)S[o++]=k[O++],S[o++]=k[O++],S[o++]=k[O++],E-=3;E&&(S[o++]=k[O++],1<E&&(S[o++]=k[O++]))}else{for(O=o-b;S[o++]=S[O++],S[o++]=S[O++],S[o++]=S[O++],2<(E-=3););E&&(S[o++]=S[O++],1<E&&(S[o++]=S[O++]))}break}}break}}while(r<i&&o<a);r-=E=f>>3,d&=(1<<(f-=E<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<a?a-o+257:257-(o-a),n.hold=d,n.bits=f}},{}],49:[function(e,t,n){"use strict";var r=e("../utils/common"),i=e("./adler32"),o=e("./crc32"),s=e("./inffast"),a=e("./inftrees"),l=1,c=2,u=0,h=-2,p=1,d=852,f=592;function _(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function g(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function m(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=p,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(d),t.distcode=t.distdyn=new r.Buf32(f),t.sane=1,t.back=-1,u):h}function v(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,m(e)):h}function y(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?h:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,v(e))):h}function T(e,t){var n,r;return e?(r=new g,(e.state=r).window=null,(n=y(e,t))!==u&&(e.state=null),n):h}var E,b,O=!0;function k(e){if(O){var t;for(E=new r.Buf32(512),b=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(a(l,e.lens,0,288,E,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;a(c,e.lens,0,32,b,0,e.work,{bits:5}),O=!1}e.lencode=E,e.lenbits=9,e.distcode=b,e.distbits=5}function w(e,t,n,i){var o,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new r.Buf8(s.wsize)),i>=s.wsize?(r.arraySet(s.window,t,n-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(i<(o=s.wsize-s.wnext)&&(o=i),r.arraySet(s.window,t,n-i,o,s.wnext),(i-=o)?(r.arraySet(s.window,t,n-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0}n.inflateReset=v,n.inflateReset2=y,n.inflateResetKeep=m,n.inflateInit=function(e){return T(e,15)},n.inflateInit2=T,n.inflate=function(e,t){var n,d,f,g,m,v,y,T,E,b,O,S,I,R,C,A,x,M,N,L,D,P,B,U,F=0,W=new r.Buf8(4),H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return h;12===(n=e.state).mode&&(n.mode=13),m=e.next_out,f=e.output,y=e.avail_out,g=e.next_in,d=e.input,v=e.avail_in,T=n.hold,E=n.bits,b=v,O=y,P=u;e:for(;;)switch(n.mode){case p:if(0===n.wrap){n.mode=13;break}for(;E<16;){if(0===v)break e;v--,T+=d[g++]<<E,E+=8}if(2&n.wrap&&35615===T){W[n.check=0]=255&T,W[1]=T>>>8&255,n.check=o(n.check,W,2,0),E=T=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&T)<<8)+(T>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&T)){e.msg="unknown compression method",n.mode=30;break}if(E-=4,D=8+(15&(T>>>=4)),0===n.wbits)n.wbits=D;else if(D>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<D,e.adler=n.check=1,n.mode=512&T?10:12,E=T=0;break;case 2:for(;E<16;){if(0===v)break e;v--,T+=d[g++]<<E,E+=8}if(n.flags=T,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=T>>8&1),512&n.flags&&(W[0]=255&T,W[1]=T>>>8&255,n.check=o(n.check,W,2,0)),E=T=0,n.mode=3;case 3:for(;E<32;){if(0===v)break e;v--,T+=d[g++]<<E,E+=8}n.head&&(n.head.time=T),512&n.flags&&(W[0]=255&T,W[1]=T>>>8&255,W[2]=T>>>16&255,W[3]=T>>>24&255,n.check=o(n.check,W,4,0)),E=T=0,n.mode=4;case 4:for(;E<16;){if(0===v)break e;v--,T+=d[g++]<<E,E+=8}n.head&&(n.head.xflags=255&T,n.head.os=T>>8),512&n.flags&&(W[0]=255&T,W[1]=T>>>8&255,n.check=o(n.check,W,2,0)),E=T=0,n.mode=5;case 5:if(1024&n.flags){for(;E<16;){if(0===v)break e;v--,T+=d[g++]<<E,E+=8}n.length=T,n.head&&(n.head.extra_len=T),512&n.flags&&(W[0]=255&T,W[1]=T>>>8&255,n.check=o(n.check,W,2,0)),E=T=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(v<(S=n.length)&&(S=v),S&&(n.head&&(D=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,d,g,S,D)),512&n.flags&&(n.check=o(n.check,d,S,g)),v-=S,g+=S,n.length-=S),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===v)break e;for(S=0;D=d[g+S++],n.head&&D&&n.length<65536&&(n.head.name+=String.fromCharCode(D)),D&&S<v;);if(512&n.flags&&(n.check=o(n.check,d,S,g)),v-=S,g+=S,D)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===v)break e;for(S=0;D=d[g+S++],n.head&&D&&n.length<65536&&(n.head.comment+=String.fromCharCode(D)),D&&S<v;);if(512&n.flags&&(n.check=o(n.check,d,S,g)),v-=S,g+=S,D)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;E<16;){if(0===v)break e;v--,T+=d[g++]<<E,E+=8}if(T!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}E=T=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;E<32;){if(0===v)break e;v--,T+=d[g++]<<E,E+=8}e.adler=n.check=_(T),E=T=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=m,e.avail_out=y,e.next_in=g,e.avail_in=v,n.hold=T,n.bits=E,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){T>>>=7&E,E-=7&E,n.mode=27;break}for(;E<3;){if(0===v)break e;v--,T+=d[g++]<<E,E+=8}switch(n.last=1&T,E-=1,3&(T>>>=1)){case 0:n.mode=14;break;case 1:if(k(n),n.mode=20,6!==t)break;T>>>=2,E-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}T>>>=2,E-=2;break;case 14:for(T>>>=7&E,E-=7&E;E<32;){if(0===v)break e;v--,T+=d[g++]<<E,E+=8}if((65535&T)!=(T>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&T,E=T=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(S=n.length){if(v<S&&(S=v),y<S&&(S=y),0===S)break e;r.arraySet(f,d,g,S,m),v-=S,g+=S,y-=S,m+=S,n.length-=S;break}n.mode=12;break;case 17:for(;E<14;){if(0===v)break e;v--,T+=d[g++]<<E,E+=8}if(n.nlen=257+(31&T),T>>>=5,E-=5,n.ndist=1+(31&T),T>>>=5,E-=5,n.ncode=4+(15&T),T>>>=4,E-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;E<3;){if(0===v)break e;v--,T+=d[g++]<<E,E+=8}n.lens[H[n.have++]]=7&T,T>>>=3,E-=3}for(;n.have<19;)n.lens[H[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,B={bits:n.lenbits},P=a(0,n.lens,0,19,n.lencode,0,n.work,B),n.lenbits=B.bits,P){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;A=(F=n.lencode[T&(1<<n.lenbits)-1])>>>16&255,x=65535&F,!((C=F>>>24)<=E);){if(0===v)break e;v--,T+=d[g++]<<E,E+=8}if(x<16)T>>>=C,E-=C,n.lens[n.have++]=x;else{if(16===x){for(U=C+2;E<U;){if(0===v)break e;v--,T+=d[g++]<<E,E+=8}if(T>>>=C,E-=C,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}D=n.lens[n.have-1],S=3+(3&T),T>>>=2,E-=2}else if(17===x){for(U=C+3;E<U;){if(0===v)break e;v--,T+=d[g++]<<E,E+=8}E-=C,D=0,S=3+(7&(T>>>=C)),T>>>=3,E-=3}else{for(U=C+7;E<U;){if(0===v)break e;v--,T+=d[g++]<<E,E+=8}E-=C,D=0,S=11+(127&(T>>>=C)),T>>>=7,E-=7}if(n.have+S>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;S--;)n.lens[n.have++]=D}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,B={bits:n.lenbits},P=a(l,n.lens,0,n.nlen,n.lencode,0,n.work,B),n.lenbits=B.bits,P){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,B={bits:n.distbits},P=a(c,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,B),n.distbits=B.bits,P){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=v&&258<=y){e.next_out=m,e.avail_out=y,e.next_in=g,e.avail_in=v,n.hold=T,n.bits=E,s(e,O),m=e.next_out,f=e.output,y=e.avail_out,g=e.next_in,d=e.input,v=e.avail_in,T=n.hold,E=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;A=(F=n.lencode[T&(1<<n.lenbits)-1])>>>16&255,x=65535&F,!((C=F>>>24)<=E);){if(0===v)break e;v--,T+=d[g++]<<E,E+=8}if(A&&0==(240&A)){for(M=C,N=A,L=x;A=(F=n.lencode[L+((T&(1<<M+N)-1)>>M)])>>>16&255,x=65535&F,!(M+(C=F>>>24)<=E);){if(0===v)break e;v--,T+=d[g++]<<E,E+=8}T>>>=M,E-=M,n.back+=M}if(T>>>=C,E-=C,n.back+=C,n.length=x,0===A){n.mode=26;break}if(32&A){n.back=-1,n.mode=12;break}if(64&A){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&A,n.mode=22;case 22:if(n.extra){for(U=n.extra;E<U;){if(0===v)break e;v--,T+=d[g++]<<E,E+=8}n.length+=T&(1<<n.extra)-1,T>>>=n.extra,E-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;A=(F=n.distcode[T&(1<<n.distbits)-1])>>>16&255,x=65535&F,!((C=F>>>24)<=E);){if(0===v)break e;v--,T+=d[g++]<<E,E+=8}if(0==(240&A)){for(M=C,N=A,L=x;A=(F=n.distcode[L+((T&(1<<M+N)-1)>>M)])>>>16&255,x=65535&F,!(M+(C=F>>>24)<=E);){if(0===v)break e;v--,T+=d[g++]<<E,E+=8}T>>>=M,E-=M,n.back+=M}if(T>>>=C,E-=C,n.back+=C,64&A){e.msg="invalid distance code",n.mode=30;break}n.offset=x,n.extra=15&A,n.mode=24;case 24:if(n.extra){for(U=n.extra;E<U;){if(0===v)break e;v--,T+=d[g++]<<E,E+=8}n.offset+=T&(1<<n.extra)-1,T>>>=n.extra,E-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===y)break e;if(S=O-y,n.offset>S){if((S=n.offset-S)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}I=S>n.wnext?(S-=n.wnext,n.wsize-S):n.wnext-S,S>n.length&&(S=n.length),R=n.window}else R=f,I=m-n.offset,S=n.length;for(y<S&&(S=y),y-=S,n.length-=S;f[m++]=R[I++],--S;);0===n.length&&(n.mode=21);break;case 26:if(0===y)break e;f[m++]=n.length,y--,n.mode=21;break;case 27:if(n.wrap){for(;E<32;){if(0===v)break e;v--,T|=d[g++]<<E,E+=8}if(O-=y,e.total_out+=O,n.total+=O,O&&(e.adler=n.check=n.flags?o(n.check,f,O,m-O):i(n.check,f,O,m-O)),O=y,(n.flags?T:_(T))!==n.check){e.msg="incorrect data check",n.mode=30;break}E=T=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;E<32;){if(0===v)break e;v--,T+=d[g++]<<E,E+=8}if(T!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}E=T=0}n.mode=29;case 29:P=1;break e;case 30:P=-3;break e;case 31:return-4;default:return h}return e.next_out=m,e.avail_out=y,e.next_in=g,e.avail_in=v,n.hold=T,n.bits=E,(n.wsize||O!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&w(e,e.output,e.next_out,O-e.avail_out)?(n.mode=31,-4):(b-=e.avail_in,O-=e.avail_out,e.total_in+=b,e.total_out+=O,n.total+=O,n.wrap&&O&&(e.adler=n.check=n.flags?o(n.check,f,O,e.next_out-O):i(n.check,f,O,e.next_out-O)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==b&&0===O||4===t)&&P===u&&(P=-5),P)},n.inflateEnd=function(e){if(!e||!e.state)return h;var t=e.state;return t.window&&(t.window=null),e.state=null,u},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?h:((n.head=t).done=!1,u):h},n.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?h:11===n.mode&&i(1,t,r,0)!==n.check?-3:w(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,u):h},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){"use strict";var r=e("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,l,c,u,h,p){var d,f,_,g,m,v,y,T,E,b=p.bits,O=0,k=0,w=0,S=0,I=0,R=0,C=0,A=0,x=0,M=0,N=null,L=0,D=new r.Buf16(16),P=new r.Buf16(16),B=null,U=0;for(O=0;O<=15;O++)D[O]=0;for(k=0;k<l;k++)D[t[n+k]]++;for(I=b,S=15;1<=S&&0===D[S];S--);if(S<I&&(I=S),0===S)return c[u++]=20971520,c[u++]=20971520,p.bits=1,0;for(w=1;w<S&&0===D[w];w++);for(I<w&&(I=w),O=A=1;O<=15;O++)if(A<<=1,(A-=D[O])<0)return-1;if(0<A&&(0===e||1!==S))return-1;for(P[1]=0,O=1;O<15;O++)P[O+1]=P[O]+D[O];for(k=0;k<l;k++)0!==t[n+k]&&(h[P[t[n+k]]++]=k);if(v=0===e?(N=B=h,19):1===e?(N=i,L-=257,B=o,U-=257,256):(N=s,B=a,-1),O=w,m=u,C=k=M=0,_=-1,g=(x=1<<(R=I))-1,1===e&&852<x||2===e&&592<x)return 1;for(;;){for(y=O-C,E=h[k]<v?(T=0,h[k]):h[k]>v?(T=B[U+h[k]],N[L+h[k]]):(T=96,0),d=1<<O-C,w=f=1<<R;c[m+(M>>C)+(f-=d)]=y<<24|T<<16|E|0,0!==f;);for(d=1<<O-1;M&d;)d>>=1;if(0!==d?(M&=d-1,M+=d):M=0,k++,0==--D[O]){if(O===S)break;O=t[n+h[k]]}if(I<O&&(M&g)!==_){for(0===C&&(C=I),m+=w,A=1<<(R=O-C);R+C<S&&!((A-=D[R+C])<=0);)R++,A<<=1;if(x+=1<<R,1===e&&852<x||2===e&&592<x)return 1;c[_=M&g]=I<<24|R<<16|m-u|0}}return 0!==M&&(c[m+M]=O-C<<24|64<<16|0),p.bits=I,0}},{"../utils/common":41}],51:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){"use strict";var r=e("../utils/common"),i=0,o=1;function s(e){for(var t=e.length;0<=--t;)e[t]=0}var a=0,l=29,c=256,u=c+1+l,h=30,p=19,d=2*u+1,f=15,_=16,g=7,m=256,v=16,y=17,T=18,E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],b=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],k=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],w=new Array(2*(u+2));s(w);var S=new Array(2*h);s(S);var I=new Array(512);s(I);var R=new Array(256);s(R);var C=new Array(l);s(C);var A,x,M,N=new Array(h);function L(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function D(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function P(e){return e<256?I[e]:I[256+(e>>>7)]}function B(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function U(e,t,n){e.bi_valid>_-n?(e.bi_buf|=t<<e.bi_valid&65535,B(e,e.bi_buf),e.bi_buf=t>>_-e.bi_valid,e.bi_valid+=n-_):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function F(e,t,n){U(e,n[2*t],n[2*t+1])}function W(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function H(e,t,n){var r,i,o=new Array(f+1),s=0;for(r=1;r<=f;r++)o[r]=s=s+n[r-1]<<1;for(i=0;i<=t;i++){var a=e[2*i+1];0!==a&&(e[2*i]=W(o[a]++,a))}}function G(e){var t;for(t=0;t<u;t++)e.dyn_ltree[2*t]=0;for(t=0;t<h;t++)e.dyn_dtree[2*t]=0;for(t=0;t<p;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*m]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function V(e){8<e.bi_valid?B(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function j(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function Z(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&j(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!j(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function q(e,t,n){var r,i,o,s,a=0;if(0!==e.last_lit)for(;r=e.pending_buf[e.d_buf+2*a]<<8|e.pending_buf[e.d_buf+2*a+1],i=e.pending_buf[e.l_buf+a],a++,0===r?F(e,i,t):(F(e,(o=R[i])+c+1,t),0!==(s=E[o])&&U(e,i-=C[o],s),F(e,o=P(--r),n),0!==(s=b[o])&&U(e,r-=N[o],s)),a<e.last_lit;);F(e,m,t)}function X(e,t){var n,r,i,o=t.dyn_tree,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=d,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,a&&(e.static_len-=s[2*i+1]);for(t.max_code=c,n=e.heap_len>>1;1<=n;n--)Z(e,o,n);for(i=l;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Z(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,Z(e,o,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,o,s,a,l=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,h=t.stat_desc.has_stree,p=t.stat_desc.extra_bits,_=t.stat_desc.extra_base,g=t.stat_desc.max_length,m=0;for(o=0;o<=f;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<d;n++)g<(o=l[2*l[2*(r=e.heap[n])+1]+1]+1)&&(o=g,m++),l[2*r+1]=o,c<r||(e.bl_count[o]++,s=0,_<=r&&(s=p[r-_]),a=l[2*r],e.opt_len+=a*(o+s),h&&(e.static_len+=a*(u[2*r+1]+s)));if(0!==m){do{for(o=g-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[g]--,m-=2}while(0<m);for(o=g;0!==o;o--)for(r=e.bl_count[o];0!==r;)c<(i=e.heap[--n])||(l[2*i+1]!==o&&(e.opt_len+=(o-l[2*i+1])*l[2*i],l[2*i+1]=o),r--)}}(e,t),H(o,c,e.bl_count)}function $(e,t,n){var r,i,o=-1,s=t[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=s,s=t[2*(r+1)+1],++a<l&&i===s||(a<c?e.bl_tree[2*i]+=a:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[2*v]++):a<=10?e.bl_tree[2*y]++:e.bl_tree[2*T]++,o=i,c=(a=0)===s?(l=138,3):i===s?(l=6,3):(l=7,4))}function Y(e,t,n){var r,i,o=-1,s=t[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),r=0;r<=n;r++)if(i=s,s=t[2*(r+1)+1],!(++a<l&&i===s)){if(a<c)for(;F(e,i,e.bl_tree),0!=--a;);else 0!==i?(i!==o&&(F(e,i,e.bl_tree),a--),F(e,v,e.bl_tree),U(e,a-3,2)):a<=10?(F(e,y,e.bl_tree),U(e,a-3,3)):(F(e,T,e.bl_tree),U(e,a-11,7));o=i,c=(a=0)===s?(l=138,3):i===s?(l=6,3):(l=7,4)}}s(N);var z=!1;function Q(e,t,n,i){U(e,(a<<1)+(i?1:0),3),function(e,t,n,i){V(e),i&&(B(e,n),B(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}n._tr_init=function(e){z||(function(){var e,t,n,r,i,o=new Array(f+1);for(r=n=0;r<l-1;r++)for(C[r]=n,e=0;e<1<<E[r];e++)R[n++]=r;for(R[n-1]=r,r=i=0;r<16;r++)for(N[r]=i,e=0;e<1<<b[r];e++)I[i++]=r;for(i>>=7;r<h;r++)for(N[r]=i<<7,e=0;e<1<<b[r]-7;e++)I[256+i++]=r;for(t=0;t<=f;t++)o[t]=0;for(e=0;e<=143;)w[2*e+1]=8,e++,o[8]++;for(;e<=255;)w[2*e+1]=9,e++,o[9]++;for(;e<=279;)w[2*e+1]=7,e++,o[7]++;for(;e<=287;)w[2*e+1]=8,e++,o[8]++;for(H(w,u+1,o),e=0;e<h;e++)S[2*e+1]=5,S[2*e]=W(e,5);A=new L(w,E,c+1,u,f),x=new L(S,b,0,h,f),M=new L(new Array(0),O,0,p,g)}(),z=!0),e.l_desc=new D(e.dyn_ltree,A),e.d_desc=new D(e.dyn_dtree,x),e.bl_desc=new D(e.bl_tree,M),e.bi_buf=0,e.bi_valid=0,G(e)},n._tr_stored_block=Q,n._tr_flush_block=function(e,t,n,r){var s,a,l=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return i;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return o;for(t=32;t<c;t++)if(0!==e.dyn_ltree[2*t])return o;return i}(e)),X(e,e.l_desc),X(e,e.d_desc),l=function(e){var t;for($(e,e.dyn_ltree,e.l_desc.max_code),$(e,e.dyn_dtree,e.d_desc.max_code),X(e,e.bl_desc),t=p-1;3<=t&&0===e.bl_tree[2*k[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),s=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=s&&(s=a)):s=a=n+5,n+4<=s&&-1!==t?Q(e,t,n,r):4===e.strategy||a===s?(U(e,2+(r?1:0),3),q(e,w,S)):(U(e,4+(r?1:0),3),function(e,t,n,r){var i;for(U(e,t-257,5),U(e,n-1,5),U(e,r-4,4),i=0;i<r;i++)U(e,e.bl_tree[2*k[i]+1],3);Y(e,e.dyn_ltree,t-1),Y(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),q(e,e.dyn_ltree,e.dyn_dtree)),G(e),r&&V(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(R[n]+c+1)]++,e.dyn_dtree[2*P(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){U(e,2,3),F(e,m,w),function(e){16===e.bi_valid?(B(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,n){"use strict";t.exports="function"==typeof setImmediate?setImmediate:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)}},{}]},{},[10])(10)},2649:function(e,t,n){var r,i;!function(o,s){"use strict";r=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"];function i(e,t){var n=e[t];if("function"===typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(r){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function o(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function s(r){return"debug"===r&&(r="log"),typeof console!==t&&("trace"===r&&n?o:void 0!==console[r]?i(console,r):void 0!==console.log?i(console,"log"):e)}function a(t,n){for(var i=0;i<r.length;i++){var o=r[i];this[o]=i<t?e:this.methodFactory(o,t,n)}this.log=this.debug}function l(e,n,r){return function(){typeof console!==t&&(a.call(this,n,r),this[e].apply(this,arguments))}}function c(e,t,n){return s(e)||l.apply(this,arguments)}function u(e,n,i){var o,s=this;n=null==n?"WARN":n;var l="loglevel";function u(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t&&l){try{return void(window.localStorage[l]=n)}catch(i){}try{window.document.cookie=encodeURIComponent(l)+"="+n+";"}catch(i){}}}function h(){var e;if(typeof window!==t&&l){try{e=window.localStorage[l]}catch(i){}if(typeof e===t)try{var n=window.document.cookie,r=n.indexOf(encodeURIComponent(l)+"=");-1!==r&&(e=/^([^;]+)/.exec(n.slice(r))[1])}catch(i){}return void 0===s.levels[e]&&(e=void 0),e}}function p(){if(typeof window!==t&&l){try{return void window.localStorage.removeItem(l)}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}"string"===typeof e?l+=":"+e:"symbol"===typeof e&&(l=void 0),s.name=e,s.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},s.methodFactory=i||c,s.getLevel=function(){return o},s.setLevel=function(n,r){if("string"===typeof n&&void 0!==s.levels[n.toUpperCase()]&&(n=s.levels[n.toUpperCase()]),!("number"===typeof n&&n>=0&&n<=s.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(o=n,!1!==r&&u(n),a.call(s,n,e),typeof console===t&&n<s.levels.SILENT)return"No console available for logging"},s.setDefaultLevel=function(e){n=e,h()||s.setLevel(e,!1)},s.resetLevel=function(){s.setLevel(n,!1),p()},s.enableAll=function(e){s.setLevel(s.levels.TRACE,e)},s.disableAll=function(e){s.setLevel(s.levels.SILENT,e)};var d=h();null==d&&(d=n),s.setLevel(d,!1)}var h=new u,p={};h.getLogger=function(e){if("symbol"!==typeof e&&"string"!==typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=p[e];return t||(t=p[e]=new u(e,h.getLevel(),h.methodFactory)),t};var d=typeof window!==t?window.log:void 0;return h.noConflict=function(){return typeof window!==t&&window.log===h&&(window.log=d),h},h.getLoggers=function(){return p},h.default=h,h},void 0===(i="function"===typeof r?r.call(t,n,t,e):r)||(e.exports=i)}()},9849:function(e){e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(w){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var i={},o={};function s(e,t){var n,r,s;return t?(s=0<=(e>>>=0)&&e<256)&&(r=o[e])?r:(n=l(e,(0|e)<0?-1:0,!0),s&&(o[e]=n),n):(s=-128<=(e|=0)&&e<128)&&(r=i[e])?r:(n=l(e,e<0?-1:0,!1),s&&(i[e]=n),n)}function a(e,t){if(isNaN(e))return t?m:g;if(t){if(e<0)return m;if(e>=d)return b}else{if(e<=-f)return O;if(e+1>=f)return E}return e<0?a(-e,t).neg():l(e%p|0,e/p|0,t)}function l(e,t,r){return new n(e,t,r)}n.fromInt=s,n.fromNumber=a,n.fromBits=l;var c=Math.pow;function u(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"===typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return u(e.substring(1),t,n).neg();for(var i=a(c(n,8)),o=g,s=0;s<e.length;s+=8){var l=Math.min(8,e.length-s),h=parseInt(e.substring(s,s+l),n);if(l<8){var p=a(c(n,l));o=o.mul(p).add(a(h))}else o=(o=o.mul(i)).add(a(h))}return o.unsigned=t,o}function h(e,t){return"number"===typeof e?a(e,t):"string"===typeof e?u(e,t):l(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}n.fromString=u,n.fromValue=h;var p=4294967296,d=p*p,f=d/2,_=s(1<<24),g=s(0);n.ZERO=g;var m=s(0,!0);n.UZERO=m;var v=s(1);n.ONE=v;var y=s(1,!0);n.UONE=y;var T=s(-1);n.NEG_ONE=T;var E=l(-1,2147483647,!1);n.MAX_VALUE=E;var b=l(-1,-1,!0);n.MAX_UNSIGNED_VALUE=b;var O=l(0,-2147483648,!1);n.MIN_VALUE=O;var k=n.prototype;k.toInt=function(){return this.unsigned?this.low>>>0:this.low},k.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},k.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(O)){var t=a(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=a(c(e,6),this.unsigned),o=this,s="";;){var l=o.div(i),u=(o.sub(l.mul(i)).toInt()>>>0).toString(e);if((o=l).isZero())return u+s;for(;u.length<6;)u="0"+u;s=""+u+s}},k.getHighBits=function(){return this.high},k.getHighBitsUnsigned=function(){return this.high>>>0},k.getLowBits=function(){return this.low},k.getLowBitsUnsigned=function(){return this.low>>>0},k.getNumBitsAbs=function(){if(this.isNegative())return this.eq(O)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},k.isZero=function(){return 0===this.high&&0===this.low},k.eqz=k.isZero,k.isNegative=function(){return!this.unsigned&&this.high<0},k.isPositive=function(){return this.unsigned||this.high>=0},k.isOdd=function(){return 1===(1&this.low)},k.isEven=function(){return 0===(1&this.low)},k.equals=function(e){return r(e)||(e=h(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},k.eq=k.equals,k.notEquals=function(e){return!this.eq(e)},k.neq=k.notEquals,k.ne=k.notEquals,k.lessThan=function(e){return this.comp(e)<0},k.lt=k.lessThan,k.lessThanOrEqual=function(e){return this.comp(e)<=0},k.lte=k.lessThanOrEqual,k.le=k.lessThanOrEqual,k.greaterThan=function(e){return this.comp(e)>0},k.gt=k.greaterThan,k.greaterThanOrEqual=function(e){return this.comp(e)>=0},k.gte=k.greaterThanOrEqual,k.ge=k.greaterThanOrEqual,k.compare=function(e){if(r(e)||(e=h(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},k.comp=k.compare,k.negate=function(){return!this.unsigned&&this.eq(O)?O:this.not().add(v)},k.neg=k.negate,k.add=function(e){r(e)||(e=h(e));var t=this.high>>>16,n=65535&this.high,i=this.low>>>16,o=65535&this.low,s=e.high>>>16,a=65535&e.high,c=e.low>>>16,u=0,p=0,d=0,f=0;return d+=(f+=o+(65535&e.low))>>>16,p+=(d+=i+c)>>>16,u+=(p+=n+a)>>>16,u+=t+s,l((d&=65535)<<16|(f&=65535),(u&=65535)<<16|(p&=65535),this.unsigned)},k.subtract=function(e){return r(e)||(e=h(e)),this.add(e.neg())},k.sub=k.subtract,k.multiply=function(e){if(this.isZero())return g;if(r(e)||(e=h(e)),t)return l(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(O))return e.isOdd()?O:g;if(e.eq(O))return this.isOdd()?O:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(_)&&e.lt(_))return a(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,o=this.low>>>16,s=65535&this.low,c=e.high>>>16,u=65535&e.high,p=e.low>>>16,d=65535&e.low,f=0,m=0,v=0,y=0;return v+=(y+=s*d)>>>16,m+=(v+=o*d)>>>16,v&=65535,m+=(v+=s*p)>>>16,f+=(m+=i*d)>>>16,m&=65535,f+=(m+=o*p)>>>16,m&=65535,f+=(m+=s*u)>>>16,f+=n*d+i*p+o*u+s*c,l((v&=65535)<<16|(y&=65535),(f&=65535)<<16|(m&=65535),this.unsigned)},k.mul=k.multiply,k.divide=function(e){if(r(e)||(e=h(e)),e.isZero())throw Error("division by zero");var n,i,o;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?m:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return m;if(e.gt(this.shru(1)))return y;o=m}else{if(this.eq(O))return e.eq(v)||e.eq(T)?O:e.eq(O)?v:(n=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?v:T:(i=this.sub(e.mul(n)),o=n.add(i.div(e)));if(e.eq(O))return this.unsigned?m:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=g}for(i=this;i.gte(e);){n=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(n)/Math.LN2),u=s<=48?1:c(2,s-48),p=a(n),d=p.mul(e);d.isNegative()||d.gt(i);)d=(p=a(n-=u,this.unsigned)).mul(e);p.isZero()&&(p=v),o=o.add(p),i=i.sub(d)}return o},k.div=k.divide,k.modulo=function(e){return r(e)||(e=h(e)),t?l((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},k.mod=k.modulo,k.rem=k.modulo,k.not=function(){return l(~this.low,~this.high,this.unsigned)},k.and=function(e){return r(e)||(e=h(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},k.or=function(e){return r(e)||(e=h(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},k.xor=function(e){return r(e)||(e=h(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},k.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},k.shl=k.shiftLeft,k.shiftRight=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},k.shr=k.shiftRight,k.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?l(this.low>>>e|t<<32-e,t>>>e,this.unsigned):l(32===e?t:t>>>e-32,0,this.unsigned)},k.shru=k.shiftRightUnsigned,k.shr_u=k.shiftRightUnsigned,k.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},k.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},k.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},k.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},k.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},1843:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,o){for(var s,a,l=i(e),c=1;c<arguments.length;c++){for(var u in s=Object(arguments[c]))n.call(s,u)&&(l[u]=s[u]);if(t){a=t(s);for(var h=0;h<a.length;h++)r.call(s,a[h])&&(l[a[h]]=s[a[h]])}}return l}},1729:function(e,t,n){"use strict";var r=n(9165);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},5192:function(e,t,n){e.exports=n(1729)()},9165:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4255:function(e,t,n){e.exports=n(5228)(Object.assign({Buffer:n(918).lW,isLittleEndian:void 0===typeof Uint8Array||120===new Uint8Array(new Uint32Array([305419896]).buffer)[0],is64bit:void 0===typeof navigator||/WOW64|Win64|arm64|ia64|x64;|Mac OS X/i.test(navigator.userAgent)},n(7353)))},5228:function(e,t,n){var r=n(4575).default,i=n(3913).default,o=function(e,t,n){var r=e.indexOf(0,t),i=Math.min(t+n,-1===r?e.length:r);return e.slice(t,i).toString("utf8")},s=function(e,t,n,r){var i=t.write(e,n,r,"utf8");i<r&&t.fill(0,n+i,n+r)},a=function(e,t,n){var r=e[0];return r>=n&&(r=n-1),t++,e.slice(t,t+r).toString("utf8")},l=function(e,t,n,r){var i=Buffer.alloc(e,"utf8"),o=i.length;o>=r&&(o=r-1),o>255&&(o=255),i[n]=o,i.copy(t,n+1,0,o),t.fill(0,n+1+o,n+r)},c=function(e,t){return e.readUInt32LE(t,!0)},u=function(e,t){return e.readUInt32BE(t,!0)},h=function(e,t){return e.readInt32LE(t,!0)},p=function(e,t){return e.readInt32BE(t,!0)},d=function(e,t,n){t.writeUInt32LE(e,n,!0)},f=function(e,t,n){t.writeUInt32BE(e,n,!0)},_=function(e,t,n){t.writeInt32LE(e,n,!0)},g=function(e,t,n){t.writeInt32BE(e,n,!0)};e.exports=function(e){var t=e.Buffer,n=void 0===e.isLittleEndian||!!e.isLittleEndian,m=void 0===e.is64bit||!!e.is64bit,v=e.unpackUInt64LE,y=e.unpackUInt64BE,T=e.unpackInt64LE,E=e.unpackInt64BE,b=e.packUInt64LE,O=e.packUInt64BE,k=e.packInt64LE,w=e.packInt64BE,S={x:[1,1,null,null],c:[1,1,function(e,t){return String.fromCharCode(e[t])},function(e,t,n){t[n]=e.charCodeAt(0)}],b:[1,1,function(e,t){return e.readInt8(t)},function(e,t,n){t.writeInt8(e,n,!0)}],B:[1,1,function(e,t){return e[t]},function(e,t,n){t[n]=e}],h:[2,2,n?function(e,t){return e.readInt16LE(t)}:function(e,t){return e.readInt16BE(t)},n?function(e,t,n){return t.writeInt16LE(e,n,!0)}:function(e,t,n){return t.writeInt16BE(e,n,!0)}],H:[2,2,n?function(e,t){return e.readUInt16LE(t)}:function(e,t){return e.readUInt16BE(t)},n?function(e,t,n){return t.writeUInt16LE(e,n,!0)}:function(e,t,n){return t.writeUInt16BE(e,n,!0)}],i:[4,4,n?h:p,n?_:g],I:[4,4,n?c:u,n?d:f],l:[4,4,n?h:p,n?_:g],L:[4,4,n?c:u,n?d:f],f:[4,4,n?function(e,t){return e.readFloatLE(t)}:function(e,t){return e.readFloatBE(t)},n?function(e,t,n){return t.writeFloatLE(e,n,!0)}:function(e,t,n){return t.writeFloatBE(e,n,!0)}],d:[8,8,n?function(e,t){return e.readDoubleLE(t)}:function(e,t){return e.readDoubleBE(t)},n?function(e,t,n){return t.writeDoubleLE(e,n,!0)}:function(e,t,n){return t.writeDoubleBE(e,n,!0)}],s:[1,1,o,s],p:[1,1,a,l],P:[m?8:4,m?8:4,n?m?v:c:m?y:u,n?m?b:d:m?O:f],q:[8,8,n?T:E,n?k:w],Q:[8,8,n?v:y,n?b:O],"?":[1,1,function(e,t){return 0!==e[t]},function(e,t,n){t[n]=e?1:0}]},I={x:[1,1,null,null],c:[1,1,function(e,t){return String.fromCharCode(e[t])},function(e,t,n){t[n]=e.charCodeAt(0)}],b:[1,1,function(e,t){return e.readInt8(t)},function(e,t,n){t.writeInt8(e,n,!0)}],B:[1,1,function(e,t){return e[t]},function(e,t,n){t[n]=e}],h:[2,1,function(e,t){return e.readInt16LE(t)},function(e,t,n){return t.writeInt16LE(e,n,!0)}],H:[2,1,function(e,t){return e.readUInt16LE(t)},function(e,t,n){return t.writeUInt16LE(e,n,!0)}],i:[4,1,h,_],I:[4,1,c,d],l:[4,1,h,_],L:[4,1,c,d],f:[4,1,function(e,t){return e.readFloatLE(t)},function(e,t,n){return t.writeFloatLE(e,n,!0)}],d:[8,1,function(e,t){return e.readDoubleLE(t)},function(e,t,n){return t.writeDoubleLE(e,n,!0)}],s:[1,1,o,s],p:[1,1,a,l],P:[m?8:4,1,m?v:c,m?b:d],q:[8,1,T,k],Q:[8,1,v,b],"?":[1,1,function(e,t){return 0!==e[t]},function(e,t,n){t[n]=e?1:0}]},R={x:[1,1,null,null],c:[1,1,function(e,t){return String.fromCharCode(e[t])},function(e,t,n){t[n]=e.charCodeAt(0)}],b:[1,1,function(e,t){return e.readInt8(t)},function(e,t,n){t.writeInt8(e,n,!0)}],B:[1,1,function(e,t){return e[t]},function(e,t,n){t[n]=e}],h:[2,1,function(e,t){return e.readInt16BE(t)},function(e,t,n){return t.writeInt16BE(e,n,!0)}],H:[2,1,function(e,t){return e.readUInt16BE(t)},function(e,t,n){return t.writeUInt16BE(e,n,!0)}],i:[4,1,p,g],I:[4,1,u,f],l:[4,1,p,g],L:[4,1,u,f],f:[4,1,function(e,t){return e.readFloatBE(t)},function(e,t,n){return t.writeFloatBE(e,n,!0)}],d:[8,1,function(e,t){return e.readDoubleBE(t)},function(e,t,n){return t.writeDoubleBE(e,n,!0)}],s:[1,1,o,s],p:[1,1,a,l],P:[m?8:4,1,m?y:u,m?O:f],q:[8,1,E,w],Q:[8,1,y,O],"?":[1,1,function(e,t){return 0!==e[t]},function(e,t,n){t[n]=e?1:0}]},C=function(e){var t=e[0],r=!0,i=S;switch(t){case"<":i=I;break;case">":case"!":i=R;break;case"=":i=n?I:R;break;default:r=!1;case"@":i=S}return{map:i,skipFirst:r}},A=function(){"use strict";function e(){r(this,e)}return i(e,null,[{key:"sizeOf",value:function(e){var t,n,r,i,o=0,s=null,a=0,l=C(e),c=l.map;for(l.skipFirst&&a++,n=e.length;a<n;a++)(t=e[a])>="0"&&t<="9"?s=null===s?t:s+t:(r=c[t])&&((i=r[1])>1&&(o=Math.ceil(o/i)*i),s=s?parseInt(s,10):0,o+="s"===t?s||0:"p"===t?s||1:r[0]*(s||1),s=null);return o}},{key:"unpack",value:function(t,n,r){return e.unpackFrom(t,n,r,0)}},{key:"unpackFrom",value:function(e,t,n,r){var i=[],o=null,s=0,a=C(e),l=a.map;a.skipFirst&&s++;for(var c=e.length;s<c;s++){var u=e[s];if(u>="0"&&u<="9")o=null===o?u:o+u;else{var h=l[u];if(h){var p=h[0],d=h[1];d>1&&(r=Math.ceil(r/d)*d),o=o?parseInt(o,10):0;var f=void 0;"s"===u?(f=1,p=o):"p"===u?(f=1,p=o||1):f=o||1;for(var _=h[2];f>0;){if(_){if(n&&r+p>=t.length)throw new Error("Reached end of buffer, can't unpack anymore data.");i.push(_(t,r,o))}r+=p,f--}o=null}}}return i}},{key:"pack",value:function(n,r,i){Array.isArray(r)||(r=Array.prototype.slice.call(arguments,1),i=!0);var o=t.alloc(e.sizeOf(n)),s=0,a=null,l=0,c=0,u=C(n),h=u.map;u.skipFirst&&l++;for(var p=n.length;l<p;l++){var d=n[l];if(d>="0"&&d<="9")a=null===a?d:a+d;else{var f=h[d];if(f){var _=f[0],g=f[1];g>1&&(s=Math.ceil(s/g)*g),a=a?parseInt(a,10):0;var m=void 0;"s"===d?(m=1,_=a):"p"===d?(m=1,_=a||1):m=a||1;for(var v=f[3];m>0;){if(v){if(i&&c>=r.length)throw new Error("Reached end of data, no more elements to pack.");v(r[c],o,s,a),c++}s+=_,m--}a=null}}}return o}}]),e}();return A}},7353:function(e,t,n){var r=n(9849),i=function(e,t,n){e instanceof r||(e="number"===typeof e?r.fromNumber(e):r.fromString(e||"")),t.writeInt32LE(e.getLowBits(),n,!0),t.writeInt32LE(e.getHighBits(),n+4,!0)},o=function(e,t,n){e instanceof r||(e="number"===typeof e?r.fromNumber(e):r.fromString(e||"")),t.writeInt32BE(e.getHighBits(),n,!0),t.writeInt32BE(e.getLowBits(),n+4,!0)};e.exports={unpackUInt64LE:function(e,t){return r.fromBits(e.readInt32LE(t),e.readInt32LE(t+4),!0)},unpackUInt64BE:function(e,t){return r.fromBits(e.readInt32BE(t+4),e.readInt32BE(t),!0)},unpackInt64LE:function(e,t){return r.fromBits(e.readInt32LE(t),e.readInt32LE(t+4),!1)},unpackInt64BE:function(e,t){return r.fromBits(e.readInt32BE(t+4),e.readInt32BE(t),!1)},packUInt64LE:i,packUInt64BE:o,packInt64LE:i,packInt64BE:o}},9845:function(e,t,n){"use strict";var r=n(1843),i=n(7313);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=60106,a=60107,l=60108,c=60114,u=60109,h=60110,p=60112,d=60113,f=60120,_=60115,g=60116,m=60121,v=60117,y=60119,T=60129,E=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;s=b("react.portal"),a=b("react.fragment"),l=b("react.strict_mode"),c=b("react.profiler"),u=b("react.provider"),h=b("react.context"),p=b("react.forward_ref"),d=b("react.suspense"),f=b("react.suspense_list"),_=b("react.memo"),g=b("react.lazy"),m=b("react.block"),v=b("react.fundamental"),y=b("react.scope"),T=b("react.debug_trace_mode"),E=b("react.legacy_hidden")}function O(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case a:return"Fragment";case s:return"Portal";case c:return"Profiler";case l:return"StrictMode";case d:return"Suspense";case f:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case h:return(e.displayName||"Context")+".Consumer";case u:return(e._context.displayName||"Context")+".Provider";case p:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case _:return O(e.type);case m:return O(e._render);case g:t=e._payload,e=e._init;try{return O(e(t))}catch(n){}}return null}var k=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w={};function S(e,t){for(var n=0|e._threadCount;n<=t;n++)e[n]=e._currentValue2,e._threadCount=n+1}for(var I=new Uint16Array(16),R=0;15>R;R++)I[R]=R+1;I[15]=0;var C=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,A=Object.prototype.hasOwnProperty,x={},M={};function N(e){return!!A.call(M,e)||!A.call(x,e)&&(C.test(e)?M[e]=!0:(x[e]=!0,!1))}function L(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){D[e]=new L(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];D[t]=new L(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){D[e]=new L(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){D[e]=new L(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){D[e]=new L(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){D[e]=new L(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){D[e]=new L(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){D[e]=new L(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){D[e]=new L(e,5,!1,e.toLowerCase(),null,!1,!1)}));var P=/[\-:]([a-z])/g;function B(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(P,B);D[t]=new L(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(P,B);D[t]=new L(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(P,B);D[t]=new L(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){D[e]=new L(e,1,!1,e.toLowerCase(),null,!1,!1)})),D.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){D[e]=new L(e,1,!1,e.toLowerCase(),null,!0,!0)}));var U=/["'&<>]/;function F(e){if("boolean"===typeof e||"number"===typeof e)return""+e;e=""+e;var t=U.exec(e);if(t){var n,r="",i=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==n&&(r+=e.substring(i,n)),i=n+1,r+=t}e=i!==n?r+e.substring(i,n):r}return e}function W(e,t){var n,r=D.hasOwnProperty(e)?D[e]:null;return(n="style"!==e)&&(n=null!==r?0===r.type:2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])),n||function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(e,t,r,!1)?"":null!==r?(e=r.attributeName,3===(n=r.type)||4===n&&!0===t?e+'=""':(r.sanitizeURL&&(t=""+t),e+'="'+F(t)+'"')):N(e)?e+'="'+F(t)+'"':""}var H="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},G=null,V=null,j=null,Z=!1,q=!1,X=null,$=0;function Y(){if(null===G)throw Error(o(321));return G}function z(){if(0<$)throw Error(o(312));return{memoizedState:null,queue:null,next:null}}function Q(){return null===j?null===V?(Z=!1,V=j=z()):(Z=!0,j=V):null===j.next?(Z=!1,j=j.next=z()):(Z=!0,j=j.next),j}function K(e,t,n,r){for(;q;)q=!1,$+=1,j=null,n=e(t,r);return J(),n}function J(){G=null,q=!1,V=null,$=0,j=X=null}function ee(e,t){return"function"===typeof t?t(e):t}function te(e,t,n){if(G=Y(),j=Q(),Z){var r=j.queue;if(t=r.dispatch,null!==X&&void 0!==(n=X.get(r))){X.delete(r),r=j.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return j.memoizedState=r,[r,t]}return[j.memoizedState,t]}return e=e===ee?"function"===typeof t?t():t:void 0!==n?n(t):t,j.memoizedState=e,e=(e=j.queue={last:null,dispatch:null}).dispatch=re.bind(null,G,e),[j.memoizedState,e]}function ne(e,t){if(G=Y(),t=void 0===t?null:t,null!==(j=Q())){var n=j.memoizedState;if(null!==n&&null!==t){var r=n[1];e:if(null===r)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++)if(!H(t[i],r[i])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),j.memoizedState=[e,t],e}function re(e,t,n){if(!(25>$))throw Error(o(301));if(e===G)if(q=!0,e={action:n,next:null},null===X&&(X=new Map),void 0===(n=X.get(t)))X.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}function ie(){}var oe=null,se={readContext:function(e){var t=oe.threadID;return S(e,t),e[t]},useContext:function(e){Y();var t=oe.threadID;return S(e,t),e[t]},useMemo:ne,useReducer:te,useRef:function(e){G=Y();var t=(j=Q()).memoizedState;return null===t?(e={current:e},j.memoizedState=e):t},useState:function(e){return te(ee,e)},useLayoutEffect:function(){},useCallback:function(e,t){return ne((function(){return e}),t)},useImperativeHandle:ie,useEffect:ie,useDebugValue:ie,useDeferredValue:function(e){return Y(),e},useTransition:function(){return Y(),[function(e){e()},!1]},useOpaqueIdentifier:function(){return(oe.identifierPrefix||"")+"R:"+(oe.uniqueID++).toString(36)},useMutableSource:function(e,t){return Y(),t(e._source)}},ae="http://www.w3.org/1999/xhtml";function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var ce={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},ue=r({menuitem:!0},ce),he={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var de=/([A-Z])/g,fe=/^ms-/,_e=i.Children.toArray,ge=k.ReactCurrentDispatcher,me={listing:!0,pre:!0,textarea:!0},ve=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ye={},Te={};var Ee=Object.prototype.hasOwnProperty,be={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function Oe(e,t){if(void 0===e)throw Error(o(152,O(t)||"Component"))}function ke(e,t,n){function s(i,s){var a=s.prototype&&s.prototype.isReactComponent,l=function(e,t,n,r){if(r&&"object"===typeof(r=e.contextType)&&null!==r)return S(r,n),r[n];if(e=e.contextTypes){for(var i in n={},e)n[i]=t[i];t=n}else t=w;return t}(s,t,n,a),c=[],u=!1,h={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===c)return null},enqueueReplaceState:function(e,t){u=!0,c=[t]},enqueueSetState:function(e,t){if(null===c)return null;c.push(t)}};if(a){if(a=new s(i.props,l,h),"function"===typeof s.getDerivedStateFromProps){var p=s.getDerivedStateFromProps.call(null,i.props,a.state);null!=p&&(a.state=r({},a.state,p))}}else if(G={},a=s(i.props,l,h),null==(a=K(s,i.props,a,l))||null==a.render)return void Oe(e=a,s);if(a.props=i.props,a.context=l,a.updater=h,void 0===(h=a.state)&&(a.state=h=null),"function"===typeof a.UNSAFE_componentWillMount||"function"===typeof a.componentWillMount)if("function"===typeof a.componentWillMount&&"function"!==typeof s.getDerivedStateFromProps&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&"function"!==typeof s.getDerivedStateFromProps&&a.UNSAFE_componentWillMount(),c.length){h=c;var d=u;if(c=null,u=!1,d&&1===h.length)a.state=h[0];else{p=d?h[0]:a.state;var f=!0;for(d=d?1:0;d<h.length;d++){var _=h[d];null!=(_="function"===typeof _?_.call(a,p,i.props,l):_)&&(f?(f=!1,p=r({},p,_)):r(p,_))}a.state=p}}else c=null;if(Oe(e=a.render(),s),"function"===typeof a.getChildContext&&"object"===typeof(i=s.childContextTypes)){var g=a.getChildContext();for(var m in g)if(!(m in i))throw Error(o(108,O(s)||"Unknown",m))}g&&(t=r({},t,g))}for(;i.isValidElement(e);){var a=e,l=a.type;if("function"!==typeof l)break;s(a,l)}return{child:e,context:t}}var we=function(){function e(e,t,n){i.isValidElement(e)?e.type!==a?e=[e]:(e=e.props.children,e=i.isValidElement(e)?[e]:_e(e)):e=_e(e),e={type:null,domNamespace:ae,children:e,childIndex:0,context:w,footer:""};var r=I[0];if(0===r){var s=I,l=2*(r=s.length);if(!(65536>=l))throw Error(o(304));var c=new Uint16Array(l);for(c.set(s),(I=c)[0]=r+1,s=r;s<l-1;s++)I[s]=s+1;I[l-1]=0}else I[0]=I[r];this.threadID=r,this.stack=[e],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=t,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[],this.uniqueID=0,this.identifierPrefix=n&&n.identifierPrefix||""}var t=e.prototype;return t.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var e=this.threadID;I[e]=I[0],I[0]=e}},t.pushProvider=function(e){var t=++this.contextIndex,n=e.type._context,r=this.threadID;S(n,r);var i=n[r];this.contextStack[t]=n,this.contextValueStack[t]=i,n[r]=e.props.value},t.popProvider=function(){var e=this.contextIndex,t=this.contextStack[e],n=this.contextValueStack[e];this.contextStack[e]=null,this.contextValueStack[e]=null,this.contextIndex--,t[this.threadID]=n},t.clearProviders=function(){for(var e=this.contextIndex;0<=e;e--)this.contextStack[e][this.threadID]=this.contextValueStack[e]},t.read=function(e){if(this.exhausted)return null;var t=oe;oe=this;var n=ge.current;ge.current=se;try{for(var r=[""],i=!1;r[0].length<e;){if(0===this.stack.length){this.exhausted=!0;var s=this.threadID;I[s]=I[0],I[0]=s;break}var a=this.stack[this.stack.length-1];if(i||a.childIndex>=a.children.length){var l=a.footer;if(""!==l&&(this.previousWasTextNode=!1),this.stack.pop(),"select"===a.type)this.currentSelectValue=null;else if(null!=a.type&&null!=a.type.type&&a.type.type.$$typeof===u)this.popProvider(a.type);else if(a.type===d){this.suspenseDepth--;var c=r.pop();if(i){i=!1;var h=a.fallbackFrame;if(!h)throw Error(o(303));this.stack.push(h),r[this.suspenseDepth]+="\x3c!--$!--\x3e";continue}r[this.suspenseDepth]+=c}r[this.suspenseDepth]+=l}else{var p=a.children[a.childIndex++],f="";try{f+=this.render(p,a.context,a.domNamespace)}catch(_){if(null!=_&&"function"===typeof _.then)throw Error(o(294));throw _}r.length<=this.suspenseDepth&&r.push(""),r[this.suspenseDepth]+=f}}return r[0]}finally{ge.current=n,oe=t,J()}},t.render=function(e,t,n){if("string"===typeof e||"number"===typeof e)return""===(n=""+e)?"":this.makeStaticMarkup?F(n):this.previousWasTextNode?"\x3c!-- --\x3e"+F(n):(this.previousWasTextNode=!0,F(n));if(e=(t=ke(e,t,this.threadID)).child,t=t.context,null===e||!1===e)return"";if(!i.isValidElement(e)){if(null!=e&&null!=e.$$typeof){if((n=e.$$typeof)===s)throw Error(o(257));throw Error(o(258,n.toString()))}return e=_e(e),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),""}var m=e.type;if("string"===typeof m)return this.renderDOM(e,t,n);switch(m){case E:case T:case l:case c:case f:case a:return e=_e(e.props.children),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case d:throw Error(o(294));case y:throw Error(o(343))}if("object"===typeof m&&null!==m)switch(m.$$typeof){case p:G={};var b=m.render(e.props,e.ref);return b=K(m.render,e.props,b,e.ref),b=_e(b),this.stack.push({type:null,domNamespace:n,children:b,childIndex:0,context:t,footer:""}),"";case _:return e=[i.createElement(m.type,r({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case u:return n={type:e,domNamespace:n,children:m=_e(e.props.children),childIndex:0,context:t,footer:""},this.pushProvider(e),this.stack.push(n),"";case h:m=e.type,b=e.props;var O=this.threadID;return S(m,O),m=_e(b.children(m[O])),this.stack.push({type:e,domNamespace:n,children:m,childIndex:0,context:t,footer:""}),"";case v:throw Error(o(338));case g:return m=(b=(m=e.type)._init)(m._payload),e=[i.createElement(m,r({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),""}throw Error(o(130,null==m?m:typeof m,""))},t.renderDOM=function(e,t,n){var s=e.type.toLowerCase();if(n===ae&&le(s),!ye.hasOwnProperty(s)){if(!ve.test(s))throw Error(o(65,s));ye[s]=!0}var a=e.props;if("input"===s)a=r({type:void 0},a,{defaultChecked:void 0,defaultValue:void 0,value:null!=a.value?a.value:a.defaultValue,checked:null!=a.checked?a.checked:a.defaultChecked});else if("textarea"===s){var l=a.value;if(null==l){l=a.defaultValue;var c=a.children;if(null!=c){if(null!=l)throw Error(o(92));if(Array.isArray(c)){if(!(1>=c.length))throw Error(o(93));c=c[0]}l=""+c}null==l&&(l="")}a=r({},a,{value:void 0,children:""+l})}else if("select"===s)this.currentSelectValue=null!=a.value?a.value:a.defaultValue,a=r({},a,{value:void 0});else if("option"===s){c=this.currentSelectValue;var u=function(e){if(void 0===e||null===e)return e;var t="";return i.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(a.children);if(null!=c){var h=null!=a.value?a.value+"":u;if(l=!1,Array.isArray(c)){for(var p=0;p<c.length;p++)if(""+c[p]===h){l=!0;break}}else l=""+c===h;a=r({selected:void 0,children:void 0},a,{selected:l,children:u})}}if(l=a){if(ue[s]&&(null!=l.children||null!=l.dangerouslySetInnerHTML))throw Error(o(137,s));if(null!=l.dangerouslySetInnerHTML){if(null!=l.children)throw Error(o(60));if("object"!==typeof l.dangerouslySetInnerHTML||!("__html"in l.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=l.style&&"object"!==typeof l.style)throw Error(o(62))}l=a,c=this.makeStaticMarkup,u=1===this.stack.length,h="<"+e.type;e:if(-1===s.indexOf("-"))p="string"===typeof l.is;else switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":p=!1;break e;default:p=!0}for(E in l)if(Ee.call(l,E)){var d=l[E];if(null!=d){if("style"===E){var f=void 0,_="",g="";for(f in d)if(d.hasOwnProperty(f)){var m=0===f.indexOf("--"),v=d[f];if(null!=v){if(m)var y=f;else if(y=f,Te.hasOwnProperty(y))y=Te[y];else{var T=y.replace(de,"-$1").toLowerCase().replace(fe,"-ms-");y=Te[y]=T}_+=g+y+":",g=f,_+=m=null==v||"boolean"===typeof v||""===v?"":m||"number"!==typeof v||0===v||he.hasOwnProperty(g)&&he[g]?(""+v).trim():v+"px",g=";"}}d=_||null}f=null,p?be.hasOwnProperty(E)||(f=N(f=E)&&null!=d?f+'="'+F(d)+'"':""):f=W(E,d),f&&(h+=" "+f)}}c||u&&(h+=' data-reactroot=""');var E=h;l="",ce.hasOwnProperty(s)?E+="/>":(E+=">",l="</"+e.type+">");e:{if(null!=(c=a.dangerouslySetInnerHTML)){if(null!=c.__html){c=c.__html;break e}}else if("string"===typeof(c=a.children)||"number"===typeof c){c=F(c);break e}c=null}return null!=c?(a=[],me.hasOwnProperty(s)&&"\n"===c.charAt(0)&&(E+="\n"),E+=c):a=_e(a.children),e=e.type,n=null==n||"http://www.w3.org/1999/xhtml"===n?le(e):"http://www.w3.org/2000/svg"===n&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":n,this.stack.push({domNamespace:n,type:s,children:a,childIndex:0,context:t,footer:l}),this.previousWasTextNode=!1,E},e}();t.renderToString=function(e,t){e=new we(e,!1,t);try{return e.read(1/0)}finally{e.destroy()}}},534:function(e,t,n){"use strict";var r=n(7313),i=n(1843),o=n(2224);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(s(227));var a=new Set,l={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,f={},_={};function g(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function T(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(_,e)||!d.call(f,e)&&(p.test(e)?_[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var E=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=60103,O=60106,k=60107,w=60108,S=60114,I=60109,R=60110,C=60112,A=60113,x=60120,M=60115,N=60116,L=60121,D=60128,P=60129,B=60130,U=60131;if("function"===typeof Symbol&&Symbol.for){var F=Symbol.for;b=F("react.element"),O=F("react.portal"),k=F("react.fragment"),w=F("react.strict_mode"),S=F("react.profiler"),I=F("react.provider"),R=F("react.context"),C=F("react.forward_ref"),A=F("react.suspense"),x=F("react.suspense_list"),M=F("react.memo"),N=F("react.lazy"),L=F("react.block"),F("react.scope"),D=F("react.opaque.id"),P=F("react.debug_trace_mode"),B=F("react.offscreen"),U=F("react.legacy_hidden")}var W,H="function"===typeof Symbol&&Symbol.iterator;function G(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=H&&e[H]||e["@@iterator"])?e:null}function V(e){if(void 0===W)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);W=t&&t[1]||""}return"\n"+W+e}var j=!1;function Z(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a])return"\n"+i[s].replace(" at new "," at ")}while(1<=s&&0<=a);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function q(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=Z(e.type,!1);case 11:return e=Z(e.type.render,!1);case 22:return e=Z(e.type._render,!1);case 1:return e=Z(e.type,!0);default:return""}}function X(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case O:return"Portal";case S:return"Profiler";case w:return"StrictMode";case A:return"Suspense";case x:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case R:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case M:return X(e.type);case L:return X(e._render);case N:t=e._payload,e=e._init;try{return X(e(t))}catch(n){}}return null}function $(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function z(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&T(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function se(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function ce(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml",pe="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var _e,ge,me=(ge=function(e,t){if(e.namespaceURI!==pe||"innerHTML"in e)e.innerHTML=t;else{for((_e=_e||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_e.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ge(e,t)}))}:ge);function ve(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ye={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Te=["Webkit","ms","Moz","O"];function Ee(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ye.hasOwnProperty(e)&&ye[e]?(""+t).trim():t+"px"}function be(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Ee(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ye).forEach((function(e){Te.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ye[t]=ye[e]}))}));var Oe=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ke(e,t){if(t){if(Oe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ie=null,Re=null,Ce=null;function Ae(e){if(e=ri(e)){if("function"!==typeof Ie)throw Error(s(280));var t=e.stateNode;t&&(t=oi(t),Ie(e.stateNode,e.type,t))}}function xe(e){Re?Ce?Ce.push(e):Ce=[e]:Re=e}function Me(){if(Re){var e=Re,t=Ce;if(Ce=Re=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Ne(e,t){return e(t)}function Le(e,t,n,r,i){return e(t,n,r,i)}function De(){}var Pe=Ne,Be=!1,Ue=!1;function Fe(){null===Re&&null===Ce||(De(),Me())}function We(e,t){var n=e.stateNode;if(null===n)return null;var r=oi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var He=!1;if(h)try{var Ge={};Object.defineProperty(Ge,"passive",{get:function(){He=!0}}),window.addEventListener("test",Ge,Ge),window.removeEventListener("test",Ge,Ge)}catch(ge){He=!1}function Ve(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var je=!1,Ze=null,qe=!1,Xe=null,$e={onError:function(e){je=!0,Ze=e}};function Ye(e,t,n,r,i,o,s,a,l){je=!1,Ze=null,Ve.apply($e,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(ze(e)!==e)throw Error(s(188))}function Je(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ke(i),e;if(o===r)return Ke(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,ot=!1,st=[],at=null,lt=null,ct=null,ut=new Map,ht=new Map,pt=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ft(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function _t(e,t){switch(e){case"focusin":case"focusout":at=null;break;case"dragenter":case"dragleave":lt=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ht.delete(t.pointerId)}}function gt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=ft(t,n,r,i,o),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ni(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Qe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function yt(e,t,n){vt(e)&&n.delete(t)}function Tt(){for(ot=!1;0<st.length;){var e=st[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&st.shift()}null!==at&&vt(at)&&(at=null),null!==lt&&vt(lt)&&(lt=null),null!==ct&&vt(ct)&&(ct=null),ut.forEach(yt),ht.forEach(yt)}function Et(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Tt)))}function bt(e){function t(t){return Et(t,e)}if(0<st.length){Et(st[0],e);for(var n=1;n<st.length;n++){var r=st[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==at&&Et(at,e),null!==lt&&Et(lt,e),null!==ct&&Et(ct,e),ut.forEach(t),ht.forEach(t),n=0;n<pt.length;n++)(r=pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<pt.length&&null===(n=pt[0]).blockedOn;)mt(n),null===n.blockedOn&&pt.shift()}function Ot(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kt={animationend:Ot("Animation","AnimationEnd"),animationiteration:Ot("Animation","AnimationIteration"),animationstart:Ot("Animation","AnimationStart"),transitionend:Ot("Transition","TransitionEnd")},wt={},St={};function It(e){if(wt[e])return wt[e];if(!kt[e])return e;var t,n=kt[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return wt[e]=n[t];return e}h&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete kt.animationend.animation,delete kt.animationiteration.animation,delete kt.animationstart.animation),"TransitionEvent"in window||delete kt.transitionend.transition);var Rt=It("animationend"),Ct=It("animationiteration"),At=It("animationstart"),xt=It("transitionend"),Mt=new Map,Nt=new Map,Lt=["abort","abort",Rt,"animationEnd",Ct,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",xt,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Nt.set(r,t),Mt.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Pt=8;function Bt(e){if(0!==(1&e))return Pt=15,1;if(0!==(2&e))return Pt=14,2;if(0!==(4&e))return Pt=13,4;var t=24&e;return 0!==t?(Pt=12,t):0!==(32&e)?(Pt=11,32):0!==(t=192&e)?(Pt=10,t):0!==(256&e)?(Pt=9,256):0!==(t=3584&e)?(Pt=8,t):0!==(4096&e)?(Pt=7,4096):0!==(t=4186112&e)?(Pt=6,t):0!==(t=62914560&e)?(Pt=5,t):67108864&e?(Pt=4,67108864):0!==(134217728&e)?(Pt=3,134217728):0!==(t=805306368&e)?(Pt=2,t):0!==(1073741824&e)?(Pt=1,1073741824):(Pt=8,e)}function Ut(e,t){var n=e.pendingLanes;if(0===n)return Pt=0;var r=0,i=0,o=e.expiredLanes,s=e.suspendedLanes,a=e.pingedLanes;if(0!==o)r=o,i=Pt=15;else if(0!==(o=134217727&n)){var l=o&~s;0!==l?(r=Bt(l),i=Pt):0!==(a&=o)&&(r=Bt(a),i=Pt)}else 0!==(o=n&~s)?(r=Bt(o),i=Pt):0!==a&&(r=Bt(a),i=Pt);if(0===r)return 0;if(r=n&((0>(r=31-jt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&s)){if(Bt(t),i<=Pt)return t;Pt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-jt(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Wt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Ht(24&~t))?Wt(10,t):e;case 10:return 0===(e=Ht(192&~t))?Wt(8,t):e;case 8:return 0===(e=Ht(3584&~t))&&(0===(e=Ht(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Ht(805306368&~t))&&(t=268435456),t}throw Error(s(358,e))}function Ht(e){return e&-e}function Gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-jt(t)]=n}var jt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Zt(e)/qt|0)|0},Zt=Math.log,qt=Math.LN2;var Xt=o.unstable_UserBlockingPriority,$t=o.unstable_runWithPriority,Yt=!0;function zt(e,t,n,r){Be||De();var i=Kt,o=Be;Be=!0;try{Le(i,e,t,n,r)}finally{(Be=o)||Fe()}}function Qt(e,t,n,r){$t(Xt,Kt.bind(null,e,t,n,r))}function Kt(e,t,n,r){var i;if(Yt)if((i=0===(4&t))&&0<st.length&&-1<dt.indexOf(e))e=ft(null,e,t,n,r),st.push(e);else{var o=Jt(e,t,n,r);if(null===o)i&&_t(e,r);else{if(i){if(-1<dt.indexOf(e))return e=ft(o,e,t,n,r),void st.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return at=gt(at,e,t,n,r,i),!0;case"dragenter":return lt=gt(lt,e,t,n,r,i),!0;case"mouseover":return ct=gt(ct,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ut.set(o,gt(ut.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ht.set(o,gt(ht.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;_t(e,r)}Dr(e,t,r,null,n)}}}function Jt(e,t,n,r){var i=Se(r);if(null!==(i=ni(i))){var o=ze(i);if(null===o)i=null;else{var s=o.tag;if(13===s){if(null!==(i=Qe(o)))return i;i=null}else if(3===s){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Dr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function sn(){return!0}function an(){return!1}function ln(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?sn:an,this.isPropagationStopped=an,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=sn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=sn)},persist:function(){},isPersistent:sn}),t}var cn,un,hn,pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=ln(pn),fn=i({},pn,{view:0,detail:0}),_n=ln(fn),gn=i({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hn&&(hn&&"mousemove"===e.type?(cn=e.screenX-hn.screenX,un=e.screenY-hn.screenY):un=cn=0,hn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:un}}),mn=ln(gn),vn=ln(i({},gn,{dataTransfer:0})),yn=ln(i({},fn,{relatedTarget:0})),Tn=ln(i({},pn,{animationName:0,elapsedTime:0,pseudoElement:0})),En=i({},pn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=ln(En),On=ln(i({},pn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Rn(){return In}var Cn=i({},fn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rn,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=ln(Cn),xn=ln(i({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=ln(i({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rn})),Nn=ln(i({},pn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ln=i({},gn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=ln(Ln),Pn=[9,13,27,32],Bn=h&&"CompositionEvent"in window,Un=null;h&&"documentMode"in document&&(Un=document.documentMode);var Fn=h&&"TextEvent"in window&&!Un,Wn=h&&(!Bn||Un&&8<Un&&11>=Un),Hn=String.fromCharCode(32),Gn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function $n(e,t,n,r){xe(r),0<(t=Br(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Yn=null,zn=null;function Qn(e){Cr(e,0)}function Kn(e){if(Q(ii(e)))return e}function Jn(e,t){if("change"===e)return t}var er=!1;if(h){var tr;if(h){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Yn&&(Yn.detachEvent("onpropertychange",or),zn=Yn=null)}function or(e){if("value"===e.propertyName&&Kn(zn)){var t=[];if($n(t,zn,e,Se(e)),e=Qn,Be)e(t);else{Be=!0;try{Ne(e,t)}finally{Be=!1,Fe()}}}}function sr(e,t,n){"focusin"===e?(ir(),zn=n,(Yn=t).attachEvent("onpropertychange",or)):"focusout"===e&&ir()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(zn)}function lr(e,t){if("click"===e)return Kn(t)}function cr(e,t){if("input"===e||"change"===e)return Kn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},hr=Object.prototype.hasOwnProperty;function pr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!hr.call(t,n[r])||!ur(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function _r(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?_r(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function gr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var vr=h&&"documentMode"in document&&11>=document.documentMode,yr=null,Tr=null,Er=null,br=!1;function Or(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==yr||yr!==K(r)||("selectionStart"in(r=yr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Er&&pr(Er,r)||(Er=r,0<(r=Br(Tr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(Lt,2);for(var kr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),wr=0;wr<kr.length;wr++)Nt.set(kr[wr],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Rr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,c){if(Ye.apply(this,arguments),je){if(!je)throw Error(s(198));var u=Ze;je=!1,Ze=null,qe||(qe=!0,Xe=u)}}(r,t,void 0,e),e.currentTarget=null}function Cr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Rr(i,a,c),o=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Rr(i,a,c),o=l}}}if(qe)throw e=Xe,qe=!1,Xe=null,e}function Ar(e,t){var n=si(t),r=e+"__bubble";n.has(r)||(Lr(t,e,2,!1),n.add(r))}var xr="_reactListening"+Math.random().toString(36).slice(2);function Mr(e){e[xr]||(e[xr]=!0,a.forEach((function(t){Ir.has(t)||Nr(t,!1,e,null),Nr(t,!0,e,null)})))}function Nr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Ir.has(e)){if("scroll"!==e)return;i|=2,o=r}var s=si(o),a=e+"__"+(t?"capture":"bubble");s.has(a)||(t&&(i|=4),Lr(o,e,i,t),s.add(a))}function Lr(e,t,n,r){var i=Nt.get(t);switch(void 0===i?2:i){case 0:i=zt;break;case 1:i=Qt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!He||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Dr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=ni(a)))return;if(5===(l=s.tag)||6===l){r=o=s;continue e}a=a.parentNode}}r=r.return}!function(e,t,n){if(Ue)return e(t,n);Ue=!0;try{Pe(e,t,n)}finally{Ue=!1,Fe()}}((function(){var r=o,i=Se(n),s=[];e:{var a=Mt.get(e);if(void 0!==a){var l=dn,c=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":l=An;break;case"focusin":c="focus",l=yn;break;case"focusout":c="blur",l=yn;break;case"beforeblur":case"afterblur":l=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Mn;break;case Rt:case Ct:case At:l=Tn;break;case xt:l=Nn;break;case"scroll":l=_n;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=xn}var u=0!==(4&t),h=!u&&"scroll"===e,p=u?null!==a?a+"Capture":null:a;u=[];for(var d,f=r;null!==f;){var _=(d=f).stateNode;if(5===d.tag&&null!==_&&(d=_,null!==p&&(null!=(_=We(f,p))&&u.push(Pr(f,_,d)))),h)break;f=f.return}0<u.length&&(a=new l(a,c,null,n,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(h=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=mn,_="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=xn,_="onPointerLeave",p="onPointerEnter",f="pointer"),h=null==l?a:ii(l),d=null==c?a:ii(c),(a=new u(_,f+"leave",l,n,i)).target=h,a.relatedTarget=d,_=null,ni(i)===r&&((u=new u(p,f+"enter",c,n,i)).target=d,u.relatedTarget=h,_=u),h=_,l&&c)e:{for(p=c,f=0,d=u=l;d;d=Ur(d))f++;for(d=0,_=p;_;_=Ur(_))d++;for(;0<f-d;)u=Ur(u),f--;for(;0<d-f;)p=Ur(p),d--;for(;f--;){if(u===p||null!==p&&u===p.alternate)break e;u=Ur(u),p=Ur(p)}u=null}else u=null;null!==l&&Fr(s,a,l,u,!1),null!==c&&null!==h&&Fr(s,h,c,u,!0)}if("select"===(l=(a=r?ii(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Jn;else if(Xn(a))if(er)g=cr;else{g=ar;var m=sr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=lr);switch(g&&(g=g(e,r))?$n(s,g,n,i):(m&&m(e,a,r),"focusout"===e&&(m=a._wrapperState)&&m.controlled&&"number"===a.type&&ie(a,"number",a.value)),m=r?ii(r):window,e){case"focusin":(Xn(m)||"true"===m.contentEditable)&&(yr=m,Tr=r,Er=null);break;case"focusout":Er=Tr=yr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,Or(s,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":Or(s,n,i)}var v;if(Bn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Zn?Vn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Wn&&"ko"!==n.locale&&(Zn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Zn&&(v=rn()):(tn="value"in(en=i)?en.value:en.textContent,Zn=!0)),0<(m=Br(r,y)).length&&(y=new On(y,e,null,n,i),s.push({event:y,listeners:m}),v?y.data=v:null!==(v=jn(n))&&(y.data=v))),(v=Fn?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Gn=!0,Hn);case"textInput":return(e=t.data)===Hn&&Gn?null:e;default:return null}}(e,n):function(e,t){if(Zn)return"compositionend"===e||!Bn&&Vn(e,t)?(e=rn(),nn=tn=en=null,Zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Br(r,"onBeforeInput")).length&&(i=new On("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=v))}Cr(s,t)}))}function Pr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Br(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=We(e,n))&&r.unshift(Pr(e,o,i)),null!=(o=We(e,t))&&r.push(Pr(e,o,i))),e=e.return}return r}function Ur(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=We(n,o))&&s.unshift(Pr(n,l,a)):i||null!=(l=We(n,o))&&s.push(Pr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}function Wr(){}var Hr=null,Gr=null;function Vr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function jr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Zr="function"===typeof setTimeout?setTimeout:void 0,qr="function"===typeof clearTimeout?clearTimeout:void 0;function Xr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function $r(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Yr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var zr=0;var Qr=Math.random().toString(36).slice(2),Kr="__reactFiber$"+Qr,Jr="__reactProps$"+Qr,ei="__reactContainer$"+Qr,ti="__reactEvents$"+Qr;function ni(e){var t=e[Kr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Kr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Yr(e);null!==e;){if(n=e[Kr])return n;e=Yr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Kr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function oi(e){return e[Jr]||null}function si(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ai=[],li=-1;function ci(e){return{current:e}}function ui(e){0>li||(e.current=ai[li],ai[li]=null,li--)}function hi(e,t){li++,ai[li]=e.current,e.current=t}var pi={},di=ci(pi),fi=ci(!1),_i=pi;function gi(e,t){var n=e.type.contextTypes;if(!n)return pi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function vi(){ui(fi),ui(di)}function yi(e,t,n){if(di.current!==pi)throw Error(s(168));hi(di,t),hi(fi,n)}function Ti(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(s(108,X(t)||"Unknown",o));return i({},n,r)}function Ei(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pi,_i=di.current,hi(di,e),hi(fi,fi.current),!0}function bi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Ti(e,t,_i),r.__reactInternalMemoizedMergedChildContext=e,ui(fi),ui(di),hi(di,e)):ui(fi),hi(fi,n)}var Oi=null,ki=null,wi=o.unstable_runWithPriority,Si=o.unstable_scheduleCallback,Ii=o.unstable_cancelCallback,Ri=o.unstable_shouldYield,Ci=o.unstable_requestPaint,Ai=o.unstable_now,xi=o.unstable_getCurrentPriorityLevel,Mi=o.unstable_ImmediatePriority,Ni=o.unstable_UserBlockingPriority,Li=o.unstable_NormalPriority,Di=o.unstable_LowPriority,Pi=o.unstable_IdlePriority,Bi={},Ui=void 0!==Ci?Ci:function(){},Fi=null,Wi=null,Hi=!1,Gi=Ai(),Vi=1e4>Gi?Ai:function(){return Ai()-Gi};function ji(){switch(xi()){case Mi:return 99;case Ni:return 98;case Li:return 97;case Di:return 96;case Pi:return 95;default:throw Error(s(332))}}function Zi(e){switch(e){case 99:return Mi;case 98:return Ni;case 97:return Li;case 96:return Di;case 95:return Pi;default:throw Error(s(332))}}function qi(e,t){return e=Zi(e),wi(e,t)}function Xi(e,t,n){return e=Zi(e),Si(e,t,n)}function $i(){if(null!==Wi){var e=Wi;Wi=null,Ii(e)}Yi()}function Yi(){if(!Hi&&null!==Fi){Hi=!0;var e=0;try{var t=Fi;qi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(n){throw null!==Fi&&(Fi=Fi.slice(e+1)),Si(Mi,$i),n}finally{Hi=!1}}}var zi=E.ReactCurrentBatchConfig;function Qi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ki=ci(null),Ji=null,eo=null,to=null;function no(){to=eo=Ji=null}function ro(e){var t=Ki.current;ui(Ki),e.type._context._currentValue=t}function io(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function oo(e,t){Ji=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Bs=!0),e.firstContext=null)}function so(e,t){if(to!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===Ji)throw Error(s(308));eo=t,Ji.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var ao=!1;function lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ho(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function po(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function fo(e,t,n,r){var o=e.updateQueue;ao=!1;var s=o.firstBaseUpdate,a=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var c=l,u=c.next;c.next=null,null===a?s=u:a.next=u,a=c;var h=e.alternate;if(null!==h){var p=(h=h.updateQueue).lastBaseUpdate;p!==a&&(null===p?h.firstBaseUpdate=u:p.next=u,h.lastBaseUpdate=c)}}if(null!==s){for(p=o.baseState,a=0,h=u=c=null;;){l=s.lane;var d=s.eventTime;if((r&l)===l){null!==h&&(h=h.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,_=s;switch(l=t,d=n,_.tag){case 1:if("function"===typeof(f=_.payload)){p=f.call(d,p,l);break e}p=f;break e;case 3:f.flags=-4097&f.flags|64;case 0:if(null===(l="function"===typeof(f=_.payload)?f.call(d,p,l):f)||void 0===l)break e;p=i({},p,l);break e;case 2:ao=!0}}null!==s.callback&&(e.flags|=32,null===(l=o.effects)?o.effects=[s]:l.push(s))}else d={eventTime:d,lane:l,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===h?(u=h=d,c=p):h=h.next=d,a|=l;if(null===(s=s.next)){if(null===(l=o.shared.pending))break;s=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===h&&(c=p),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=h,Ha|=a,e.lanes=a,e.memoizedState=p}}function _o(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var go=(new r.Component).refs;function mo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var vo={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=pl(),i=dl(e),o=uo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),ho(e,o),fl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=pl(),i=dl(e),o=uo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),ho(e,o),fl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=pl(),r=dl(e),i=uo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),ho(e,i),fl(e,r,n)}};function yo(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!pr(n,r)||!pr(i,o))}function To(e,t,n){var r=!1,i=pi,o=t.contextType;return"object"===typeof o&&null!==o?o=so(o):(i=mi(t)?_i:di.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?gi(e,i):pi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=vo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Eo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vo.enqueueReplaceState(t,t.state,null)}function bo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=go,lo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=so(o):(o=mi(t)?_i:di.current,i.context=gi(e,o)),fo(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(mo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&vo.enqueueReplaceState(i,i.state,null),fo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var Oo=Array.isArray;function ko(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===go&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function wo(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function So(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=ql(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=zl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=ko(e,t,n),r.return=e,r):((r=Xl(n.type,n.key,n.props,null,e.mode,r)).ref=ko(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ql(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=$l(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=zl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Xl(t.type,t.key,t.props,null,e.mode,n)).ref=ko(e,null,t),n.return=e,n;case O:return(t=Ql(t,e.mode,n)).return=e,t}if(Oo(t)||G(t))return(t=$l(t,e.mode,n,null)).return=e,t;wo(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?n.type===k?h(e,t,n.props.children,r,i):c(e,t,n,r):null;case O:return n.key===i?u(e,t,n,r):null}if(Oo(n)||G(n))return null!==i?null:h(e,t,n,r,null);wo(e,n)}return null}function f(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return e=e.get(null===r.key?n:r.key)||null,r.type===k?h(t,e,r.props.children,i,r.key):c(t,e,r,i);case O:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Oo(r)||G(r))return h(t,e=e.get(n)||null,r,i,null);wo(t,r)}return null}function _(i,s,a,l){for(var c=null,u=null,h=s,_=s=0,g=null;null!==h&&_<a.length;_++){h.index>_?(g=h,h=null):g=h.sibling;var m=d(i,h,a[_],l);if(null===m){null===h&&(h=g);break}e&&h&&null===m.alternate&&t(i,h),s=o(m,s,_),null===u?c=m:u.sibling=m,u=m,h=g}if(_===a.length)return n(i,h),c;if(null===h){for(;_<a.length;_++)null!==(h=p(i,a[_],l))&&(s=o(h,s,_),null===u?c=h:u.sibling=h,u=h);return c}for(h=r(i,h);_<a.length;_++)null!==(g=f(h,i,_,a[_],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?_:g.key),s=o(g,s,_),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),c}function g(i,a,l,c){var u=G(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,_=a,g=a=0,m=null,v=l.next();null!==_&&!v.done;g++,v=l.next()){_.index>g?(m=_,_=null):m=_.sibling;var y=d(i,_,v.value,c);if(null===y){null===_&&(_=m);break}e&&_&&null===y.alternate&&t(i,_),a=o(y,a,g),null===h?u=y:h.sibling=y,h=y,_=m}if(v.done)return n(i,_),u;if(null===_){for(;!v.done;g++,v=l.next())null!==(v=p(i,v.value,c))&&(a=o(v,a,g),null===h?u=v:h.sibling=v,h=v);return u}for(_=r(i,_);!v.done;g++,v=l.next())null!==(v=f(_,i,g,v.value,c))&&(e&&null!==v.alternate&&_.delete(null===v.key?g:v.key),a=o(v,a,g),null===h?u=v:h.sibling=v,h=v);return e&&_.forEach((function(e){return t(i,e)})),u}return function(e,r,o,l){var c="object"===typeof o&&null!==o&&o.type===k&&null===o.key;c&&(o=o.props.children);var u="object"===typeof o&&null!==o;if(u)switch(o.$$typeof){case b:e:{for(u=o.key,c=r;null!==c;){if(c.key===u){if(7===c.tag){if(o.type===k){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=ko(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===k?((r=$l(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=Xl(o.type,o.key,o.props,null,e.mode,l)).ref=ko(e,r,o),l.return=e,e=l)}return a(e);case O:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ql(o,e.mode,l)).return=e,e=r}return a(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=zl(o,e.mode,l)).return=e,e=r),a(e);if(Oo(o))return _(e,r,o,l);if(G(o))return g(e,r,o,l);if(u&&wo(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(s(152,X(e.type)||"Component"))}return n(e,r)}}var Io=So(!0),Ro=So(!1),Co={},Ao=ci(Co),xo=ci(Co),Mo=ci(Co);function No(e){if(e===Co)throw Error(s(174));return e}function Lo(e,t){switch(hi(Mo,t),hi(xo,e),hi(Ao,Co),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fe(null,"");break;default:t=fe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ui(Ao),hi(Ao,t)}function Do(){ui(Ao),ui(xo),ui(Mo)}function Po(e){No(Mo.current);var t=No(Ao.current),n=fe(t,e.type);t!==n&&(hi(xo,e),hi(Ao,n))}function Bo(e){xo.current===e&&(ui(Ao),ui(xo))}var Uo=ci(0);function Fo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wo=null,Ho=null,Go=!1;function Vo(e,t){var n=jl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function jo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Zo(e){if(Go){var t=Ho;if(t){var n=t;if(!jo(e,t)){if(!(t=$r(n.nextSibling))||!jo(e,t))return e.flags=-1025&e.flags|2,Go=!1,void(Wo=e);Vo(Wo,n)}Wo=e,Ho=$r(t.firstChild)}else e.flags=-1025&e.flags|2,Go=!1,Wo=e}}function qo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Wo=e}function Xo(e){if(e!==Wo)return!1;if(!Go)return qo(e),Go=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!jr(t,e.memoizedProps))for(t=Ho;t;)Vo(e,t),t=$r(t.nextSibling);if(qo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ho=$r(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ho=null}}else Ho=Wo?$r(e.stateNode.nextSibling):null;return!0}function $o(){Ho=Wo=null,Go=!1}var Yo=[];function zo(){for(var e=0;e<Yo.length;e++)Yo[e]._workInProgressVersionPrimary=null;Yo.length=0}var Qo=E.ReactCurrentDispatcher,Ko=E.ReactCurrentBatchConfig,Jo=0,es=null,ts=null,ns=null,rs=!1,is=!1;function os(){throw Error(s(321))}function ss(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function as(e,t,n,r,i,o){if(Jo=o,es=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qo.current=null===e||null===e.memoizedState?Ns:Ls,e=n(r,i),is){o=0;do{if(is=!1,!(25>o))throw Error(s(301));o+=1,ns=ts=null,t.updateQueue=null,Qo.current=Ds,e=n(r,i)}while(is)}if(Qo.current=Ms,t=null!==ts&&null!==ts.next,Jo=0,ns=ts=es=null,rs=!1,t)throw Error(s(300));return e}function ls(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ns?es.memoizedState=ns=e:ns=ns.next=e,ns}function cs(){if(null===ts){var e=es.alternate;e=null!==e?e.memoizedState:null}else e=ts.next;var t=null===ns?es.memoizedState:ns.next;if(null!==t)ns=t,ts=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ts=e).memoizedState,baseState:ts.baseState,baseQueue:ts.baseQueue,queue:ts.queue,next:null},null===ns?es.memoizedState=ns=e:ns=ns.next=e}return ns}function us(e,t){return"function"===typeof t?t(e):t}function hs(e){var t=cs(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ts,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=a=o=null,c=i;do{var u=c.lane;if((Jo&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var h={lane:u,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(a=l=h,o=r):l=l.next=h,es.lanes|=u,Ha|=u}c=c.next}while(null!==c&&c!==i);null===l?o=r:l.next=a,ur(r,t.memoizedState)||(Bs=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ps(e){var t=cs(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ur(o,t.memoizedState)||(Bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ds(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Jo&e)===e)&&(t._workInProgressVersionPrimary=r,Yo.push(t))),e)return n(t._source);throw Yo.push(t),Error(s(350))}function fs(e,t,n,r){var i=Na;if(null===i)throw Error(s(349));var o=t._getVersion,a=o(t._source),l=Qo.current,c=l.useState((function(){return ds(i,t,n)})),u=c[1],h=c[0];c=ns;var p=e.memoizedState,d=p.refs,f=d.getSnapshot,_=p.source;p=p.subscribe;var g=es;return e.memoizedState={refs:d,source:t,subscribe:r},l.useEffect((function(){d.getSnapshot=n,d.setSnapshot=u;var e=o(t._source);if(!ur(a,e)){e=n(t._source),ur(h,e)||(u(e),e=dl(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,s=e;0<s;){var l=31-jt(s),c=1<<l;r[l]|=e,s&=~c}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=dl(g);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),ur(f,n)&&ur(_,t)&&ur(p,r)||((e={pending:null,dispatch:null,lastRenderedReducer:us,lastRenderedState:h}).dispatch=u=xs.bind(null,es,e),c.queue=e,c.baseQueue=null,h=ds(i,t,n),c.memoizedState=c.baseState=h),h}function _s(e,t,n){return fs(cs(),e,t,n)}function gs(e){var t=ls();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:us,lastRenderedState:e}).dispatch=xs.bind(null,es,e),[t.memoizedState,e]}function ms(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=es.updateQueue)?(t={lastEffect:null},es.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function vs(e){return e={current:e},ls().memoizedState=e}function ys(){return cs().memoizedState}function Ts(e,t,n,r){var i=ls();es.flags|=e,i.memoizedState=ms(1|t,n,void 0,void 0===r?null:r)}function Es(e,t,n,r){var i=cs();r=void 0===r?null:r;var o=void 0;if(null!==ts){var s=ts.memoizedState;if(o=s.destroy,null!==r&&ss(r,s.deps))return void ms(t,n,o,r)}es.flags|=e,i.memoizedState=ms(1|t,n,o,r)}function bs(e,t){return Ts(516,4,e,t)}function Os(e,t){return Es(516,4,e,t)}function ks(e,t){return Es(4,2,e,t)}function ws(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ss(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Es(4,2,ws.bind(null,t,e),n)}function Is(){}function Rs(e,t){var n=cs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ss(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Cs(e,t){var n=cs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ss(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function As(e,t){var n=ji();qi(98>n?98:n,(function(){e(!0)})),qi(97<n?97:n,(function(){var n=Ko.transition;Ko.transition=1;try{e(!1),t()}finally{Ko.transition=n}}))}function xs(e,t,n){var r=pl(),i=dl(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},s=t.pending;if(null===s?o.next=o:(o.next=s.next,s.next=o),t.pending=o,s=e.alternate,e===es||null!==s&&s===es)is=rs=!0;else{if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=s(a,n);if(o.eagerReducer=s,o.eagerState=l,ur(l,a))return}catch(c){}fl(e,i,r)}}var Ms={readContext:so,useCallback:os,useContext:os,useEffect:os,useImperativeHandle:os,useLayoutEffect:os,useMemo:os,useReducer:os,useRef:os,useState:os,useDebugValue:os,useDeferredValue:os,useTransition:os,useMutableSource:os,useOpaqueIdentifier:os,unstable_isNewReconciler:!1},Ns={readContext:so,useCallback:function(e,t){return ls().memoizedState=[e,void 0===t?null:t],e},useContext:so,useEffect:bs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ts(4,2,ws.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ts(4,2,e,t)},useMemo:function(e,t){var n=ls();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ls();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=xs.bind(null,es,e),[r.memoizedState,e]},useRef:vs,useState:gs,useDebugValue:Is,useDeferredValue:function(e){var t=gs(e),n=t[0],r=t[1];return bs((function(){var t=Ko.transition;Ko.transition=1;try{r(e)}finally{Ko.transition=t}}),[e]),n},useTransition:function(){var e=gs(!1),t=e[0];return vs(e=As.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=ls();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},fs(r,e,t,n)},useOpaqueIdentifier:function(){if(Go){var e=!1,t=function(e){return{$$typeof:D,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(zr++).toString(36))),Error(s(355))})),n=gs(t)[1];return 0===(2&es.mode)&&(es.flags|=516,ms(5,(function(){n("r:"+(zr++).toString(36))}),void 0,null)),t}return gs(t="r:"+(zr++).toString(36)),t},unstable_isNewReconciler:!1},Ls={readContext:so,useCallback:Rs,useContext:so,useEffect:Os,useImperativeHandle:Ss,useLayoutEffect:ks,useMemo:Cs,useReducer:hs,useRef:ys,useState:function(){return hs(us)},useDebugValue:Is,useDeferredValue:function(e){var t=hs(us),n=t[0],r=t[1];return Os((function(){var t=Ko.transition;Ko.transition=1;try{r(e)}finally{Ko.transition=t}}),[e]),n},useTransition:function(){var e=hs(us)[0];return[ys().current,e]},useMutableSource:_s,useOpaqueIdentifier:function(){return hs(us)[0]},unstable_isNewReconciler:!1},Ds={readContext:so,useCallback:Rs,useContext:so,useEffect:Os,useImperativeHandle:Ss,useLayoutEffect:ks,useMemo:Cs,useReducer:ps,useRef:ys,useState:function(){return ps(us)},useDebugValue:Is,useDeferredValue:function(e){var t=ps(us),n=t[0],r=t[1];return Os((function(){var t=Ko.transition;Ko.transition=1;try{r(e)}finally{Ko.transition=t}}),[e]),n},useTransition:function(){var e=ps(us)[0];return[ys().current,e]},useMutableSource:_s,useOpaqueIdentifier:function(){return ps(us)[0]},unstable_isNewReconciler:!1},Ps=E.ReactCurrentOwner,Bs=!1;function Us(e,t,n,r){t.child=null===e?Ro(t,null,n,r):Io(t,e.child,n,r)}function Fs(e,t,n,r,i){n=n.render;var o=t.ref;return oo(t,i),r=as(e,t,n,r,o,i),null===e||Bs?(t.flags|=1,Us(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,oa(e,t,i))}function Ws(e,t,n,r,i,o){if(null===e){var s=n.type;return"function"!==typeof s||Zl(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Xl(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Hs(e,t,s,r,i,o))}return s=e.child,0===(i&o)&&(i=s.memoizedProps,(n=null!==(n=n.compare)?n:pr)(i,r)&&e.ref===t.ref)?oa(e,t,o):(t.flags|=1,(e=ql(s,r)).ref=t.ref,e.return=t,t.child=e)}function Hs(e,t,n,r,i,o){if(null!==e&&pr(e.memoizedProps,r)&&e.ref===t.ref){if(Bs=!1,0===(o&i))return t.lanes=e.lanes,oa(e,t,o);0!==(16384&e.flags)&&(Bs=!0)}return js(e,t,n,r,o)}function Gs(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},bl(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},bl(t,e),null;t.memoizedState={baseLanes:0},bl(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,bl(t,r);return Us(e,t,i,n),t.child}function Vs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function js(e,t,n,r,i){var o=mi(n)?_i:di.current;return o=gi(t,o),oo(t,i),n=as(e,t,n,r,o,i),null===e||Bs?(t.flags|=1,Us(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,oa(e,t,i))}function Zs(e,t,n,r,i){if(mi(n)){var o=!0;Ei(t)}else o=!1;if(oo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),To(t,n,r),bo(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=so(c):c=gi(t,c=mi(n)?_i:di.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;h||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&Eo(t,s,r,c),ao=!1;var p=t.memoizedState;s.state=p,fo(t,r,s,i),l=t.memoizedState,a!==r||p!==l||fi.current||ao?("function"===typeof u&&(mo(t,n,u,r),l=t.memoizedState),(a=ao||yo(t,n,a,r,p,l,c))?(h||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4)):("function"===typeof s.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4),r=!1)}else{s=t.stateNode,co(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Qi(t.type,a),s.props=c,h=t.pendingProps,p=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=so(l):l=gi(t,l=mi(n)?_i:di.current);var d=n.getDerivedStateFromProps;(u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||p!==l)&&Eo(t,s,r,l),ao=!1,p=t.memoizedState,s.state=p,fo(t,r,s,i);var f=t.memoizedState;a!==h||p!==f||fi.current||ao?("function"===typeof d&&(mo(t,n,d,r),f=t.memoizedState),(c=ao||yo(t,n,c,r,p,f,l))?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),r=!1)}return qs(e,t,n,r,o,i)}function qs(e,t,n,r,i,o){Vs(e,t);var s=0!==(64&t.flags);if(!r&&!s)return i&&bi(t,n,!1),oa(e,t,o);r=t.stateNode,Ps.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Io(t,e.child,null,o),t.child=Io(t,null,a,o)):Us(e,t,a,o),t.memoizedState=r.state,i&&bi(t,n,!0),t.child}function Xs(e){var t=e.stateNode;t.pendingContext?yi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yi(0,t.context,!1),Lo(e,t.containerInfo)}var $s,Ys,zs,Qs={dehydrated:null,retryLane:0};function Ks(e,t,n){var r,i=t.pendingProps,o=Uo.current,s=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),hi(Uo,1&o),null===e?(void 0!==i.fallback&&Zo(t),e=i.children,o=i.fallback,s?(e=Js(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qs,e):"number"===typeof i.unstable_expectedLoadTime?(e=Js(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Qs,t.lanes=33554432,e):((n=Yl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,s?(i=ta(e,t,i.children,i.fallback,n),s=t.child,o=e.child.memoizedState,s.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},s.childLanes=e.childLanes&~n,t.memoizedState=Qs,i):(n=ea(e,t,i.children,n),t.memoizedState=null,n))}function Js(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Yl(t,i,0,null),n=$l(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function ea(e,t,n,r){var i=e.child;return e=i.sibling,n=ql(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ta(e,t,n,r,i){var o=t.mode,s=e.child;e=s.sibling;var a={mode:"hidden",children:n};return 0===(2&o)&&t.child!==s?((n=t.child).childLanes=0,n.pendingProps=a,null!==(s=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=s,s.nextEffect=null):t.firstEffect=t.lastEffect=null):n=ql(s,a),null!==e?r=ql(e,r):(r=$l(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function na(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),io(e.return,t)}function ra(e,t,n,r,i,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.lastEffect=o)}function ia(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Us(e,t,r.children,n),0!==(2&(r=Uo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&na(e,n);else if(19===e.tag)na(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(hi(Uo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ra(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ra(t,!0,n,null,o,t.lastEffect);break;case"together":ra(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function oa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ha|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=ql(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ql(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function sa(e,t){if(!Go)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function aa(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&vi(),null;case 3:return Do(),ui(fi),ui(di),zo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Xo(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Bo(t);var o=No(Mo.current);if(n=t.type,null!==e&&null!=t.stateNode)Ys(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(s(166));return null}if(e=No(Ao.current),Xo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Kr]=t,r[Jr]=a,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)Ar(Sr[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,a),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ar("invalid",r);break;case"textarea":le(r,a),Ar("invalid",r)}for(var c in ke(n,a),e=null,a)a.hasOwnProperty(c)&&(o=a[c],"children"===c?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):l.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Ar("scroll",r));switch(n){case"input":z(r),re(r,a,!0);break;case"textarea":z(r),ue(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Wr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===he&&(e=de(n)),e===he?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Kr]=t,e[Jr]=r,$s(e,t),t.stateNode=e,c=we(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),o=r;break;case"iframe":case"object":case"embed":Ar("load",e),o=r;break;case"video":case"audio":for(o=0;o<Sr.length;o++)Ar(Sr[o],e);o=r;break;case"source":Ar("error",e),o=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),o=r;break;case"details":Ar("toggle",e),o=r;break;case"input":ee(e,r),o=J(e,r),Ar("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":le(e,r),o=ae(e,r),Ar("invalid",e);break;default:o=r}ke(n,o);var u=o;for(a in u)if(u.hasOwnProperty(a)){var h=u[a];"style"===a?be(e,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&me(e,h):"children"===a?"string"===typeof h?("textarea"!==n||""!==h)&&ve(e,h):"number"===typeof h&&ve(e,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(l.hasOwnProperty(a)?null!=h&&"onScroll"===a&&Ar("scroll",e):null!=h&&T(e,a,h,c))}switch(n){case"input":z(e),re(e,r,!1);break;case"textarea":z(e),ue(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?se(e,!!r.multiple,a,!1):null!=r.defaultValue&&se(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Wr)}Vr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)zs(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));n=No(Mo.current),No(Ao.current),Xo(t)?(r=t.stateNode,n=t.memoizedProps,r[Kr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Kr]=t,t.stateNode=r)}return null;case 13:return ui(Uo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Xo(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Uo.current)?0===Ua&&(Ua=3):(0!==Ua&&3!==Ua||(Ua=4),null===Na||0===(134217727&Ha)&&0===(134217727&Ga)||vl(Na,Da))),(r||n)&&(t.flags|=4),null);case 4:return Do(),null===e&&Mr(t.stateNode.containerInfo),null;case 10:return ro(t),null;case 19:if(ui(Uo),null===(r=t.memoizedState))return null;if(a=0!==(64&t.flags),null===(c=r.rendering))if(a)sa(r,!1);else{if(0!==Ua||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Fo(e))){for(t.flags|=64,sa(r,!1),null!==(a=c.updateQueue)&&(t.updateQueue=a,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(c=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return hi(Uo,1&Uo.current|2),t.child}e=e.sibling}null!==r.tail&&Vi()>qa&&(t.flags|=64,a=!0,sa(r,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=Fo(c))){if(t.flags|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),sa(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Go)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Vi()-r.renderingStartTime>qa&&1073741824!==n&&(t.flags|=64,a=!0,sa(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Vi(),n.sibling=null,t=Uo.current,hi(Uo,a?1&t|2:1&t),n):null;case 23:case 24:return Ol(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(s(156,t.tag))}function la(e){switch(e.tag){case 1:mi(e.type)&&vi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Do(),ui(fi),ui(di),zo(),0!==(64&(t=e.flags)))throw Error(s(285));return e.flags=-4097&t|64,e;case 5:return Bo(e),null;case 13:return ui(Uo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ui(Uo),null;case 4:return Do(),null;case 10:return ro(e),null;case 23:case 24:return Ol(),null;default:return null}}function ca(e,t){try{var n="",r=t;do{n+=q(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function ua(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}$s=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ys=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,No(Ao.current);var s,a=null;switch(n){case"input":o=J(e,o),r=J(e,r),a=[];break;case"option":o=oe(e,o),r=oe(e,r),a=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),a=[];break;case"textarea":o=ae(e,o),r=ae(e,r),a=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Wr)}for(h in ke(n,r),n=null,o)if(!r.hasOwnProperty(h)&&o.hasOwnProperty(h)&&null!=o[h])if("style"===h){var c=o[h];for(s in c)c.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(l.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in r){var u=r[h];if(c=null!=o?o[h]:void 0,r.hasOwnProperty(h)&&u!==c&&(null!=u||null!=c))if("style"===h)if(c){for(s in c)!c.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&c[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(a||(a=[]),a.push(h,n)),n=u;else"dangerouslySetInnerHTML"===h?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(a=a||[]).push(h,u)):"children"===h?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(h,""+u):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(l.hasOwnProperty(h)?(null!=u&&"onScroll"===h&&Ar("scroll",e),a||c===u||(a=[])):"object"===typeof u&&null!==u&&u.$$typeof===D?u.toString():(a=a||[]).push(h,u))}n&&(a=a||[]).push("style",n);var h=a;(t.updateQueue=h)&&(t.flags|=4)}},zs=function(e,t,n,r){n!==r&&(t.flags|=4)};var ha="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=uo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){za||(za=!0,Qa=r),ua(0,t)},n}function da(e,t,n){(n=uo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ua(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ka?Ka=new Set([this]):Ka.add(this),ua(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var fa="function"===typeof WeakSet?WeakSet:Set;function _a(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Wl(e,n)}else t.current=null}function ga(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Qi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Xr(t.stateNode.containerInfo))}throw Error(s(163))}function ma(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Bl(n,e),Pl(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Qi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&_o(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}_o(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Vr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&bt(n)))))}throw Error(s(163))}function va(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=Ee("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ya(e,t){if(ki&&"function"===typeof ki.onCommitFiberUnmount)try{ki.onCommitFiberUnmount(Oi,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Bl(t,n);else{r=t;try{i()}catch(o){Wl(r,o)}}n=n.next}while(n!==e)}break;case 1:if(_a(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Wl(t,o)}break;case 5:_a(t);break;case 4:wa(e,t)}}function Ta(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function Ea(e){return 5===e.tag||3===e.tag||4===e.tag}function ba(e){e:{for(var t=e.return;null!==t;){if(Ea(t))break e;t=t.return}throw Error(s(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.flags&&(ve(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Ea(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Oa(e,n,t):ka(e,n,t)}function Oa(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Wr));else if(4!==r&&null!==(e=e.child))for(Oa(e,t,n),e=e.sibling;null!==e;)Oa(e,t,n),e=e.sibling}function ka(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ka(e,t,n),e=e.sibling;null!==e;)ka(e,t,n),e=e.sibling}function wa(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(s(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var a=e,l=i,c=l;;)if(ya(a,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break e;for(;null===c.sibling;){if(null===c.return||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(a=n,l=i.stateNode,8===a.nodeType?a.parentNode.removeChild(l):a.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ya(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function Sa(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Jr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),we(e,i),t=we(e,r),i=0;i<o.length;i+=2){var a=o[i],l=o[i+1];"style"===a?be(n,l):"dangerouslySetInnerHTML"===a?me(n,l):"children"===a?ve(n,l):T(n,a,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?se(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?se(n,!!r.multiple,r.defaultValue,!0):se(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(s(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,bt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Za=Vi(),va(t.child,!0)),void Ia(t);case 19:return void Ia(t);case 23:case 24:return void va(t,null!==t.memoizedState)}throw Error(s(163))}function Ia(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new fa),t.forEach((function(t){var r=Gl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ra(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ca=Math.ceil,Aa=E.ReactCurrentDispatcher,xa=E.ReactCurrentOwner,Ma=0,Na=null,La=null,Da=0,Pa=0,Ba=ci(0),Ua=0,Fa=null,Wa=0,Ha=0,Ga=0,Va=0,ja=null,Za=0,qa=1/0;function Xa(){qa=Vi()+500}var $a,Ya=null,za=!1,Qa=null,Ka=null,Ja=!1,el=null,tl=90,nl=[],rl=[],il=null,ol=0,sl=null,al=-1,ll=0,cl=0,ul=null,hl=!1;function pl(){return 0!==(48&Ma)?Vi():-1!==al?al:al=Vi()}function dl(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===ji()?1:2;if(0===ll&&(ll=Wa),0!==zi.transition){0!==cl&&(cl=null!==ja?ja.pendingLanes:0),e=ll;var t=4186112&~cl;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=ji(),0!==(4&Ma)&&98===e?e=Wt(12,ll):e=Wt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ll),e}function fl(e,t,n){if(50<ol)throw ol=0,sl=null,Error(s(185));if(null===(e=_l(e,t)))return null;Vt(e,t,n),e===Na&&(Ga|=t,4===Ua&&vl(e,Da));var r=ji();1===t?0!==(8&Ma)&&0===(48&Ma)?yl(e):(gl(e,n),0===Ma&&(Xa(),$i())):(0===(4&Ma)||98!==r&&99!==r||(null===il?il=new Set([e]):il.add(e)),gl(e,n)),ja=e}function _l(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function gl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-jt(a),c=1<<l,u=o[l];if(-1===u){if(0===(c&r)||0!==(c&i)){u=t,Bt(c);var h=Pt;o[l]=10<=h?u+250:6<=h?u+5e3:-1}}else u<=t&&(e.expiredLanes|=c);a&=~c}if(r=Ut(e,e===Na?Da:0),t=Pt,0===r)null!==n&&(n!==Bi&&Ii(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Bi&&Ii(n)}15===t?(n=yl.bind(null,e),null===Fi?(Fi=[n],Wi=Si(Mi,Yi)):Fi.push(n),n=Bi):14===t?n=Xi(99,yl.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(s(358,e))}}(t),n=Xi(n,ml.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ml(e){if(al=-1,cl=ll=0,0!==(48&Ma))throw Error(s(327));var t=e.callbackNode;if(Dl()&&e.callbackNode!==t)return null;var n=Ut(e,e===Na?Da:0);if(0===n)return null;var r=n,i=Ma;Ma|=16;var o=Sl();for(Na===e&&Da===r||(Xa(),kl(e,r));;)try{Cl();break}catch(l){wl(e,l)}if(no(),Aa.current=o,Ma=i,null!==La?r=0:(Na=null,Da=0,r=Ua),0!==(Wa&Ga))kl(e,0);else if(0!==r){if(2===r&&(Ma|=64,e.hydrate&&(e.hydrate=!1,Xr(e.containerInfo)),0!==(n=Ft(e))&&(r=Il(e,n))),1===r)throw t=Fa,kl(e,0),vl(e,n),gl(e,Vi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(s(345));case 2:case 5:Ml(e);break;case 3:if(vl(e,n),(62914560&n)===n&&10<(r=Za+500-Vi())){if(0!==Ut(e,0))break;if(((i=e.suspendedLanes)&n)!==n){pl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Zr(Ml.bind(null,e),r);break}Ml(e);break;case 4:if(vl(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-jt(n);o=1<<a,(a=r[a])>i&&(i=a),n&=~o}if(n=i,10<(n=(120>(n=Vi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ca(n/1960))-n)){e.timeoutHandle=Zr(Ml.bind(null,e),n);break}Ml(e);break;default:throw Error(s(329))}}return gl(e,Vi()),e.callbackNode===t?ml.bind(null,e):null}function vl(e,t){for(t&=~Va,t&=~Ga,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-jt(t),r=1<<n;e[n]=-1,t&=~r}}function yl(e){if(0!==(48&Ma))throw Error(s(327));if(Dl(),e===Na&&0!==(e.expiredLanes&Da)){var t=Da,n=Il(e,t);0!==(Wa&Ga)&&(n=Il(e,t=Ut(e,t)))}else n=Il(e,t=Ut(e,0));if(0!==e.tag&&2===n&&(Ma|=64,e.hydrate&&(e.hydrate=!1,Xr(e.containerInfo)),0!==(t=Ft(e))&&(n=Il(e,t))),1===n)throw n=Fa,kl(e,0),vl(e,t),gl(e,Vi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ml(e),gl(e,Vi()),null}function Tl(e,t){var n=Ma;Ma|=1;try{return e(t)}finally{0===(Ma=n)&&(Xa(),$i())}}function El(e,t){var n=Ma;Ma&=-2,Ma|=8;try{return e(t)}finally{0===(Ma=n)&&(Xa(),$i())}}function bl(e,t){hi(Ba,Pa),Pa|=t,Wa|=t}function Ol(){Pa=Ba.current,ui(Ba)}function kl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,qr(n)),null!==La)for(n=La.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&vi();break;case 3:Do(),ui(fi),ui(di),zo();break;case 5:Bo(r);break;case 4:Do();break;case 13:case 19:ui(Uo);break;case 10:ro(r);break;case 23:case 24:Ol()}n=n.return}Na=e,La=ql(e.current,null),Da=Pa=Wa=t,Ua=0,Fa=null,Va=Ga=Ha=0}function wl(e,t){for(;;){var n=La;try{if(no(),Qo.current=Ms,rs){for(var r=es.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}rs=!1}if(Jo=0,ns=ts=es=null,is=!1,xa.current=null,null===n||null===n.return){Ua=1,Fa=t,La=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=Da,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l;if(0===(2&a.mode)){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.lanes=u.lanes):(a.updateQueue=null,a.memoizedState=null)}var h=0!==(1&Uo.current),p=s;do{var d;if(d=13===p.tag){var f=p.memoizedState;if(null!==f)d=null!==f.dehydrated;else{var _=p.memoizedProps;d=void 0!==_.fallback&&(!0!==_.unstable_avoidThisFallback||!h)}}if(d){var g=p.updateQueue;if(null===g){var m=new Set;m.add(c),p.updateQueue=m}else g.add(c);if(0===(2&p.mode)){if(p.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=uo(-1,1);v.tag=2,ho(a,v)}a.lanes|=1;break e}l=void 0,a=t;var y=o.pingCache;if(null===y?(y=o.pingCache=new ha,l=new Set,y.set(c,l)):void 0===(l=y.get(c))&&(l=new Set,y.set(c,l)),!l.has(a)){l.add(a);var T=Hl.bind(null,o,c,a);c.then(T,T)}p.flags|=4096,p.lanes=t;break e}p=p.return}while(null!==p);l=Error((X(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ua&&(Ua=2),l=ca(l,a),p=s;do{switch(p.tag){case 3:o=l,p.flags|=4096,t&=-t,p.lanes|=t,po(p,pa(0,o,t));break e;case 1:o=l;var E=p.type,b=p.stateNode;if(0===(64&p.flags)&&("function"===typeof E.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ka||!Ka.has(b)))){p.flags|=4096,t&=-t,p.lanes|=t,po(p,da(p,o,t));break e}}p=p.return}while(null!==p)}xl(n)}catch(O){t=O,La===n&&null!==n&&(La=n=n.return);continue}break}}function Sl(){var e=Aa.current;return Aa.current=Ms,null===e?Ms:e}function Il(e,t){var n=Ma;Ma|=16;var r=Sl();for(Na===e&&Da===t||kl(e,t);;)try{Rl();break}catch(i){wl(e,i)}if(no(),Ma=n,Aa.current=r,null!==La)throw Error(s(261));return Na=null,Da=0,Ua}function Rl(){for(;null!==La;)Al(La)}function Cl(){for(;null!==La&&!Ri();)Al(La)}function Al(e){var t=$a(e.alternate,e,Pa);e.memoizedProps=e.pendingProps,null===t?xl(e):La=t,xa.current=null}function xl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=aa(n,t,Pa)))return void(La=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Pa)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=la(t)))return n.flags&=2047,void(La=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(La=t);La=t=e}while(null!==t);0===Ua&&(Ua=5)}function Ml(e){var t=ji();return qi(99,Nl.bind(null,e,t)),null}function Nl(e,t){do{Dl()}while(null!==el);if(0!==(48&Ma))throw Error(s(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,l=e.expirationTimes;0<o;){var c=31-jt(o),u=1<<c;i[c]=0,a[c]=-1,l[c]=-1,o&=~u}if(null!==il&&0===(24&r)&&il.has(e)&&il.delete(e),e===Na&&(La=Na=null,Da=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ma,Ma|=32,xa.current=null,Hr=Yt,mr(a=gr())){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else e:if(l=(l=a.ownerDocument)&&l.defaultView||window,(u=l.getSelection&&l.getSelection())&&0!==u.rangeCount){l=u.anchorNode,o=u.anchorOffset,c=u.focusNode,u=u.focusOffset;try{l.nodeType,c.nodeType}catch(S){l=null;break e}var h=0,p=-1,d=-1,f=0,_=0,g=a,m=null;t:for(;;){for(var v;g!==l||0!==o&&3!==g.nodeType||(p=h+o),g!==c||0!==u&&3!==g.nodeType||(d=h+u),3===g.nodeType&&(h+=g.nodeValue.length),null!==(v=g.firstChild);)m=g,g=v;for(;;){if(g===a)break t;if(m===l&&++f===o&&(p=h),m===c&&++_===u&&(d=h),null!==(v=g.nextSibling))break;m=(g=m).parentNode}g=v}l=-1===p||-1===d?null:{start:p,end:d}}else l=null;l=l||{start:0,end:0}}else l=null;Gr={focusedElem:a,selectionRange:l},Yt=!1,ul=null,hl=!1,Ya=r;do{try{Ll()}catch(S){if(null===Ya)throw Error(s(330));Wl(Ya,S),Ya=Ya.nextEffect}}while(null!==Ya);ul=null,Ya=r;do{try{for(a=e;null!==Ya;){var y=Ya.flags;if(16&y&&ve(Ya.stateNode,""),128&y){var T=Ya.alternate;if(null!==T){var E=T.ref;null!==E&&("function"===typeof E?E(null):E.current=null)}}switch(1038&y){case 2:ba(Ya),Ya.flags&=-3;break;case 6:ba(Ya),Ya.flags&=-3,Sa(Ya.alternate,Ya);break;case 1024:Ya.flags&=-1025;break;case 1028:Ya.flags&=-1025,Sa(Ya.alternate,Ya);break;case 4:Sa(Ya.alternate,Ya);break;case 8:wa(a,l=Ya);var b=l.alternate;Ta(l),null!==b&&Ta(b)}Ya=Ya.nextEffect}}catch(S){if(null===Ya)throw Error(s(330));Wl(Ya,S),Ya=Ya.nextEffect}}while(null!==Ya);if(E=Gr,T=gr(),y=E.focusedElem,a=E.selectionRange,T!==y&&y&&y.ownerDocument&&_r(y.ownerDocument.documentElement,y)){null!==a&&mr(y)&&(T=a.start,void 0===(E=a.end)&&(E=T),"selectionStart"in y?(y.selectionStart=T,y.selectionEnd=Math.min(E,y.value.length)):(E=(T=y.ownerDocument||document)&&T.defaultView||window).getSelection&&(E=E.getSelection(),l=y.textContent.length,b=Math.min(a.start,l),a=void 0===a.end?b:Math.min(a.end,l),!E.extend&&b>a&&(l=a,a=b,b=l),l=fr(y,b),o=fr(y,a),l&&o&&(1!==E.rangeCount||E.anchorNode!==l.node||E.anchorOffset!==l.offset||E.focusNode!==o.node||E.focusOffset!==o.offset)&&((T=T.createRange()).setStart(l.node,l.offset),E.removeAllRanges(),b>a?(E.addRange(T),E.extend(o.node,o.offset)):(T.setEnd(o.node,o.offset),E.addRange(T))))),T=[];for(E=y;E=E.parentNode;)1===E.nodeType&&T.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"===typeof y.focus&&y.focus(),y=0;y<T.length;y++)(E=T[y]).element.scrollLeft=E.left,E.element.scrollTop=E.top}Yt=!!Hr,Gr=Hr=null,e.current=n,Ya=r;do{try{for(y=e;null!==Ya;){var O=Ya.flags;if(36&O&&ma(y,Ya.alternate,Ya),128&O){T=void 0;var k=Ya.ref;if(null!==k){var w=Ya.stateNode;Ya.tag,T=w,"function"===typeof k?k(T):k.current=T}}Ya=Ya.nextEffect}}catch(S){if(null===Ya)throw Error(s(330));Wl(Ya,S),Ya=Ya.nextEffect}}while(null!==Ya);Ya=null,Ui(),Ma=i}else e.current=n;if(Ja)Ja=!1,el=e,tl=t;else for(Ya=r;null!==Ya;)t=Ya.nextEffect,Ya.nextEffect=null,8&Ya.flags&&((O=Ya).sibling=null,O.stateNode=null),Ya=t;if(0===(r=e.pendingLanes)&&(Ka=null),1===r?e===sl?ol++:(ol=0,sl=e):ol=0,n=n.stateNode,ki&&"function"===typeof ki.onCommitFiberRoot)try{ki.onCommitFiberRoot(Oi,n,void 0,64===(64&n.current.flags))}catch(S){}if(gl(e,Vi()),za)throw za=!1,e=Qa,Qa=null,e;return 0!==(8&Ma)||$i(),null}function Ll(){for(;null!==Ya;){var e=Ya.alternate;hl||null===ul||(0!==(8&Ya.flags)?et(Ya,ul)&&(hl=!0):13===Ya.tag&&Ra(e,Ya)&&et(Ya,ul)&&(hl=!0));var t=Ya.flags;0!==(256&t)&&ga(e,Ya),0===(512&t)||Ja||(Ja=!0,Xi(97,(function(){return Dl(),null}))),Ya=Ya.nextEffect}}function Dl(){if(90!==tl){var e=97<tl?97:tl;return tl=90,qi(e,Ul)}return!1}function Pl(e,t){nl.push(t,e),Ja||(Ja=!0,Xi(97,(function(){return Dl(),null})))}function Bl(e,t){rl.push(t,e),Ja||(Ja=!0,Xi(97,(function(){return Dl(),null})))}function Ul(){if(null===el)return!1;var e=el;if(el=null,0!==(48&Ma))throw Error(s(331));var t=Ma;Ma|=32;var n=rl;rl=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"===typeof a)try{a()}catch(c){if(null===o)throw Error(s(330));Wl(o,c)}}for(n=nl,nl=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var l=i.create;i.destroy=l()}catch(c){if(null===o)throw Error(s(330));Wl(o,c)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Ma=t,$i(),!0}function Fl(e,t,n){ho(e,t=pa(0,t=ca(n,t),1)),t=pl(),null!==(e=_l(e,1))&&(Vt(e,1,t),gl(e,t))}function Wl(e,t){if(3===e.tag)Fl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Fl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ka||!Ka.has(r))){var i=da(n,e=ca(t,e),1);if(ho(n,i),i=pl(),null!==(n=_l(n,1)))Vt(n,1,i),gl(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ka||!Ka.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function Hl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=pl(),e.pingedLanes|=e.suspendedLanes&n,Na===e&&(Da&n)===n&&(4===Ua||3===Ua&&(62914560&Da)===Da&&500>Vi()-Za?kl(e,0):Va|=n),gl(e,t)}function Gl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===ji()?1:2:(0===ll&&(ll=Wa),0===(t=Ht(62914560&~ll))&&(t=4194304))),n=pl(),null!==(e=_l(e,t))&&(Vt(e,t,n),gl(e,n))}function Vl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function jl(e,t,n,r){return new Vl(e,t,n,r)}function Zl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ql(e,t){var n=e.alternate;return null===n?((n=jl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Xl(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Zl(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case k:return $l(n.children,i,o,t);case P:a=8,i|=16;break;case w:a=8,i|=1;break;case S:return(e=jl(12,n,t,8|i)).elementType=S,e.type=S,e.lanes=o,e;case A:return(e=jl(13,n,t,i)).type=A,e.elementType=A,e.lanes=o,e;case x:return(e=jl(19,n,t,i)).elementType=x,e.lanes=o,e;case B:return Yl(n,i,o,t);case U:return(e=jl(24,n,t,i)).elementType=U,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:a=10;break e;case R:a=9;break e;case C:a=11;break e;case M:a=14;break e;case N:a=16,r=null;break e;case L:a=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=jl(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function $l(e,t,n,r){return(e=jl(7,e,r,t)).lanes=n,e}function Yl(e,t,n,r){return(e=jl(23,e,r,t)).elementType=B,e.lanes=n,e}function zl(e,t,n){return(e=jl(6,e,null,t)).lanes=n,e}function Ql(e,t,n){return(t=jl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Kl(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Gt(0),this.expirationTimes=Gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gt(0),this.mutableSourceEagerHydrationData=null}function Jl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:O,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,o=pl(),a=dl(i);e:if(n){t:{if(ze(n=n._reactInternals)!==n||1!==n.tag)throw Error(s(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(mi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(s(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=Ti(n,c,l);break e}}n=l}else n=pi;return null===t.context?t.context=n:t.pendingContext=n,(t=uo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ho(i,t),fl(i,a,o),a}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Kl(e,t,null!=n&&!0===n.hydrate),t=jl(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,lo(t),e[ei]=n.current,Mr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function oc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function sc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if("function"===typeof i){var a=i;i=function(){var e=tc(s);a.call(e)}}ec(t,s,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),s=o._internalRoot,"function"===typeof i){var l=i;i=function(){var e=tc(s);l.call(e)}}El((function(){ec(t,s,e,i)}))}return tc(s)}function ac(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!oc(t))throw Error(s(200));return Jl(e,t,null,n)}$a=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||fi.current)Bs=!0;else{if(0===(n&r)){switch(Bs=!1,t.tag){case 3:Xs(t),$o();break;case 5:Po(t);break;case 1:mi(t.type)&&Ei(t);break;case 4:Lo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;hi(Ki,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Ks(e,t,n):(hi(Uo,1&Uo.current),null!==(t=oa(e,t,n))?t.sibling:null);hi(Uo,1&Uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return ia(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),hi(Uo,Uo.current),r)break;return null;case 23:case 24:return t.lanes=0,Gs(e,t,n)}return oa(e,t,n)}Bs=0!==(16384&e.flags)}else Bs=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=gi(t,di.current),oo(t,n),i=as(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var o=!0;Ei(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,lo(t);var a=r.getDerivedStateFromProps;"function"===typeof a&&mo(t,r,a,e),i.updater=vo,t.stateNode=i,i._reactInternals=t,bo(t,r,e,n),t=qs(null,t,r,!0,o,n)}else t.tag=0,Us(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Zl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===M)return 14}return 2}(i),e=Qi(i,e),o){case 0:t=js(null,t,i,e,n);break e;case 1:t=Zs(null,t,i,e,n);break e;case 11:t=Fs(null,t,i,e,n);break e;case 14:t=Ws(null,t,i,Qi(i.type,e),r,n);break e}throw Error(s(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,js(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Zs(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 3:if(Xs(t),r=t.updateQueue,null===e||null===r)throw Error(s(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,co(e,t),fo(t,r,null,n),(r=t.memoizedState.element)===i)$o(),t=oa(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Ho=$r(t.stateNode.containerInfo.firstChild),Wo=t,o=Go=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Yo.push(o);for(n=Ro(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Us(e,t,r,n),$o();t=t.child}return t;case 5:return Po(t),null===e&&Zo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,jr(r,i)?a=null:null!==o&&jr(r,o)&&(t.flags|=16),Vs(e,t),Us(e,t,a,n),t.child;case 6:return null===e&&Zo(t),null;case 13:return Ks(e,t,n);case 4:return Lo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Io(t,null,r,n):Us(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fs(e,t,r,i=t.elementType===r?i:Qi(r,i),n);case 7:return Us(e,t,t.pendingProps,n),t.child;case 8:case 12:return Us(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var l=t.type._context;if(hi(Ki,l._currentValue),l._currentValue=o,null!==a)if(l=a.value,0===(o=ur(l,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(a.children===i.children&&!fi.current){t=oa(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){a=l.child;for(var u=c.firstContext;null!==u;){if(u.context===r&&0!==(u.observedBits&o)){1===l.tag&&((u=uo(-1,n&-n)).tag=2,ho(l,u)),l.lanes|=n,null!==(u=l.alternate)&&(u.lanes|=n),io(l.return,n),c.lanes|=n;break}u=u.next}}else a=10===l.tag&&l.type===t.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===t){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}Us(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,oo(t,n),r=r(i=so(i,o.unstable_observedBits)),t.flags|=1,Us(e,t,r,n),t.child;case 14:return o=Qi(i=t.type,t.pendingProps),Ws(e,t,i,o=Qi(i.type,o),r,n);case 15:return Hs(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Qi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,Ei(t)):e=!1,oo(t,n),To(t,r,i),bo(t,r,i,n),qs(null,t,r,!0,e,n);case 19:return ia(e,t,n);case 23:case 24:return Gs(e,t,n)}throw Error(s(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(fl(e,4,pl()),rc(e,4))},nt=function(e){13===e.tag&&(fl(e,67108864,pl()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=pl(),n=dl(e);fl(e,n,t),rc(e,n)}},it=function(e,t){return t()},Ie=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=oi(r);if(!i)throw Error(s(90));Q(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&se(e,!!n.multiple,t,!1)}},Ne=Tl,Le=function(e,t,n,r,i){var o=Ma;Ma|=4;try{return qi(98,e.bind(null,t,n,r,i))}finally{0===(Ma=o)&&(Xa(),$i())}},De=function(){0===(49&Ma)&&(function(){if(null!==il){var e=il;il=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,gl(e,Vi())}))}$i()}(),Dl())},Pe=function(e,t){var n=Ma;Ma|=2;try{return e(t)}finally{0===(Ma=n)&&(Xa(),$i())}};var lc={Events:[ri,ii,oi,xe,Me,Dl,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},uc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{Oi=hc.inject(uc),ki=hc}catch(ge){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lc,t.createPortal=ac,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ma;if(0!==(48&n))return e(t);Ma|=1;try{if(e)return qi(99,e.bind(null,t))}finally{Ma=n,$i()}},t.hydrate=function(e,t,n){if(!oc(t))throw Error(s(200));return sc(null,e,t,!0,n)},t.render=function(e,t,n){if(!oc(t))throw Error(s(200));return sc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!oc(e))throw Error(s(40));return!!e._reactRootContainer&&(El((function(){sc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=Tl,t.unstable_createPortal=function(e,t){return ac(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!oc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return sc(e,t,n,!1,r)},t.version="17.0.2"},1168:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(534)},4389:function(e,t,n){"use strict";e.exports=n(9845)},1624:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,_=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,T=n?Symbol.for("react.scope"):60119;function E(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case h:case o:case a:case s:case d:return e;default:switch(e=e&&e.$$typeof){case c:case p:case g:case _:case l:return e;default:return t}}case i:return t}}}function b(e){return E(e)===h}t.AsyncMode=u,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=p,t.Fragment=o,t.Lazy=g,t.Memo=_,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=d,t.isAsyncMode=function(e){return b(e)||E(e)===u},t.isConcurrentMode=b,t.isContextConsumer=function(e){return E(e)===c},t.isContextProvider=function(e){return E(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return E(e)===p},t.isFragment=function(e){return E(e)===o},t.isLazy=function(e){return E(e)===g},t.isMemo=function(e){return E(e)===_},t.isPortal=function(e){return E(e)===i},t.isProfiler=function(e){return E(e)===a},t.isStrictMode=function(e){return E(e)===s},t.isSuspense=function(e){return E(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===a||e===s||e===d||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===_||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p||e.$$typeof===v||e.$$typeof===y||e.$$typeof===T||e.$$typeof===m)},t.typeOf=E},6214:function(e,t,n){"use strict";e.exports=n(1624)},5230:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case a:case s:case p:case d:return e;default:switch(e=e&&e.$$typeof){case u:case c:case h:case _:case f:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},6440:function(e,t,n){"use strict";n(5230)},5918:function(e,t,n){"use strict";n(1843);var r=n(7313),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:s.current}}t.jsx=c,t.jsxs=c},306:function(e,t,n){"use strict";var r=n(1843),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var s=60109,a=60110,l=60112;t.Suspense=60113;var c=60115,u=60116;if("function"===typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),o=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),s=h("react.provider"),a=h("react.context"),l=h("react.forward_ref"),t.Suspense=h("react.suspense"),c=h("react.memo"),u=h("react.lazy")}var p="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_={};function g(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||f}function m(){}function v(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||f}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=g.prototype;var y=v.prototype=new m;y.constructor=v,r(y,g.prototype),y.isPureReactComponent=!0;var T={current:null},E=Object.prototype.hasOwnProperty,b={key:!0,ref:!0,__self:!0,__source:!0};function O(e,t,n){var r,o={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)E.call(t,r)&&!b.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:e,key:s,ref:a,props:o,_owner:T.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var w=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,n,r,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case o:l=!0}}if(l)return s=s(l=e),e=""===r?"."+S(l,0):r,Array.isArray(s)?(n="",null!=e&&(n=e.replace(w,"$&/")+"/"),I(s,t,n,"",(function(e){return e}))):null!=s&&(k(s)&&(s=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(w,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var u=r+S(a=e[c],c);l+=I(a,t,n,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=I(a=a.value,t,n,u=r+S(a,c++),s);else if("object"===a)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function R(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function C(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function x(){var e=A.current;if(null===e)throw Error(d(321));return e}var M={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error(d(143));return e}},t.Component=g,t.PureComponent=v,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var o=r({},e.props),s=e.key,a=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,l=T.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)E.call(t,u)&&!b.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){c=Array(u);for(var h=0;h<u;h++)c[h]=arguments[h+2];o.children=c}return{$$typeof:i,type:e.type,key:s,ref:a,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:a,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=O,t.createFactory=function(e){var t=O.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:C}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return x().useCallback(e,t)},t.useContext=function(e,t){return x().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return x().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return x().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return x().useLayoutEffect(e,t)},t.useMemo=function(e,t){return x().useMemo(e,t)},t.useReducer=function(e,t,n){return x().useReducer(e,t,n)},t.useRef=function(e){return x().useRef(e)},t.useState=function(e){return x().useState(e)},t.version="17.0.2"},7313:function(e,t,n){"use strict";e.exports=n(306)},6417:function(e,t,n){"use strict";e.exports=n(5918)},8937:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(x){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),s=new R(r||[]);return o._invoke=function(e,t,n){var r=h;return function(i,o){if(r===d)throw new Error("Generator is already running");if(r===f){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=w(s,n);if(a){if(a===_)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var l=u(e,t,n);if("normal"===l.type){if(r=n.done?f:p,l.arg===_)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=f,n.method="throw",n.arg=l.arg)}}}(e,n,s),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(x){return{type:"throw",arg:x}}}e.wrap=c;var h="suspendedStart",p="suspendedYield",d="executing",f="completed",_={};function g(){}function m(){}function v(){}var y={};l(y,o,(function(){return this}));var T=Object.getPrototypeOf,E=T&&T(T(C([])));E&&E!==n&&r.call(E,o)&&(y=E);var b=v.prototype=g.prototype=Object.create(y);function O(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(i,o,s,a){var l=u(e[i],e,o);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"===typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(h).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,a)}))}a(l.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function w(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,w(e,n),"throw"===n.method))return _;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}var i=u(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,_;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,_):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,_)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function C(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:A}}function A(){return{value:t,done:!0}}return m.prototype=v,l(b,"constructor",v),l(v,"constructor",m),m.displayName=l(v,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,a,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},O(k.prototype),l(k.prototype,s,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var s=new k(c(t,n,r,i),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},O(b),l(b,a,"Generator"),l(b,o,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return a.type="throw",a.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var l=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(l&&c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,_):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),_},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),_}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),_}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},3095:function(e,t){"use strict";var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,u=null,h=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(h,0))},r=function(e,t){u=setTimeout(e,t)},i=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var f=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof f&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var _=!1,g=null,m=-1,v=5,y=0;t.unstable_shouldYield=function(){return t.unstable_now()>=y},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<e?Math.floor(1e3/e):5};var T=new MessageChannel,E=T.port2;T.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();y=e+v;try{g(!0,e)?E.postMessage(null):(_=!1,g=null)}catch(n){throw E.postMessage(null),n}}else _=!1},n=function(e){g=e,_||(_=!0,E.postMessage(null))},r=function(e,n){m=p((function(){e(t.unstable_now())}),n)},i=function(){d(m),m=-1}}function b(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<w(i,t)))break e;e[r]=t,e[n]=i,n=r}}function O(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,s=e[o],a=o+1,l=e[a];if(void 0!==s&&0>w(s,n))void 0!==l&&0>w(l,s)?(e[r]=l,e[a]=n,r=a):(e[r]=s,e[o]=n,r=o);else{if(!(void 0!==l&&0>w(l,n)))break e;e[r]=l,e[a]=n,r=a}}}return t}return null}function w(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],I=[],R=1,C=null,A=3,x=!1,M=!1,N=!1;function L(e){for(var t=O(I);null!==t;){if(null===t.callback)k(I);else{if(!(t.startTime<=e))break;k(I),t.sortIndex=t.expirationTime,b(S,t)}t=O(I)}}function D(e){if(N=!1,L(e),!M)if(null!==O(S))M=!0,n(P);else{var t=O(I);null!==t&&r(D,t.startTime-e)}}function P(e,n){M=!1,N&&(N=!1,i()),x=!0;var o=A;try{for(L(n),C=O(S);null!==C&&(!(C.expirationTime>n)||e&&!t.unstable_shouldYield());){var s=C.callback;if("function"===typeof s){C.callback=null,A=C.priorityLevel;var a=s(C.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?C.callback=a:C===O(S)&&k(S),L(n)}else k(S);C=O(S)}if(null!==C)var l=!0;else{var c=O(I);null!==c&&r(D,c.startTime-n),l=!1}return l}finally{C=null,A=o,x=!1}}var B=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){M||x||(M=!0,n(P))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return O(S)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=B,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,o,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:R++,callback:o,priorityLevel:e,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>a?(e.sortIndex=s,b(I,e),null===O(S)&&e===O(I)&&(N?i():N=!0,r(D,s-a))):(e.sortIndex=l,b(S,e),M||x||(M=!0,n(P))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},2224:function(e,t,n){"use strict";e.exports=n(3095)},1531:function(e,t,n){"use strict";var r=n(7313);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useState,s=r.useEffect,a=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,u=r[1];return a((function(){i.value=n,i.getSnapshot=t,c(i)&&u({inst:i})}),[e,n,t]),s((function(){return c(i)&&u({inst:i}),e((function(){c(i)&&u({inst:i})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},5531:function(e,t,n){"use strict";var r=n(7313),i=n(1239);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=i.useSyncExternalStore,a=r.useRef,l=r.useEffect,c=r.useMemo,u=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var h=a(null);if(null===h.current){var p={hasValue:!1,value:null};h.current=p}else p=h.current;h=c((function(){function e(e){if(!l){if(l=!0,s=e,e=r(e),void 0!==i&&p.hasValue){var t=p.value;if(i(t,e))return a=t}return a=e}if(t=a,o(s,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(s=e,a=n)}var s,a,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var d=s(e,h[0],h[1]);return l((function(){p.hasValue=!0,p.value=d}),[d]),u(d),d}},1239:function(e,t,n){"use strict";e.exports=n(1531)},7058:function(e,t,n){"use strict";e.exports=n(5531)},1024:function(e){"use strict";var t=function(){};e.exports=t},8926:function(e,t,n){var r={"./edu/cde1.xml":[5769,769],"./mini/cdm1.xml":[8756,756],"./mini/jr_flight.xml":[7097,97],"./mini/jr_flip_LED_sound.xml":[6948,948],"./mini/sr_flight_commands.xml":[1480,480],"./mini/sr_flight_variables.xml":[8512,512],"./mini/sr_sensors_LEDs_sounds.xml":[4401,401]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return n.e(t[1]).then((function(){return n.t(i,17)}))}i.keys=function(){return Object.keys(r)},i.id=8926,e.exports=i},2868:function(e,t,n){var r={"./edu/cde1.PNG":94,"./mini/cdm1.PNG":5387};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=2868},94:function(e,t,n){"use strict";e.exports=n.p+"static/media/cde1.06c917b6c13857684670.PNG"},5387:function(e,t,n){"use strict";e.exports=n.p+"static/media/cdm1.1a21cb99c60f241294d4.PNG"},3611:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABAAAAAMACAAAAACf0UrRAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAAAHdElNRQfjBgkDBy2mlA1NAAAJHUlEQVR42u3UMQEAIAzAMMC/wMlBxo4mCnr1zgGq3nYAsMcAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIMwAIOwDP44G2Es9YA8AAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMDYtMDhUMjE6MDc6NDUrMDY6MDAX4PGDAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTA2LTA4VDIxOjA3OjQ1KzA2OjAwZr1JPwAAAABJRU5ErkJggg=="},2132:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAALqADAAQAAAABAAAALgAAAABSkiQEAAAKKElEQVRoBdVaa1OTSRZ+ck8gISEk3G8ConL1BiiDdxZRd2pr13Vr19kvVs3up/26v2J+xVaNuiM1WztbTumoo+s4ijIoFgJyNUQNhAAJIff7Ph2NiwoBZ8TLKU663367+zx9+vTp0/0iwS+kRCIhZxf7yIfJNeRqspGsIwvykJ3kUfIQ+TvydYlEEmX6bolgleQT5C/JLvKbkmgj2oo+lOuOnkIk5JPkR+S3RaIv0adkXQbAjg+R75LXi0Tfh94aeHYmJX+xXmiX6VfIkv6iAbCDLPK3y3S+3kVCZtbPAs+G5eSh9UaYpn8hu3wl8MsuCDYQo71N3rJSw3dU/pBydtF1Lr4q7zVbImhRdpb8XkBT/lKMAsPZ55iWlr+eZ6V3uRApbk30xatIXzIVdtHOCpdfrfSBPLfTZL5PYXkBnKBFvpe8PfXyA0vvEc9Ogk/a0lIb/9MHDFroUChUYExSUuPUtogXhskbnhV/sL8WIttMrYdFZCfoN+Q1gY5Go3C73VgkO10uRCNRaHVamEwm5OTkQC5PdQlQIaCQpADxE4lEYJ+2w+VyYoHtg8EgVCo1coxGFJcUw2AwvKi7QkZgFFi7UlLEw6pktVrR3d0NKRKoqavD+Ngoum/fgdfrRW5uLmpra9HS0oLy8nJ4CCwcDkGlVkNvyMbkpBW3fryFvvt3saulGc4FNy5cvAylQoH8/DxUVJSjtbUVjY2NUCrTBozPgFMrAvyx1VDbbDacOXMW/712leCacfhIZ1JbCwsL6Or6msAeY8G1wEH4cGDPJ/DNTSPAvMGcC6fRjH9+1YWbN29C6L+jo50Dr4fX40MkFoWGWheDHxwchEajpgLqXpqpV7AdE5gFaHEISDtHYsrHxsZgn7HjVx0daG5uQmaGFlWVWdBnforCggJI5YqkmQz09cHa1wO12wHPnBuqilLYlFmYsdtxhIPdvGkzNm6sQI5ej7/+5RQkMkUSpFCAY9YB21Mbampq0wEXWPcJ4J3ktCTsVKlUoPNwB+qpKUEPHvQjFvSirKISR44ehWfRjYnhYWgRhXNkDAqnHfE5D2Y8bixkmVCVb8be1l3YRG2K9dFz6zr2th9FQiqD5dEjKGgephwTQv5AOtApnIcF8DVt7fn5BRA2fvXqVWo7A/OuefTe6cbefQdRVVGBR+OjmBwZRmLRi3n3IkrCfpRrMjBitcGuWUSQJnDt8iU8fvIYc/NO3Ll1A1X125GdnUO774OFpmbgLOxpa10L8BoBXJwRVyWjMYdCn6K39x7y88xJ+x54OAZ/KILsLB38tNGYPwiNTAZ5MIQtejXqqosw3jeMqQUXPM44LLOzuD84hAg90yzBn6PdFxWV4B7N65HFgvr6OuSYzKtiYYVqAVwcbFelLILr7OyEhrZtmRjH9PR0EryPgO3My2lOCu5pBp0OMq7AmXAYAasFDvbsi8fgC4QQDQURcLogVcihVGXi/PkLKCktgclsxv4D+9HWuhtm5tdARgE8dRpPW18qlaKxoQEadQbu9+Wh924PHA4HPYkbHu8CnXQYWq0OEtZTazSwLgYwZJvBiL4YnnAQwWgIQdYJhDgALvaqygKEA37o9VnY2/YJtm3flnSjaUH8/6VOAF8TTU9N40F/L7K1PZix2TE4MA0HNa3TJqBRxiFVyyGVxjHrmoM+YYSXi/QpZ2CWvtztnoeciy+ckCEalyMe9aCjbRThOHDt1gh+uKHA1NRTNDRuxY4dO5DBNbQaCeDi3iMnXcURLrozp8+gt+cm/vb5GAoNLuRynsqbJNhUraIgJeKQY2ZGin99y83D70NQJkyEnXN3XPAGQW+JDG0GbVpCc1JjX4sdWXk+jD0qwN2+IfT09OLKlR9w4sRvcfz3v0uaYRpMHgFcXNasCDxEwV1fncPFCxewbes2FJX/GtUbBlC/+R9QyhPINvtA1JhyKDE8UoxL11SIS+JQZxqgUBkgcfuZylFS5EXTNie2NoRg0CqQy5Wl5Tnr81NN2Pe0AeOj99F//3v0dM+iuaUJVVUb0+CGUwAXN0wr1vIHArjdcwf5hQU4eLAFuQU1tNUoqowxSDVsSeGWCROstv2ISiuRV9APsZl4lCpMcH9Tyf3Y0ajDH4/bufn4UZArRcTP+YmFk3OtUyVQUmKEQppPRRQyjKDfZyyzCo0K4OJabMUtX845btpeh9JiJ4oLRxEP+fFgdAqxER1qd3thNiZo3wXQGE4hLg/RKzgQ8vng8LrhkMi4xcdQTe0VFRo5Cya4PWp4XAGoVV/DrAvip2v08eoAF30ZSspOwuOz0MvkroIbQwK4uMv7+0o1MzMz6aoO0E/fgDm3DCptDWTqcpy71YNhzziOm5wwGqMYf+LBT32MNRh3NNbXYH5ultGhFPpsmoymBF3/mcHOHTtRWlKKQCCGqYHrONphgzZbh/KyBsRiMUxaH6OoWI283LyV4KTKvxPAr5Ppz5aPV6RSCTurxL+/6cfQWJBxyQzohuGSb8ClbnpBhR2aTCX6h6/QRAJobdmKksI8Tvc8EvEE9AxZE5Dh0lUbzl+8S+AOZGq0eDhQTH+egNsXwlNnf3JH9Qd8aD+0H2pGlGlIYL0ugjURN3/J5DORX45C9L0/3uzGjRs/JoMlv98Pn3cRi9ze1eoYzIwxTOZCNNRuQm11Jd0iEGSbeCzCGERFs1Bh3MJd9/4Apu2z8HKHnecuajZFGJjpoKSp5Rfko2VXM7f8ttXi8tOMnf6cAn6CgM8tBzpVJg4Bk5OTGKNrtD5mSi8wOGRB9cZNaN+/h2ugkFNsYqwOhLhDhoI+hCMhxtsqxuQZdIdKzDndyfB38okNF65ch5lhQS2Dtu07m7GB66CsrIzBnColcqX0DwT+4iDxDWuJY9GGlWorGPBXVVViQ2kh42g3rl6Tw73ow762FrTt3sltXoaEhLCpCjltSSaTQhlWUuNqalQDmVyJ0kw9CvLzUVezCLtjFgpJGJ8e68CWuq2QKNQMrpYegZdFIjAKrELMM6K5nGTudOp5+ZRbIeOOOF2Z1TqBiQlqnGFttkGf3OpljK1Fl7F4BJFQGPFEjKbAOJ3alkj5jgf0eDSGWDSMCctjeLnlb29sgFbPEJsDT/LyglOln1HbZ8TDUuAiv4briWfgE4koQcQ5iOcfFqgtKSNDvhWLhuXclUgSLm4Jy0WswxNocuAJehBRLsrEgpAwJgcX8Cp0j+9fXE+8AC4aUevtTNZwIUR4BMcf0YYpu0n+ie4Es5y/gsQTbSCVe97u2aCeveW75HtRMS29dCH0Wk0C+Siu4JYDLi7y38edOMUuSwLLa6s2OZOvomdFRiAf2TWzGARX7iKTo2RxP/2+SMg++hzLm2EQmie/D7P5+Z9SUkMU9kV+lwtWyHrNplN43jhlZ+3k9f5cKNzx2ycC//g+0C5VAwfw3j+JL+sOl4JcLc9BMDpP3j+KqzxxKyYumMRdTeraY13+CeF/riD1dBRliPAAAAAASUVORK5CYII="},5431:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAuCAYAAABXuSs3AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAALqADAAQAAAABAAAALgAAAABSkiQEAAANTklEQVRoBdVaCXCUVRL+5shkck1OIIQzCuEIeCACIiwiWXGFLd0tT1xdxWOF0nJLgfUoT3R1V9RivdlylVvBNVpyiihRjiAJQshBQg4khByQayb3ZObt12+OzJBxy1Wjta/o+d///tfd3+vXr7v/PxjwI5tSykwRM0izSWNJaaQEUgxJmoPUQCohFZK2k7IMBkM3rz9vI1gL6TrSGlIj6X9twiO8IsPS5+ipxECaRyon/VRNZIlMQ58sgIJnkXJJfdVE9qyfDDyFGUkv9BXaEHJFl/FHLYACbKTNIYT39ZDotP0g8GQcTirsa4T/Rb7oHv5d4EMeCDLIarNJY76L8WcaL6KeKQyd9rP19fIlgpax9aRfGrRgFQzrvZjk/rsbJ/2cB5Hqvld74WzEQa5CERmcsOPsSYH3tTXVOHq0CEeLS+BwtPCRAYmJCZg7dy769esXODVk/6s9e7Fty2a0tLTCQO0xMTEYNmwoJl18MdLT02Eyh4Xk42AGXWan76EfOEFLP4c0wfcw8Prt8XKsXLkSx09UIS4+CRMnTkBsbKye0t7ejl9Nn4b+/ZICWUL2yyq+RW1tLeLi4qDcbpyqqUF+fiGOV5QDri7cdNMNmHLJpaF4D3JwIsGroIcELtkrZPti5w512223q7ffWaWqa+vU6foG1eV0Bc2trq5WubkHlcvlDhr33Zypr1dfH8hRHe3tviF9bWiyq263S7V3dKqt23eqO++6R2V++EHQnICbeWeDltojZBrfn71X3XX3QlVQVOLn5zbrBchAV2enWrN6DRd2h9qwMVN1u4IX5GM6faZePf3M39TChfeprVu3+oZVxbeV/r50ampPq/vue0B9lfV50Lj3RjD21Da8kWKnV2tx2NWSxYvVN4cLgp65CK7uTIMqKytTL728XCval30gaE6omy5nt8r8aJO6/8+L1Cou9tDhPFVdU9tral7+UfX4Y0+orq7OXs84cJ3f6ryRSq1XO3QwRz3x1LO9xktLS9XSpc+qaVOmqL8+/axqbQve/l4MZw00NjvUTVf/Xk2cMFEtWfIQrfulcjq7/LOa6D6PPPqEOnniuH8soLNGgJs5IPX0HP8qAjpy6LqdTuTkfoPx49MhAf6jzI/x3vsfoLGpCa0NjSgtKoQKPi5aQmtrK8rLKjA2fQxMJlOAVBbn9Q2oP3Maxq4u7M8+gEPf5OGSSyZh/h23o9nRipKSEgwcOKAXn1fIHMFsevLJJ2dy4O4gyf4bA9raOjA8dQi2bNmGDzZ+iC1bt8NoMnK8BY6OdtTWNyJ5YArGjB2jw5uwdhHQlk1b8fobK5CWNhJJiYl+EM32Fvzr7Xewa98eKC4oIT4e/fr3w6nqWmTv24+UlAGYPm0ampqaceGEC2E09sqRVqr4UuprCe6LROHZzUlr72XcTR8/HhHhFmzb+ilscfEYMKA/PvooE+vXrUVYmAVR4eG48aabcdtd83G8vBwbN2ZqqzlaWnRsTx0+DHfyGSMHXn/xJXy5dy8Ug7hbufD3ZcswadJk2O122JubGMvH4uDBQ0gekITBQ4aeDcl3/4IA38S7kK4is2TL8w4fwWhaND7OE7dddI2jhUV4+onHERMdh/jYKORwgcPSx3M3TKitqaP7uGDwWssAWjYhju7VCEN7K+Zedz3yDx1GZKQV9y9axGcJNICZ1jVQVz5ibVEYlpqqQYoX+pONHtE/mwW4vAuO7Bnr6fmYmhqbsIfALp0+HREREeik5XjicerESRiZ6ZIG9MMXn3+GVStXw2gwwxRmYnIhNzUaDUa6kBEtrQ4MGzoYC++9F6kE1Ug/DwsLgy3WhjDKCLeGo7CoGHWnKpEx+4oeEKF7x+Rgyott6Ebdkk9F+KmqKtTQD0eMPBdhFoIzGXBO2gi4urvByI2rr/kd07cNLy57GXFWipQER3cwGk1wu1yIjLBiwYIFGD16NDo7O7W7mXhWDHwuZ8ZsNuJkZRVO11aFxhI8miCe73sbD34kdwQt25R/5AgOc2sTWJOYuJ1iIYvFgnBaLJz+beGVKVNb0GIJ1zw+YQYoAjNwvhXdXKSEIKvwcJ6cD3ERszfqTJo8Ebu/ysburCwf+3ddY3od2cCZAnrf7j1Y+tRSXDlnLmuRBB05xBfltBvMJhZFZoRbwnSoPFZ8jBwKTpcTLreTh092ww1mUzDVo/JEJRfKBZPHRAuLpQ1algHMaWhsqMe8P8zD8uWvYs3Kd3UtE4gnsC/A5btHyLZ10ya8/NJy/OmeBag9VYW1azdAwpkPuInghQy0mJlWbHY0IyUyApNSknkcQeAKcbTo9KEpCINbH04zFwsBTT4th+5UV1eP555bhmdooHHjRuHlV5ZjV9Y+vLduXUhcHHQIcPlY06sdKy7G6tXr8JdHH0HGFbNgtVqw4q038cjDj+FE5SlvzPa4gUSP3dwZCZ15x8swOTEWk2Ki4WAUuX7IQFi62lFUVoqdn+1ENhOOXqxsJ5udpfEzS5/Hjk+3Yc7c2UhM6o/Bg1Lw1NIn8dmOL1DMBBeiNUgCki9QaYEPXa5uvP7q65h1xW8wc+Z0nRnTx6UjjFu7a1cWDuYewq8um8EIE65r8vffXY1/PP882p2dPLgWfFVShpO0vqO9DQV1ddh/vJJJKhn1p08jd+dOuhLD2JhR+kysWPEucg/sxx3zb8G119+gw6lgsdliYAmPwp7duzD10mmB8KSfLVFFlhQUx+v4stDYYMdsb1hifNC+fMttf9TZ7K033sKDDyzioi5Dbk4Ocr/YialTJ+OaW+ejmH7+6eZPUFVZyWjihoM197jx5+HaG25EbFwMMv/5Jt587TUcKixktIpH1o7teOjhxZjNFxFpUj7IC4a09PHjsH3bFrQzS0dERnsGPb+FAly+5S0OHK2rqaVV3Cg+WozUc1Nhi4n0Px533nkYktwfq1atQXFJMaOewqVXXokHFzP50pJhRjMi6IAnSku5G3Yk8K0oddRopvKBGDR4EB58/gVYX3kVWbu+RKezC6qpgWDFNJ4moJuaW5Cflw97Uz0GJg9EG5PgWcC3C/AsUhMpzsNK5QxVY9PHMSta8ElmJiKibfr1TMKZUM6RAlhtNpioxWS2oKPTjaZGB/onxePcoYMwaFAyOvhGJPHbJCGTYU9itsT+M/V2HtIWJhyrdgs7E9r6Df9G2bc8NzwrDCXMxDFIGzUCE2bNRHXNGURHB1lbsGaZ+SrUzRVv5s3Nvm3qn5zMWG3EOSNGYmDKIJSVHkNFeQVrjQ69+urqKrS0tUJRUawtDge+zsYKhrglSx5AJN8hwyko1hvNFcOjdBV/Ojq7sHb1ehQWHGEItXCxDVqOs6sNky++gHkiEdHkt9liYWXCqqquR2I85UVE+Wwq182CWSwu7WPqulk6EsJEwLmpw+gKxzEqbTjGjj8f6eedD7orOhmP8/IO4zNGiNioKMy/9RYdBjtYjlpo1TDGae2iHrw684pcSfsOhlJnhwMZl8/AsOGpWL1qJZOXARkZv8a481kJMqwKr+yOm8oK8vIwdfpUYQ/0/Y/l3qNDPhuzbiLmVJnBFaGZ1sjJycOEiy/SRY/HTdysUTrwwYaNcLNWsdE602dcjpj4OEQwCZkYo6Xqk53QgkUDm/ZgWTVJanwpY+zNDhwrykcbI4/TbcDMWZfTjyO9odKAgoISWPnCP2rsaA1a5FB0BS+jia/LL5/uMs/tVmtlghwWSRANZ87g2LEKpAwejKSkBJ3pcvYfgJOgL7joQo1IrCRzpWAy01LaT6mB/7yIPRcpuhT910Xw3c5ubVGxqiSkQyxjqRJjGXJlUVITxUZbMYSfLXirEYs4yryZoHVWCgQuASKH4Pl5QpSwsiMgvgxrQXKyJfS1tjt1ldjd3YXWFodO4WNoFQtdxEjJwiPmJnRRqZtWToHihmIU+R5TXlqhF2Lm4Rae4sICJPVLxIi0NAaCeERGR3kqTK8MlgYHKdH/eaJHOidQaAZrBn4QogJh4I9YTgRLreGwOzhEd+FiJEaHMyKEh1sRGcUtpuVlsoAXV9NNLlqQlq27Alzcrq2tTVeW8m1FCi0pwqR+sTLacIpeoLBqSYLBYAj9QcijiaHYJZ/g3PqNSJR4mheMgKJ6GdfPvAClL2CFBLhu3ovu+8ALr3YZj0H8wGR/hE94/Do9YuSXNc0yPg/KNYHi9UyCMBL8J5RwlUdGj3gR7JHtRSLK9CQqZpUnz/wAtDT++Nh5la5esBecV4rmI6Pn6uPzXilvCx/9llee7p4muno1CrdxB7Np+TE+vYGT/GMCnE3/8ker1tcevPLcB1D3fRblYOC4R5LM6Gk0RhHHv99nZmHj6ux066t4FcaeJkC9luEzDVhjl2EPfO+v3Pc06feQzNQMAWPeuT2TxD1Et2Cw90j6nj2P5dVm+R4YihjOeLa4L0Kc/H2bzPXwCX9v4uMf/qcU39oo5P/vj1c+8HLlAjJIff3nwoxAnT9Zn8Dlc4Z8ji4n/VRNZIlM8fC+bVTyi/9J/EevkouQCnMG6UqS/LFJXgPlW43vs0ef/CeE/wDJOAnHRMMtfQAAAABJRU5ErkJggg=="},5066:function(e,t,n){"use strict";e.exports=n.p+"static/media/front_low.ee4c9433ef586e5b8539.jpg"},5375:function(e,t,n){"use strict";e.exports=n.p+"static/media/blockly_cde_blob.26070901953658b5d210.jpg"},3883:function(e,t,n){"use strict";e.exports=n.p+"static/media/blockly_cdm_blob.13f8932ad1c89015e998.jpg"},2463:function(e,t,n){"use strict";e.exports=n.p+"static/media/blockly_cdp_blob.c4e268f40729d3c417d2.jpg"},3591:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAOCAYAAAA8E3wEAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4wESFRsQNRjPTQAAAJxJREFUOMtjTDjqHPGfgXEyIyODCAP1wVdGhv+986321sMEmKCWiTIwMDDSAPP8Z2CsizviIge3kEY+QwGMLEyicAsZ6AwYE465/Id6n1bgPyMDw/X/DAzfGBgYGFjo4av/DAyaAxakw99CusQh3RPNPyam2IUWu84OWJC+hqRcGmaLP/9eIxVt/3OhltIi/31h+M/QuMhmzyOYGABBnSki0F2DwgAAAABJRU5ErkJggg=="},1604:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAOCAYAAAA8E3wEAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4wESFRklUZ1p7AAAAJpJREFUOMtjTDjqHPGfgXEyIyODCAP1wVdGhv+986321sMEmPBYxkgFzPOfgbEu7oiLHNxCGvkM1eUsTKJwCxnoDBgTjrn8xyVHJTv+MzIwXP/PwPCNgYGBgYUevvrPwKA5YEE6/C2kSxzSPdH8Y2KKXWix6+yAxeFr3KmZKpjh/59/r5GKtv+5eCylNP99YfjP0LjIZs8jmBgAx0w6CkBtkWAAAAAASUVORK5CYII="},5366:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAOCAYAAAA8E3wEAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4wESFQ4XnMm8+gAAAJpJREFUOMtjTDjqHPGfgXEyIyODCAP1wVdGhv+986321sMEmMiwjJEEzPOfgbEu7oiLHNxCGvkM1YUsTKJwCxnoDBgTjrn8J1UPier/MzIwXP/PwPCNgYGBgYUevvrPwKA5YEE6/C2kSxzSPdH8Y2KKXWix6+yAxeFr0lM5SZjh/59/r5GKtv+5ZFhKrMu+MPxnaFxks+cRTAwAQdY0CmPRVtYAAAAASUVORK5CYII="},639:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAOCAYAAAA8E3wEAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4wESFRc4rBgouwAAAJpJREFUOMtjTDjqHPGfgXEyIyODCAP1wVdGhv+986321sMEmKhkGSMOzPOfgbEu7oiLHNxCGvkM1TUsTKJwCxnoDBgTjrn8p4Y5eOT+MzIwXP/PwPCNgYGBgYUevvrPwKA5YEE6/C2kSxzSPdH8Y2KKXWix6+yAxeFr6qR8nJjh/59/r5GKtv+5VLIUmyu+MPxnaFxks+cRTAwA6z8vCjBFRwAAAAAASUVORK5CYII="},4269:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJcAAACXCAYAAAAYn8l5AAABN2lDQ1BBZG9iZSBSR0IgKDE5OTgpAAAokZWPv0rDUBSHvxtFxaFWCOLgcCdRUGzVwYxJW4ogWKtDkq1JQ5ViEm6uf/oQjm4dXNx9AidHwUHxCXwDxamDQ4QMBYvf9J3fORzOAaNi152GUYbzWKt205Gu58vZF2aYAoBOmKV2q3UAECdxxBjf7wiA10277jTG+38yH6ZKAyNguxtlIYgK0L/SqQYxBMygn2oQD4CpTto1EE9AqZf7G1AKcv8ASsr1fBBfgNlzPR+MOcAMcl8BTB1da4Bakg7UWe9Uy6plWdLuJkEkjweZjs4zuR+HiUoT1dFRF8jvA2AxH2w3HblWtay99X/+PRHX82Vun0cIQCw9F1lBeKEuf1UYO5PrYsdwGQ7vYXpUZLs3cLcBC7dFtlqF8hY8Dn8AwMZP/fNTP8gAAAAJcEhZcwAALiMAAC4jAXilP3YAAAaXaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0NSA3OS4xNjM0OTksIDIwMTgvMDgvMTMtMTY6NDA6MjIgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjAtMDYtMDJUMTA6MDk6MzYtMDM6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjAtMDYtMDJUMTA6MDk6MzYtMDM6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIwLTA2LTAyVDEwOjA5OjM2LTAzOjAwIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjBjYzIwNzIxLTg3MzktODM0NC1hNWI3LTJmMTAwOTQyOTAzMyIgeG1wTU06RG9jdW1lbnRJRD0iYWRvYmU6ZG9jaWQ6cGhvdG9zaG9wOmYyY2M3OTJkLWI0ODUtOTU0MC05MGVkLTMzM2E1ODMyNzY4MSIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjVjMjAyYjQzLTA4N2YtNjA0Zi04MTFjLWZlMmM1YTlkN2FmOSIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9IkFkb2JlIFJHQiAoMTk5OCkiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo1YzIwMmI0My0wODdmLTYwNGYtODExYy1mZTJjNWE5ZDdhZjkiIHN0RXZ0OndoZW49IjIwMjAtMDYtMDJUMTA6MDk6MzYtMDM6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE5IChXaW5kb3dzKSIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MGNjMjA3MjEtODczOS04MzQ0LWE1YjctMmYxMDA5NDI5MDMzIiBzdEV2dDp3aGVuPSIyMDIwLTA2LTAyVDEwOjA5OjM2LTAzOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOSAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDxwaG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDxyZGY6QmFnPiA8cmRmOmxpPmFkb2JlOmRvY2lkOnBob3Rvc2hvcDo5NjMxNTY4YS0xOTNhLWY3NGUtODI0Yi04OTczY2NlZTQzYmM8L3JkZjpsaT4gPC9yZGY6QmFnPiA8L3Bob3Rvc2hvcDpEb2N1bWVudEFuY2VzdG9ycz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6fWGoKAAANA0lEQVR4nO2dW2wU1xnHz20ue7fXxDY3g5HTJMig0kvSVm1KmgRVDYFEUdMqL1XVl1riATVq+1IUkT6Qh7TiASl9CJEqRQIViNoCaUVIW6G0CW4CkbkZGdiG4GCM195de3dnd2bO6QtnOLvGBl+Od1l/v7f/+Mz4s/fv832ec8OoQdi2bZuxZs0aS2rDMFg4HI6pbSzLalM1Y6xV1UIIhBDCc4kDYyxU7XnesKpd1x3lnLtSFwqFcdd1PamvXLlS2rNnj4saAFbrAOaLlStX2u3t7YFZKKVR0zTXq20opS+omhCyVXdcnPO/VOl/CSHSUkej0T7f9yekdl13GCHUEOYitQ4AaFzAXIA25lRf6GTz5s0Vxl+/fr1p2zaV2rIswzRNU+qWlpYHIpHIcqkxxnFK6Vr1GYSQp1WNMf72/EdeiRDiA1Vzzv+LEMpI7fv+eSFETup8Pj+YTqdvKl/3C4WCI7XjOH5fX19ZfeaRI0e4jtjnSt2aa8+ePWFVt7e3P0opXSk1IeQ7GOMfSI0xjmGM4wsZow6EEDkhxLii+znnf5Ta9/3Ph4aGetV7tm3bVljIGO8VSIuANsBcgDbAXIA26qbmOnTo0GZVG4bxB1UTQh5ACJkIKHPOb6oXXNf9uao//vjjf+zatavmdRj0XIA2wFyANsBcgDYWpObatGkT2rJlS/Deqrm5uTUWi+1W2yzEON9iQQjxgTp+OT4+vn1sbCwYQO/v73cXYnAcei5AG2AuQBtgLkAbWmqunp4e48EHH1QHlZckEolfBt8U4ySl9Mmq21oRMF9kEELB4Lbv++8LIUalLpVK+wcHB09Lnc1m/Z07dzpontEyWTCRSJB4PB6Yy7KsJkLIc1JjjC2E0BId3xtACCHUpApCyNNCiJLUjLGT8Xj8nNJES3EPaRHQBpgL0Ma81Fw9PT1GPB4PJvKtXbu2IxqNPiY1IaSDMfYr5RaGMa6YrwXoQwhRQAgFi0A454c8z/un1J7nfXbq1Klgjlgul/PfeOONOafKeam5urq6LLXGikajjxmGsUtqjLHVCBP57leq/5AJIS8YhrFJakrpu11dXWelzuVyZTQPdRikRUAbYC5AG7NKiy+99BJLJBJBvbZ8+fINhmGsDh7K2BMYY3VBasOsj2wEMMa2qgkh65LJ5DNSx2Kx//X09HyktplNDTarD/2hhx5izc3NQQFv2/aPqt5jNcRiiQbGxBgHNTLG+CtqjUwp/fMjjzxyquqeGZsL0iKgDTAXoI1ZpcX29vZYJBKJSo0xTt4a0pnTc4HaoX5+GONkMpmsHutNzfSZszJBS0vLi6ZpBquXCSHfRDBWeD9jYoyDz49S+mQ8Hq9+yf3cTB8KaRHQBpgL0AaYC9DGPQ1cHzhwYIuqbdv+Dcb463pCqh22bSNKg9d3yDAMZBjGlO0558hxKufY5fN5bfHVkmKxWLGA5uTJk++//vrr0/6w0HMB2gBzAdoAcwHamFRzPfXUU+jZZ5+NqNc6OzsvqrpRNwXp6OhA4fDt1zvJZBI1NzdP2b5YLKIvvvii4lp/f7+2+GoJ53xQ1ePj40+OjIxck/rw4cP548ePV9wDPRegDTAXoA0wF6CNSWOL3d3doaVLlz6mXrtVY017H9DYVHsgFAp9d+nSpZek7u7u/vD48eNFtc0kk9i2TdVdk2/RcMU7MGMqPIAxXkYpDRba2rbdW30DpEVAG2AuQBuT0mI0Gg0xxn5Si2CA+wdK6RZCSEbqWCz2LkJoQm0zyVyEEIYx/pL+8ID7GYzxSqTsTETVEf9bQFoEtAHmArTBNm7cyDZu3Bgstmhra2utWtAKAHcirK59bG1tbX311VeD91ypVMphnZ2ddM2aNUHutG17BSxoBe5G9eYmsVhsRWdnZzBzkjE2BGkR0AaYC9AGsywLM8aCGosQEp3uBgC4ExjjKKU08I5pmowlEgnDsqzgFHtCSGdtwgPuZyil3ZZlBZNMI5HIKKRFQBtgLkAbjFJKCCFJeQFjnKhlQMD9CcY4ofqIEGIw27ZNSukTSqOpVyQAwBRQSr8mhAjqddM0/w1pEdAGmAvQBpgL0AYzDMMihDxz96YAMDUY429hfHuNNWPsTei5AG2AuQBtgLkAbYC5AG0QIYSWo4gBAHouQBtgLkAbRAhR6xiABkQIAT0XoA0M5gK0AeYCtAHmArQB5gK0AeYCtAHmArQB5gK0AWOLgDag5wK0AeYCtAGHFSi4rotKpWBrdZTP5xFjU/+KHMepaA9UAuZSGBsbqzgpdmxsbMYnxQK3gbQIaAPMBWgDzAVog5VKpZLv++/KCxjjJCHkG7UMqlZ4nod83w90NBq960mxuVxuIUKrezzPOyqEuCF1sVgchJ4L0AaYC9AGmAvQBsvn82Xf90/IC4SQlYu15uro6ECRSLBnLIpEIigcDk/Z3nVdFI9Xngdx5swZbfHVM0KIAc75Z1K7rptjnucJznlaXlzMp2eEw2EUi90+mSYUCiHbtqdsbxhGxT8Ai5wJIcS4FJxzH9IioA0wF6ANlslkysViMSgULMsqTjee1siEQqGKtEjI9H97lNKK9osZ13X7S6XSgNTj4+NZViqVhOd5Qa40DGPizrc3PpTSaWdBVIMxnlH7RoZzPu55XuCdUqkENRegDzAXoA2WSqX8ixcvBmNCq1evDkUikYrUiDFeFCeZlcvlivlZjLFp0x7nHJXL5YUIre4QQhQQQlzqbDZ7LZVKDUmdSqUc1tvbW+7t7Q3ec+3YsSO8bNmycfVBi8lcxWJwki4KhUJ3NZfafpFREEK4UgwODg6/9tpro2oDSIuANsBcgDYm9fmO45Q4539XrxFCfrpwIdWOkZERNDFxu9yMRqMoGr1dEXDOkbpZnuu6KJPJLGSIdYPv+yc450GNVSgUJq1UmWSufD7vep73n4pGjC0ac6mnQDQ1NVUU+JzzirHEcrmMRkZGFjTGesHzvF7P865IncvlJv1nA2kR0AaYC9DGpLRYLBY913UH1Wu2bVd3eQw1oDGrNx+ufjXBOUecB692kOu6k+5pYCo8wDkf9jwveD/qOM6kuUeTzHXu3Lnxrq6uD9Vr69atS6uaENKCEDLnHG6dUT03K5vNomw2W6No6gt1zh9CCE1MTHxy/fr1q1JfvHhx0ph0w/U+QP0A5gK0AeYCtHFPG7/t37//h6oOh8O/JoR8VU9IQD0yMTHxoqrfe++9Y3v37p22IIWeC9AGmAvQBpgL0MasNtvdt2/fy+Fw+HtSE0IexRgvmb+wgFoihBjhnPeq17Zu3frMTJ8DPRegDTAXoA0wF6CNWS26u3bt2p8SicTfpG5tbf0tpfRxpUkYYzz1Dh5AveEJITJS+L5/Ynh4eMdcHzpbc2WKxWIwULlkyZI0ISSYrI8x5ne+E6hTuLrYgnOeHhoauj7Xh0JaBLQB5gK0Mau0eOHCBTcejweTn1atWnXQtu1PpDZN83HG2BblFgI1WF1RFkIEk/845xccx9krteM4qTNnzsz5aJBZmevYsWMVx0Y8/PDDnySTybNSL1++HFFKn5AaY2wghMBcdYIQoqxu1Ob7/vnBwcHDUo+OjpYOHDhQmOv3gbQIaAPMBWhjXjaXOn/+vNPU1BT8K2vb9kctLS07paaUrrAsa7tyC9RgC0j1piGe5/21XC4Hmyw7jnP17NmzwaulbDY7Lxu9zou53nnnnXzVpVR3d/dNKZLJ5CrTNH8mNdRgC07FpiHlcvlEdY311ltvzftRIJAWAW2AuQBtaNnQM5PJ+Ol0OnhPYppmJh6PH5GaENJSNRaJYD7YvJJT32Pd2jQkWHfoOE5K/XzGxsY8HUHMarLgTNmwYQN6/vnnk1K3t7e3t7W1/U5tQyn9/kLEshjgnJ8UQoxJfePGjZeHhoaCHWn6+vpKBw8erK6T5x1Ii4A2wFyANsBcgDYWpOa6F/bt2/djVUcikd+rulE3P5kF5epNQfL5/C9UffTo0WNvv/32KKox0HMB2gBzAdoAcwHaqJuaq5qdO3cmVd3Z2fllwzBapbYs67uMsa1SY4xjjXAYgxCi+lDM88Vi8U2pXdcdTqVSn6r3vPLKKzWvr+4E9FyANsBcgDbAXIA26rbm2rBhQ4Xu6upK2LZNpY7H41Y4HA5ON+/o6GhraWlZITUhJGIYxlr1GZTS9apmjGkfz+Scn1S17/ufcs6DTdNc1z3POQ/G+dLp9LWrV6/eUL7updPp4OuO4/iXLl2q2HTt9OnTeoKfI3V7zGn1L+z06dPT7mK3ffv2gm3bwb7ehmHECCEVExIJIUvnNch7QB1ARggh3/c/55wHBbjjOJdd1w0K+MuXLw/t3r37BmoAIC0C2gBzAdqo27Q4UwYGBgqEkGB/A8uybiYSiYr3P6FQqK9KH73Do+Zah1YcqVEul4dV7TjOqOd5wXz2bDabKZVKwWS9gYGBhjkd9P/U41J4NQBDKAAAAABJRU5ErkJggg=="},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},5861:function(e,t,n){"use strict";function r(e,t,n,r,i,o,s){try{var a=e[o](s),l=a.value}catch(c){return void n(c)}a.done?t(l):Promise.resolve(l).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var s=e.apply(t,n);function a(e){r(s,i,o,a,l,"next",e)}function l(e){r(s,i,o,a,l,"throw",e)}a(void 0)}))}}n.d(t,{Z:function(){return i}})},5671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},3144:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return i}})},7762:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(181);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw s}}}}},8505:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(1120);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var o=n(7326);function s(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(e)}function a(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,r.Z)(e);if(t){var o=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return s(this,n)}}},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},7462:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},1120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},136:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9611);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},4578:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9611);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.Z)(e,t)}},1413:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(4942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},3366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},9611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},2982:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=__webpack_modules__,__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};__webpack_require__.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"===typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"===typeof n.then)return n}var i=Object.create(null);__webpack_require__.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return n[e]}}));return o.default=function(){return n},__webpack_require__.d(i,o),i}}(),__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.f={},__webpack_require__.e=function(e){return Promise.all(Object.keys(__webpack_require__.f).reduce((function(t,n){return __webpack_require__.f[n](e,t),t}),[]))},__webpack_require__.u=function(e){return"static/js/"+e+"."+{27:"657e33ed",31:"5f869815",97:"816cb518",309:"56cdd937",401:"09152d55",459:"71a34641",480:"419b2dbb",512:"5f3dbff7",565:"ed275dd1",585:"6d8b34d1",605:"47a69bf1",711:"6ab5a341",735:"3ccfa536",756:"79b24b22",769:"8d871ead",893:"d0f82c79",933:"29129268",948:"aab6a12e",964:"8580355f"}[e]+".chunk.js"},__webpack_require__.miniCssF=function(e){return"static/css/"+e+".29a98441.chunk.css"},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="codrone-blockly:";__webpack_require__.l=function(n,r,i,o){if(e[n])e[n].push(r);else{var s,a;if(void 0!==i)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var u=l[c];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+i){s=u;break}}s||(a=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,__webpack_require__.nc&&s.setAttribute("nonce",__webpack_require__.nc),s.setAttribute("data-webpack",t+i),s.src=n),e[n]=[r];var h=function(t,r){s.onerror=s.onload=null,clearTimeout(p);var i=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(r)})),t)return t(r)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),a&&document.head.appendChild(s)}}}(),__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.p="/cde/",function(){var e=function(e){return new Promise((function(t,n){var r=__webpack_require__.miniCssF(e),i=__webpack_require__.p+r;if(function(e,t){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var i=(s=n[r]).getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(i===e||i===t))return s}var o=document.getElementsByTagName("style");for(r=0;r<o.length;r++){var s;if((i=(s=o[r]).getAttribute("data-href"))===e||i===t)return s}}(r,i))return t();!function(e,t,n,r){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",i.onerror=i.onload=function(o){if(i.onerror=i.onload=null,"load"===o.type)n();else{var s=o&&("load"===o.type?"missing":o.type),a=o&&o.target&&o.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=s,l.request=a,i.parentNode.removeChild(i),r(l)}},i.href=t,document.head.appendChild(i)}(e,i,t,n)}))},t={179:0};__webpack_require__.f.miniCss=function(n,r){t[n]?r.push(t[n]):0!==t[n]&&{309:1}[n]&&r.push(t[n]=e(n).then((function(){t[n]=0}),(function(e){throw delete t[n],e})))}}(),function(){var e={179:0};__webpack_require__.f.j=function(t,n){var r=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((function(n,i){r=e[t]=[n,i]}));n.push(r[2]=i);var o=__webpack_require__.p+__webpack_require__.u(t),s=new Error;__webpack_require__.l(o,(function(n){if(__webpack_require__.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,r[1](s)}}),"chunk-"+t,t)}};var t=function(t,n){var r,i,o=n[0],s=n[1],a=n[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(r in s)__webpack_require__.o(s,r)&&(__webpack_require__.m[r]=s[r]);if(a)a(__webpack_require__)}for(t&&t(n);l<o.length;l++)i=o[l],__webpack_require__.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkcodrone_blockly=self.webpackChunkcodrone_blockly||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var __webpack_exports__={};!function(){"use strict";var e=__webpack_require__(7313),t=__webpack_require__(1168),n=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function r(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var i=__webpack_require__(181);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(l){a=!0,i=l}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||(0,i.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=__webpack_require__(1239),a=__webpack_require__(7058);var l=function(e){e()},c=function(){return l},u=(0,e.createContext)(null);function h(){return(0,e.useContext)(u)}var p=function(){throw new Error("uSES not initialized!")},d=p,f=function(e,t){return e===t};function _(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,n=t===u?h:function(){return(0,e.useContext)(t)};return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;var i=n(),o=i.store,s=i.subscription,a=i.getServerState,l=d(s.addNestedSub,o.getState,a||o.getState,t,r);return(0,e.useDebugValue)(l),l}}var g=_();__webpack_require__(7861),__webpack_require__(6440);var m={notify:function(){},get:function(){return[]}};function v(e,t){var n,r=m;function i(){s.onStateChange&&s.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=c(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var s={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=m)},getListeners:function(){return r}};return s}var y=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?e.useLayoutEffect:e.useEffect;var T=function(t){var n=t.store,r=t.context,i=t.children,o=t.serverState,s=(0,e.useMemo)((function(){var e=v(n);return{store:n,subscription:e,getServerState:o?function(){return o}:void 0}}),[n,o]),a=(0,e.useMemo)((function(){return n.getState()}),[n]);y((function(){var e=s.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),a!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[s,a]);var l=r||u;return e.createElement(l.Provider,{value:s},i)};function E(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,n=t===u?h:function(){return(0,e.useContext)(t)};return function(){return n().store}}var b=E();function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=e===u?b:E(e);return function(){return t().dispatch}}var k,w=O();!function(e){d=e}(a.useSyncExternalStoreWithSelector),function(e){e}(s.useSyncExternalStore),k=t.unstable_batchedUpdates,l=k;var S=__webpack_require__(5317),I=__webpack_require__(5891),R=__webpack_require__(9980),C=__webpack_require__(6393),A=__webpack_require__(6417),x=(0,e.createContext)(),M={en:"English",ja:"\u65e5\u672c\u8a9e",ko:"\ud55c\uad6d\uc5b4"},N=function(t){var n=o((0,e.useState)("en"),2),r=n[0],i=n[1],s=o((0,e.useState)(R.a),2),a=s[0],l=s[1];return(0,e.useEffect)((function(){var e=function(e,t){var n=window.location.search.match(new RegExp("[?&]"+e+"=([^&]+)"));return n?decodeURIComponent(n[1].replace(/\+/g,"%20")):t},t=(0,S.g)();if(console.log(t),"cdm"!==t){var n=function(t){try{var n=t;if(localStorage&&localStorage.getItem("cde_lang"))n=localStorage.getItem("cde_lang");else{var r=e("lang","en");if(void 0===M[r]){var i=window.navigator.language;r=i.includes("ko")?"ko":i.includes("ja")?"ja":"en"}localStorage.setItem("cde_lang",r)}return n}catch(o){return console.log(o),"en"}}("en");i(n),"ko"===n?l(I.B):"ja"===n&&l(C.Y)}}),[]),(0,A.jsx)(x.Provider,{value:{lang:r,msg:a},children:t.children})},L=function(e){var t=e.testid,n=e.label,r=e.onClick;return"separator"===n?(0,A.jsx)("li",{className:"separator"}):(0,A.jsx)("div",{onClick:r,className:"menu-item","data-testid":t,children:(0,A.jsx)("li",{children:n})})},D=__webpack_require__(7496),P=__webpack_require__.n(D),B=__webpack_require__(8088),U=__webpack_require__(6047);function F(){var e=prompt(B.GH.SAVE_FILE_NAME);if(null==e||""===e);else{var t=P().Xml.workspaceToDom(P().getMainWorkspace());(0,B.l1)(e,t),__webpack_require__.g.showDownloadNotif()}}function W(){(0,B.PT)()}function H(){(0,B.Pg)()}function G(){P().getMainWorkspace().cleanUp()}function V(){P().getMainWorkspace().undo()}function j(){P().getMainWorkspace().undo(!0)}function Z(e,t){"cdm"===e?window.open("https://robolink.helpdocs.io/category/udkob0aika-codrone-mini","_blank"):"ko"===t?window.open("http://robolink.co.kr/web/cate02/product02.mn.php","_blank"):window.open("https://robolink.helpdocs.io/category/awfgtbygot-co-drone-edu","_blank")}function q(){window.open("https://www.robolink.com/pages/min-requirements","_blank")}function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t="";t="warn"===e?U.Z.getAllWarnLogs():"error"===e?U.Z.getAllErrorLogs():U.Z.getAllLogs();var n=document.createElement("a"),r=Date.now()+".txt",i=new Blob([t],{type:"text/plain"});n.setAttribute("href",window.URL.createObjectURL(i)),n.setAttribute("download",r),n.dataset.downloadurl=["text/plain",n.download,n.href].join(":"),n.draggable=!0,n.classList.add("dragout"),n.click()}var $=__webpack_require__(8541),Y=function(t){var n=t.isDropdownOpen,r=t.openNewModal,i=t.openOpenModal,o=t.openSettings,s=t.droneType,a=(0,e.useContext)(x).msg,l=[{testid:"menu-save",label:a.MENU_SAVE,onClick:F},{testid:"menu-open",label:a.MENU_OPEN,onClick:i},{testid:"menu-new",label:a.MENU_NEW,onClick:r},{label:"separator"},{testid:"menu-cleanup",label:a.MENU_CLEAN_UP,onClick:G},{testid:"menu-undo",label:a.MENU_UNDO,onClick:V},{testid:"menu-redo",label:a.MENU_REDO,onClick:j},{testid:"menu-help",label:a.MENU_HELP,onClick:function(){return Z("cde")}},{testid:"menu-log",label:"Get log file",onClick:X},{label:"separator"},{testid:"menu-settings",label:a.MENU_SETTINGS,onClick:o},{testid:"menu-system",label:a.MENU_SYSTEM,onClick:q}],c=[{testid:"menu-save",label:a.MENU_SAVE,onClick:F},{testid:"menu-open",label:a.MENU_OPEN,onClick:i},{testid:"menu-new",label:a.MENU_NEW,onClick:r},{label:"separator"},{testid:"menu-cleanup",label:a.MENU_CLEAN_UP,onClick:G},{testid:"menu-undo",label:a.MENU_UNDO,onClick:V},{testid:"menu-redo",label:a.MENU_REDO,onClick:j},{testid:"menu-help",label:a.MENU_HELP,onClick:function(){return Z("cdm")}},{label:"separator"},{testid:"menu-system",label:a.MENU_SYSTEM,onClick:q}];return(0,A.jsx)(A.Fragment,{children:(0,A.jsx)("div",{className:"menu-list ".concat(n?"active":""),children:(0,A.jsxs)("ul",{children:["cde"===s&&l.map((function(e,t){return(0,A.jsx)(L,{testid:e.testid,label:e.label,onClick:e.onClick},t)})),"cdm"===s&&c.map((function(e,t){return(0,A.jsx)(L,{testid:e.testid,label:e.label,onClick:e.onClick},t)})),(0,A.jsx)("li",{className:"version-label",children:(0,A.jsxs)("small",{children:["Ver ",$.S," ",(0,A.jsx)("span",{id:"appVersion"})]})})]})})})},z=(0,B.FY)(),Q=function(){return(0,A.jsxs)("select",{name:"lang",id:"lang",onChange:function(){var e=document.querySelector("select#lang").value;localStorage.setItem("cde_lang",e),window.location.reload()},defaultValue:z||"en",children:[(0,A.jsx)("option",{value:"en",children:"English"}),(0,A.jsx)("option",{value:"ko",children:"\ud55c\uad6d\uc5b4"}),(0,A.jsx)("option",{value:"ja",children:"\u65e5\u672c\u8a9e"})]})};function K(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function J(e){return!!e&&!!e[Ge]}function ee(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Ve}(e)||Array.isArray(e)||!!e[He]||!!(null===(t=e.constructor)||void 0===t?void 0:t[He])||ae(e)||le(e))}function te(e,t,n){void 0===n&&(n=!1),0===ne(e)?(n?Object.keys:je)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function ne(e){var t=e[Ge];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:ae(e)?2:le(e)?3:0}function re(e,t){return 2===ne(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ie(e,t){return 2===ne(e)?e.get(t):e[t]}function oe(e,t,n){var r=ne(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function se(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function ae(e){return Be&&e instanceof Map}function le(e){return Ue&&e instanceof Set}function ce(e){return e.o||e.t}function ue(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Ze(e);delete t[Ge];for(var n=je(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function he(e,t){return void 0===t&&(t=!1),de(e)||J(e)||!ee(e)||(ne(e)>1&&(e.set=e.add=e.clear=e.delete=pe),Object.freeze(e),t&&te(e,(function(e,t){return he(t,!0)}),!0)),e}function pe(){K(2)}function de(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function fe(e){var t=qe[e];return t||K(18,e),t}function _e(e,t){qe[e]||(qe[e]=t)}function ge(){return De}function me(e,t){t&&(fe("Patches"),e.u=[],e.s=[],e.v=t)}function ve(e){ye(e),e.p.forEach(Ee),e.p=null}function ye(e){e===De&&(De=e.l)}function Te(e){return De={p:[],l:De,h:e,m:!0,_:0}}function Ee(e){var t=e[Ge];0===t.i||1===t.i?t.j():t.O=!0}function be(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||fe("ES5").S(t,e,r),r?(n[Ge].P&&(ve(t),K(4)),ee(e)&&(e=Oe(t,e),t.l||we(t,e)),t.u&&fe("Patches").M(n[Ge].t,e,t.u,t.s)):e=Oe(t,n,[]),ve(t),t.u&&t.v(t.u,t.s),e!==We?e:void 0}function Oe(e,t,n){if(de(t))return t;var r=t[Ge];if(!r)return te(t,(function(i,o){return ke(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return we(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=ue(r.k):r.o;te(3===r.i?new Set(i):i,(function(t,o){return ke(e,r,i,t,o,n)})),we(e,i,!1),n&&e.u&&fe("Patches").R(r,n,e.u,e.s)}return r.o}function ke(e,t,n,r,i,o){if(J(i)){var s=Oe(e,i,o&&t&&3!==t.i&&!re(t.D,r)?o.concat(r):void 0);if(oe(n,r,s),!J(s))return;e.m=!1}if(ee(i)&&!de(i)){if(!e.h.F&&e._<1)return;Oe(e,i),t&&t.A.l||we(e,i)}}function we(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&he(t,n)}function Se(e,t){var n=e[Ge];return(n?ce(n):e)[t]}function Ie(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Re(e){e.P||(e.P=!0,e.l&&Re(e.l))}function Ce(e){e.o||(e.o=ue(e.t))}function Ae(e,t,n){var r=ae(t)?fe("MapSet").N(t,n):le(t)?fe("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:ge(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=Xe;n&&(i=[r],o=$e);var s=Proxy.revocable(i,o),a=s.revoke,l=s.proxy;return r.k=l,r.j=a,l}(t,n):fe("ES5").J(t,n);return(n?n.A:ge()).p.push(r),r}function xe(e){return J(e)||K(22,e),function e(t){if(!ee(t))return t;var n,r=t[Ge],i=ne(t);if(r){if(!r.P&&(r.i<4||!fe("ES5").K(r)))return r.t;r.I=!0,n=Me(t,i),r.I=!1}else n=Me(t,i);return te(n,(function(t,i){r&&ie(r.t,t)===i||oe(n,t,e(i))})),3===i?new Set(n):n}(e)}function Me(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return ue(e)}function Ne(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[Ge];return Xe.get(t,e)},set:function(t){var n=this[Ge];Xe.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][Ge];if(!i.P)switch(i.i){case 5:r(i)&&Re(i);break;case 4:n(i)&&Re(i)}}}function n(e){for(var t=e.t,n=e.k,r=je(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==Ge){var s=t[o];if(void 0===s&&!re(t,o))return!0;var a=n[o],l=a&&a[Ge];if(l?l.t!==s:!se(a,s))return!0}}var c=!!t[Ge];return r.length!==je(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};_e("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var o=Ze(n);delete o[Ge];for(var s=je(o),a=0;a<s.length;a++){var l=s[a];o[l]=e(l,t||!!o[l].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(r,t),o={i:r?5:4,A:n?n.A:ge(),P:!1,I:!1,D:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,Ge,{value:o,writable:!0}),i},S:function(e,n,i){i?J(n)&&n[Ge].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[Ge];if(n){var i=n.t,o=n.k,s=n.D,a=n.i;if(4===a)te(o,(function(t){t!==Ge&&(void 0!==i[t]||re(i,t)?s[t]||e(o[t]):(s[t]=!0,Re(n)))})),te(i,(function(e){void 0!==o[e]||re(o,e)||(s[e]=!1,Re(n))}));else if(5===a){if(r(n)&&(Re(n),s.length=!0),o.length<i.length)for(var l=o.length;l<i.length;l++)s[l]=!1;else for(var c=i.length;c<o.length;c++)s[c]=!0;for(var u=Math.min(o.length,i.length),h=0;h<u;h++)o.hasOwnProperty(h)||(s[h]=!0),void 0===s[h]&&e(o[h])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}var Le,De,Pe="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),Be="undefined"!=typeof Map,Ue="undefined"!=typeof Set,Fe="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,We=Pe?Symbol.for("immer-nothing"):((Le={})["immer-nothing"]=!0,Le),He=Pe?Symbol.for("immer-draftable"):"__$immer_draftable",Ge=Pe?Symbol.for("immer-state"):"__$immer_state",Ve=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),je="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Ze=Object.getOwnPropertyDescriptors||function(e){var t={};return je(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},qe={},Xe={get:function(e,t){if(t===Ge)return e;var n=ce(e);if(!re(n,t))return function(e,t,n){var r,i=Ie(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!ee(r)?r:r===Se(e.t,t)?(Ce(e),e.o[t]=Ae(e.A.h,r,e)):r},has:function(e,t){return t in ce(e)},ownKeys:function(e){return Reflect.ownKeys(ce(e))},set:function(e,t,n){var r=Ie(ce(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Se(ce(e),t),o=null==i?void 0:i[Ge];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(se(n,i)&&(void 0!==n||re(e.t,t)))return!0;Ce(e),Re(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==Se(e.t,t)||t in e.t?(e.D[t]=!1,Ce(e),Re(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=ce(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){K(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){K(12)}},$e={};te(Xe,(function(e,t){$e[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),$e.deleteProperty=function(e,t){return $e.set.call(this,e,t,void 0)},$e.set=function(e,t,n){return Xe.set.call(this,e[0],t,n,e[0])};var Ye=function(){function e(e){var t=this;this.g=Fe,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var o=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,s=Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return o.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(s))}))}}var s;if("function"!=typeof n&&K(6),void 0!==r&&"function"!=typeof r&&K(7),ee(e)){var a=Te(t),l=Ae(t,e,void 0),c=!0;try{s=n(l),c=!1}finally{c?ve(a):ye(a)}return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(e){return me(a,r),be(e,a)}),(function(e){throw ve(a),e})):(me(a,r),be(s,a))}if(!e||"object"!=typeof e){if(void 0===(s=n(e))&&(s=e),s===We&&(s=void 0),t.F&&he(s,!0),r){var u=[],h=[];fe("Patches").M(e,s,u,h),r(u,h)}return s}K(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,o=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,r,i]})):[o,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){ee(e)||K(8),J(e)&&(e=xe(e));var t=Te(this),n=Ae(this,e,void 0);return n[Ge].C=!0,ye(t),n},t.finishDraft=function(e,t){var n=(e&&e[Ge]).A;return me(n,t),be(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!Fe&&K(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=fe("Patches").$;return J(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),ze=new Ye,Qe=ze.produce,Ke=(ze.produceWithPatches.bind(ze),ze.setAutoFreeze.bind(ze),ze.setUseProxies.bind(ze),ze.applyPatches.bind(ze),ze.createDraft.bind(ze),ze.finishDraft.bind(ze),Qe),Je=__webpack_require__(1413);function et(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var tt="function"===typeof Symbol&&Symbol.observable||"@@observable",nt=function(){return Math.random().toString(36).substring(7).split("").join(".")},rt={INIT:"@@redux/INIT"+nt(),REPLACE:"@@redux/REPLACE"+nt(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+nt()}};function it(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function ot(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(et(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(et(1));return n(ot)(e,t)}if("function"!==typeof e)throw new Error(et(2));var i=e,o=t,s=[],a=s,l=!1;function c(){a===s&&(a=s.slice())}function u(){if(l)throw new Error(et(3));return o}function h(e){if("function"!==typeof e)throw new Error(et(4));if(l)throw new Error(et(5));var t=!0;return c(),a.push(e),function(){if(t){if(l)throw new Error(et(6));t=!1,c();var n=a.indexOf(e);a.splice(n,1),s=null}}}function p(e){if(!it(e))throw new Error(et(7));if("undefined"===typeof e.type)throw new Error(et(8));if(l)throw new Error(et(9));try{l=!0,o=i(o,e)}finally{l=!1}for(var t=s=a,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(et(10));i=e,p({type:rt.REPLACE})}function f(){var e,t=h;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(et(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[tt]=function(){return this},e}return p({type:rt.INIT}),(r={dispatch:p,subscribe:h,getState:u,replaceReducer:d})[tt]=f,r}function st(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var o,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:rt.INIT}))throw new Error(et(12));if("undefined"===typeof n(void 0,{type:rt.PROBE_UNKNOWN_ACTION()}))throw new Error(et(13))}))}(n)}catch(a){o=a}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},a=0;a<s.length;a++){var l=s[a],c=n[l],u=e[l],h=c(u,t);if("undefined"===typeof h){t&&t.type;throw new Error(et(14))}i[l]=h,r=r||h!==u}return(r=r||s.length!==Object.keys(e).length)?i:e}}function at(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function lt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(et(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=at.apply(void 0,o)(n.dispatch),(0,Je.Z)((0,Je.Z)({},n),{},{dispatch:r})}}}function ct(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var ut=ct();ut.withExtraArgument=ct;var ht=ut,pt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dt=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},ft=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},_t=Object.defineProperty,gt=Object.defineProperties,mt=Object.getOwnPropertyDescriptors,vt=Object.getOwnPropertySymbols,yt=Object.prototype.hasOwnProperty,Tt=Object.prototype.propertyIsEnumerable,Et=function(e,t,n){return t in e?_t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},bt=function(e,t){for(var n in t||(t={}))yt.call(t,n)&&Et(e,n,t[n]);if(vt)for(var r=0,i=vt(t);r<i.length;r++){n=i[r];Tt.call(t,n)&&Et(e,n,t[n])}return e},Ot=function(e,t){return gt(e,mt(t))},kt=function(e,t,n){return new Promise((function(r,i){var o=function(e){try{a(n.next(e))}catch(t){i(t)}},s=function(e){try{a(n.throw(e))}catch(t){i(t)}},a=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(o,s)};a((n=n.apply(e,t)).next())}))},wt="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?at:at.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function St(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var It=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return pt(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,ft([void 0],e[0].concat(this)))):new(t.bind.apply(t,ft([void 0],e.concat(this))))},t}(Array);function Rt(e){return ee(e)?Ke(e,(function(){})):e}function Ct(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new It);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(ht.withExtraArgument(n.extraArgument)):r.push(ht));0;return r}(e)}}function At(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return bt(bt({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function xt(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function Mt(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:Rt(e.initialState),i=e.reducers||{},o=Object.keys(i),s={},a={},l={};function c(){var t="function"===typeof e.extraReducers?xt(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,o=t[1],s=void 0===o?[]:o,l=t[2],c=void 0===l?void 0:l,u=bt(bt({},i),a);return function(e,t,n,r){void 0===n&&(n=[]);var i,o="function"===typeof t?xt(t):[t,n,r],s=o[0],a=o[1],l=o[2];if(function(e){return"function"===typeof e}(e))i=function(){return Rt(e())};else{var c=Rt(e);i=function(){return c}}function u(e,t){void 0===e&&(e=i());var n=ft([s[t.type]],a.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[l]),n.reduce((function(e,n){if(n){var r;if(J(e))return void 0===(r=n(e,t))?e:r;if(ee(e))return Ke(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return u.getInitialState=i,u}(r,(function(e){for(var t in u)e.addCase(t,u[t]);for(var n=0,r=s;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}c&&e.addDefaultCase(c)}))}return o.forEach((function(e){var n,r,o=i[e],c=t+"/"+e;"reducer"in o?(n=o.reducer,r=o.prepare):n=o,s[e]=n,a[c]=n,l[e]=r?At(c,r):At(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:l,caseReducers:s,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}var Nt=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},Lt=["name","message","stack","code"],Dt=function(e,t){this.payload=e,this.meta=t},Pt=function(e,t){this.payload=e,this.meta=t},Bt=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=Lt;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};!function(){function e(e,t,n){var r=At(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:Ot(bt({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=At(e+"/pending",(function(e,t,n){return{payload:void 0,meta:Ot(bt({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),o=At(e+"/rejected",(function(e,t,r,i,o){return{payload:i,error:(n&&n.serializeError||Bt)(e||"Rejected"),meta:Ot(bt({},o||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),s="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(a,l,c){var u,h=(null==n?void 0:n.idGenerator)?n.idGenerator(e):Nt(),p=new s,d=new Promise((function(e,t){return p.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:u||"Aborted"})}))})),f=!1;function _(e){f&&(u=e,p.abort())}var g=function(){return kt(this,null,(function(){var s,u,g,m,v;return dt(this,(function(y){switch(y.label){case 0:return y.trys.push([0,4,,5]),m=null==(s=null==n?void 0:n.condition)?void 0:s.call(n,e,{getState:l,extra:c}),null===(T=m)||"object"!==typeof T||"function"!==typeof T.then?[3,2]:[4,m];case 1:m=y.sent(),y.label=2;case 2:if(!1===m)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return f=!0,a(i(h,e,null==(u=null==n?void 0:n.getPendingMeta)?void 0:u.call(n,{requestId:h,arg:e},{getState:l,extra:c}))),[4,Promise.race([d,Promise.resolve(t(e,{dispatch:a,getState:l,extra:c,requestId:h,signal:p.signal,abort:_,rejectWithValue:function(e,t){return new Dt(e,t)},fulfillWithValue:function(e,t){return new Pt(e,t)}})).then((function(t){if(t instanceof Dt)throw t;return t instanceof Pt?r(t.payload,h,e,t.meta):r(t,h,e)}))])];case 3:return g=y.sent(),[3,5];case 4:return v=y.sent(),g=v instanceof Dt?o(null,h,e,v.payload,v.meta):o(v,h,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&o.match(g)&&g.meta.condition||a(g),[2,g]}var T}))}))}();return Object.assign(g,{abort:_,requestId:h,arg:e,unwrap:function(){return g.then(Ut)}})}}),{pending:i,rejected:o,fulfilled:r,typePrefix:e})}e.withTypes=e}();function Ut(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var Ft="listenerMiddleware";At(Ft+"/add"),At(Ft+"/removeAll"),At(Ft+"/remove");var Wt;"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:__webpack_require__.g);Ne();var Ht=Mt({name:"colorTheme",initialState:{isDark:!!localStorage.getItem("cde-color-dark")&&"true"===localStorage.getItem("cde-color-dark")},reducers:{toggleColorTheme:function(e){e.isDark=!e.isDark,localStorage.setItem("cde-color-dark",e.isDark)}}}),Gt=Ht.actions.toggleColorTheme,Vt=Ht.reducer,jt=function(){var e=w(),t=g((function(e){return e.colorTheme})),n=t.isDark;return(0,A.jsx)("div",{className:"color-theme",children:(0,A.jsxs)("label",{className:"switch",onClick:function(){return e(Gt())},children:[(0,A.jsx)("input",{type:"checkbox",checked:n,onChange:function(){return console.warn("onchange")}}),(0,A.jsx)("span",{})]})})};var Zt=__webpack_require__.p+"static/media/close.ddd56733e28f8350595ed5d15291b8cc.svg",qt=function(t){var n=t.isOpen,r=t.close,i=(0,e.useContext)(x).msg;return(0,A.jsx)("div",{id:"settings-bg",className:"".concat(n?"":"hide"),onClick:r,children:(0,A.jsxs)("div",{className:"settings",onClick:function(e){e.preventDefault(),e.stopPropagation()},children:[(0,A.jsxs)("div",{className:"md-header",children:[(0,A.jsx)("div",{className:"close",children:(0,A.jsx)("img",{src:Zt,alt:"x",onClick:r})}),(0,A.jsx)("h1",{children:i.MENU_SETTINGS})]}),(0,A.jsxs)("div",{className:"md-body",children:[(0,A.jsxs)("div",{className:"language",children:[(0,A.jsx)("div",{className:"title",children:i.MENU_LANGUAGE}),(0,A.jsx)(Q,{})]}),(0,A.jsxs)("div",{className:"theme",children:[(0,A.jsx)("div",{className:"title",children:"Color Theme"}),(0,A.jsx)(jt,{})]})]})]})})},Xt=(0,S.g)(),$t=function(t){var n=t.isOpen,r=t.close,i=t.handleClick,o=t.warningMsg,s=(0,e.useContext)(x).msg;return(0,A.jsx)("div",{className:"".concat(n?"clear-workspace-modal-bg":"clear-workspace-modal-bg hide"),onClick:r,children:(0,A.jsxs)("div",{className:"clear-workspace-modal",onClick:function(e){e.preventDefault(),e.stopPropagation()},children:[(0,A.jsx)("div",{className:"md-body",children:(0,A.jsx)("span",{children:o})}),(0,A.jsxs)("div",{className:"md-footer",children:[(0,A.jsx)("button",{className:"clear-btn",onClick:r,children:s.BTN_CANCEL}),(0,A.jsx)("button",{className:"yes-btn",onClick:function(){i(),r()},children:s.BTN_CONTINUE})]})]})})},Yt=function(t){var n=t.isOpen,r=t.handleToggle,i=(0,e.useContext)(x).msg,s=o((0,e.useState)(!1),2),a=s[0],l=s[1],c=o((0,e.useState)(!1),2),u=c[0],h=c[1],p=o((0,e.useState)(!1),2),d=p[0],f=p[1];return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)("div",{className:"Menu",onClick:r,children:[(0,A.jsx)("div",{className:"menu-btn","data-testid":"menu-btn",children:(0,A.jsx)("span",{children:i.MENU_MENU})}),(0,A.jsx)("div",{className:"menu-txt",children:i.MENU_MENU}),(0,A.jsx)(Y,{isDropdownOpen:n,openNewModal:function(e){l(!0)},openOpenModal:function(e){h(!0)},openSettings:function(e){f(!0)},droneType:Xt})]}),(0,A.jsx)($t,{isOpen:a,close:function(e){l(!1)},handleClick:H,warningMsg:i.CLEAR_WARNING}),(0,A.jsx)($t,{isOpen:u,close:function(e){h(!1)},handleClick:W,warningMsg:i.NEW_WARNING}),(0,A.jsx)(qt,{isOpen:d,close:function(e){f(!1)}})]})};var zt=__webpack_require__.p+"static/media/close_blockly.65d163675c5e153cd48e910ab5d60786.svg",Qt=(0,B.FY)(),Kt="https://staging.learn.robolink.com/course/codrone-mini-with-blockly/",Jt=function(t){var n=t.isOpen,r=t.droneType;(0,e.useEffect)((function(){document.querySelector("#btnBackLessons").style.display="none",window.addEventListener("message",(function(e){"https://staging.learn.robolink.com"===e.origin&&(e.data!=Kt?document.querySelector("#btnBackLessons").style.display="inline-block":document.querySelector("#btnBackLessons").style.display="none")}))}),[]);return(0,A.jsxs)("div",{className:"content-panel content-1 ".concat(n?"active":""),children:[(0,A.jsx)("div",{className:"nav",children:(0,A.jsx)("button",{id:"btnBackLessons",onClick:function(e){document.querySelector("#iframeBasecamp").src=Kt},children:"Back to CoDrone EDU lessons"})}),"cde"===r&&(0,A.jsx)("iframe",{title:"CDE Blockly basecamp",id:"iframeBasecamp",src:"ko"===Qt?"https://learn.robolink.com/ko/course/blockly-with-codrone-edu-kor/":"https://staging.learn.robolink.com",frameBorder:"0",onLoad:function(e){e.target.contentWindow.postMessage("href","https://staging.learn.robolink.com")}}),"cdm"===r&&(0,A.jsx)("iframe",{title:"CDM Blockly basecamp",id:"iframeBasecamp",src:"https://learn.robolink.com/course/codrone-mini-with-blockly/",frameBorder:"0"})]})},en=__webpack_require__(5861),tn=__webpack_require__(7757),nn=__webpack_require__.n(tn);function rn(t,n){var r=(0,e.useRef)(!0);(0,e.useEffect)((function(){if(!r.current)return t();r.current=!1}),n)}var on=__webpack_require__(2968);var sn=__webpack_require__.p+"static/media/arrow.fac6dfff4c61d6d8ae4b64bde1780434.svg";var an=__webpack_require__.p+"static/media/arrow_dark.bd9fd2ae5695f428b749b50ddc97bc13.svg",ln={Unknown:"unknown",White:"white",Red:"red",Yellow:"yellow",Green:"green",Cyan:"lightblue",Blue:"blue",Magenta:"purple",Black:"black",Grey:"grey"},cn=(0,B.FY)(),un=function(e){var t=e.style;return(0,A.jsx)("div",{className:"gyro-range",children:(0,A.jsxs)("div",{className:"range",style:t,children:[(0,A.jsx)("div",{className:"track"}),(0,A.jsx)("div",{className:"thumb"})]})})},hn=!0,pn=on.R7.DRONE_NOT_PAIRED,dn=function(t){var n=t.isOpen,r=g((function(e){return e.colorTheme})),i=r.isDark,s=(0,e.useContext)(x).msg,a=o((0,e.useState)(on.R7.DRONE_NOT_PAIRED),2),l=a[0],c=a[1],u=o((0,e.useState)({front:0,bottom:0}),2),h=u[0],p=u[1],d=o((0,e.useState)({accel:{x:0,y:0,z:0},gyro:{pitch:0,yaw:0,roll:0}}),2),f=d[0],_=d[1],m=o((0,e.useState)([0,0,0]),2),v=m[0],y=m[1],T=o((0,e.useState)([0,0,0]),2),E=T[0],b=T[1],O=o((0,e.useState)("black"),2),k=O[0],w=O[1],S=o((0,e.useState)("black"),2),I=S[0],R=S[1],C=o((0,e.useState)(0),2),M=C[0],N=C[1],L=o((0,e.useState)(0),2),D=L[0],P=L[1],B=o((0,e.useState)([0,0]),2),U=B[0],F=B[1],W=o((0,e.useState)(!1),2),H=W[0],G=W[1];(0,e.useEffect)((function(){var e;e=j,__webpack_require__.g.enableRefreshBtn=e,function(e){__webpack_require__.g.disableRefreshBtn=e}(Z),function(e){__webpack_require__.g.changeSDMode=e}(q),function(e){__webpack_require__.g.resetDataItem=e}(X)}),[]),rn((function(){function e(){return(e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.addEventListener("storage",V),e.next=3,(0,on.Im)();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n?function(){e.apply(this,arguments)}():(window.removeEventListener("storage",V),(0,on.Fc)())}),[n]);var V=function(e){if(-1!==e.key.indexOf("droneData"))try{var t=e.key.replace("droneData_",""),n=JSON.parse(e.newValue);if("range"===t){var r=n.range.slice(-1)[0];p({front:(.1*r.front).toFixed(1),bottom:(.1*r.bottom).toFixed(1)}),hn=!(r.bottom>0)}else if("motion"===t){var i=n.motion.slice(-1)[0];_({accel:{x:i.accelX,y:i.accelY,z:i.accelZ},gyro:{roll:i.angleRoll,pitch:i.anglePitch,yaw:i.angleYaw}})}else if("altitude"===t){var o=n.altitude.slice(-1)[0];P((.001*o.pressure).toFixed(3)),N(o.temp.toFixed(2))}else if("position"===t){var s=n.position.slice(-1)[0];F([s.x.toFixed(2),s.y.toFixed(2)])}else if("cardColor"===t){if(!hn)return void q(on.R7.COLOR_INACTIVE);hn&&on.An&&q(on.R7.ALL_ACTIVE);var a=n.cardColor.slice(-1)[0];y(a.frontHSVL.slice(0,3)),b(a.backHSVL.slice(0,3)),__webpack_require__.g.knn?(w(__webpack_require__.g.knn.predict(a.frontHSVL)),R(__webpack_require__.g.knn.predict(a.backHSVL)),document.getElementById("front-color-box").style.backgroundColor="hsl(".concat(a.frontHSVL[0],", ").concat(a.frontHSVL[1],"%, ").concat(a.frontHSVL[3],"%)"),document.getElementById("rear-color-box").style.backgroundColor="hsl(".concat(a.backHSVL[0],", ").concat(a.backHSVL[1],"%, ").concat(a.backHSVL[3],"%)")):(w(ln[a.front]),R(ln[a.back]))}}catch(e){console.log(e)}},j=function(){G(!0)},Z=function(){G(!1)},q=function(e){e!==pn&&(console.log("change SD mode",e),pn=e,c(e))},X=function(){document.querySelectorAll(".data-item").forEach((function(e){e.classList.add("inactive")}))};return(0,A.jsxs)("div",{className:"content-panel content-4 ".concat(cn," ").concat(n?"active":""),children:[(0,A.jsxs)("div",{className:"data","data-mode":l,children:[(0,A.jsxs)("div",{className:"data-item column-2-1 inactive",id:"accel",children:[(0,A.jsx)("p",{className:"type",children:s.SD_ACCEL}),(0,A.jsxs)("div",{className:"sensor-data accel-data",children:[(0,A.jsxs)("div",{children:[(0,A.jsx)("p",{className:"invisible",children:"zero"}),(0,A.jsx)("input",{type:"range",min:"-156.8",max:"156.8",value:f.accel.x,className:"slider vertical-slider zero-guideline",readOnly:!0}),(0,A.jsx)("p",{className:"invisible",children:"0"})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("p",{className:"label",children:"x"}),(0,A.jsx)("input",{type:"range",min:"-156.8",max:"156.8",value:f.accel.x,className:"slider vertical-slider",readOnly:!0}),(0,A.jsx)("p",{className:"data-value",children:f.accel.x})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("p",{className:"label",children:"y"}),(0,A.jsx)("input",{type:"range",min:"-156.8",max:"156.8",value:f.accel.y,className:"slider vertical-slider",readOnly:!0}),(0,A.jsx)("p",{className:"data-value",children:f.accel.y})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("p",{className:"label",children:"z"}),(0,A.jsx)("input",{type:"range",min:"-156.8",max:"156.8",value:f.accel.z,className:"slider vertical-slider",readOnly:!0}),(0,A.jsx)("p",{className:"data-value",children:f.accel.z})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("p",{className:"invisible",children:"zero"}),(0,A.jsx)("input",{type:"range",min:"-156.8",max:"156.8",value:f.accel.x,className:"slider vertical-slider zero-guideline",readOnly:!0}),(0,A.jsx)("p",{className:"invisible",children:"0"})]})]})]}),(0,A.jsxs)("div",{className:"data-item column-2-2 inactive",id:"gyro",children:[(0,A.jsx)("p",{className:"type",children:s.SD_GYRO}),(0,A.jsxs)("div",{className:"sensor-data gyro-data",children:[(0,A.jsxs)("div",{children:[(0,A.jsx)("p",{className:"label",children:s.CONN_PITCH}),(0,A.jsx)(un,{style:{transform:"rotate(".concat(parseInt(180*f.gyro.pitch/180),"deg)")}}),(0,A.jsx)("p",{className:"data-value",children:f.gyro.pitch})]}),(0,A.jsxs)("div",{className:"yaw",children:[(0,A.jsx)("p",{className:"label",children:s.VALUE_YAW}),(0,A.jsx)("img",{src:i?an:sn,alt:"yaw",style:{transform:"rotate(".concat(parseInt(180*f.gyro.yaw/-180),"deg)")}}),(0,A.jsx)("p",{className:"data-value",children:f.gyro.yaw})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("p",{className:"label",children:s.CONN_ROLL}),(0,A.jsx)(un,{style:{transform:"rotate(".concat(parseInt(180*f.gyro.roll/180),"deg)")}}),(0,A.jsx)("p",{className:"data-value",children:f.gyro.roll})]})]})]}),(0,A.jsxs)("div",{className:"data-item column-2-1 inactive",id:"frontRange",children:[(0,A.jsx)("p",{className:"type",children:s.SD_FRONT_RANGE}),(0,A.jsxs)("div",{className:"range-data",children:[(0,A.jsx)("input",{type:"range",min:"0",max:"200",value:h.front,className:"slider",readOnly:!0}),(0,A.jsx)("div",{className:"text-center text-gray",children:h.front<200?"".concat(h.front," cm"):s.SD_OUT_OF_RANGE})]})]}),(0,A.jsxs)("div",{className:"data-item column-2-2 inactive",id:"bottomRange",children:[(0,A.jsx)("p",{className:"type",children:s.SD_BOTTOM_RANGE}),(0,A.jsxs)("div",{className:"range-data",children:[(0,A.jsx)("input",{type:"range",min:"0",max:"200",value:h.bottom,className:"slider vertical-slider",readOnly:!0}),(0,A.jsx)("div",{className:"text-center text-gray",children:h.bottom<200?"".concat(h.bottom," cm"):s.SD_OUT_OF_RANGE})]})]}),(0,A.jsxs)("div",{className:"data-item column-2-1 inactive",id:"frontColor",children:[(0,A.jsx)("p",{className:"type",children:s.SD_FRONT_COLOR}),(0,A.jsxs)("div",{className:"sensor-data",children:[(0,A.jsxs)("div",{children:[(0,A.jsx)("p",{className:"label",children:s.VALUE_HUE}),(0,A.jsx)("p",{className:"data-value",children:v[0]})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("p",{className:"label",children:s.VALUE_SAT}),(0,A.jsx)("p",{className:"data-value",children:v[1]})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("p",{className:"label",children:s.VALUE_VAL}),(0,A.jsx)("p",{className:"data-value",children:v[2]})]})]}),(0,A.jsxs)("div",{className:"color-data",children:[(0,A.jsx)("div",{className:"box ".concat(k.toLowerCase()),id:"front-color-box"}),(0,A.jsx)("div",{className:"label",children:k})]})]}),(0,A.jsxs)("div",{className:"data-item column-2-2 inactive",id:"rearColor",children:[(0,A.jsx)("p",{className:"type",children:s.SD_REAR_COLOR}),(0,A.jsxs)("div",{className:"sensor-data",children:[(0,A.jsxs)("div",{children:[(0,A.jsx)("p",{className:"label",children:s.VALUE_HUE}),(0,A.jsx)("p",{className:"data-value",children:E[0]})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("p",{className:"label",children:s.VALUE_SAT}),(0,A.jsx)("p",{className:"data-value",children:E[1]})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("p",{className:"label",children:s.VALUE_VAL}),(0,A.jsx)("p",{className:"data-value",children:E[2]})]})]}),(0,A.jsxs)("div",{className:"color-data",children:[(0,A.jsx)("div",{className:"box ".concat(I.toLowerCase()),id:"rear-color-box"}),(0,A.jsx)("div",{className:"label",children:I})]})]}),(0,A.jsxs)("div",{className:"data-item column-3-1 inactive",id:"temp",children:[(0,A.jsx)("p",{className:"type",children:s.SD_TEMP}),(0,A.jsxs)("p",{className:"mt-20 ft-26 text-cde data-value",children:[M," \u02daC"]})]}),(0,A.jsxs)("div",{className:"data-item column-3-2 inactive",id:"altitude",children:[(0,A.jsx)("p",{className:"type",children:s.SD_PRESSURE}),(0,A.jsx)("p",{className:"m-20 ft-26  text-cde data-value",children:D}),(0,A.jsx)("p",{className:"ft-gray",children:"kPa"})]}),(0,A.jsxs)("div",{className:"data-item column-3-3 inactive",id:"position",children:[(0,A.jsx)("p",{className:"type",children:s.SD_POS}),(0,A.jsxs)("div",{className:"sensor-data-2",children:[(0,A.jsxs)("div",{children:[(0,A.jsx)("p",{className:"label",children:"x"}),(0,A.jsx)("p",{className:"ft-26 text-cde data-value",children:U[0]}),(0,A.jsx)("p",{className:"ft-gray",children:"cm"})]}),(0,A.jsxs)("div",{children:[(0,A.jsx)("p",{className:"label",children:"y"}),(0,A.jsx)("p",{className:"ft-26 text-cde data-value",children:U[1]}),(0,A.jsx)("p",{className:"ft-gray",children:"cm"})]})]})]})]}),(0,A.jsx)("div",{className:"refresh",style:{display:H?"flex":"none"},children:(0,A.jsx)("button",{className:"refresh-btn",onClick:function(){__webpack_require__.g.FREEZEDASHBOARD=!1,G(!1),on.An||(X(),(0,on.Im)())},children:s.SD_BTN_REFRESH})}),(0,A.jsxs)("div",{className:"inactive-div","data-mode":l,children:[(0,A.jsx)("div",{className:"inactive-msg",children:s.SD_MSG_REQUEST}),(0,A.jsx)("div",{className:"inactive-msg inactive-color",children:s.SD_INACTIVE_NOT_ON_SURFACE}),(0,A.jsx)("div",{className:"inactive-msg inactive-color",children:s.SD_INACTIVE_NOT_ON_SURFACE}),(0,A.jsx)("div",{className:"inactive-msg inactive-position",children:s.SD_INACTIVE_NOT_ON_SURFACE})]}),(0,A.jsx)("div",{className:"inactive-div-2","data-mode":l,children:(0,A.jsx)("div",{className:"inactive-msg",children:s.SD_NO_DRONE_PAIRED})})]})};function fn(){return fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fn.apply(this,arguments)}var _n=__webpack_require__(7762),gn=__webpack_require__(1120);function mn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,gn.Z)(e)););return e}function vn(){return vn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=mn(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},vn.apply(this,arguments)}var yn=__webpack_require__(136),Tn=__webpack_require__(8505),En=__webpack_require__(5671),bn=__webpack_require__(3144),On=function(){function e(){(0,En.Z)(this,e)}return(0,bn.Z)(e,[{key:"lineAt",value:function(e){if(e<0||e>this.length)throw new RangeError("Invalid position ".concat(e," in document of length ").concat(this.length));return this.lineInner(e,!1,1,0)}},{key:"line",value:function(e){if(e<1||e>this.lines)throw new RangeError("Invalid line number ".concat(e," in ").concat(this.lines,"-line document"));return this.lineInner(e,!0,1,0)}},{key:"replace",value:function(e,t,n){var r=[];return this.decompose(0,e,r,2),n.length&&n.decompose(0,n.length,r,3),this.decompose(t,this.length,r,1),wn.from(r,this.length-(t-e)+n.length)}},{key:"append",value:function(e){return this.replace(this.length,this.length,e)}},{key:"slice",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length,n=[];return this.decompose(e,t,n,0),wn.from(n,t-e)}},{key:"eq",value:function(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;for(var t=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),r=new Cn(this),i=new Cn(e),o=t,s=t;;){if(r.next(o),i.next(o),o=0,r.lineBreak!=i.lineBreak||r.done!=i.done||r.value!=i.value)return!1;if(s+=r.value.length,r.done||s>=n)return!0}}},{key:"iter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Cn(this,e)}},{key:"iterRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length;return new An(this,e,t)}},{key:"iterLines",value:function(e,t){var n;if(null==e)n=this.iter();else{null==t&&(t=this.lines+1);var r=this.line(e).from;n=this.iterRange(r,Math.max(r,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new xn(n)}},{key:"toString",value:function(){return this.sliceString(0)}},{key:"toJSON",value:function(){var e=[];return this.flatten(e),e}}],[{key:"of",value:function(t){if(0==t.length)throw new RangeError("A document must have at least one line");return 1!=t.length||t[0]?t.length<=32?new kn(t):wn.from(kn.split(t,[])):e.empty}}]),e}(),kn=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sn(e);return(0,En.Z)(this,n),(r=t.call(this)).text=e,r.length=i,r}return(0,bn.Z)(n,[{key:"lines",get:function(){return this.text.length}},{key:"children",get:function(){return null}},{key:"lineInner",value:function(e,t,n,r){for(var i=0;;i++){var o=this.text[i],s=r+o.length;if((t?n:s)>=e)return new Mn(r,s,n,o);r=s+1,n++}}},{key:"decompose",value:function(e,t,r,i){var o=e<=0&&t>=this.length?this:new n(Rn(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(1&i){var s=r.pop(),a=In(o.text,s.text.slice(),0,o.length);if(a.length<=32)r.push(new n(a,s.length+o.length));else{var l=a.length>>1;r.push(new n(a.slice(0,l)),new n(a.slice(l)))}}else r.push(o)}},{key:"replace",value:function(e,t,r){if(!(r instanceof n))return vn((0,gn.Z)(n.prototype),"replace",this).call(this,e,t,r);var i=In(this.text,In(r.text,Rn(this.text,0,e)),t),o=this.length+r.length-(t-e);return i.length<=32?new n(i,o):wn.from(n.split(i,[]),o)}},{key:"sliceString",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\n",r="",i=0,o=0;i<=t&&o<this.text.length;o++){var s=this.text[o],a=i+s.length;i>e&&o&&(r+=n),e<a&&t>i&&(r+=s.slice(Math.max(0,e-i),t-i)),i=a+1}return r}},{key:"flatten",value:function(e){var t,n=(0,_n.Z)(this.text);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.push(r)}}catch(i){n.e(i)}finally{n.f()}}},{key:"scanIdentical",value:function(){return 0}}],[{key:"split",value:function(e,t){var r,i=[],o=-1,s=(0,_n.Z)(e);try{for(s.s();!(r=s.n()).done;){var a=r.value;i.push(a),o+=a.length+1,32==i.length&&(t.push(new n(i,o)),i=[],o=-1)}}catch(l){s.e(l)}finally{s.f()}return o>-1&&t.push(new n(i,o)),t}}]),n}(On),wn=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r){var i;(0,En.Z)(this,n),(i=t.call(this)).children=e,i.length=r,i.lines=0;var o,s=(0,_n.Z)(e);try{for(s.s();!(o=s.n()).done;){var a=o.value;i.lines+=a.lines}}catch(l){s.e(l)}finally{s.f()}return i}return(0,bn.Z)(n,[{key:"lineInner",value:function(e,t,n,r){for(var i=0;;i++){var o=this.children[i],s=r+o.length,a=n+o.lines-1;if((t?a:s)>=e)return o.lineInner(e,t,n,r);r=s+1,n=a+1}}},{key:"decompose",value:function(e,t,n,r){for(var i=0,o=0;o<=t&&i<this.children.length;i++){var s=this.children[i],a=o+s.length;if(e<=a&&t>=o){var l=r&((o<=e?1:0)|(a>=t?2:0));o>=e&&a<=t&&!l?n.push(s):s.decompose(e-o,t-o,n,l)}o=a+1}}},{key:"replace",value:function(e,t,r){if(r.lines<this.lines)for(var i=0,o=0;i<this.children.length;i++){var s=this.children[i],a=o+s.length;if(e>=o&&t<=a){var l=s.replace(e-o,t-o,r),c=this.lines-s.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){var u=this.children.slice();return u[i]=l,new n(u,this.length-(t-e)+r.length)}return vn((0,gn.Z)(n.prototype),"replace",this).call(this,o,a,l)}o=a+1}return vn((0,gn.Z)(n.prototype),"replace",this).call(this,e,t,r)}},{key:"sliceString",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\n",r="",i=0,o=0;i<this.children.length&&o<=t;i++){var s=this.children[i],a=o+s.length;o>e&&i&&(r+=n),e<a&&t>o&&(r+=s.sliceString(e-o,t-o,n)),o=a+1}return r}},{key:"flatten",value:function(e){var t,n=(0,_n.Z)(this.children);try{for(n.s();!(t=n.n()).done;){t.value.flatten(e)}}catch(r){n.e(r)}finally{n.f()}}},{key:"scanIdentical",value:function(e,t){if(!(e instanceof n))return 0;for(var r=0,i=o(t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1],4),s=i[0],a=i[1],l=i[2],c=i[3];;s+=t,a+=t){if(s==l||a==c)return r;var u=this.children[s],h=e.children[a];if(u!=h)return r+u.scanIdentical(h,t);r+=u.length+1}}}],[{key:"from",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.reduce((function(e,t){return e+t.length+1}),-1),i=0,o=(0,_n.Z)(e);try{for(o.s();!(t=o.n()).done;){var s=t.value;i+=s.lines}}catch(O){o.e(O)}finally{o.f()}if(i<32){var a,l=[],c=(0,_n.Z)(e);try{for(c.s();!(a=c.n()).done;){var u=a.value;u.flatten(l)}}catch(O){c.e(O)}finally{c.f()}return new kn(l,r)}var h=Math.max(32,i>>5),p=h<<1,d=h>>1,f=[],_=0,g=-1,m=[];function v(e){var t;if(e.lines>p&&e instanceof n){var r,i=(0,_n.Z)(e.children);try{for(i.s();!(r=i.n()).done;){v(r.value)}}catch(O){i.e(O)}finally{i.f()}}else e.lines>d&&(_>d||!_)?(y(),f.push(e)):e instanceof kn&&_&&(t=m[m.length-1])instanceof kn&&e.lines+t.lines<=32?(_+=e.lines,g+=e.length+1,m[m.length-1]=new kn(t.text.concat(e.text),t.length+1+e.length)):(_+e.lines>h&&y(),_+=e.lines,g+=e.length+1,m.push(e))}function y(){0!=_&&(f.push(1==m.length?m[0]:n.from(m,g)),g=-1,_=m.length=0)}var T,E=(0,_n.Z)(e);try{for(E.s();!(T=E.n()).done;){var b=T.value;v(b)}}catch(O){E.e(O)}finally{E.f()}return y(),1==f.length?f[0]:new n(f,r)}}]),n}(On);function Sn(e){var t,n=-1,r=(0,_n.Z)(e);try{for(r.s();!(t=r.n()).done;){n+=t.value.length+1}}catch(i){r.e(i)}finally{r.f()}return n}function In(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e9,i=0,o=0,s=!0;o<e.length&&i<=r;o++){var a=e[o],l=i+a.length;l>=n&&(l>r&&(a=a.slice(0,r-i)),i<n&&(a=a.slice(n-i)),s?(t[t.length-1]+=a,s=!1):t.push(a)),i=l+1}return t}function Rn(e,t,n){return In(e,[""],t,n)}On.empty=new kn([""],0);var Cn=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;(0,En.Z)(this,e),this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[n>0?1:(t instanceof kn?t.text.length:t.children.length)<<1]}return(0,bn.Z)(e,[{key:"nextInner",value:function(e,t){for(this.done=this.lineBreak=!1;;){var n=this.nodes.length-1,r=this.nodes[n],i=this.offsets[n],o=i>>1,s=r instanceof kn?r.text.length:r.children.length;if(o==(t>0?s:0)){if(0==n)return this.done=!0,this.value="",this;t>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&i)==(t>0?0:1)){if(this.offsets[n]+=t,0==e)return this.lineBreak=!0,this.value="\n",this;e--}else if(r instanceof kn){var a=r.text[o+(t<0?-1:0)];if(this.offsets[n]+=t,a.length>Math.max(0,e))return this.value=0==e?a:t>0?a.slice(e):a.slice(0,a.length-e),this;e-=a.length}else{var l=r.children[o+(t<0?-1:0)];e>l.length?(e-=l.length,this.offsets[n]+=t):(t<0&&this.offsets[n]--,this.nodes.push(l),this.offsets.push(t>0?1:(l instanceof kn?l.text.length:l.children.length)<<1))}}}},{key:"next",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}]),e}(),An=function(){function e(t,n,r){(0,En.Z)(this,e),this.value="",this.done=!1,this.cursor=new Cn(t,n>r?-1:1),this.pos=n>r?t.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}return(0,bn.Z)(e,[{key:"nextInner",value:function(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);var n=t<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;var r=this.cursor.next(e).value;return this.pos+=(r.length+e)*t,this.value=r.length<=n?r:t<0?r.slice(r.length-n):r.slice(0,n),this.done=!this.value,this}},{key:"next",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}},{key:"lineBreak",get:function(){return this.cursor.lineBreak&&""!=this.value}}]),e}(),xn=function(){function e(t){(0,En.Z)(this,e),this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}return(0,bn.Z)(e,[{key:"next",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.inner.next(e),n=t.done,r=t.lineBreak,i=t.value;return n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}},{key:"lineBreak",get:function(){return!1}}]),e}();"undefined"!=typeof Symbol&&(On.prototype[Symbol.iterator]=function(){return this.iter()},Cn.prototype[Symbol.iterator]=An.prototype[Symbol.iterator]=xn.prototype[Symbol.iterator]=function(){return this});for(var Mn=function(){function e(t,n,r,i){(0,En.Z)(this,e),this.from=t,this.to=n,this.number=r,this.text=i}return(0,bn.Z)(e,[{key:"length",get:function(){return this.to-this.from}}]),e}(),Nn="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map((function(e){return e?parseInt(e,36):1})),Ln=1;Ln<Nn.length;Ln++)Nn[Ln]+=Nn[Ln-1];function Dn(e){for(var t=1;t<Nn.length;t+=2)if(Nn[t]>e)return Nn[t-1]<=e;return!1}function Pn(e){return e>=127462&&e<=127487}function Bn(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(n?Un:Fn)(e,t,r)}function Un(e,t,n){if(t==e.length)return t;t&&Wn(e.charCodeAt(t))&&Hn(e.charCodeAt(t-1))&&t--;var r=Gn(e,t);for(t+=jn(r);t<e.length;){var i=Gn(e,t);if(8205==r||8205==i||n&&Dn(i))t+=jn(i),r=i;else{if(!Pn(i))break;for(var o=0,s=t-2;s>=0&&Pn(Gn(e,s));)o++,s-=2;if(o%2==0)break;t+=2}}return t}function Fn(e,t,n){for(;t>0;){var r=Un(e,t-2,n);if(r<t)return r;t--}return 0}function Wn(e){return e>=56320&&e<57344}function Hn(e){return e>=55296&&e<56320}function Gn(e,t){var n=e.charCodeAt(t);if(!Hn(n)||t+1==e.length)return n;var r=e.charCodeAt(t+1);return Wn(r)?r-56320+(n-55296<<10)+65536:n}function Vn(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}function jn(e){return e<65536?1:2}var Zn=/\r\n?|\n/,qn=function(e){return e[e.Simple=0]="Simple",e[e.TrackDel=1]="TrackDel",e[e.TrackBefore=2]="TrackBefore",e[e.TrackAfter=3]="TrackAfter",e}(qn||(qn={})),Xn=function(){function e(t){(0,En.Z)(this,e),this.sections=t}return(0,bn.Z)(e,[{key:"length",get:function(){for(var e=0,t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}},{key:"newLength",get:function(){for(var e=0,t=0;t<this.sections.length;t+=2){var n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}},{key:"empty",get:function(){return 0==this.sections.length||2==this.sections.length&&this.sections[1]<0}},{key:"iterGaps",value:function(e){for(var t=0,n=0,r=0;t<this.sections.length;){var i=this.sections[t++],o=this.sections[t++];o<0?(e(n,r,i),r+=i):r+=o,n+=i}}},{key:"iterChangedRanges",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Qn(this,e,t)}},{key:"invertedDesc",get:function(){for(var t=[],n=0;n<this.sections.length;){var r=this.sections[n++],i=this.sections[n++];i<0?t.push(r,i):t.push(i,r)}return new e(t)}},{key:"composeDesc",value:function(e){return this.empty?e:e.empty?this:Jn(this,e)}},{key:"mapDesc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.empty?this:Kn(this,e,t)}},{key:"mapPos",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qn.Simple,r=0,i=0,o=0;o<this.sections.length;){var s=this.sections[o++],a=this.sections[o++],l=r+s;if(a<0){if(l>e)return i+(e-r);i+=s}else{if(n!=qn.Simple&&l>=e&&(n==qn.TrackDel&&r<e&&l>e||n==qn.TrackBefore&&r<e||n==qn.TrackAfter&&l>e))return null;if(l>e||l==e&&t<0&&!s)return e==r||t<0?i:i+a;i+=a}r=l}if(e>r)throw new RangeError("Position ".concat(e," is out of range for changeset of length ").concat(r));return i}},{key:"touchesRange",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=0,r=0;n<this.sections.length&&r<=t;){var i=this.sections[n++],o=this.sections[n++],s=r+i;if(o>=0&&r<=t&&s>=e)return!(r<e&&s>t)||"cover";r=s}return!1}},{key:"toString",value:function(){for(var e="",t=0;t<this.sections.length;){var n=this.sections[t++],r=this.sections[t++];e+=(e?" ":"")+n+(r>=0?":"+r:"")}return e}},{key:"toJSON",value:function(){return this.sections}}],[{key:"fromJSON",value:function(t){if(!Array.isArray(t)||t.length%2||t.some((function(e){return"number"!=typeof e})))throw new RangeError("Invalid JSON representation of ChangeDesc");return new e(t)}},{key:"create",value:function(t){return new e(t)}}]),e}(),$n=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r){var i;return(0,En.Z)(this,n),(i=t.call(this,e)).inserted=r,i}return(0,bn.Z)(n,[{key:"apply",value:function(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Qn(this,(function(t,n,r,i,o){return e=e.replace(r,r+(n-t),o)}),!1),e}},{key:"mapDesc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Kn(this,e,t,!0)}},{key:"invert",value:function(e){for(var t=this.sections.slice(),r=[],i=0,o=0;i<t.length;i+=2){var s=t[i],a=t[i+1];if(a>=0){t[i]=a,t[i+1]=s;for(var l=i>>1;r.length<l;)r.push(On.empty);r.push(s?e.slice(o,o+s):On.empty)}o+=s}return new n(t,r)}},{key:"compose",value:function(e){return this.empty?e:e.empty?this:Jn(this,e,!0)}},{key:"map",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.empty?this:Kn(this,e,t,!0)}},{key:"iterChanges",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Qn(this,e,t)}},{key:"desc",get:function(){return Xn.create(this.sections)}},{key:"filter",value:function(e){var t=[],r=[],i=[],o=new er(this);e:for(var s=0,a=0;;){for(var l=s==e.length?1e9:e[s++];a<l||a==l&&0==o.len;){if(o.done)break e;var c=Math.min(o.len,l-a);Yn(i,c,-1);var u=-1==o.ins?-1:0==o.off?o.ins:0;Yn(t,c,u),u>0&&zn(r,t,o.text),o.forward(c),a+=c}for(var h=e[s++];a<h;){if(o.done)break e;var p=Math.min(o.len,h-a);Yn(t,p,-1),Yn(i,p,-1==o.ins?-1:0==o.off?o.ins:0),o.forward(p),a+=p}}return{changes:new n(t,r),filtered:Xn.create(i)}}},{key:"toJSON",value:function(){for(var e=[],t=0;t<this.sections.length;t+=2){var n=this.sections[t],r=this.sections[t+1];r<0?e.push(n):0==r?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}}],[{key:"of",value:function(e,t,r){var i=[],o=[],s=0,a=null;function l(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||i.length){s<t&&Yn(i,t-s,-1);var r=new n(i,o);a=a?a.compose(r.map(a)):r,i=[],o=[],s=0}}return function e(c){if(Array.isArray(c)){var u,h=(0,_n.Z)(c);try{for(h.s();!(u=h.n()).done;){e(u.value)}}catch(v){h.e(v)}finally{h.f()}}else if(c instanceof n){if(c.length!=t)throw new RangeError("Mismatched change set length (got ".concat(c.length,", expected ").concat(t,")"));l(),a=a?a.compose(c.map(a)):c}else{var p=c.from,d=c.to,f=void 0===d?p:d,_=c.insert;if(p>f||p<0||f>t)throw new RangeError("Invalid change range ".concat(p," to ").concat(f," (in doc of length ").concat(t,")"));var g=_?"string"==typeof _?On.of(_.split(r||Zn)):_:On.empty,m=g.length;if(p==f&&0==m)return;p<s&&l(),p>s&&Yn(i,p-s,-1),Yn(i,f-p,m),zn(o,i,g),s=f}}(e),l(!a),a}},{key:"empty",value:function(e){return new n(e?[e,-1]:[],[])}},{key:"fromJSON",value:function(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");for(var t=[],r=[],i=0;i<e.length;i++){var o=e[i];if("number"==typeof o)t.push(o,-1);else{if(!Array.isArray(o)||"number"!=typeof o[0]||o.some((function(e,t){return t&&"string"!=typeof e})))throw new RangeError("Invalid JSON representation of ChangeSet");if(1==o.length)t.push(o[0],0);else{for(;r.length<i;)r.push(On.empty);r[i]=On.of(o.slice(1)),t.push(o[0],r[i].length)}}}return new n(t,r)}},{key:"createSet",value:function(e,t){return new n(e,t)}}]),n}(Xn);function Yn(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!(0==t&&n<=0)){var i=e.length-2;i>=0&&n<=0&&n==e[i+1]?e[i]+=t:0==t&&0==e[i]?e[i+1]+=n:r?(e[i]+=t,e[i+1]+=n):e.push(t,n)}}function zn(e,t,n){if(0!=n.length){var r=t.length-2>>1;if(r<e.length)e[e.length-1]=e[e.length-1].append(n);else{for(;e.length<r;)e.push(On.empty);e.push(n)}}}function Qn(e,t,n){for(var r=e.inserted,i=0,o=0,s=0;s<e.sections.length;){var a=e.sections[s++],l=e.sections[s++];if(l<0)i+=a,o+=a;else{for(var c=i,u=o,h=On.empty;c+=a,u+=l,l&&r&&(h=h.append(r[s-2>>1])),!(n||s==e.sections.length||e.sections[s+1]<0);)a=e.sections[s++],l=e.sections[s++];t(i,c,o,u,h),i=c,o=u}}}function Kn(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=[],o=r?[]:null,s=new er(e),a=new er(t),l=-1;;)if(-1==s.ins&&-1==a.ins){var c=Math.min(s.len,a.len);Yn(i,c,-1),s.forward(c),a.forward(c)}else if(a.ins>=0&&(s.ins<0||l==s.i||0==s.off&&(a.len<s.len||a.len==s.len&&!n))){var u=a.len;for(Yn(i,a.ins,-1);u;){var h=Math.min(s.len,u);s.ins>=0&&l<s.i&&s.len<=h&&(Yn(i,0,s.ins),o&&zn(o,i,s.text),l=s.i),s.forward(h),u-=h}a.next()}else{if(!(s.ins>=0)){if(s.done&&a.done)return o?$n.createSet(i,o):Xn.create(i);throw new Error("Mismatched change set lengths")}for(var p=0,d=s.len;d;)if(-1==a.ins){var f=Math.min(d,a.len);p+=f,d-=f,a.forward(f)}else{if(!(0==a.ins&&a.len<d))break;d-=a.len,a.next()}Yn(i,p,l<s.i?s.ins:0),o&&l<s.i&&zn(o,i,s.text),l=s.i,s.forward(s.len-d)}}function Jn(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[],i=n?[]:null,o=new er(e),s=new er(t),a=!1;;){if(o.done&&s.done)return i?$n.createSet(r,i):Xn.create(r);if(0==o.ins)Yn(r,o.len,0,a),o.next();else if(0!=s.len||s.done){if(o.done||s.done)throw new Error("Mismatched change set lengths");var l=Math.min(o.len2,s.len),c=r.length;if(-1==o.ins){var u=-1==s.ins?-1:s.off?0:s.ins;Yn(r,l,u,a),i&&u&&zn(i,r,s.text)}else-1==s.ins?(Yn(r,o.off?0:o.len,l,a),i&&zn(i,r,o.textBit(l))):(Yn(r,o.off?0:o.len,s.off?0:s.ins,a),i&&!s.off&&zn(i,r,s.text));a=(o.ins>l||s.ins>=0&&s.len>l)&&(a||r.length>c),o.forward2(l),s.forward(l)}else Yn(r,0,s.ins,a),i&&zn(i,r,s.text),s.next()}}var er=function(){function e(t){(0,En.Z)(this,e),this.set=t,this.i=0,this.next()}return(0,bn.Z)(e,[{key:"next",value:function(){var e=this.set.sections;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}},{key:"done",get:function(){return-2==this.ins}},{key:"len2",get:function(){return this.ins<0?this.len:this.ins}},{key:"text",get:function(){var e=this.set.inserted,t=this.i-2>>1;return t>=e.length?On.empty:e[t]}},{key:"textBit",value:function(e){var t=this.set.inserted,n=this.i-2>>1;return n>=t.length&&!e?On.empty:t[n].slice(this.off,null==e?void 0:this.off+e)}},{key:"forward",value:function(e){e==this.len?this.next():(this.len-=e,this.off+=e)}},{key:"forward2",value:function(e){-1==this.ins?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}]),e}(),tr=function(){function e(t,n,r){(0,En.Z)(this,e),this.from=t,this.to=n,this.flags=r}return(0,bn.Z)(e,[{key:"anchor",get:function(){return 16&this.flags?this.to:this.from}},{key:"head",get:function(){return 16&this.flags?this.from:this.to}},{key:"empty",get:function(){return this.from==this.to}},{key:"assoc",get:function(){return 4&this.flags?-1:8&this.flags?1:0}},{key:"bidiLevel",get:function(){var e=3&this.flags;return 3==e?null:e}},{key:"goalColumn",get:function(){var e=this.flags>>5;return 33554431==e?void 0:e}},{key:"map",value:function(t){var n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return this.empty?n=r=t.mapPos(this.from,i):(n=t.mapPos(this.from,1),r=t.mapPos(this.to,-1)),n==this.from&&r==this.to?this:new e(n,r,this.flags)}},{key:"extend",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(e<=this.anchor&&t>=this.anchor)return nr.range(e,t);var n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return nr.range(this.anchor,n)}},{key:"eq",value:function(e){return this.anchor==e.anchor&&this.head==e.head}},{key:"toJSON",value:function(){return{anchor:this.anchor,head:this.head}}}],[{key:"fromJSON",value:function(e){if(!e||"number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid JSON representation for SelectionRange");return nr.range(e.anchor,e.head)}},{key:"create",value:function(t,n,r){return new e(t,n,r)}}]),e}(),nr=function(){function e(t,n){(0,En.Z)(this,e),this.ranges=t,this.mainIndex=n}return(0,bn.Z)(e,[{key:"map",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return t.empty?this:e.create(this.ranges.map((function(e){return e.map(t,n)})),this.mainIndex)}},{key:"eq",value:function(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}},{key:"main",get:function(){return this.ranges[this.mainIndex]}},{key:"asSingle",value:function(){return 1==this.ranges.length?this:new e([this.main],0)}},{key:"addRange",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.create([t].concat(this.ranges),n?0:this.mainIndex+1)}},{key:"replaceRange",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.mainIndex,r=this.ranges.slice();return r[n]=t,e.create(r,this.mainIndex)}},{key:"toJSON",value:function(){return{ranges:this.ranges.map((function(e){return e.toJSON()})),main:this.mainIndex}}}],[{key:"fromJSON",value:function(t){if(!t||!Array.isArray(t.ranges)||"number"!=typeof t.main||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new e(t.ranges.map((function(e){return tr.fromJSON(e)})),t.main)}},{key:"single",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return new e([e.range(t,n)],0)}},{key:"create",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0==t.length)throw new RangeError("A selection needs at least one range");for(var r=0,i=0;i<t.length;i++){var o=t[i];if(o.empty?o.from<=r:o.from<r)return e.normalized(t.slice(),n);r=o.to}return new e(t,n)}},{key:"cursor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return tr.create(e,e,(0==t?0:t<0?4:8)|(null==n?3:Math.min(2,n))|(null!==r&&void 0!==r?r:33554431)<<5)}},{key:"range",value:function(e,t,n){var r=(null!==n&&void 0!==n?n:33554431)<<5;return t<e?tr.create(t,e,24|r):tr.create(e,t,r|(t>e?4:0))}},{key:"normalized",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=t[n];t.sort((function(e,t){return e.from-t.from})),n=t.indexOf(r);for(var i=1;i<t.length;i++){var o=t[i],s=t[i-1];if(o.empty?o.from<=s.to:o.from<s.to){var a=s.from,l=Math.max(o.to,s.to);i<=n&&n--,t.splice(--i,2,o.anchor>o.head?e.range(l,a):e.range(a,l))}}return new e(t,n)}}]),e}();function rr(e,t){var n,r=(0,_n.Z)(e.ranges);try{for(r.s();!(n=r.n()).done;){if(n.value.to>t)throw new RangeError("Selection points outside of document")}}catch(i){r.e(i)}finally{r.f()}}var ir=0,or=function(){function e(t,n,r,i,o){(0,En.Z)(this,e),this.combine=t,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=ir++,this.default=t([]),this.extensions="function"==typeof o?o(this):o}return(0,bn.Z)(e,[{key:"of",value:function(e){return new ar([],this,0,e)}},{key:"compute",value:function(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new ar(e,this,1,t)}},{key:"computeN",value:function(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new ar(e,this,2,t)}},{key:"from",value:function(e,t){return t||(t=function(e){return e}),this.compute([e],(function(n){return t(n.field(e))}))}}],[{key:"define",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new e(t.combine||function(e){return e},t.compareInput||function(e,t){return e===t},t.compare||(t.combine?function(e,t){return e===t}:sr),!!t.static,t.enables)}}]),e}();function sr(e,t){return e==t||e.length==t.length&&e.every((function(e,n){return e===t[n]}))}var ar=function(){function e(t,n,r,i){(0,En.Z)(this,e),this.dependencies=t,this.facet=n,this.type=r,this.value=i,this.id=ir++}return(0,bn.Z)(e,[{key:"dynamicSlot",value:function(e){var t,n,r=this,i=this.value,o=this.facet.compareInput,s=this.id,a=e[s]>>1,l=2==this.type,c=!1,u=!1,h=[],p=(0,_n.Z)(this.dependencies);try{for(p.s();!(n=p.n()).done;){var d=n.value;"doc"==d?c=!0:"selection"==d?u=!0:0==(1&(null!==(t=e[d.id])&&void 0!==t?t:1))&&h.push(e[d.id])}}catch(f){p.e(f)}finally{p.f()}return{create:function(e){return e.values[a]=i(e),1},update:function(e,t){if(c&&t.docChanged||u&&(t.docChanged||t.selection)||cr(e,h)){var n=i(e);if(l?!lr(n,e.values[a],o):!o(n,e.values[a]))return e.values[a]=n,1}return 0},reconfigure:function(e,t){var n,c=t.config.address[s];if(null!=c){var u=Or(t,c);if(r.dependencies.every((function(n){return n instanceof or?t.facet(n)===e.facet(n):!(n instanceof hr)||t.field(n,!1)==e.field(n,!1)}))||(l?lr(n=i(e),u,o):o(n=i(e),u)))return e.values[a]=u,0}else n=i(e);return e.values[a]=n,1}}}}]),e}();function lr(e,t,n){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function cr(e,t){var n,r=!1,i=(0,_n.Z)(t);try{for(i.s();!(n=i.n()).done;){1&br(e,n.value)&&(r=!0)}}catch(o){i.e(o)}finally{i.f()}return r}var ur=or.define({static:!0}),hr=function(){function e(t,n,r,i,o){(0,En.Z)(this,e),this.id=t,this.createF=n,this.updateF=r,this.compareF=i,this.spec=o,this.provides=void 0}return(0,bn.Z)(e,[{key:"create",value:function(e){var t=this,n=e.facet(ur).find((function(e){return e.field==t}));return((null===n||void 0===n?void 0:n.create)||this.createF)(e)}},{key:"slot",value:function(e){var t=this,n=e[this.id]>>1;return{create:function(e){return e.values[n]=t.create(e),1},update:function(e,r){var i=e.values[n],o=t.updateF(i,r);return t.compareF(i,o)?0:(e.values[n]=o,1)},reconfigure:function(e,r){return null!=r.config.address[t.id]?(e.values[n]=r.field(t),0):(e.values[n]=t.create(e),1)}}}},{key:"init",value:function(e){return[this,ur.of({field:this,create:e})]}},{key:"extension",get:function(){return this}}],[{key:"define",value:function(t){var n=new e(ir++,t.create,t.update,t.compare||function(e,t){return e===t},t);return t.provide&&(n.provides=t.provide(n)),n}}]),e}(),pr=4,dr=3,fr=2,_r=1;function gr(e){return function(t){return new vr(t,e)}}var mr={highest:gr(0),high:gr(_r),default:gr(fr),low:gr(dr),lowest:gr(pr)},vr=(0,bn.Z)((function e(t,n){(0,En.Z)(this,e),this.inner=t,this.prec=n})),yr=function(){function e(){(0,En.Z)(this,e)}return(0,bn.Z)(e,[{key:"of",value:function(e){return new Tr(this,e)}},{key:"reconfigure",value:function(t){return e.reconfigure.of({compartment:this,extension:t})}},{key:"get",value:function(e){return e.config.compartments.get(this)}}]),e}(),Tr=(0,bn.Z)((function e(t,n){(0,En.Z)(this,e),this.compartment=t,this.inner=n})),Er=function(){function e(t,n,r,i,o,s){for((0,En.Z)(this,e),this.base=t,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=o,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}return(0,bn.Z)(e,[{key:"staticFacet",value:function(e){var t=this.address[e.id];return null==t?e.default:this.staticValues[t>>1]}}],[{key:"resolve",value:function(t,n,r){var i,o=[],s=Object.create(null),a=new Map,l=(0,_n.Z)(function(e,t,n){var r=[[],[],[],[],[]],i=new Map;function o(e,s){var a=i.get(e);if(null!=a){if(a<=s)return;var l=r[a].indexOf(e);l>-1&&r[a].splice(l,1),e instanceof Tr&&n.delete(e.compartment)}if(i.set(e,s),Array.isArray(e)){var c,u=(0,_n.Z)(e);try{for(u.s();!(c=u.n()).done;){o(c.value,s)}}catch(d){u.e(d)}finally{u.f()}}else if(e instanceof Tr){if(n.has(e.compartment))throw new RangeError("Duplicate use of compartment in extensions");var h=t.get(e.compartment)||e.inner;n.set(e.compartment,h),o(h,s)}else if(e instanceof vr)o(e.inner,e.prec);else if(e instanceof hr)r[s].push(e),e.provides&&o(e.provides,s);else if(e instanceof ar)r[s].push(e),e.facet.extensions&&o(e.facet.extensions,fr);else{var p=e.extension;if(!p)throw new Error("Unrecognized extension value in extension set (".concat(e,"). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks."));o(p,s)}}return o(e,fr),r.reduce((function(e,t){return e.concat(t)}))}(t,n,a));try{for(l.s();!(i=l.n()).done;){var c=i.value;c instanceof hr?o.push(c):(s[c.facet.id]||(s[c.facet.id]=[])).push(c)}}catch(T){l.e(T)}finally{l.f()}for(var u=Object.create(null),h=[],p=[],d=function(){var e=_[f];u[e.id]=p.length<<1,p.push((function(t){return e.slot(t)}))},f=0,_=o;f<_.length;f++)d();var g=null===r||void 0===r?void 0:r.config.facets,m=function(e){var t=s[e],n=t[0].facet,i=g&&g[e]||[];if(t.every((function(e){return 0==e.type})))if(u[n.id]=h.length<<1|1,sr(i,t))h.push(r.facet(n));else{var o=n.combine(t.map((function(e){return e.value})));h.push(r&&n.compare(o,r.facet(n))?r.facet(n):o)}else{var a,l=(0,_n.Z)(t);try{var c=function(){var e=a.value;0==e.type?(u[e.id]=h.length<<1|1,h.push(e.value)):(u[e.id]=p.length<<1,p.push((function(t){return e.dynamicSlot(t)})))};for(l.s();!(a=l.n()).done;)c()}catch(T){l.e(T)}finally{l.f()}u[n.id]=p.length<<1,p.push((function(e){return function(e,t,n){var r=n.map((function(t){return e[t.id]})),i=n.map((function(e){return e.type})),o=r.filter((function(e){return!(1&e)})),s=e[t.id]>>1;function a(e){for(var n=[],o=0;o<r.length;o++){var s=Or(e,r[o]);if(2==i[o]){var a,l=(0,_n.Z)(s);try{for(l.s();!(a=l.n()).done;){var c=a.value;n.push(c)}}catch(T){l.e(T)}finally{l.f()}}else n.push(s)}return t.combine(n)}return{create:function(e){var t,n=(0,_n.Z)(r);try{for(n.s();!(t=n.n()).done;)br(e,t.value)}catch(T){n.e(T)}finally{n.f()}return e.values[s]=a(e),1},update:function(e,n){if(!cr(e,o))return 0;var r=a(e);return t.compare(r,e.values[s])?0:(e.values[s]=r,1)},reconfigure:function(e,i){var o=cr(e,r),l=i.config.facets[t.id],c=i.facet(t);if(l&&!o&&sr(n,l))return e.values[s]=c,0;var u=a(e);return t.compare(u,c)?(e.values[s]=c,0):(e.values[s]=u,1)}}}(e,n,t)}))}};for(var v in s)m(v);var y=p.map((function(e){return e(u)}));return new e(t,a,y,u,h,s)}}]),e}();function br(e,t){if(1&t)return 2;var n=t>>1,r=e.status[n];if(4==r)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;e.status[n]=4;var i=e.computeSlot(e,e.config.dynamicSlots[n]);return e.status[n]=2|i}function Or(e,t){return 1&t?e.config.staticValues[t>>1]:e.values[t>>1]}var kr=or.define(),wr=or.define({combine:function(e){return e.some((function(e){return e}))},static:!0}),Sr=or.define({combine:function(e){return e.length?e[0]:void 0},static:!0}),Ir=or.define(),Rr=or.define(),Cr=or.define(),Ar=or.define({combine:function(e){return!!e.length&&e[0]}}),xr=function(){function e(t,n){(0,En.Z)(this,e),this.type=t,this.value=n}return(0,bn.Z)(e,null,[{key:"define",value:function(){return new Mr}}]),e}(),Mr=function(){function e(){(0,En.Z)(this,e)}return(0,bn.Z)(e,[{key:"of",value:function(e){return new xr(this,e)}}]),e}(),Nr=function(){function e(t){(0,En.Z)(this,e),this.map=t}return(0,bn.Z)(e,[{key:"of",value:function(e){return new Lr(this,e)}}]),e}(),Lr=function(){function e(t,n){(0,En.Z)(this,e),this.type=t,this.value=n}return(0,bn.Z)(e,[{key:"map",value:function(t){var n=this.type.map(this.value,t);return void 0===n?void 0:n==this.value?this:new e(this.type,n)}},{key:"is",value:function(e){return this.type==e}}],[{key:"define",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Nr(e.map||function(e){return e})}},{key:"mapEffects",value:function(e,t){if(!e.length)return e;var n,r=[],i=(0,_n.Z)(e);try{for(i.s();!(n=i.n()).done;){var o=n.value.map(t);o&&r.push(o)}}catch(s){i.e(s)}finally{i.f()}return r}}]),e}();Lr.reconfigure=Lr.define(),Lr.appendConfig=Lr.define();var Dr=function(){function e(t,n,r,i,o,s){(0,En.Z)(this,e),this.startState=t,this.changes=n,this.selection=r,this.effects=i,this.annotations=o,this.scrollIntoView=s,this._doc=null,this._state=null,r&&rr(r,n.newLength),o.some((function(t){return t.type==e.time}))||(this.annotations=o.concat(e.time.of(Date.now())))}return(0,bn.Z)(e,[{key:"newDoc",get:function(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}},{key:"newSelection",get:function(){return this.selection||this.startState.selection.map(this.changes)}},{key:"state",get:function(){return this._state||this.startState.applyTransaction(this),this._state}},{key:"annotation",value:function(e){var t,n=(0,_n.Z)(this.annotations);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.type==e)return r.value}}catch(i){n.e(i)}finally{n.f()}}},{key:"docChanged",get:function(){return!this.changes.empty}},{key:"reconfigured",get:function(){return this.startState.config!=this.state.config}},{key:"isUserEvent",value:function(t){var n=this.annotation(e.userEvent);return!(!n||!(n==t||n.length>t.length&&n.slice(0,t.length)==t&&"."==n[t.length]))}}],[{key:"create",value:function(t,n,r,i,o,s){return new e(t,n,r,i,o,s)}}]),e}();function Pr(e,t){for(var n=[],r=0,i=0;;){var o=void 0,s=void 0;if(r<e.length&&(i==t.length||t[i]>=e[r]))o=e[r++],s=e[r++];else{if(!(i<t.length))return n;o=t[i++],s=t[i++]}!n.length||n[n.length-1]<o?n.push(o,s):n[n.length-1]<s&&(n[n.length-1]=s)}}function Br(e,t,n){var r,i,o,s;return n?(i=t.changes,o=$n.empty(t.changes.length),s=e.changes.compose(t.changes)):(i=t.changes.map(e.changes),o=e.changes.mapDesc(t.changes,!0),s=e.changes.compose(i)),{changes:s,selection:t.selection?t.selection.map(o):null===(r=e.selection)||void 0===r?void 0:r.map(i),effects:Lr.mapEffects(e.effects,i).concat(Lr.mapEffects(t.effects,o)),annotations:e.annotations.length?e.annotations.concat(t.annotations):t.annotations,scrollIntoView:e.scrollIntoView||t.scrollIntoView}}function Ur(e,t,n){var r=t.selection,i=Hr(t.annotations);return t.userEvent&&(i=i.concat(Dr.userEvent.of(t.userEvent))),{changes:t.changes instanceof $n?t.changes:$n.of(t.changes||[],n,e.facet(Sr)),selection:r&&(r instanceof nr?r:nr.single(r.anchor,r.head)),effects:Hr(t.effects),annotations:i,scrollIntoView:!!t.scrollIntoView}}function Fr(e,t,n){var r=Ur(e,t.length?t[0]:{},e.doc.length);t.length&&!1===t[0].filter&&(n=!1);for(var i=1;i<t.length;i++){!1===t[i].filter&&(n=!1);var o=!!t[i].sequential;r=Br(r,Ur(e,t[i],o?r.changes.newLength:e.doc.length),o)}var s=Dr.create(e,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return function(e){for(var t=e.startState,n=t.facet(Cr),r=e,i=n.length-1;i>=0;i--){var o=n[i](e);o&&Object.keys(o).length&&(r=Br(r,Ur(t,o,e.changes.newLength),!0))}return r==e?e:Dr.create(t,e.changes,e.selection,r.effects,r.annotations,r.scrollIntoView)}(n?function(e){var t,n=e.startState,r=!0,i=(0,_n.Z)(n.facet(Ir));try{for(i.s();!(t=i.n()).done;){var o=(0,t.value)(e);if(!1===o){r=!1;break}Array.isArray(o)&&(r=!0===r?o:Pr(r,o))}}catch(p){i.e(p)}finally{i.f()}if(!0!==r){var s,a;if(!1===r)a=e.changes.invertedDesc,s=$n.empty(n.doc.length);else{var l=e.changes.filter(r);s=l.changes,a=l.filtered.mapDesc(l.changes).invertedDesc}e=Dr.create(n,s,e.selection&&e.selection.map(a),Lr.mapEffects(e.effects,a),e.annotations,e.scrollIntoView)}for(var c=n.facet(Rr),u=c.length-1;u>=0;u--){var h=c[u](e);e=h instanceof Dr?h:Array.isArray(h)&&1==h.length&&h[0]instanceof Dr?h[0]:Fr(n,Hr(h),!1)}return e}(s):s)}Dr.time=xr.define(),Dr.userEvent=xr.define(),Dr.addToHistory=xr.define(),Dr.remote=xr.define();var Wr=[];function Hr(e){return null==e?Wr:Array.isArray(e)?e:[e]}var Gr,Vr=function(e){return e[e.Word=0]="Word",e[e.Space=1]="Space",e[e.Other=2]="Other",e}(Vr||(Vr={})),jr=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;try{Gr=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch(ge){}function Zr(e){return function(t){if(!/\S/.test(t))return Vr.Space;if(function(e){if(Gr)return Gr.test(e);for(var t=0;t<e.length;t++){var n=e[t];if(/\w/.test(n)||n>"\x80"&&(n.toUpperCase()!=n.toLowerCase()||jr.test(n)))return!0}return!1}(t))return Vr.Word;for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return Vr.Word;return Vr.Other}}var qr=function(){function e(t,n,r,i,o,s){(0,En.Z)(this,e),this.config=t,this.doc=n,this.selection=r,this.values=i,this.status=t.statusTemplate.slice(),this.computeSlot=o,s&&(s._state=this);for(var a=0;a<this.config.dynamicSlots.length;a++)br(this,a<<1);this.computeSlot=null}return(0,bn.Z)(e,[{key:"field",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.config.address[e.id];if(null!=n)return br(this,n),Or(this,n);if(t)throw new RangeError("Field is not present in this state")}},{key:"update",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Fr(this,t,!0)}},{key:"applyTransaction",value:function(t){var n,r,i=this,o=this.config,s=o,a=s.base,l=s.compartments,c=(0,_n.Z)(t.effects);try{for(c.s();!(n=c.n()).done;){var u=n.value;u.is(yr.reconfigure)?(o&&(l=new Map,o.compartments.forEach((function(e,t){return l.set(t,e)})),o=null),l.set(u.value.compartment,u.value.extension)):u.is(Lr.reconfigure)?(o=null,a=u.value):u.is(Lr.appendConfig)&&(o=null,a=Hr(a).concat(u.value))}}catch(h){c.e(h)}finally{c.f()}o?r=t.startState.values.slice():r=new e(o=Er.resolve(a,l,this),this.doc,this.selection,o.dynamicSlots.map((function(){return null})),(function(e,t){return t.reconfigure(e,i)}),null).values;new e(o,t.newDoc,t.newSelection,r,(function(e,n){return n.update(e,t)}),t)}},{key:"replaceSelection",value:function(e){return"string"==typeof e&&(e=this.toText(e)),this.changeByRange((function(t){return{changes:{from:t.from,to:t.to,insert:e},range:nr.cursor(t.from+e.length)}}))}},{key:"changeByRange",value:function(e){for(var t=this.selection,n=e(t.ranges[0]),r=this.changes(n.changes),i=[n.range],o=Hr(n.effects),s=1;s<t.ranges.length;s++){for(var a=e(t.ranges[s]),l=this.changes(a.changes),c=l.map(r),u=0;u<s;u++)i[u]=i[u].map(c);var h=r.mapDesc(l,!0);i.push(a.range.map(h)),r=r.compose(c),o=Lr.mapEffects(o,c).concat(Lr.mapEffects(Hr(a.effects),h))}return{changes:r,selection:nr.create(i,t.mainIndex),effects:o}}},{key:"changes",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t instanceof $n?t:$n.of(t,this.doc.length,this.facet(e.lineSeparator))}},{key:"toText",value:function(t){return On.of(t.split(this.facet(e.lineSeparator)||Zn))}},{key:"sliceDoc",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.doc.length;return this.doc.sliceString(e,t,this.lineBreak)}},{key:"facet",value:function(e){var t=this.config.address[e.id];return null==t?e.default:(br(this,t),Or(this,t))}},{key:"toJSON",value:function(e){var t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(var n in e){var r=e[n];r instanceof hr&&null!=this.config.address[r.id]&&(t[n]=r.spec.toJSON(this.field(e[n]),this))}return t}},{key:"tabSize",get:function(){return this.facet(e.tabSize)}},{key:"lineBreak",get:function(){return this.facet(e.lineSeparator)||"\n"}},{key:"readOnly",get:function(){return this.facet(Ar)}},{key:"phrase",value:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o,s=(0,_n.Z)(this.facet(e.phrases));try{for(s.s();!(o=s.n()).done;){var a=o.value;if(Object.prototype.hasOwnProperty.call(a,t)){t=a[t];break}}}catch(l){s.e(l)}finally{s.f()}return r.length&&(t=t.replace(/\$(\$|\d*)/g,(function(e,t){if("$"==t)return"$";var n=+(t||1);return!n||n>r.length?e:r[n-1]}))),t}},{key:"languageDataAt",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,i=[],o=(0,_n.Z)(this.facet(kr));try{for(o.s();!(n=o.n()).done;){var s,a=n.value,l=(0,_n.Z)(a(this,t,r));try{for(l.s();!(s=l.n()).done;){var c=s.value;Object.prototype.hasOwnProperty.call(c,e)&&i.push(c[e])}}catch(u){l.e(u)}finally{l.f()}}}catch(u){o.e(u)}finally{o.f()}return i}},{key:"charCategorizer",value:function(e){return Zr(this.languageDataAt("wordChars",e).join(""))}},{key:"wordAt",value:function(e){for(var t=this.doc.lineAt(e),n=t.text,r=t.from,i=t.length,o=this.charCategorizer(e),s=e-r,a=e-r;s>0;){var l=Bn(n,s,!1);if(o(n.slice(l,s))!=Vr.Word)break;s=l}for(;a<i;){var c=Bn(n,a);if(o(n.slice(a,c))!=Vr.Word)break;a=c}return s==a?null:nr.range(s+r,a+r)}}],[{key:"fromJSON",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;if(!t||"string"!=typeof t.doc)throw new RangeError("Invalid JSON representation for EditorState");var i=[];if(r)for(var o in r)Object.prototype.hasOwnProperty.call(t,o)&&function(){var e=r[o],n=t[o];i.push(e.init((function(t){return e.spec.fromJSON(n,t)})))}();return e.create({doc:t.doc,selection:nr.fromJSON(t.selection),extensions:n.extensions?i.concat([n.extensions]):i})}},{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Er.resolve(t.extensions||[],new Map),r=t.doc instanceof On?t.doc:On.of((t.doc||"").split(n.staticFacet(e.lineSeparator)||Zn)),i=t.selection?t.selection instanceof nr?t.selection:nr.single(t.selection.anchor,t.selection.head):nr.single(0);return rr(i,r.length),n.staticFacet(wr)||(i=i.asSingle()),new e(n,r,i,n.dynamicSlots.map((function(){return null})),(function(e,t){return t.create(e)}),null)}}]),e}();function Xr(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={},o=(0,_n.Z)(e);try{for(o.s();!(n=o.n()).done;)for(var s=n.value,a=0,l=Object.keys(s);a<l.length;a++){var c=l[a],u=s[c],h=i[c];if(void 0===h)i[c]=u;else if(h===u||void 0===u);else{if(!Object.hasOwnProperty.call(r,c))throw new Error("Config merge conflict for field "+c);i[c]=r[c](h,u)}}}catch(d){o.e(d)}finally{o.f()}for(var p in t)void 0===i[p]&&(i[p]=t[p]);return i}qr.allowMultipleSelections=wr,qr.tabSize=or.define({combine:function(e){return e.length?e[0]:4}}),qr.lineSeparator=Sr,qr.readOnly=Ar,qr.phrases=or.define({compare:function(e,t){var n=Object.keys(e),r=Object.keys(t);return n.length==r.length&&n.every((function(n){return e[n]==t[n]}))}}),qr.languageData=kr,qr.changeFilter=Ir,qr.transactionFilter=Rr,qr.transactionExtender=Cr,yr.reconfigure=Lr.define();var $r=function(){function e(){(0,En.Z)(this,e)}return(0,bn.Z)(e,[{key:"eq",value:function(e){return this==e}},{key:"range",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return Yr.create(e,t,this)}}]),e}();$r.prototype.startSide=$r.prototype.endSide=0,$r.prototype.point=!1,$r.prototype.mapMode=qn.TrackDel;var Yr=function(){function e(t,n,r){(0,En.Z)(this,e),this.from=t,this.to=n,this.value=r}return(0,bn.Z)(e,null,[{key:"create",value:function(t,n,r){return new e(t,n,r)}}]),e}();function zr(e,t){return e.from-t.from||e.value.startSide-t.value.startSide}var Qr=function(){function e(t,n,r,i){(0,En.Z)(this,e),this.from=t,this.to=n,this.value=r,this.maxPoint=i}return(0,bn.Z)(e,[{key:"length",get:function(){return this.to[this.to.length-1]}},{key:"findIndex",value:function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=n?this.to:this.from,o=r,s=i.length;;){if(o==s)return o;var a=o+s>>1,l=i[a]-e||(n?this.value[a].endSide:this.value[a].startSide)-t;if(a==o)return l>=0?o:s;l>=0?s=a:o=a+1}}},{key:"between",value:function(e,t,n,r){for(var i=this.findIndex(t,-1e9,!0),o=this.findIndex(n,1e9,!1,i);i<o;i++)if(!1===r(this.from[i]+e,this.to[i]+e,this.value[i]))return!1}},{key:"map",value:function(t,n){for(var r=[],i=[],o=[],s=-1,a=-1,l=0;l<this.value.length;l++){var c=this.value[l],u=this.from[l]+t,h=this.to[l]+t,p=void 0,d=void 0;if(u==h){var f=n.mapPos(u,c.startSide,c.mapMode);if(null==f)continue;if(p=d=f,c.startSide!=c.endSide&&(d=n.mapPos(u,c.endSide))<p)continue}else if((p=n.mapPos(u,c.startSide))>(d=n.mapPos(h,c.endSide))||p==d&&c.startSide>0&&c.endSide<=0)continue;(d-p||c.endSide-c.startSide)<0||(s<0&&(s=p),c.point&&(a=Math.max(a,d-p)),r.push(c),i.push(p-s),o.push(d-s))}return{mapped:r.length?new e(i,o,r,a):null,pos:s}}}]),e}(),Kr=function(){function e(t,n,r,i){(0,En.Z)(this,e),this.chunkPos=t,this.chunk=n,this.nextLayer=r,this.maxPoint=i}return(0,bn.Z)(e,[{key:"length",get:function(){var e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}},{key:"size",get:function(){if(this.isEmpty)return 0;var e,t=this.nextLayer.size,n=(0,_n.Z)(this.chunk);try{for(n.s();!(e=n.n()).done;){t+=e.value.value.length}}catch(r){n.e(r)}finally{n.f()}return t}},{key:"chunkEnd",value:function(e){return this.chunkPos[e]+this.chunk[e].length}},{key:"update",value:function(t){var n=t.add,r=void 0===n?[]:n,i=t.sort,o=void 0!==i&&i,s=t.filterFrom,a=void 0===s?0:s,l=t.filterTo,c=void 0===l?this.length:l,u=t.filter;if(0==r.length&&!u)return this;if(o&&(r=r.slice().sort(zr)),this.isEmpty)return r.length?e.of(r):this;for(var h=new ni(this,null,-1).goto(0),p=0,d=[],f=new ei;h.value||p<r.length;)if(p<r.length&&(h.from-r[p].from||h.startSide-r[p].value.startSide)>=0){var _=r[p++];f.addInner(_.from,_.to,_.value)||d.push(_)}else 1==h.rangeIndex&&h.chunkIndex<this.chunk.length&&(p==r.length||this.chunkEnd(h.chunkIndex)<r[p].from)&&(!u||a>this.chunkEnd(h.chunkIndex)||c<this.chunkPos[h.chunkIndex])&&f.addChunk(this.chunkPos[h.chunkIndex],this.chunk[h.chunkIndex])?h.nextChunk():((!u||a>h.to||c<h.from||u(h.from,h.to,h.value))&&(f.addInner(h.from,h.to,h.value)||d.push(Yr.create(h.from,h.to,h.value))),h.next());return f.finishInner(this.nextLayer.isEmpty&&!d.length?e.empty:this.nextLayer.update({add:d,filter:u,filterFrom:a,filterTo:c}))}},{key:"map",value:function(t){if(t.empty||this.isEmpty)return this;for(var n=[],r=[],i=-1,o=0;o<this.chunk.length;o++){var s=this.chunkPos[o],a=this.chunk[o],l=t.touchesRange(s,s+a.length);if(!1===l)i=Math.max(i,a.maxPoint),n.push(a),r.push(t.mapPos(s));else if(!0===l){var c=a.map(s,t),u=c.mapped,h=c.pos;u&&(i=Math.max(i,u.maxPoint),n.push(u),r.push(h))}}var p=this.nextLayer.map(t);return 0==n.length?p:new e(r,n,p||e.empty,i)}},{key:"between",value:function(e,t,n){if(!this.isEmpty){for(var r=0;r<this.chunk.length;r++){var i=this.chunkPos[r],o=this.chunk[r];if(t>=i&&e<=i+o.length&&!1===o.between(i,e-i,t-i,n))return}this.nextLayer.between(e,t,n)}}},{key:"iter",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return ri.from([this]).goto(e)}},{key:"isEmpty",get:function(){return this.nextLayer==this}}],[{key:"create",value:function(t,n,r,i){return new e(t,n,r,i)}},{key:"iter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return ri.from(e).goto(t)}},{key:"compare",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,o=e.filter((function(e){return e.maxPoint>0||!e.isEmpty&&e.maxPoint>=i})),s=t.filter((function(e){return e.maxPoint>0||!e.isEmpty&&e.maxPoint>=i})),a=ti(o,s,n),l=new oi(o,a,i),c=new oi(s,a,i);n.iterGaps((function(e,t,n){return si(l,e,c,t,n,r)})),n.empty&&0==n.length&&si(l,0,c,0,0,r)}},{key:"eq",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0;null==r&&(r=999999999);var i=e.filter((function(e){return!e.isEmpty&&t.indexOf(e)<0})),o=t.filter((function(t){return!t.isEmpty&&e.indexOf(t)<0}));if(i.length!=o.length)return!1;if(!i.length)return!0;for(var s=ti(i,o),a=new oi(i,s,0).goto(n),l=new oi(o,s,0).goto(n);;){if(a.to!=l.to||!ai(a.active,l.active)||a.point&&(!l.point||!a.point.eq(l.point)))return!1;if(a.to>r)return!0;a.next(),l.next()}}},{key:"spans",value:function(e,t,n,r){for(var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,o=new oi(e,null,i).goto(t),s=t,a=o.openStart;;){var l=Math.min(o.to,n);if(o.point){var c=o.activeForPoint(o.to),u=o.pointFrom<t?c.length+1:Math.min(c.length,a);r.point(s,l,o.point,c,u,o.pointRank),a=Math.min(o.openEnd(l),c.length)}else l>s&&(r.span(s,l,o.active,a),a=o.openEnd(l));if(o.to>n)return a+(o.point&&o.to>n?1:0);s=o.to,o.next()}}},{key:"of",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=new ei,i=(0,_n.Z)(e instanceof Yr?[e]:n?Jr(e):e);try{for(i.s();!(t=i.n()).done;){var o=t.value;r.add(o.from,o.to,o.value)}}catch(s){i.e(s)}finally{i.f()}return r.finish()}}]),e}();function Jr(e){if(e.length>1)for(var t=e[0],n=1;n<e.length;n++){var r=e[n];if(zr(t,r)>0)return e.slice().sort(zr);t=r}return e}Kr.empty=new Kr([],[],null,-1),Kr.empty.nextLayer=Kr.empty;var ei=function(){function e(){(0,En.Z)(this,e),this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}return(0,bn.Z)(e,[{key:"finishChunk",value:function(e){this.chunks.push(new Qr(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}},{key:"add",value:function(t,n,r){this.addInner(t,n,r)||(this.nextLayer||(this.nextLayer=new e)).add(t,n,r)}},{key:"addInner",value:function(e,t,n){var r=e-this.lastTo||n.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(r<0)&&(250==this.from.length&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}},{key:"addChunk",value:function(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);var n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}},{key:"finish",value:function(){return this.finishInner(Kr.empty)}},{key:"finishInner",value:function(e){if(this.from.length&&this.finishChunk(!1),0==this.chunks.length)return e;var t=Kr.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}]),e}();function ti(e,t,n){var r,i=new Map,o=(0,_n.Z)(e);try{for(o.s();!(r=o.n()).done;)for(var s=r.value,a=0;a<s.chunk.length;a++)s.chunk[a].maxPoint<=0&&i.set(s.chunk[a],s.chunkPos[a])}catch(f){o.e(f)}finally{o.f()}var l,c=new Set,u=(0,_n.Z)(t);try{for(u.s();!(l=u.n()).done;)for(var h=l.value,p=0;p<h.chunk.length;p++){var d=i.get(h.chunk[p]);null==d||(n?n.mapPos(d):d)!=h.chunkPos[p]||(null===n||void 0===n?void 0:n.touchesRange(d,d+h.chunk[p].length))||c.add(h.chunk[p])}}catch(f){u.e(f)}finally{u.f()}return c}var ni=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;(0,En.Z)(this,e),this.layer=t,this.skip=n,this.minPoint=r,this.rank=i}return(0,bn.Z)(e,[{key:"startSide",get:function(){return this.value?this.value.startSide:0}},{key:"endSide",get:function(){return this.value?this.value.endSide:0}},{key:"goto",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e9;return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}},{key:"gotoInner",value:function(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){var r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<e||r.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){var i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!n||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}},{key:"forward",value:function(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}},{key:"next",value:function(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}var e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}},{key:"setRangeIndex",value:function(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}},{key:"nextChunk",value:function(){this.chunkIndex++,this.rangeIndex=0,this.next()}},{key:"compare",value:function(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}]),e}(),ri=function(){function e(t){(0,En.Z)(this,e),this.heap=t}return(0,bn.Z)(e,[{key:"startSide",get:function(){return this.value?this.value.startSide:0}},{key:"goto",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e9,r=(0,_n.Z)(this.heap);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.goto(e,n)}}catch(s){r.e(s)}finally{r.f()}for(var o=this.heap.length>>1;o>=0;o--)ii(this.heap,o);return this.next(),this}},{key:"forward",value:function(e,t){var n,r=(0,_n.Z)(this.heap);try{for(r.s();!(n=r.n()).done;){n.value.forward(e,t)}}catch(o){r.e(o)}finally{r.f()}for(var i=this.heap.length>>1;i>=0;i--)ii(this.heap,i);(this.to-e||this.value.endSide-t)<0&&this.next()}},{key:"next",value:function(){if(0==this.heap.length)this.from=this.to=1e9,this.value=null,this.rank=-1;else{var e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),ii(this.heap,0)}}}],[{key:"from",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,i=[],o=0;o<t.length;o++)for(var s=t[o];!s.isEmpty;s=s.nextLayer)s.maxPoint>=r&&i.push(new ni(s,n,r,o));return 1==i.length?i[0]:new e(i)}}]),e}();function ii(e,t){for(var n=e[t];;){var r=1+(t<<1);if(r>=e.length)break;var i=e[r];if(r+1<e.length&&i.compare(e[r+1])>=0&&(i=e[r+1],r++),n.compare(i)<0)break;e[r]=n,e[t]=i,t=r}}var oi=function(){function e(t,n,r){(0,En.Z)(this,e),this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=ri.from(t,n,r)}return(0,bn.Z)(e,[{key:"goto",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1e9;return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}},{key:"forward",value:function(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}},{key:"removeActive",value:function(e){li(this.active,e),li(this.activeTo,e),li(this.activeRank,e),this.minActive=ui(this.active,this.activeTo)}},{key:"addActive",value:function(e){for(var t=0,n=this.cursor,r=n.value,i=n.to,o=n.rank;t<this.activeRank.length&&this.activeRank[t]<=o;)t++;ci(this.active,t,r),ci(this.activeTo,t,i),ci(this.activeRank,t,o),e&&ci(e,t,this.cursor.from),this.minActive=ui(this.active,this.activeTo)}},{key:"next",value:function(){var e=this.to,t=this.point;this.point=null;for(var n=this.openStart<0?[]:null;;){var r=this.minActive;if(r>-1&&(this.activeTo[r]-this.cursor.from||this.active[r].endSide-this.cursor.startSide)<0){if(this.activeTo[r]>e){this.to=this.activeTo[r],this.endSide=this.active[r].endSide;break}this.removeActive(r),n&&li(n,r)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}var i=this.cursor.value;if(i.point){if(!(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=i,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=i.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(n),this.cursor.next()}}if(n){this.openStart=0;for(var o=n.length-1;o>=0&&n[o]<e;o--)this.openStart++}}},{key:"activeForPoint",value:function(e){if(!this.active.length)return this.active;for(var t=[],n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&t.push(this.active[n]);return t.reverse()}},{key:"openEnd",value:function(e){for(var t=0,n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)t++;return t}}]),e}();function si(e,t,n,r,i,o){e.goto(t),n.goto(r);for(var s=r+i,a=r,l=r-t;;){var c=e.to+l-n.to||e.endSide-n.endSide,u=c<0?e.to+l:n.to,h=Math.min(u,s);if(e.point||n.point?e.point&&n.point&&(e.point==n.point||e.point.eq(n.point))&&ai(e.activeForPoint(e.to+l),n.activeForPoint(n.to))||o.comparePoint(a,h,e.point,n.point):h>a&&!ai(e.active,n.active)&&o.compareRange(a,h,e.active,n.active),u>s)break;a=u,c<=0&&e.next(),c>=0&&n.next()}}function ai(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!=t[n]&&!e[n].eq(t[n]))return!1;return!0}function li(e,t){for(var n=t,r=e.length-1;n<r;n++)e[n]=e[n+1];e.pop()}function ci(e,t,n){for(var r=e.length-1;r>=t;r--)e[r+1]=e[r];e[t]=n}function ui(e,t){for(var n=-1,r=1e9,i=0;i<t.length;i++)(t[i]-r||e[i].endSide-e[n].endSide)<0&&(n=i,r=t[i]);return n}function hi(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,r=0,i=0;i<n;)9==e.charCodeAt(i)?(r+=t-r%t,i++):(r++,i=Bn(e,i));return r}function pi(e,t,n,r){for(var i=0,o=0;;){if(o>=t)return i;if(i==e.length)break;o+=9==e.charCodeAt(i)?n-o%n:1,i=Bn(e,i)}return!0===r?-1:e.length}for(var di=__webpack_require__(7326),fi=__webpack_require__(2982),_i="undefined"==typeof Symbol?"__\u037c":Symbol.for("\u037c"),gi="undefined"==typeof Symbol?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),mi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:{},vi=function(){function e(t,n){(0,En.Z)(this,e),this.rules=[];var r=(n||{}).finish;function i(e){return/^@/.test(e)?[e]:e.split(/,\s*/)}function o(e,t,n,s){var a=[],l=/^@(\w+)\b/.exec(e[0]),c=l&&"keyframes"==l[1];if(l&&null==t)return n.push(e[0]+";");for(var u in t){var h=t[u];if(/&/.test(u))o(u.split(/,\s*/).map((function(t){return e.map((function(e){return t.replace(/&/,e)}))})).reduce((function(e,t){return e.concat(t)})),h,n);else if(h&&"object"==typeof h){if(!l)throw new RangeError("The value of a property ("+u+") should be a primitive value.");o(i(u),h,a,c)}else null!=h&&a.push(u.replace(/_.*/,"").replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()}))+": "+h+";")}(a.length||c)&&n.push((!r||l||s?e:e.map(r)).join(", ")+" {"+a.join(" ")+"}")}for(var s in t)o(i(s),t[s],this.rules)}return(0,bn.Z)(e,[{key:"getRules",value:function(){return this.rules.join("\n")}}],[{key:"newName",value:function(){var e=mi[_i]||1;return mi[_i]=e+1,"\u037c"+e.toString(36)}},{key:"mount",value:function(e,t){(e[gi]||new Ti(e)).mount(Array.isArray(t)?t:[t])}}]),e}(),yi=null,Ti=function(){function e(t){if((0,En.Z)(this,e),!t.head&&t.adoptedStyleSheets&&"undefined"!=typeof CSSStyleSheet){if(yi)return t.adoptedStyleSheets=[yi.sheet].concat(t.adoptedStyleSheets),t[gi]=yi;this.sheet=new CSSStyleSheet,t.adoptedStyleSheets=[this.sheet].concat(t.adoptedStyleSheets),yi=this}else{this.styleTag=(t.ownerDocument||t).createElement("style");var n=t.head||t;n.insertBefore(this.styleTag,n.firstChild)}this.modules=[],t[gi]=this}return(0,bn.Z)(e,[{key:"mount",value:function(e){for(var t=this.sheet,n=0,r=0,i=0;i<e.length;i++){var o=e[i],s=this.modules.indexOf(o);if(s<r&&s>-1&&(this.modules.splice(s,1),r--,s=-1),-1==s){if(this.modules.splice(r++,0,o),t)for(var a=0;a<o.rules.length;a++)t.insertRule(o.rules[a],n++)}else{for(;r<s;)n+=this.modules[r++].rules.length;n+=o.rules.length,r++}}if(!t){for(var l="",c=0;c<this.modules.length;c++)l+=this.modules[c].getRules()+"\n";this.styleTag.textContent=l}}}]),e}(),Ei={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},bi={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Oi="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),ki=("undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)),wi="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Si=ki||Oi&&+Oi[1]<57,Ii=0;Ii<10;Ii++)Ei[48+Ii]=Ei[96+Ii]=String(Ii);for(Ii=1;Ii<=24;Ii++)Ei[Ii+111]="F"+Ii;for(Ii=65;Ii<=90;Ii++)Ei[Ii]=String.fromCharCode(Ii+32),bi[Ii]=String.fromCharCode(Ii);for(var Ri in Ei)bi.hasOwnProperty(Ri)||(bi[Ri]=Ei[Ri]);function Ci(e){return(11==e.nodeType?e.getSelection?e:e.ownerDocument:e).getSelection()}function Ai(e,t){return!!t&&(e==t||e.contains(1!=t.nodeType?t.parentNode:t))}function xi(e,t){if(!t.anchorNode)return!1;try{return Ai(e,t.anchorNode)}catch(ge){return!1}}function Mi(e){return 3==e.nodeType?ji(e,0,e.nodeValue.length).getClientRects():1==e.nodeType?e.getClientRects():[]}function Ni(e,t,n,r){return!!n&&(Di(e,t,n,r,-1)||Di(e,t,n,r,1))}function Li(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t}function Di(e,t,n,r,i){for(;;){if(e==n&&t==r)return!0;if(t==(i<0?0:Pi(e))){if("DIV"==e.nodeName)return!1;var o=e.parentNode;if(!o||1!=o.nodeType)return!1;t=Li(e)+(i<0?0:1),e=o}else{if(1!=e.nodeType)return!1;if(1==(e=e.childNodes[t+(i<0?-1:0)]).nodeType&&"false"==e.contentEditable)return!1;t=i<0?Pi(e):0}}}function Pi(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}var Bi={left:0,right:0,top:0,bottom:0};function Ui(e,t){var n=t?e.left:e.right;return{left:n,right:n,top:e.top,bottom:e.bottom}}function Fi(e){return{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight}}var Wi,Hi=function(){function e(){(0,En.Z)(this,e),this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}return(0,bn.Z)(e,[{key:"eq",value:function(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}},{key:"setRange",value:function(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}},{key:"set",value:function(e,t,n,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=n,this.focusOffset=r}}]),e}(),Gi=null;function Vi(e){if(e.setActive)return e.setActive();if(Gi)return e.focus(Gi);for(var t=[],n=e;n&&(t.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(e.focus(null==Gi?{get preventScroll(){return Gi={preventScroll:!0},!0}}:void 0),!Gi){Gi=!1;for(var r=0;r<t.length;){var i=t[r++],o=t[r++],s=t[r++];i.scrollTop!=o&&(i.scrollTop=o),i.scrollLeft!=s&&(i.scrollLeft=s)}}}function ji(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,r=Wi||(Wi=document.createRange());return r.setEnd(e,n),r.setStart(e,t),r}function Zi(e,t,n){var r={key:t,code:t,keyCode:n,which:n,cancelable:!0},i=new KeyboardEvent("keydown",r);i.synthetic=!0,e.dispatchEvent(i);var o=new KeyboardEvent("keyup",r);return o.synthetic=!0,e.dispatchEvent(o),i.defaultPrevented||o.defaultPrevented}function qi(e){for(;e;){if(e&&(9==e.nodeType||11==e.nodeType&&e.host))return e;e=e.assignedSlot||e.parentNode}return null}function Xi(e){for(;e.attributes.length;)e.removeAttributeNode(e.attributes[0])}var $i=function(){function e(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];(0,En.Z)(this,e),this.node=t,this.offset=n,this.precise=r}return(0,bn.Z)(e,null,[{key:"before",value:function(t,n){return new e(t.parentNode,Li(t),n)}},{key:"after",value:function(t,n){return new e(t.parentNode,Li(t)+1,n)}}]),e}(),Yi=[],zi=function(){function e(){(0,En.Z)(this,e),this.parent=null,this.dom=null,this.dirty=2}return(0,bn.Z)(e,[{key:"editorView",get:function(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}},{key:"overrideDOMText",get:function(){return null}},{key:"posAtStart",get:function(){return this.parent?this.parent.posBefore(this):0}},{key:"posAtEnd",get:function(){return this.posAtStart+this.length}},{key:"posBefore",value:function(e){var t,n=this.posAtStart,r=(0,_n.Z)(this.children);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i==e)return n;n+=i.length+i.breakAfter}}catch(o){r.e(o)}finally{r.f()}throw new RangeError("Invalid child in posBefore")}},{key:"posAfter",value:function(e){return this.posBefore(e)+e.length}},{key:"coordsAt",value:function(e,t){return null}},{key:"sync",value:function(t){if(2&this.dirty){var n,r,i=this.dom,o=null,s=(0,_n.Z)(this.children);try{for(s.s();!(r=s.n()).done;){var a=r.value;if(a.dirty){if(!a.dom&&(n=o?o.nextSibling:i.firstChild)){var l=e.get(n);(!l||!l.parent&&l.canReuseDOM(a))&&a.reuseDOM(n)}a.sync(t),a.dirty=0}if(n=o?o.nextSibling:i.firstChild,t&&!t.written&&t.node==i&&n!=a.dom&&(t.written=!0),a.dom.parentNode==i)for(;n&&n!=a.dom;)n=Qi(n);else i.insertBefore(a.dom,n);o=a.dom}}catch(p){s.e(p)}finally{s.f()}for((n=o?o.nextSibling:i.firstChild)&&t&&t.node==i&&(t.written=!0);n;)n=Qi(n)}else if(1&this.dirty){var c,u=(0,_n.Z)(this.children);try{for(u.s();!(c=u.n()).done;){var h=c.value;h.dirty&&(h.sync(t),h.dirty=0)}}catch(p){u.e(p)}finally{u.f()}}}},{key:"reuseDOM",value:function(e){}},{key:"localPosFromDOM",value:function(t,n){var r;if(t==this.dom)r=this.dom.childNodes[n];else{for(var i=0==Pi(t)?0:0==n?-1:1;;){var o=t.parentNode;if(o==this.dom)break;0==i&&o.firstChild!=o.lastChild&&(i=t==o.firstChild?-1:1),t=o}r=i<0?t:t.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!e.get(r);)r=r.nextSibling;if(!r)return this.length;for(var s=0,a=0;;s++){var l=this.children[s];if(l.dom==r)return a;a+=l.length+l.breakAfter}}},{key:"domBoundsAround",value:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=-1,i=-1,o=-1,s=-1,a=0,l=n,c=n;a<this.children.length;a++){var u=this.children[a],h=l+u.length;if(l<e&&h>t)return u.domBoundsAround(e,t,l);if(h>=e&&-1==r&&(r=a,i=l),l>t&&u.dom.parentNode==this.dom){o=a,s=c;break}c=h,l=h+u.breakAfter}return{from:i,to:s<0?n+this.length:s,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}},{key:"markDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.dirty|=2,this.markParentsDirty(e)}},{key:"markParentsDirty",value:function(e){for(var t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),1&t.dirty)return;t.dirty|=1,e=!1}}},{key:"setParent",value:function(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}},{key:"setDOM",value:function(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}},{key:"rootView",get:function(){for(var e=this;;){var t=e.parent;if(!t)return e;e=t}}},{key:"replaceChildren",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yi;this.markDirty();for(var i=e;i<t;i++){var o=this.children[i];o.parent==this&&o.destroy()}(n=this.children).splice.apply(n,[e,t-e].concat((0,fi.Z)(r)));for(var s=0;s<r.length;s++)r[s].setParent(this)}},{key:"ignoreMutation",value:function(e){return!1}},{key:"ignoreEvent",value:function(e){return!1}},{key:"childCursor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.length;return new Ki(this.children,e,this.children.length)}},{key:"childPos",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.childCursor().findPos(e,t)}},{key:"toString",value:function(){var e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+("Text"==e?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}},{key:"isEditable",get:function(){return!0}},{key:"merge",value:function(e,t,n,r,i,o){return!1}},{key:"become",value:function(e){return!1}},{key:"canReuseDOM",value:function(e){return e.constructor==this.constructor}},{key:"getSide",value:function(){return 0}},{key:"destroy",value:function(){this.parent=null}}],[{key:"get",value:function(e){return e.cmView}}]),e}();function Qi(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}zi.prototype.breakAfter=0;var Ki=function(){function e(t,n,r){(0,En.Z)(this,e),this.children=t,this.pos=n,this.i=r,this.off=0}return(0,bn.Z)(e,[{key:"findPos",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;;){if(e>this.pos||e==this.pos&&(t>0||0==this.i||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;var n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}]),e}();function Ji(e,t,n,r,i,o,s,a,l){var c=e.children,u=c.length?c[t]:null,h=o.length?o[o.length-1]:null,p=h?h.breakAfter:s;if(!(t==r&&u&&!s&&!p&&o.length<2&&u.merge(n,i,o.length?h:null,0==n,a,l))){if(r<c.length){var d=c[r];d&&i<d.length?(t==r&&(d=d.split(i),i=0),!p&&h&&d.merge(0,i,h,!0,0,l)?o[o.length-1]=d:(i&&d.merge(0,i,null,!1,0,l),o.push(d))):(null===d||void 0===d?void 0:d.breakAfter)&&(h?h.breakAfter=1:s=1),r++}for(u&&(u.breakAfter=s,n>0&&(!s&&o.length&&u.merge(n,u.length,o[0],!1,a,0)?u.breakAfter=o.shift().breakAfter:(n<u.length||u.children.length&&0==u.children[u.children.length-1].length)&&u.merge(n,u.length,null,!1,a,0),t++));t<r&&o.length;)if(c[r-1].become(o[o.length-1]))r--,o.pop(),l=o.length?0:a;else{if(!c[t].become(o[0]))break;t++,o.shift(),a=o.length?0:l}!o.length&&t&&r<c.length&&!c[t-1].breakAfter&&c[r].merge(0,0,c[t-1],!1,a,l)&&t--,(t<r||o.length)&&e.replaceChildren(t,r,o)}}function eo(e,t,n,r,i,o){var s,a=e.childCursor(),l=a.findPos(n,1),c=l.i,u=l.off,h=a.findPos(t,-1),p=h.i,d=h.off,f=t-n,_=(0,_n.Z)(r);try{for(_.s();!(s=_.n()).done;){f+=s.value.length}}catch(g){_.e(g)}finally{_.f()}e.length+=f,Ji(e,p,d,c,u,r,0,i,o)}var to="undefined"!=typeof navigator?navigator:{userAgent:"",vendor:"",platform:""},no="undefined"!=typeof document?document:{documentElement:{style:{}}},ro=/Edge\/(\d+)/.exec(to.userAgent),io=/MSIE \d/.test(to.userAgent),oo=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(to.userAgent),so=!!(io||oo||ro),ao=!so&&/gecko\/(\d+)/i.test(to.userAgent),lo=!so&&/Chrome\/(\d+)/.exec(to.userAgent),co="webkitFontSmoothing"in no.documentElement.style,uo=!so&&/Apple Computer/.test(to.vendor),ho=uo&&(/Mobile\/\w+/.test(to.userAgent)||to.maxTouchPoints>2),po={mac:ho||/Mac/.test(to.platform),windows:/Win/.test(to.platform),linux:/Linux|X11/.test(to.platform),ie:so,ie_version:io?no.documentMode||6:oo?+oo[1]:ro?+ro[1]:0,gecko:ao,gecko_version:ao?+(/Firefox\/(\d+)/.exec(to.userAgent)||[0,0])[1]:0,chrome:!!lo,chrome_version:lo?+lo[1]:0,ios:ho,android:/Android\b/.test(to.userAgent),webkit:co,safari:uo,webkit_version:co?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:null!=no.documentElement.style.tabSize?"tab-size":"-moz-tab-size"},fo=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e){var r;return(0,En.Z)(this,n),(r=t.call(this)).text=e,r}return(0,bn.Z)(n,[{key:"length",get:function(){return this.text.length}},{key:"createDOM",value:function(e){this.setDOM(e||document.createTextNode(this.text))}},{key:"sync",value:function(e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}},{key:"reuseDOM",value:function(e){3==e.nodeType&&this.createDOM(e)}},{key:"merge",value:function(e,t,r){return(!r||r instanceof n&&!(this.length-(t-e)+r.length>256))&&(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(t),this.markDirty(),!0)}},{key:"split",value:function(e){var t=new n(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t}},{key:"localPosFromDOM",value:function(e,t){return e==this.dom?t:t?this.text.length:0}},{key:"domAtPos",value:function(e){return new $i(this.dom,e)}},{key:"domBoundsAround",value:function(e,t,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}},{key:"coordsAt",value:function(e,t){return go(this.dom,e,t)}}]),n}(zi),_o=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;(0,En.Z)(this,n),(r=t.call(this)).mark=e,r.children=i,r.length=o;var s,a=(0,_n.Z)(i);try{for(a.s();!(s=a.n()).done;){var l=s.value;l.setParent((0,di.Z)(r))}}catch(c){a.e(c)}finally{a.f()}return r}return(0,bn.Z)(n,[{key:"setAttrs",value:function(e){if(Xi(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(var t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}},{key:"reuseDOM",value:function(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}},{key:"sync",value:function(e){this.dom?4&this.dirty&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),vn((0,gn.Z)(n.prototype),"sync",this).call(this,e)}},{key:"merge",value:function(e,t,r,i,o,s){return(!r||!(!(r instanceof n&&r.mark.eq(this.mark))||e&&o<=0||t<this.length&&s<=0))&&(eo(this,e,t,r?r.children:[],o-1,s-1),this.markDirty(),!0)}},{key:"split",value:function(e){var t,r=[],i=0,o=-1,s=0,a=(0,_n.Z)(this.children);try{for(a.s();!(t=a.n()).done;){var l=t.value,c=i+l.length;c>e&&r.push(i<e?l.split(e-i):l),o<0&&i>=e&&(o=s),i=c,s++}}catch(h){a.e(h)}finally{a.f()}var u=this.length-e;return this.length=e,o>-1&&(this.children.length=o,this.markDirty()),new n(this.mark,r,u)}},{key:"domAtPos",value:function(e){return bo(this,e)}},{key:"coordsAt",value:function(e,t){return ko(this,e,t)}}]),n}(zi);function go(e,t,n){var r=e.nodeValue.length;t>r&&(t=r);var i=t,o=t,s=0;0==t&&n<0||t==r&&n>=0?po.chrome||po.gecko||(t?(i--,s=1):o<r&&(o++,s=-1)):n<0?i--:o<r&&o++;var a=ji(e,i,o).getClientRects();if(!a.length)return Bi;var l=a[(s?s<0:n>=0)?0:a.length-1];return po.safari&&!s&&0==l.width&&(l=Array.prototype.find.call(a,(function(e){return e.width}))||l),s?Ui(l,s<0):l||null}var mo=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r,i){var o;return(0,En.Z)(this,n),(o=t.call(this)).widget=e,o.length=r,o.side=i,o.prevWidget=null,o}return(0,bn.Z)(n,[{key:"split",value:function(e){var t=n.create(this.widget,this.length-e,this.side);return this.length-=e,t}},{key:"sync",value:function(){this.dom&&this.widget.updateDOM(this.dom)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}},{key:"getSide",value:function(){return this.side}},{key:"merge",value:function(e,t,r,i,o,s){return!(r&&(!(r instanceof n&&this.widget.compare(r.widget))||e>0&&o<=0||t<this.length&&s<=0))&&(this.length=e+(r?r.length:0)+(this.length-t),!0)}},{key:"become",value:function(e){return e.length==this.length&&e instanceof n&&e.side==this.side&&this.widget.constructor==e.widget.constructor&&(this.widget.eq(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0)}},{key:"ignoreMutation",value:function(){return!0}},{key:"ignoreEvent",value:function(e){return this.widget.ignoreEvent(e)}},{key:"overrideDOMText",get:function(){if(0==this.length)return On.empty;for(var e=this;e.parent;)e=e.parent;var t=e.editorView,n=t&&t.state.doc,r=this.posAtStart;return n?n.slice(r,r+this.length):On.empty}},{key:"domAtPos",value:function(e){return 0==e?$i.before(this.dom):$i.after(this.dom,e==this.length)}},{key:"domBoundsAround",value:function(){return null}},{key:"coordsAt",value:function(e,t){var n=this.dom.getClientRects(),r=null;if(!n.length)return Bi;for(var i=e>0?n.length-1:0;r=n[i],!(e>0?0==i:i==n.length-1||r.top<r.bottom);i+=e>0?-1:1);return this.length?r:Ui(r,this.side>0)}},{key:"isEditable",get:function(){return!1}},{key:"destroy",value:function(){vn((0,gn.Z)(n.prototype),"destroy",this).call(this),this.dom&&this.widget.destroy(this.dom)}}],[{key:"create",value:function(e,t,r){return new(e.customView||n)(e,t,r)}}]),n}(zi),vo=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(){return(0,En.Z)(this,n),t.apply(this,arguments)}return(0,bn.Z)(n,[{key:"domAtPos",value:function(e){var t=this.widget,n=t.topView,r=t.text;return n?yo(e,0,n,r,(function(e,t){return e.domAtPos(t)}),(function(e){return new $i(r,Math.min(e,r.nodeValue.length))})):new $i(r,Math.min(e,r.nodeValue.length))}},{key:"sync",value:function(){this.setDOM(this.widget.toDOM())}},{key:"localPosFromDOM",value:function(e,t){var n=this.widget,r=n.topView,i=n.text;return r?To(e,t,r,i):Math.min(t,this.length)}},{key:"ignoreMutation",value:function(){return!1}},{key:"overrideDOMText",get:function(){return null}},{key:"coordsAt",value:function(e,t){var n=this.widget,r=n.topView,i=n.text;return r?yo(e,t,r,i,(function(e,t,n){return e.coordsAt(t,n)}),(function(e,t){return go(i,e,t)})):go(i,e,t)}},{key:"destroy",value:function(){var e;vn((0,gn.Z)(n.prototype),"destroy",this).call(this),null===(e=this.widget.topView)||void 0===e||e.destroy()}},{key:"isEditable",get:function(){return!0}},{key:"canReuseDOM",value:function(){return!0}}]),n}(mo);function yo(e,t,n,r,i,o){if(n instanceof _o){for(var s=n.dom.firstChild;s;s=s.nextSibling){var a=zi.get(s);if(!a)return o(e,t);var l=Ai(s,r),c=a.length+(l?r.nodeValue.length:0);if(e<c||e==c&&a.getSide()<=0)return l?yo(e,t,a,r,i,o):i(a,e,t);e-=c}return i(n,n.length,-1)}return n.dom==r?o(e,t):i(n,e,t)}function To(e,t,n,r){if(n instanceof _o){var i,o=(0,_n.Z)(n.children);try{for(o.s();!(i=o.n()).done;){var s=i.value,a=0,l=Ai(s.dom,r);if(Ai(s.dom,e))return a+(l?To(e,t,s,r):s.localPosFromDOM(e,t));a+=l?r.nodeValue.length:s.length}}catch(c){o.e(c)}finally{o.f()}}else if(n.dom==r)return Math.min(t,r.nodeValue.length);return n.localPosFromDOM(e,t)}var Eo=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e){var r;return(0,En.Z)(this,n),(r=t.call(this)).side=e,r}return(0,bn.Z)(n,[{key:"length",get:function(){return 0}},{key:"merge",value:function(){return!1}},{key:"become",value:function(e){return e instanceof n&&e.side==this.side}},{key:"split",value:function(){return new n(this.side)}},{key:"sync",value:function(){if(!this.dom){var e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}},{key:"getSide",value:function(){return this.side}},{key:"domAtPos",value:function(e){return $i.before(this.dom)}},{key:"localPosFromDOM",value:function(){return 0}},{key:"domBoundsAround",value:function(){return null}},{key:"coordsAt",value:function(e){var t=this.dom.getBoundingClientRect(),n=function(e,t){var n=e.parent,r=n?n.children.indexOf(e):-1;for(;n&&r>=0;)if(t<0?r>0:r<n.children.length){var i=n.children[r+t];if(i instanceof fo){var o=i.coordsAt(t<0?i.length:0,t);if(o)return o}r+=t}else{if(!(n instanceof _o&&n.parent)){var s=n.dom.lastChild;if(s&&"BR"==s.nodeName)return s.getClientRects()[0];break}r=n.parent.children.indexOf(n)+(t<0?0:1),n=n.parent}return}(this,this.side>0?-1:1);return n&&n.top<t.bottom&&n.bottom>t.top?{left:t.left,right:t.right,top:n.top,bottom:n.bottom}:t}},{key:"overrideDOMText",get:function(){return On.empty}}]),n}(zi);function bo(e,t){for(var n=e.dom,r=e.children,i=0,o=0;i<r.length;i++){var s=r[i],a=o+s.length;if(!(a==o&&s.getSide()<=0)){if(t>o&&t<a&&s.dom.parentNode==n)return s.domAtPos(t-o);if(t<=o)break;o=a}}for(var l=i;l>0;l--){var c=r[l-1];if(c.dom.parentNode==n)return c.domAtPos(c.length)}for(var u=i;u<r.length;u++){var h=r[u];if(h.dom.parentNode==n)return h.domAtPos(0)}return new $i(n,0)}function Oo(e,t,n){var r,i=e.children;n>0&&t instanceof _o&&i.length&&(r=i[i.length-1])instanceof _o&&r.mark.eq(t.mark)?Oo(r,t.children[0],n-1):(i.push(t),t.setParent(e)),e.length+=t.length}function ko(e,t,n){var r=null,i=-1,o=null,s=-1;!function e(t,n){for(var a=0,l=0;a<t.children.length&&l<=n;a++){var c=t.children[a],u=l+c.length;u>=n&&(c.children.length?e(c,n-l):!o&&(u>n||l==u&&c.getSide()>0)?(o=c,s=n-l):(l<n||l==u&&c.getSide()<0)&&(r=c,i=n-l)),l=u}}(e,t);var a=(n<0?r:o)||r||o;return a?a.coordsAt(Math.max(0,a==r?i:s),n):function(e){var t=e.dom.lastChild;if(!t)return e.dom.getBoundingClientRect();var n=Mi(t);return n[n.length-1]||null}(e)}function wo(e,t){for(var n in e)"class"==n&&t.class?t.class+=" "+e.class:"style"==n&&t.style?t.style+=";"+e.style:t[n]=e[n];return t}function So(e,t){if(e==t)return!0;if(!e||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(var i=0,o=n;i<o.length;i++){var s=o[i];if(-1==r.indexOf(s)||e[s]!==t[s])return!1}return!0}function Io(e,t,n){var r=null;if(t)for(var i in t)n&&i in n||e.removeAttribute(r=i);if(n)for(var o in n)t&&t[o]==n[o]||e.setAttribute(r=o,n[o]);return!!r}fo.prototype.children=mo.prototype.children=Eo.prototype.children=Yi;var Ro=function(){function e(){(0,En.Z)(this,e)}return(0,bn.Z)(e,[{key:"eq",value:function(e){return!1}},{key:"updateDOM",value:function(e){return!1}},{key:"compare",value:function(e){return this==e||this.constructor==e.constructor&&this.eq(e)}},{key:"estimatedHeight",get:function(){return-1}},{key:"ignoreEvent",value:function(e){return!0}},{key:"customView",get:function(){return null}},{key:"destroy",value:function(e){}}]),e}(),Co=function(e){return e[e.Text=0]="Text",e[e.WidgetBefore=1]="WidgetBefore",e[e.WidgetAfter=2]="WidgetAfter",e[e.WidgetRange=3]="WidgetRange",e}(Co||(Co={})),Ao=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r,i,o){var s;return(0,En.Z)(this,n),(s=t.call(this)).startSide=e,s.endSide=r,s.widget=i,s.spec=o,s}return(0,bn.Z)(n,[{key:"heightRelevant",get:function(){return!1}},{key:"hasHeight",value:function(){return!!this.widget&&this.widget.estimatedHeight>-1}}],[{key:"mark",value:function(e){return new xo(e)}},{key:"widget",value:function(e){var t=e.side||0,n=!!e.block;return new No(e,t+=n?t>0?3e8:-4e8:t>0?1e8:-1e8,t,n,e.widget||null,!1)}},{key:"replace",value:function(e){var t,n,r=!!e.block;if(e.isBlockGap)t=-5e8,n=4e8;else{var i=Lo(e,r);t=(i.start?r?-3e8:-1:5e8)-1,n=1+(i.end?r?2e8:1:-6e8)}return new No(e,t,n,r,e.widget||null,!0)}},{key:"line",value:function(e){return new Mo(e)}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Kr.of(e,t)}}]),n}($r);Ao.none=Kr.empty;var xo=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e){var r;(0,En.Z)(this,n);var i=Lo(e),o=i.start,s=i.end;return(r=t.call(this,o?-1:5e8,s?1:-6e8,null,e)).tagName=e.tagName||"span",r.class=e.class||"",r.attrs=e.attributes||null,r}return(0,bn.Z)(n,[{key:"eq",value:function(e){return this==e||e instanceof n&&this.tagName==e.tagName&&this.class==e.class&&So(this.attrs,e.attrs)}},{key:"range",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(e>=t)throw new RangeError("Mark decorations may not be empty");return vn((0,gn.Z)(n.prototype),"range",this).call(this,e,t)}}]),n}(Ao);xo.prototype.point=!1;var Mo=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e){return(0,En.Z)(this,n),t.call(this,-2e8,-2e8,null,e)}return(0,bn.Z)(n,[{key:"eq",value:function(e){return e instanceof n&&So(this.spec.attributes,e.spec.attributes)}},{key:"range",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return vn((0,gn.Z)(n.prototype),"range",this).call(this,e,t)}}]),n}(Ao);Mo.prototype.mapMode=qn.TrackBefore,Mo.prototype.point=!0;var No=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r,i,o,s,a){var l;return(0,En.Z)(this,n),(l=t.call(this,r,i,s,e)).block=o,l.isReplace=a,l.mapMode=o?r<=0?qn.TrackBefore:qn.TrackAfter:qn.TrackDel,l}return(0,bn.Z)(n,[{key:"type",get:function(){return this.startSide<this.endSide?Co.WidgetRange:this.startSide<=0?Co.WidgetBefore:Co.WidgetAfter}},{key:"heightRelevant",get:function(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}},{key:"eq",value:function(e){return e instanceof n&&function(e,t){return e==t||!!(e&&t&&e.compare(t))}(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}},{key:"range",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return vn((0,gn.Z)(n.prototype),"range",this).call(this,e,t)}}]),n}(Ao);function Lo(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.inclusiveStart,r=e.inclusiveEnd;return null==n&&(n=e.inclusive),null==r&&(r=e.inclusive),{start:null!==n&&void 0!==n?n:t,end:null!==r&&void 0!==r?r:t}}function Do(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=n.length-1;i>=0&&n[i]+r>=e?n[i]=Math.max(n[i],t):n.push(e,t)}No.prototype.point=!0;var Po=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(){var e;return(0,En.Z)(this,n),(e=t.apply(this,arguments)).children=[],e.length=0,e.prevAttrs=void 0,e.attrs=null,e.breakAfter=0,e}return(0,bn.Z)(n,[{key:"merge",value:function(e,t,r,i,o,s){if(r){if(!(r instanceof n))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),eo(this,e,t,r?r.children:[],o,s),!0}},{key:"split",value:function(e){var t=new n;if(t.breakAfter=this.breakAfter,0==this.length)return t;var r=this.childPos(e),i=r.i,o=r.off;o&&(t.append(this.children[i].split(o),0),this.children[i].merge(o,this.children[i].length,null,!1,0,0),i++);for(var s=i;s<this.children.length;s++)t.append(this.children[s],0);for(;i>0&&0==this.children[i-1].length;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}},{key:"transferDOM",value:function(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=void 0===this.prevAttrs?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}},{key:"setDeco",value:function(e){So(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}},{key:"append",value:function(e,t){Oo(this,e,t)}},{key:"addLineDeco",value:function(e){var t=e.spec.attributes,n=e.spec.class;t&&(this.attrs=wo(t,this.attrs||{})),n&&(this.attrs=wo({class:n},this.attrs||{}))}},{key:"domAtPos",value:function(e){return bo(this,e)}},{key:"reuseDOM",value:function(e){"DIV"==e.nodeName&&(this.setDOM(e),this.dirty|=6)}},{key:"sync",value:function(e){var t;this.dom?4&this.dirty&&(Xi(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),void 0!==this.prevAttrs&&(Io(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),vn((0,gn.Z)(n.prototype),"sync",this).call(this,e);for(var r=this.dom.lastChild;r&&zi.get(r)instanceof _o;)r=r.lastChild;if(!r||!this.length||"BR"!=r.nodeName&&0==(null===(t=zi.get(r))||void 0===t?void 0:t.isEditable)&&(!po.ios||!this.children.some((function(e){return e instanceof fo})))){var i=document.createElement("BR");i.cmIgnore=!0,this.dom.appendChild(i)}}},{key:"measureTextSize",value:function(){if(0==this.children.length||this.length>20)return null;var e,t=0,n=(0,_n.Z)(this.children);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(!(r instanceof fo)||/[^ -~]/.test(r.text))return null;var i=Mi(r.dom);if(1!=i.length)return null;t+=i[0].width}}catch(o){n.e(o)}finally{n.f()}return t?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length}:null}},{key:"coordsAt",value:function(e,t){return ko(this,e,t)}},{key:"become",value:function(e){return!1}},{key:"type",get:function(){return Co.Text}}],[{key:"find",value:function(e,t){for(var r=0,i=0;r<e.children.length;r++){var o=e.children[r],s=i+o.length;if(s>=t){if(o instanceof n)return o;if(s>t)break}i=s+o.breakAfter}return null}}]),n}(zi),Bo=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r,i){var o;return(0,En.Z)(this,n),(o=t.call(this)).widget=e,o.length=r,o.type=i,o.breakAfter=0,o.prevWidget=null,o}return(0,bn.Z)(n,[{key:"merge",value:function(e,t,r,i,o,s){return!(r&&(!(r instanceof n&&this.widget.compare(r.widget))||e>0&&o<=0||t<this.length&&s<=0))&&(this.length=e+(r?r.length:0)+(this.length-t),!0)}},{key:"domAtPos",value:function(e){return 0==e?$i.before(this.dom):$i.after(this.dom,e==this.length)}},{key:"split",value:function(e){var t=this.length-e;this.length=e;var r=new n(this.widget,t,this.type);return r.breakAfter=this.breakAfter,r}},{key:"children",get:function(){return Yi}},{key:"sync",value:function(){this.dom&&this.widget.updateDOM(this.dom)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}},{key:"overrideDOMText",get:function(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):On.empty}},{key:"domBoundsAround",value:function(){return null}},{key:"become",value:function(e){return e instanceof n&&e.type==this.type&&e.widget.constructor==this.widget.constructor&&(e.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0)}},{key:"ignoreMutation",value:function(){return!0}},{key:"ignoreEvent",value:function(e){return this.widget.ignoreEvent(e)}},{key:"destroy",value:function(){vn((0,gn.Z)(n.prototype),"destroy",this).call(this),this.dom&&this.widget.destroy(this.dom)}}]),n}(zi),Uo=function(){function e(t,n,r,i){(0,En.Z)(this,e),this.doc=t,this.pos=n,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=n}return(0,bn.Z)(e,[{key:"posCovered",value:function(){if(0==this.content.length)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;var e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof Bo&&e.type==Co.WidgetBefore)}},{key:"getLine",value:function(){return this.curLine||(this.content.push(this.curLine=new Po),this.atCursorPos=!0),this.curLine}},{key:"flushBuffer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.bufferMarks;this.pendingBuffer&&(this.curLine.append(Fo(new Eo(-1),e),e.length),this.pendingBuffer=0)}},{key:"addBlockWidget",value:function(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}},{key:"finish",value:function(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||this.getLine()}},{key:"buildText",value:function(e,t,n){for(;e>0;){if(this.textOff==this.text.length){var r=this.cursor.next(this.skip),i=r.value,o=r.lineBreak,s=r.done;if(this.skip=0,s)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}this.text=i,this.textOff=0}var a=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-n)),this.getLine().append(Fo(new fo(this.text.slice(this.textOff,this.textOff+a)),t),n),this.atCursorPos=!0,this.textOff+=a,e-=a,n=0}}},{key:"span",value:function(e,t,n,r){this.buildText(t-e,n,r),this.pos=t,this.openStart<0&&(this.openStart=r)}},{key:"point",value:function(e,t,n,r,i,o){if(this.disallowBlockEffectsFor[o]&&n instanceof No){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}var s=t-e;if(n instanceof No)if(n.block){var a=n.type;a!=Co.WidgetAfter||this.posCovered()||this.getLine(),this.addBlockWidget(new Bo(n.widget||new Wo("div"),s,a))}else{var l=mo.create(n.widget||new Wo("span"),s,s?0:n.startSide),c=this.atCursorPos&&!l.isEditable&&i<=r.length&&(e<t||n.startSide>0),u=!l.isEditable&&(e<t||i>r.length||n.startSide<=0),h=this.getLine();2!=this.pendingBuffer||c||(this.pendingBuffer=0),this.flushBuffer(r),c&&(h.append(Fo(new Eo(1),r),i),i=r.length+Math.max(0,i-r.length)),h.append(Fo(l,r),i),this.atCursorPos=u,this.pendingBuffer=u?e<t||i>r.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=r.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);s&&(this.textOff+s<=this.text.length?this.textOff+=s:(this.skip+=s-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=i)}}],[{key:"build",value:function(t,n,r,i,o){var s=new e(t,n,r,o);return s.openEnd=Kr.spans(i,n,r,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}]),e}();function Fo(e,t){var n,r=(0,_n.Z)(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;e=new _o(i,[e],e.length)}}catch(o){r.e(o)}finally{r.f()}return e}var Wo=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e){var r;return(0,En.Z)(this,n),(r=t.call(this)).tag=e,r}return(0,bn.Z)(n,[{key:"eq",value:function(e){return e.tag==this.tag}},{key:"toDOM",value:function(){return document.createElement(this.tag)}},{key:"updateDOM",value:function(e){return e.nodeName.toLowerCase()==this.tag}}]),n}(Ro),Ho=or.define(),Go=or.define(),Vo=or.define(),jo=or.define(),Zo=or.define(),qo=or.define(),Xo=or.define({combine:function(e){return e.some((function(e){return e}))}}),$o=or.define({combine:function(e){return e.some((function(e){return e}))}}),Yo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"nearest",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5;(0,En.Z)(this,e),this.range=t,this.y=n,this.x=r,this.yMargin=i,this.xMargin=o}return(0,bn.Z)(e,[{key:"map",value:function(t){return t.empty?this:new e(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin)}}]),e}(),zo=Lr.define({map:function(e,t){return e.map(t)}});function Qo(e,t,n){var r=e.facet(jo);r.length?r[0](t):window.onerror?window.onerror(String(t),n,void 0,void 0,t):n?console.error(n+":",t):console.error(t)}var Ko=or.define({combine:function(e){return!e.length||e[0]}}),Jo=0,es=or.define(),ts=function(){function e(t,n,r,i){(0,En.Z)(this,e),this.id=t,this.create=n,this.domEventHandlers=r,this.extension=i(this)}return(0,bn.Z)(e,null,[{key:"define",value:function(t,n){var r=n||{},i=r.eventHandlers,o=r.provide,s=r.decorations;return new e(Jo++,t,i,(function(e){var t=[es.of(e)];return s&&t.push(os.of((function(t){var n=t.plugin(e);return n?s(n):Ao.none}))),o&&t.push(o(e)),t}))}},{key:"fromClass",value:function(t,n){return e.define((function(e){return new t(e)}),n)}}]),e}(),ns=function(){function e(t){(0,En.Z)(this,e),this.spec=t,this.mustUpdate=null,this.value=null}return(0,bn.Z)(e,[{key:"update",value:function(e){if(this.value){if(this.mustUpdate){var t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(n){if(Qo(t.state,n,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch(ge){}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(n){Qo(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}},{key:"destroy",value:function(e){var t;if(null===(t=this.value)||void 0===t?void 0:t.destroy)try{this.value.destroy()}catch(n){Qo(e.state,n,"CodeMirror plugin crashed")}}},{key:"deactivate",value:function(){this.spec=this.value=null}}]),e}(),rs=or.define(),is=or.define(),os=or.define(),ss=or.define(),as=or.define(),ls=or.define(),cs=function(){function e(t,n,r,i){(0,En.Z)(this,e),this.fromA=t,this.toA=n,this.fromB=r,this.toB=i}return(0,bn.Z)(e,[{key:"join",value:function(t){return new e(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}},{key:"addToSet",value:function(e){for(var t=e.length,n=this;t>0;t--){var r=e[t-1];if(!(r.fromA>n.toA)){if(r.toA<n.fromA)break;n=n.join(r),e.splice(t-1,1)}}return e.splice(t,0,n),e}}],[{key:"extendWithRanges",value:function(t,n){if(0==n.length)return t;for(var r=[],i=0,o=0,s=0,a=0;;i++){for(var l=i==t.length?null:t[i],c=s-a,u=l?l.fromB:1e9;o<n.length&&n[o]<u;){var h=n[o],p=n[o+1],d=Math.max(a,h),f=Math.min(u,p);if(d<=f&&new e(d+c,f+c,d,f).addToSet(r),p>u)break;o+=2}if(!l)return r;new e(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),s=l.toA,a=l.toB}}}]),e}(),us=function(){function e(t,n,r){(0,En.Z)(this,e),this.view=t,this.state=n,this.transactions=r,this.flags=0,this.startState=t.state,this.changes=$n.empty(this.startState.doc.length);var i,o=(0,_n.Z)(r);try{for(o.s();!(i=o.n()).done;){var s=i.value;this.changes=this.changes.compose(s.changes)}}catch(c){o.e(c)}finally{o.f()}var a=[];this.changes.iterChangedRanges((function(e,t,n,r){return a.push(new cs(e,t,n,r))})),this.changedRanges=a;var l=t.hasFocus;l!=t.inputState.notifiedFocused&&(t.inputState.notifiedFocused=l,this.flags|=1)}return(0,bn.Z)(e,[{key:"viewportChanged",get:function(){return(4&this.flags)>0}},{key:"heightChanged",get:function(){return(2&this.flags)>0}},{key:"geometryChanged",get:function(){return this.docChanged||(10&this.flags)>0}},{key:"focusChanged",get:function(){return(1&this.flags)>0}},{key:"docChanged",get:function(){return!this.changes.empty}},{key:"selectionSet",get:function(){return this.transactions.some((function(e){return e.selection}))}},{key:"empty",get:function(){return 0==this.flags&&0==this.transactions.length}}],[{key:"create",value:function(t,n,r){return new e(t,n,r)}}]),e}(),hs=function(e){return e[e.LTR=0]="LTR",e[e.RTL=1]="RTL",e}(hs||(hs={})),ps=hs.LTR,ds=hs.RTL;function fs(e){for(var t=[],n=0;n<e.length;n++)t.push(1<<+e[n]);return t}for(var _s=fs("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),gs=fs("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),ms=Object.create(null),vs=[],ys=0,Ts=["()","[]","{}"];ys<Ts.length;ys++){var Es=Ts[ys],bs=Es.charCodeAt(0),Os=Es.charCodeAt(1);ms[bs]=Os,ms[Os]=-bs}function ks(e){return e<=247?_s[e]:1424<=e&&e<=1524?2:1536<=e&&e<=1785?gs[e-1536]:1774<=e&&e<=2220?4:8192<=e&&e<=8203?256:64336<=e&&e<=65023?4:8204==e?256:1}var ws=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/,Ss=function(){function e(t,n,r){(0,En.Z)(this,e),this.from=t,this.to=n,this.level=r}return(0,bn.Z)(e,[{key:"dir",get:function(){return this.level%2?ds:ps}},{key:"side",value:function(e,t){return this.dir==t==e?this.to:this.from}}],[{key:"find",value:function(e,t,n,r){for(var i=-1,o=0;o<e.length;o++){var s=e[o];if(s.from<=t&&s.to>=t){if(s.level==n)return o;(i<0||(0!=r?r<0?s.from<t:s.to>t:e[i].level>s.level))&&(i=o)}}if(i<0)throw new RangeError("Index out of range");return i}}]),e}(),Is=[];function Rs(e,t){var n=e.length,r=t==ps?1:2,i=t==ps?2:1;if(!e||1==r&&!ws.test(e))return Cs(n);for(var o=0,s=r,a=r;o<n;o++){var l=ks(e.charCodeAt(o));512==l?l=s:8==l&&4==a&&(l=16),Is[o]=4==l?2:l,7&l&&(a=l),s=l}for(var c=0,u=r,h=r;c<n;c++){var p=Is[c];if(128==p)c<n-1&&u==Is[c+1]&&24&u?p=Is[c]=u:Is[c]=256;else if(64==p){for(var d=c+1;d<n&&64==Is[d];)d++;for(var f=c&&8==u||d<n&&8==Is[d]?1==h?1:8:256,_=c;_<d;_++)Is[_]=f;c=d-1}else 8==p&&1==h&&(Is[c]=1);u=p,7&p&&(h=p)}for(var g,m,v,y=0,T=0,E=0;y<n;y++)if(m=ms[g=e.charCodeAt(y)])if(m<0){for(var b=T-3;b>=0;b-=3)if(vs[b+1]==-m){var O=vs[b+2],k=2&O?r:4&O?1&O?i:r:0;k&&(Is[y]=Is[vs[b]]=k),T=b;break}}else{if(189==vs.length)break;vs[T++]=y,vs[T++]=g,vs[T++]=E}else if(2==(v=Is[y])||1==v){var w=v==r;E=w?0:1;for(var S=T-3;S>=0;S-=3){var I=vs[S+2];if(2&I)break;if(w)vs[S+2]|=2;else{if(4&I)break;vs[S+2]|=4}}}for(var R=0;R<n;R++)if(256==Is[R]){for(var C=R+1;C<n&&256==Is[C];)C++;for(var A=1==(R?Is[R-1]:r),x=A==(1==(C<n?Is[C]:r))?A?1:2:r,M=R;M<C;M++)Is[M]=x;R=C-1}var N=[];if(1==r)for(var L=0;L<n;){for(var D=L,P=1!=Is[L++];L<n&&P==(1!=Is[L]);)L++;if(P)for(var B=L;B>D;){for(var U=B,F=2!=Is[--B];B>D&&F==(2!=Is[B-1]);)B--;N.push(new Ss(B,U,F?2:1))}else N.push(new Ss(D,L,0))}else for(var W=0;W<n;){for(var H=W,G=2==Is[W++];W<n&&G==(2==Is[W]);)W++;N.push(new Ss(H,W,G?1:2))}return N}function Cs(e){return[new Ss(0,e,0)]}var As="";function xs(e,t,n,r,i){var o,s=r.head-e.from,a=-1;if(0==s){if(!i||!e.length)return null;t[0].level!=n&&(s=t[0].side(!1,n),a=0)}else if(s==e.length){if(i)return null;var l=t[t.length-1];l.level!=n&&(s=l.side(!0,n),a=t.length-1)}a<0&&(a=Ss.find(t,s,null!==(o=r.bidiLevel)&&void 0!==o?o:-1,r.assoc));var c=t[a];s==c.side(i,n)&&(s=(c=t[a+=i?1:-1]).side(!i,n));var u=i==(c.dir==n),h=Bn(e.text,s,u);if(As=e.text.slice(Math.min(s,h),Math.max(s,h)),h!=c.side(i,n))return nr.cursor(h+e.from,u?-1:1,c.level);var p=a==(i?t.length-1:0)?null:t[a+(i?1:-1)];return p||c.level==n?p&&p.level<c.level?nr.cursor(p.side(!i,n)+e.from,i?1:-1,p.level):nr.cursor(h+e.from,i?-1:1,c.level):nr.cursor(i?e.to:e.from,i?-1:1,n)}var Ms="\uffff",Ns=function(){function e(t,n){(0,En.Z)(this,e),this.points=t,this.text="",this.lineSeparator=n.facet(qr.lineSeparator)}return(0,bn.Z)(e,[{key:"append",value:function(e){this.text+=e}},{key:"lineBreak",value:function(){this.text+=Ms}},{key:"readRange",value:function(e,t){if(!e)return this;for(var n=e.parentNode,r=e;;){this.findPointBefore(n,r),this.readNode(r);var i=r.nextSibling;if(i==t)break;var o=zi.get(r),s=zi.get(i);(o&&s?o.breakAfter:(o?o.breakAfter:Ls(r))||Ls(i)&&("BR"!=r.nodeName||r.cmIgnore))&&this.lineBreak(),r=i}return this.findPointBefore(n,t),this}},{key:"readTextNode",value:function(e){var t,n=e.nodeValue,r=(0,_n.Z)(this.points);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.node==e&&(i.pos=this.text.length+Math.min(i.offset,n.length))}}catch(d){r.e(d)}finally{r.f()}for(var o=0,s=this.lineSeparator?null:/\r\n?|\n/g;;){var a=-1,l=1,c=void 0;if(this.lineSeparator?(a=n.indexOf(this.lineSeparator,o),l=this.lineSeparator.length):(c=s.exec(n))&&(a=c.index,l=c[0].length),this.append(n.slice(o,a<0?n.length:a)),a<0)break;if(this.lineBreak(),l>1){var u,h=(0,_n.Z)(this.points);try{for(h.s();!(u=h.n()).done;){var p=u.value;p.node==e&&p.pos>this.text.length&&(p.pos-=l-1)}}catch(d){h.e(d)}finally{h.f()}}o=a+l}}},{key:"readNode",value:function(e){if(!e.cmIgnore){var t=zi.get(e),n=t&&t.overrideDOMText;if(null!=n){this.findPointInside(e,n.length);for(var r=n.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else 3==e.nodeType?this.readTextNode(e):"BR"==e.nodeName?e.nextSibling&&this.lineBreak():1==e.nodeType&&this.readRange(e.firstChild,null)}}},{key:"findPointBefore",value:function(e,t){var n,r=(0,_n.Z)(this.points);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}}catch(o){r.e(o)}finally{r.f()}}},{key:"findPointInside",value:function(e,t){var n,r=(0,_n.Z)(this.points);try{for(r.s();!(n=r.n()).done;){var i=n.value;(3==e.nodeType?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+Math.min(t,i.offset))}}catch(o){r.e(o)}finally{r.f()}}}]),e}();function Ls(e){return 1==e.nodeType&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)}var Ds=(0,bn.Z)((function e(t,n){(0,En.Z)(this,e),this.node=t,this.offset=n,this.pos=-1})),Ps=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e){var r;return(0,En.Z)(this,n),(r=t.call(this)).view=e,r.compositionDeco=Ao.none,r.decorations=[],r.dynamicDecorationMap=[],r.minWidth=0,r.minWidthFrom=0,r.minWidthTo=0,r.impreciseAnchor=null,r.impreciseHead=null,r.forceSelection=!1,r.lastUpdate=Date.now(),r.setDOM(e.contentDOM),r.children=[new Po],r.children[0].setParent((0,di.Z)(r)),r.updateDeco(),r.updateInner([new cs(0,0,0,e.state.doc.length)],0),r}return(0,bn.Z)(n,[{key:"editorView",get:function(){return this.view}},{key:"length",get:function(){return this.view.state.doc.length}},{key:"update",value:function(e){var t=this,n=e.changedRanges;this.minWidth>0&&n.length&&(n.every((function(e){var n=e.fromA;return e.toA<t.minWidthFrom||n>t.minWidthTo}))?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=Ao.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=function(e,t){var n=Fs(e);if(!n)return Ao.none;var r=n.from,i=n.to,o=n.node,s=n.text,a=t.mapPos(r,1),l=Math.max(a,t.mapPos(i,-1)),c=e.state,u=3==o.nodeType?o.nodeValue:new Ns([],c).readRange(o.firstChild,null).text;if(l-a<u.length)if(c.doc.sliceString(a,Math.min(c.doc.length,a+u.length),Ms)==u)l=a+u.length;else{if(c.doc.sliceString(Math.max(0,l-u.length),l,Ms)!=u)return Ao.none;a=l-u.length}else if(c.doc.sliceString(a,l,Ms)!=u)return Ao.none;var h=zi.get(o);h instanceof vo?h=h.widget.topView:h&&(h.parent=null);return Ao.set(Ao.replace({widget:new Ws(o,s,h),inclusive:!0}).range(a,l))}(this.view,e.changes)),(po.ie||po.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);var r=function(e,t,n){var r=new Vs;return Kr.compare(e,t,n,r),r.changes}(this.decorations,this.updateDeco(),e.changes);return n=cs.extendWithRanges(n,r),(0!=this.dirty||0!=n.length)&&(this.updateInner(n,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}},{key:"updateInner",value:function(e,t){var n=this;this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t);var r=this.view.observer;r.ignore((function(){n.dom.style.height=n.view.viewState.contentHeight+"px",n.dom.style.flexBasis=n.minWidth?n.minWidth+"px":"";var e=po.chrome||po.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;n.sync(e),n.dirty=0,e&&(e.written||r.selectionRange.focusNode!=e.node)&&(n.forceSelection=!0),n.dom.style.height=""}));var i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length){var o,s=(0,_n.Z)(this.children);try{for(s.s();!(o=s.n()).done;){var a=o.value;a instanceof Bo&&a.widget instanceof Us&&i.push(a.dom)}}catch(l){s.e(l)}finally{s.f()}}r.updateGaps(i)}},{key:"updateChildren",value:function(e,t){for(var n=this.childCursor(t),r=e.length-1;;r--){var i=r>=0?e[r]:null;if(!i)break;var o=i.fromA,s=i.toA,a=i.fromB,l=i.toB,c=Uo.build(this.view.state.doc,a,l,this.decorations,this.dynamicDecorationMap),u=c.content,h=c.breakAtStart,p=c.openStart,d=c.openEnd,f=n.findPos(s,1),_=f.i,g=f.off,m=n.findPos(o,-1);Ji(this,m.i,m.off,_,g,u,h,p,d)}}},{key:"updateSelection",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange(),n||this.mayControlSelection()){var r=this.forceSelection;this.forceSelection=!1;var i=this.view.state.selection.main,o=this.domAtPos(i.anchor),s=i.empty?o:this.domAtPos(i.head);if(po.gecko&&i.empty&&Bs(o)){var a=document.createTextNode("");this.view.observer.ignore((function(){return o.node.insertBefore(a,o.node.childNodes[o.offset]||null)})),o=s=new $i(a,0),r=!0}var l=this.view.observer.selectionRange;!r&&l.focusNode&&Ni(o.node,o.offset,l.anchorNode,l.anchorOffset)&&Ni(s.node,s.offset,l.focusNode,l.focusOffset)||(this.view.observer.ignore((function(){po.android&&po.chrome&&e.dom.contains(l.focusNode)&&js(l.focusNode,e.dom)&&(e.dom.blur(),e.dom.focus({preventScroll:!0}));var t=Ci(e.view.root);if(t)if(i.empty){if(po.gecko){var n=Gs(o.node,o.offset);if(n&&3!=n){var r=Hs(o.node,o.offset,1==n?1:-1);r&&(o=new $i(r,1==n?0:r.nodeValue.length))}}t.collapse(o.node,o.offset),null!=i.bidiLevel&&null!=l.cursorBidiLevel&&(l.cursorBidiLevel=i.bidiLevel)}else if(t.extend){t.collapse(o.node,o.offset);try{t.extend(s.node,s.offset)}catch(ge){}}else{var a=document.createRange();if(i.anchor>i.head){var c=[s,o];o=c[0],s=c[1]}a.setEnd(s.node,s.offset),a.setStart(o.node,o.offset),t.removeAllRanges(),t.addRange(a)}else;})),this.view.observer.setSelectionRange(o,s)),this.impreciseAnchor=o.precise?null:new $i(l.anchorNode,l.anchorOffset),this.impreciseHead=s.precise?null:new $i(l.focusNode,l.focusOffset)}}},{key:"enforceCursorAssoc",value:function(){if(!this.compositionDeco.size){var e=this.view,t=e.state.selection.main,n=Ci(e.root),r=e.observer.selectionRange,i=r.anchorNode,o=r.anchorOffset;if(n&&t.empty&&t.assoc&&n.modify){var s=Po.find(this,t.head);if(s){var a=s.posAtStart;if(t.head!=a&&t.head!=a+s.length){var l=this.coordsAt(t.head,-1),c=this.coordsAt(t.head,1);if(l&&c&&!(l.bottom>c.top)){var u=this.domAtPos(t.head+t.assoc);n.collapse(u.node,u.offset),n.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();var h=e.observer.selectionRange;e.docView.posFromDOM(h.anchorNode,h.anchorOffset)!=t.from&&n.collapse(i,o)}}}}}}},{key:"mayControlSelection",value:function(){var e=this.view.root.activeElement;return e==this.dom||xi(this.dom,this.view.observer.selectionRange)&&!(e&&this.dom.contains(e))}},{key:"nearest",value:function(e){for(var t=e;t;){var n=zi.get(t);if(n&&n.rootView==this)return n;t=t.parentNode}return null}},{key:"posFromDOM",value:function(e,t){var n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,t)+n.posAtStart}},{key:"domAtPos",value:function(e){for(var t=this.childCursor().findPos(e,-1),n=t.i,r=t.off;n<this.children.length-1;){var i=this.children[n];if(r<i.length||i instanceof Po)break;n++,r=0}return this.children[n].domAtPos(r)}},{key:"coordsAt",value:function(e,t){for(var n=this.length,r=this.children.length-1;;r--){var i=this.children[r],o=n-i.breakAfter-i.length;if(e>o||e==o&&i.type!=Co.WidgetBefore&&i.type!=Co.WidgetAfter&&(!r||2==t||this.children[r-1].breakAfter||this.children[r-1].type==Co.WidgetBefore&&t>-2))return i.coordsAt(e-o,t);n=o}}},{key:"measureVisibleLineHeights",value:function(e){for(var t=[],n=e.from,r=e.to,i=this.view.contentDOM.clientWidth,o=i>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,s=-1,a=this.view.textDirection==hs.LTR,l=0,c=0;c<this.children.length;c++){var u=this.children[c],h=l+u.length;if(h>r)break;if(l>=n){var p=u.dom.getBoundingClientRect();if(t.push(p.height),o){var d=u.dom.lastChild,f=d?Mi(d):[];if(f.length){var _=f[f.length-1],g=a?_.right-p.left:p.right-_.left;g>s&&(s=g,this.minWidth=i,this.minWidthFrom=l,this.minWidthTo=h)}}}l=h+u.breakAfter}return t}},{key:"textDirectionAt",value:function(e){var t=this.childPos(e,1).i;return"rtl"==getComputedStyle(this.children[t].dom).direction?hs.RTL:hs.LTR}},{key:"measureTextSize",value:function(){var e,t=this,n=(0,_n.Z)(this.children);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r instanceof Po){var i=r.measureTextSize();if(i)return i}}}catch(l){n.e(l)}finally{n.f()}var o,s,a=document.createElement("div");return a.className="cm-line",a.style.width="99999px",a.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore((function(){t.dom.appendChild(a);var e=Mi(a.firstChild)[0];o=a.getBoundingClientRect().height,s=e?e.width/27:7,a.remove()})),{lineHeight:o,charWidth:s}}},{key:"childCursor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.length,t=this.children.length;return t&&(e-=this.children[--t].length),new Ki(this.children,e,t)}},{key:"computeBlockGapDeco",value:function(){for(var e=[],t=this.view.viewState,n=0,r=0;;r++){var i=r==t.viewports.length?null:t.viewports[r],o=i?i.from-1:this.length;if(o>n){var s=t.lineBlockAt(o).bottom-t.lineBlockAt(n).top;e.push(Ao.replace({widget:new Us(s),block:!0,inclusive:!0,isBlockGap:!0}).range(n,o))}if(!i)break;n=i.to+1}return Ao.set(e)}},{key:"updateDeco",value:function(){for(var e=this,t=this.view.state.facet(os).map((function(t,n){return(e.dynamicDecorationMap[n]="function"==typeof t)?t(e.view):t})),n=t.length;n<t.length+3;n++)this.dynamicDecorationMap[n]=!1;return this.decorations=[].concat((0,fi.Z)(t),[this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco])}},{key:"scrollIntoView",value:function(e){var t,n=this,r=e.range,i=this.coordsAt(r.head,r.empty?r.assoc:r.head>r.anchor?-1:1);if(i){!r.empty&&(t=this.coordsAt(r.anchor,r.anchor>r.head?-1:1))&&(i={left:Math.min(i.left,t.left),top:Math.min(i.top,t.top),right:Math.max(i.right,t.right),bottom:Math.max(i.bottom,t.bottom)});var o,s=0,a=0,l=0,c=0,u=(0,_n.Z)(this.view.state.facet(as).map((function(e){return e(n.view)})));try{for(u.s();!(o=u.n()).done;){var h=o.value;if(h){var p=h.left,d=h.right,f=h.top,_=h.bottom;null!=p&&(s=Math.max(s,p)),null!=d&&(a=Math.max(a,d)),null!=f&&(l=Math.max(l,f)),null!=_&&(c=Math.max(c,_))}}}catch(m){u.e(m)}finally{u.f()}var g={left:i.left-s,top:i.top-l,right:i.right+a,bottom:i.bottom+c};!function(e,t,n,r,i,o,s,a){for(var l=e.ownerDocument,c=l.defaultView||window,u=e;u;)if(1==u.nodeType){var h=void 0,p=u==l.body;if(p)h=Fi(c);else{if(u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}var d=u.getBoundingClientRect();h={left:d.left,right:d.left+u.clientWidth,top:d.top,bottom:d.top+u.clientHeight}}var f=0,_=0;if("nearest"==i)t.top<h.top?(_=-(h.top-t.top+s),n>0&&t.bottom>h.bottom+_&&(_=t.bottom-h.bottom+_+s)):t.bottom>h.bottom&&(_=t.bottom-h.bottom+s,n<0&&t.top-_<h.top&&(_=-(h.top+_-t.top+s)));else{var g=t.bottom-t.top,m=h.bottom-h.top;_=("center"==i&&g<=m?t.top+g/2-m/2:"start"==i||"center"==i&&n<0?t.top-s:t.bottom-m+s)-h.top}if("nearest"==r?t.left<h.left?(f=-(h.left-t.left+o),n>0&&t.right>h.right+f&&(f=t.right-h.right+f+o)):t.right>h.right&&(f=t.right-h.right+o,n<0&&t.left<h.left+f&&(f=-(h.left+f-t.left+o))):f=("center"==r?t.left+(t.right-t.left)/2-(h.right-h.left)/2:"start"==r==a?t.left-o:t.right-(h.right-h.left)+o)-h.left,f||_)if(p)c.scrollBy(f,_);else{var v=0,y=0;if(_){var T=u.scrollTop;u.scrollTop+=_,y=u.scrollTop-T}if(f){var E=u.scrollLeft;u.scrollLeft+=f,v=u.scrollLeft-E}t={left:t.left-v,top:t.top-y,right:t.right-v,bottom:t.bottom-y},v&&Math.abs(v-f)<1&&(r="nearest"),y&&Math.abs(y-_)<1&&(i="nearest")}if(p)break;u=u.assignedSlot||u.parentNode}else{if(11!=u.nodeType)break;u=u.host}}(this.view.scrollDOM,g,r.head<r.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==hs.LTR)}}}]),n}(zi);function Bs(e){return 1==e.node.nodeType&&e.node.firstChild&&(0==e.offset||"false"==e.node.childNodes[e.offset-1].contentEditable)&&(e.offset==e.node.childNodes.length||"false"==e.node.childNodes[e.offset].contentEditable)}var Us=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e){var r;return(0,En.Z)(this,n),(r=t.call(this)).height=e,r}return(0,bn.Z)(n,[{key:"toDOM",value:function(){var e=document.createElement("div");return this.updateDOM(e),e}},{key:"eq",value:function(e){return e.height==this.height}},{key:"updateDOM",value:function(e){return e.style.height=this.height+"px",!0}},{key:"estimatedHeight",get:function(){return this.height}}]),n}(Ro);function Fs(e){var t=e.observer.selectionRange,n=t.focusNode&&Hs(t.focusNode,t.focusOffset,0);if(!n)return null;var r=e.docView.nearest(n);if(!r)return null;if(r instanceof Po){for(var i=n;i.parentNode!=r.dom;)i=i.parentNode;for(var o=i.previousSibling;o&&!zi.get(o);)o=o.previousSibling;var s=o?zi.get(o).posAtEnd:r.posAtStart;return{from:s,to:s,node:i,text:n}}for(;;){var a=r.parent;if(!a)return null;if(a instanceof Po)break;r=a}var l=r.posAtStart;return{from:l,to:l+r.length,node:r.dom,text:n}}var Ws=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r,i){var o;return(0,En.Z)(this,n),(o=t.call(this)).top=e,o.text=r,o.topView=i,o}return(0,bn.Z)(n,[{key:"eq",value:function(e){return this.top==e.top&&this.text==e.text}},{key:"toDOM",value:function(){return this.top}},{key:"ignoreEvent",value:function(){return!1}},{key:"customView",get:function(){return vo}}]),n}(Ro);function Hs(e,t,n){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0&&n<=0)t=Pi(e=e.childNodes[t-1]);else{if(!(1==e.nodeType&&t<e.childNodes.length&&n>=0))return null;e=e.childNodes[t],t=0}}}function Gs(e,t){return 1!=e.nodeType?0:(t&&"false"==e.childNodes[t-1].contentEditable?1:0)|(t<e.childNodes.length&&"false"==e.childNodes[t].contentEditable?2:0)}var Vs=function(){function e(){(0,En.Z)(this,e),this.changes=[]}return(0,bn.Z)(e,[{key:"compareRange",value:function(e,t){Do(e,t,this.changes)}},{key:"comparePoint",value:function(e,t){Do(e,t,this.changes)}}]),e}();function js(e,t){for(var n=e;n&&n!=t;n=n.assignedSlot||n.parentNode)if(1==n.nodeType&&"false"==n.contentEditable)return!0;return!1}function Zs(e,t){return t.left>e?t.left-e:Math.max(0,e-t.right)}function qs(e,t){return t.top>e?t.top-e:Math.max(0,e-t.bottom)}function Xs(e,t){return e.top<t.bottom-1&&e.bottom>t.top+1}function $s(e,t){return t<e.top?{top:t,left:e.left,right:e.right,bottom:e.bottom}:e}function Ys(e,t){return t>e.bottom?{top:e.top,left:e.left,right:e.right,bottom:t}:e}function zs(e,t,n){for(var r,i,o,s,a,l,c,u,h=!1,p=e.firstChild;p;p=p.nextSibling)for(var d=Mi(p),f=0;f<d.length;f++){var _=d[f];i&&Xs(i,_)&&(_=$s(Ys(_,i.bottom),i.top));var g=Zs(t,_),m=qs(n,_);if(0==g&&0==m)return 3==p.nodeType?Qs(p,t,n):zs(p,t,n);(!r||s>m||s==m&&o>g)&&(r=p,i=_,o=g,s=m,h=!g||(g>0?f<d.length-1:f>0)),0==g?n>_.bottom&&(!c||c.bottom<_.bottom)?(a=p,c=_):n<_.top&&(!u||u.top>_.top)&&(l=p,u=_):c&&Xs(c,_)?c=Ys(c,_.bottom):u&&Xs(u,_)&&(u=$s(u,_.top))}if(c&&c.bottom>=n?(r=a,i=c):u&&u.top<=n&&(r=l,i=u),!r)return{node:e,offset:0};var v=Math.max(i.left,Math.min(i.right,t));return 3==r.nodeType?Qs(r,v,n):h&&"false"!=r.contentEditable?zs(r,v,n):{node:e,offset:Array.prototype.indexOf.call(e.childNodes,r)+(t>=(i.left+i.right)/2?1:0)}}function Qs(e,t,n){for(var r=e.nodeValue.length,i=-1,o=1e9,s=0,a=0;a<r;a++)for(var l=ji(e,a,a+1).getClientRects(),c=0;c<l.length;c++){var u=l[c];if(u.top!=u.bottom){s||(s=t-u.left);var h=(u.top>n?u.top-n:n-u.bottom)-1;if(u.left-1<=t&&u.right+1>=t&&h<o){var p=t>=(u.left+u.right)/2,d=p;if(po.chrome||po.gecko)ji(e,a).getBoundingClientRect().left==u.right&&(d=!p);if(h<=0)return{node:e,offset:a+(d?1:0)};i=a+(d?1:0),o=h}}}return{node:e,offset:i>-1?i:s>0?e.nodeValue.length:0}}function Ks(e,t,n){var r,i,o=t.x,s=t.y,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,l=e.contentDOM.getBoundingClientRect(),c=l.top+e.viewState.paddingTop,u=e.viewState.docHeight,h=s-c;if(h<0)return 0;if(h>u)return e.state.doc.length;for(var p=e.defaultLineHeight/2,d=!1;(i=e.elementAtHeight(h)).type!=Co.Text;)for(;!((h=a>0?i.bottom+p:i.top-p)>=0&&h<=u);){if(d)return n?null:0;d=!0,a=-a}s=c+h;var f=i.from;if(f<e.viewport.from)return 0==e.viewport.from?0:n?null:Js(e,l,i,o,s);if(f>e.viewport.to)return e.viewport.to==e.state.doc.length?e.state.doc.length:n?null:Js(e,l,i,o,s);var _=e.dom.ownerDocument,g=e.root.elementFromPoint?e.root:_,m=g.elementFromPoint(o,s);m&&!e.contentDOM.contains(m)&&(m=null),m||(o=Math.max(l.left+1,Math.min(l.right-1,o)),(m=g.elementFromPoint(o,s))&&!e.contentDOM.contains(m)&&(m=null));var v,y=-1;if(m&&0!=(null===(r=e.docView.nearest(m))||void 0===r?void 0:r.isEditable))if(_.caretPositionFromPoint){var T=_.caretPositionFromPoint(o,s);T&&(v=T.offsetNode,y=T.offset)}else if(_.caretRangeFromPoint){var E=_.caretRangeFromPoint(o,s);E&&(v=E.startContainer,y=E.startOffset,(!e.contentDOM.contains(v)||po.safari&&ea(v,y,o)||po.chrome&&ta(v,y,o))&&(v=void 0))}if(!v||!e.docView.dom.contains(v)){var b=Po.find(e.docView,f);if(!b)return h>i.top+i.height/2?i.to:i.from;var O=zs(b.dom,o,s);v=O.node,y=O.offset}return e.docView.posFromDOM(v,y)}function Js(e,t,n,r,i){var o=Math.round((r-t.left)*e.defaultCharacterWidth);e.lineWrapping&&n.height>1.5*e.defaultLineHeight&&(o+=Math.floor((i-n.top)/e.defaultLineHeight)*e.viewState.heightOracle.lineLength);var s=e.state.sliceDoc(n.from,n.to);return n.from+pi(s,o,e.state.tabSize)}function ea(e,t,n){var r;if(3!=e.nodeType||t!=(r=e.nodeValue.length))return!1;for(var i=e.nextSibling;i;i=i.nextSibling)if(1!=i.nodeType||"BR"!=i.nodeName)return!1;return ji(e,r-1,r).getBoundingClientRect().left>n}function ta(e,t,n){if(0!=t)return!1;for(var r=e;;){var i=r.parentNode;if(!i||1!=i.nodeType||i.firstChild!=r)return!1;if(i.classList.contains("cm-line"))break;r=i}return n-(1==e.nodeType?e.getBoundingClientRect():ji(e,0,Math.max(e.nodeValue.length,1)).getBoundingClientRect()).left>5}function na(e,t,n,r){var i=e.state.doc.lineAt(t.head),o=r&&e.lineWrapping?e.coordsAtPos(t.assoc<0&&t.head>i.from?t.head-1:t.head):null;if(o){var s=e.dom.getBoundingClientRect(),a=e.textDirectionAt(i.from),l=e.posAtCoords({x:n==(a==hs.LTR)?s.right-1:s.left+1,y:(o.top+o.bottom)/2});if(null!=l)return nr.cursor(l,n?-1:1)}var c=Po.find(e.docView,t.head),u=c?n?c.posAtEnd:c.posAtStart:n?i.to:i.from;return nr.cursor(u,n?-1:1)}function ra(e,t,n,r){for(var i=e.state.doc.lineAt(t.head),o=e.bidiSpans(i),s=e.textDirectionAt(i.from),a=t,l=null;;){var c=xs(i,o,s,a,n),u=As;if(!c){if(i.number==(n?e.state.doc.lines:1))return a;u="\n",i=e.state.doc.line(i.number+(n?1:-1)),o=e.bidiSpans(i),c=nr.cursor(n?i.from:i.to)}if(l){if(!l(u))return a}else{if(!r)return c;l=r(u)}a=c}}function ia(e,t,n){for(var r=e.state.facet(ss).map((function(t){return t(e)}));;){var i,o=!1,s=(0,_n.Z)(r);try{for(s.s();!(i=s.n()).done;){i.value.between(n.from-1,n.from+1,(function(e,r,i){n.from>e&&n.from<r&&(n=t.head>n.from?nr.cursor(e,1):nr.cursor(r,-1),o=!0)}))}}catch(a){s.e(a)}finally{s.f()}if(!o)return n}}var oa=function(){function e(t){var n=this;(0,En.Z)(this,e),this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.mouseSelection=null;var r=function(e,r){n.ignoreDuringComposition(r)||"keydown"==r.type&&n.keydown(t,r)||(n.mustFlushObserver(r)&&t.observer.forceFlush(),n.runCustomHandlers(r.type,t,r)?r.preventDefault():e(t,r))},i=function(e){var i=pa[e];t.contentDOM.addEventListener(e,(function(e){ha(t,e)&&r(i,e)}),da[e]),n.registeredEvents.push(e)};for(var o in pa)i(o);t.scrollDOM.addEventListener("mousedown",(function(e){e.target==t.scrollDOM&&r(pa.mousedown,e)})),po.chrome&&102==po.chrome_version&&t.scrollDOM.addEventListener("wheel",(function(){n.chromeScrollHack<0?t.contentDOM.style.pointerEvents="none":window.clearTimeout(n.chromeScrollHack),n.chromeScrollHack=setTimeout((function(){n.chromeScrollHack=-1,t.contentDOM.style.pointerEvents=""}),100)}),{passive:!0}),this.notifiedFocused=t.hasFocus,po.safari&&t.contentDOM.addEventListener("input",(function(){return null}))}return(0,bn.Z)(e,[{key:"setSelectionOrigin",value:function(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}},{key:"ensureHandlers",value:function(e,t){var n,r,i=this;this.customHandlers=[];var o,s=(0,_n.Z)(t);try{for(s.s();!(o=s.n()).done;){var a=o.value;if(r=null===(n=a.update(e).spec)||void 0===n?void 0:n.domEventHandlers){this.customHandlers.push({plugin:a.value,handlers:r});var l=function(t){i.registeredEvents.indexOf(t)<0&&"scroll"!=t&&(i.registeredEvents.push(t),e.contentDOM.addEventListener(t,(function(n){ha(e,n)&&i.runCustomHandlers(t,e,n)&&n.preventDefault()})))};for(var c in r)l(c)}}}catch(u){s.e(u)}finally{s.f()}}},{key:"runCustomHandlers",value:function(e,t,n){var r,i=(0,_n.Z)(this.customHandlers);try{for(i.s();!(r=i.n()).done;){var o=r.value,s=o.handlers[e];if(s)try{if(s.call(o.plugin,n,t)||n.defaultPrevented)return!0}catch(a){Qo(t.state,a)}}}catch(l){i.e(l)}finally{i.f()}return!1}},{key:"runScrollHandlers",value:function(e,t){this.lastScrollTop=e.scrollDOM.scrollTop,this.lastScrollLeft=e.scrollDOM.scrollLeft;var n,r=(0,_n.Z)(this.customHandlers);try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.handlers.scroll;if(o)try{o.call(i.plugin,t,e)}catch(s){Qo(e.state,s)}}}catch(a){r.e(a)}finally{r.f()}}},{key:"keydown",value:function(e,t){var n,r=this;return this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),9==t.keyCode&&Date.now()<this.lastEscPress+2e3||(!po.android||!po.chrome||t.synthetic||13!=t.keyCode&&8!=t.keyCode?!(!po.ios||t.synthetic||t.altKey||t.metaKey||!((n=sa.find((function(e){return e.keyCode==t.keyCode})))&&!t.ctrlKey||aa.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey))&&(this.pendingIOSKey=n||t,setTimeout((function(){return r.flushIOSKey(e)}),250),!0):(e.observer.delayAndroidKey(t.key,t.keyCode),!0))}},{key:"flushIOSKey",value:function(e){var t=this.pendingIOSKey;return!!t&&(this.pendingIOSKey=void 0,Zi(e.contentDOM,t.key,t.keyCode))}},{key:"ignoreDuringComposition",value:function(e){return!!/^key/.test(e.type)&&(this.composing>0||!!(po.safari&&!po.ios&&Date.now()-this.compositionEndedAt<100)&&(this.compositionEndedAt=0,!0))}},{key:"mustFlushObserver",value:function(e){return"keydown"==e.type&&229!=e.keyCode}},{key:"startMouseSelection",value:function(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}},{key:"update",value:function(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}},{key:"destroy",value:function(){this.mouseSelection&&this.mouseSelection.destroy()}}]),e}(),sa=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],aa="dthko",la=[16,17,18,20,91,92,224,225];function ca(e){return.7*e+8}var ua=function(){function e(t,n,r,i){(0,En.Z)(this,e),this.view=t,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParent=function(e){for(var t=e.ownerDocument,n=e.parentNode;n&&n!=t.body;)if(1==n.nodeType){if(n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)return n;n=n.assignedSlot||n.parentNode}else{if(11!=n.nodeType)break;n=n.host}return null}(t.contentDOM);var o=t.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=t.state.facet(qr.allowMultipleSelections)&&function(e,t){var n=e.state.facet(Ho);return n.length?n[0](t):po.mac?t.metaKey:t.ctrlKey}(t,n),this.dragMove=function(e,t){var n=e.state.facet(Go);return n.length?n[0](t):po.mac?!t.altKey:!t.ctrlKey}(t,n),this.dragging=!(!function(e,t){if(e.state.selection.main.empty)return!1;var n=Ci(e.root);if(!n||0==n.rangeCount)return!0;for(var r=n.getRangeAt(0).getClientRects(),i=0;i<r.length;i++){var o=r[i];if(o.left<=t.clientX&&o.right>=t.clientX&&o.top<=t.clientY&&o.bottom>=t.clientY)return!0}return!1}(t,n)||1!=wa(n))&&null,!1===this.dragging&&(n.preventDefault(),this.select(n))}return(0,bn.Z)(e,[{key:"move",value:function(e){var t;if(0==e.buttons)return this.destroy();if(!1===this.dragging){this.select(this.lastEvent=e);var n=0,r=0,i=(null===(t=this.scrollParent)||void 0===t?void 0:t.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight};e.clientX<=i.left?n=-ca(i.left-e.clientX):e.clientX>=i.right&&(n=ca(e.clientX-i.right)),e.clientY<=i.top?r=-ca(i.top-e.clientY):e.clientY>=i.bottom&&(r=ca(e.clientY-i.bottom)),this.setScrollSpeed(n,r)}}},{key:"up",value:function(e){null==this.dragging&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}},{key:"destroy",value:function(){this.setScrollSpeed(0,0);var e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}},{key:"setScrollSpeed",value:function(e,t){var n=this;this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval((function(){return n.scroll()}),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}},{key:"scroll",value:function(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),!1===this.dragging&&this.select(this.lastEvent)}},{key:"select",value:function(e){var t=this.style.get(e,this.extend,this.multiple);!this.mustSelect&&t.eq(this.view.state.selection)&&t.main.assoc==this.view.state.selection.main.assoc||this.view.dispatch({selection:t,userEvent:"select.pointer"}),this.mustSelect=!1}},{key:"update",value:function(e){var t=this;e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout((function(){return t.select(t.lastEvent)}),20)}}]),e}();function ha(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(var n,r=t.target;r!=e.contentDOM;r=r.parentNode)if(!r||11==r.nodeType||(n=zi.get(r))&&n.ignoreEvent(t))return!1;return!0}var pa=Object.create(null),da=Object.create(null),fa=po.ie&&po.ie_version<15||po.ios&&po.webkit_version<604;function _a(e,t){var n,r=e.state,i=1,o=r.toText(t),s=o.lines==r.selection.ranges.length,a=null!=Ia&&r.selection.ranges.every((function(e){return e.empty}))&&Ia==o.toString();if(a){var l=-1;n=r.changeByRange((function(e){var n=r.doc.lineAt(e.from);if(n.from==l)return{range:e};l=n.from;var a=r.toText((s?o.line(i++).text:t)+r.lineBreak);return{changes:{from:n.from,insert:a},range:nr.cursor(e.from+a.length)}}))}else n=s?r.changeByRange((function(e){var t=o.line(i++);return{changes:{from:e.from,to:e.to,insert:t.text},range:nr.cursor(e.from+t.length)}})):r.replaceSelection(o);e.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}function ga(e,t,n,r){if(1==r)return nr.cursor(t,n);if(2==r)return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=e.charCategorizer(t),i=e.doc.lineAt(t),o=t-i.from;if(0==i.length)return nr.cursor(t);0==o?n=1:o==i.length&&(n=-1);var s=o,a=o;n<0?s=Bn(i.text,o,!1):a=Bn(i.text,o);for(var l=r(i.text.slice(s,a));s>0;){var c=Bn(i.text,s,!1);if(r(i.text.slice(c,s))!=l)break;s=c}for(;a<i.length;){var u=Bn(i.text,a);if(r(i.text.slice(a,u))!=l)break;a=u}return nr.range(s+i.from,a+i.from)}(e.state,t,n);var i=Po.find(e.docView,t),o=e.state.doc.lineAt(i?i.posAtEnd:t),s=i?i.posAtStart:o.from,a=i?i.posAtEnd:o.to;return a<e.state.doc.length&&a==o.to&&a++,nr.range(s,a)}pa.keydown=function(e,t){e.inputState.setSelectionOrigin("select"),27==t.keyCode?e.inputState.lastEscPress=Date.now():la.indexOf(t.keyCode)<0&&(e.inputState.lastEscPress=0)},pa.touchstart=function(e,t){e.inputState.lastTouchTime=Date.now(),e.inputState.setSelectionOrigin("select.pointer")},pa.touchmove=function(e){e.inputState.setSelectionOrigin("select.pointer")},da.touchstart=da.touchmove={passive:!0},pa.mousedown=function(e,t){if(e.observer.flush(),!(e.inputState.lastTouchTime>Date.now()-2e3)){var n,r=null,i=(0,_n.Z)(e.state.facet(Vo));try{for(i.s();!(n=i.n()).done;){if(r=(0,n.value)(e,t))break}}catch(s){i.e(s)}finally{i.f()}if(r||0!=t.button||(r=function(e,t){var n=Ta(e,t),r=wa(t),i=e.state.selection;return{update:function(e){e.docChanged&&(n.pos=e.changes.mapPos(n.pos),i=i.map(e.changes))},get:function(t,o,s){var a=Ta(e,t),l=ga(e,a.pos,a.bias,r);if(n.pos!=a.pos&&!o){var c=ga(e,n.pos,n.bias,r),u=Math.min(c.from,l.from),h=Math.max(c.to,l.to);l=u<l.from?nr.range(u,h):nr.range(h,u)}return o?i.replaceRange(i.main.extend(l.from,l.to)):s&&i.ranges.length>1&&i.ranges.some((function(e){return e.eq(l)}))?function(e,t){for(var n=0;;n++)if(e.ranges[n].eq(t))return nr.create(e.ranges.slice(0,n).concat(e.ranges.slice(n+1)),e.mainIndex==n?0:e.mainIndex-(e.mainIndex>n?1:0))}(i,l):s?i.addRange(l):nr.create([l])}}}(e,t)),r){var o=e.root.activeElement!=e.contentDOM;o&&e.observer.ignore((function(){return Vi(e.contentDOM)})),e.inputState.startMouseSelection(new ua(e,t,r,o))}}};var ma=function(e,t){return e>=t.top&&e<=t.bottom},va=function(e,t,n){return ma(t,n)&&e>=n.left&&e<=n.right};function ya(e,t,n,r){var i=Po.find(e.docView,t);if(!i)return 1;var o=t-i.posAtStart;if(0==o)return 1;if(o==i.length)return-1;var s=i.coordsAt(o,-1);if(s&&va(n,r,s))return-1;var a=i.coordsAt(o,1);return a&&va(n,r,a)?1:s&&ma(r,s)?-1:1}function Ta(e,t){var n=e.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:n,bias:ya(e,n,t.clientX,t.clientY)}}var Ea=po.ie&&po.ie_version<=11,ba=null,Oa=0,ka=0;function wa(e){if(!Ea)return e.detail;var t=ba,n=ka;return ba=e,ka=Date.now(),Oa=!t||n>Date.now()-400&&Math.abs(t.clientX-e.clientX)<2&&Math.abs(t.clientY-e.clientY)<2?(Oa+1)%3:1}function Sa(e,t,n,r){if(n){var i=e.posAtCoords({x:t.clientX,y:t.clientY},!1);t.preventDefault();var o=e.inputState.mouseSelection,s=r&&o&&o.dragging&&o.dragMove?{from:o.dragging.from,to:o.dragging.to}:null,a={from:i,insert:n},l=e.state.changes(s?[s,a]:a);e.focus(),e.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:s?"move.drop":"input.drop"})}}pa.dragstart=function(e,t){var n=e.state.selection.main,r=e.inputState.mouseSelection;r&&(r.dragging=n),t.dataTransfer&&(t.dataTransfer.setData("Text",e.state.sliceDoc(n.from,n.to)),t.dataTransfer.effectAllowed="copyMove")},pa.drop=function(e,t){if(t.dataTransfer){if(e.state.readOnly)return t.preventDefault();var n=t.dataTransfer.files;n&&n.length?function(){t.preventDefault();for(var r=Array(n.length),i=0,o=function(){++i==n.length&&Sa(e,t,r.filter((function(e){return null!=e})).join(e.state.lineBreak),!1)},s=function(e){var t=new FileReader;t.onerror=o,t.onload=function(){/[\x00-\x08\x0e-\x1f]{2}/.test(t.result)||(r[e]=t.result),o()},t.readAsText(n[e])},a=0;a<n.length;a++)s(a)}():Sa(e,t,t.dataTransfer.getData("Text"),!0)}},pa.paste=function(e,t){if(e.state.readOnly)return t.preventDefault();e.observer.flush();var n=fa?null:t.clipboardData;n?(_a(e,n.getData("text/plain")),t.preventDefault()):function(e){var t=e.dom.parentNode;if(t){var n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout((function(){e.focus(),n.remove(),_a(e,n.value)}),50)}}(e)};var Ia=null;function Ra(e){setTimeout((function(){e.hasFocus!=e.inputState.notifiedFocused&&e.update([])}),10)}pa.copy=pa.cut=function(e,t){var n=function(e){var t,n=[],r=[],i=!1,o=(0,_n.Z)(e.selection.ranges);try{for(o.s();!(t=o.n()).done;){var s=t.value;s.empty||(n.push(e.sliceDoc(s.from,s.to)),r.push(s))}}catch(p){o.e(p)}finally{o.f()}if(!n.length){var a,l=-1,c=(0,_n.Z)(e.selection.ranges);try{for(c.s();!(a=c.n()).done;){var u=a.value.from,h=e.doc.lineAt(u);h.number>l&&(n.push(h.text),r.push({from:h.from,to:Math.min(e.doc.length,h.to+1)})),l=h.number}}catch(p){c.e(p)}finally{c.f()}i=!0}return{text:n.join(e.lineBreak),ranges:r,linewise:i}}(e.state),r=n.text,i=n.ranges,o=n.linewise;if(r||o){Ia=o?r:null;var s=fa?null:t.clipboardData;s?(t.preventDefault(),s.clearData(),s.setData("text/plain",r)):function(e,t){var n=e.dom.parentNode;if(n){var r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=t,r.focus(),r.selectionEnd=t.length,r.selectionStart=0,setTimeout((function(){r.remove(),e.focus()}),50)}}(e,r),"cut"!=t.type||e.state.readOnly||e.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"})}},pa.focus=function(e){e.inputState.lastFocusTime=Date.now(),e.scrollDOM.scrollTop||!e.inputState.lastScrollTop&&!e.inputState.lastScrollLeft||(e.scrollDOM.scrollTop=e.inputState.lastScrollTop,e.scrollDOM.scrollLeft=e.inputState.lastScrollLeft),Ra(e)},pa.blur=function(e){e.observer.clearSelectionRange(),Ra(e)},pa.compositionstart=pa.compositionupdate=function(e){null==e.inputState.compositionFirstChange&&(e.inputState.compositionFirstChange=!0),e.inputState.composing<0&&(e.inputState.composing=0)},pa.compositionend=function(e){e.inputState.composing=-1,e.inputState.compositionEndedAt=Date.now(),e.inputState.compositionFirstChange=null,po.chrome&&po.android&&e.observer.flushSoon(),setTimeout((function(){e.inputState.composing<0&&e.docView.compositionDeco.size&&e.update([])}),50)},pa.contextmenu=function(e){e.inputState.lastContextMenu=Date.now()},pa.beforeinput=function(e,t){var n,r;if(po.chrome&&po.android&&(r=sa.find((function(e){return e.inputType==t.inputType})))&&(e.observer.delayAndroidKey(r.key,r.keyCode),"Backspace"==r.key||"Delete"==r.key)){var i=(null===(n=window.visualViewport)||void 0===n?void 0:n.height)||0;setTimeout((function(){var t;((null===(t=window.visualViewport)||void 0===t?void 0:t.height)||0)>i+10&&e.hasFocus&&(e.contentDOM.blur(),e.focus())}),100)}};var Ca=["pre-wrap","normal","pre-line","break-spaces"],Aa=function(){function e(t){(0,En.Z)(this,e),this.lineWrapping=t,this.doc=On.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}return(0,bn.Z)(e,[{key:"heightForGap",value:function(e,t){var n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength)),this.lineHeight*n}},{key:"heightForLine",value:function(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}},{key:"setDoc",value:function(e){return this.doc=e,this}},{key:"mustRefreshForWrapping",value:function(e){return Ca.indexOf(e)>-1!=this.lineWrapping}},{key:"mustRefreshForHeights",value:function(e){for(var t=!1,n=0;n<e.length;n++){var r=e[n];r<0?n++:this.heightSamples[Math.floor(10*r)]||(t=!0,this.heightSamples[Math.floor(10*r)]=!0)}return t}},{key:"refresh",value:function(e,t,n,r,i){var o=Ca.indexOf(e)>-1,s=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=t,this.charWidth=n,this.lineLength=r,s){this.heightSamples={};for(var a=0;a<i.length;a++){var l=i[a];l<0?a++:this.heightSamples[Math.floor(10*l)]=!0}}return s}}]),e}(),xa=function(){function e(t,n){(0,En.Z)(this,e),this.from=t,this.heights=n,this.index=0}return(0,bn.Z)(e,[{key:"more",get:function(){return this.index<this.heights.length}}]),e}(),Ma=function(){function e(t,n,r,i,o){(0,En.Z)(this,e),this.from=t,this.length=n,this.top=r,this.height=i,this.type=o}return(0,bn.Z)(e,[{key:"to",get:function(){return this.from+this.length}},{key:"bottom",get:function(){return this.top+this.height}},{key:"join",value:function(t){var n=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(t.type)?t.type:[t]);return new e(this.from,this.length+t.length,this.top,this.height+t.height,n)}}]),e}(),Na=function(e){return e[e.ByPos=0]="ByPos",e[e.ByHeight=1]="ByHeight",e[e.ByPosNoHeight=2]="ByPosNoHeight",e}(Na||(Na={})),La=.001,Da=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;(0,En.Z)(this,e),this.length=t,this.height=n,this.flags=r}return(0,bn.Z)(e,[{key:"outdated",get:function(){return(2&this.flags)>0},set:function(e){this.flags=(e?2:0)|-3&this.flags}},{key:"setHeight",value:function(e,t){this.height!=t&&(Math.abs(this.height-t)>La&&(e.heightChanged=!0),this.height=t)}},{key:"replace",value:function(t,n,r){return e.of(r)}},{key:"decomposeLeft",value:function(e,t){t.push(this)}},{key:"decomposeRight",value:function(e,t){t.push(this)}},{key:"applyChanges",value:function(e,t,n,r){for(var i=this,o=r.length-1;o>=0;o--){var s=r[o],a=s.fromA,l=s.toA,c=s.fromB,u=s.toB,h=i.lineAt(a,Na.ByPosNoHeight,t,0,0),p=h.to>=l?h:i.lineAt(l,Na.ByPosNoHeight,t,0,0);for(u+=p.to-l,l=p.to;o>0&&h.from<=r[o-1].toA;)a=r[o-1].fromA,c=r[o-1].fromB,o--,a<h.from&&(h=i.lineAt(a,Na.ByPosNoHeight,t,0,0));c+=h.from-a,a=h.from;var d=Ha.build(n,e,c,u);i=i.replace(a,l,d)}return i.updateHeight(n,0)}}],[{key:"empty",value:function(){return new Ba(0,0)}},{key:"of",value:function(t){if(1==t.length)return t[0];for(var n=0,r=t.length,i=0,o=0;;)if(n==r)if(i>2*o){var s=t[n-1];s.break?t.splice(--n,1,s.left,null,s.right):t.splice(--n,1,s.left,s.right),r+=1+s.break,i-=s.size}else{if(!(o>2*i))break;var a=t[r];a.break?t.splice(r,1,a.left,null,a.right):t.splice(r,1,a.left,a.right),r+=2+a.break,o-=a.size}else if(i<o){var l=t[n++];l&&(i+=l.size)}else{var c=t[--r];c&&(o+=c.size)}var u=0;return null==t[n-1]?(u=1,n--):null==t[n]&&(u=1,r++),new Fa(e.of(t.slice(0,n)),u,e.of(t.slice(r)))}}]),e}();Da.prototype.size=1;var Pa=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r,i){var o;return(0,En.Z)(this,n),(o=t.call(this,e,r)).type=i,o}return(0,bn.Z)(n,[{key:"blockAt",value:function(e,t,n,r){return new Ma(r,this.length,n,this.height,this.type)}},{key:"lineAt",value:function(e,t,n,r,i){return this.blockAt(0,n,r,i)}},{key:"forEachLine",value:function(e,t,n,r,i,o){e<=i+this.length&&t>=i&&o(this.blockAt(0,n,r,i))}},{key:"updateHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>3?arguments[3]:void 0;return n&&n.from<=t&&n.more&&this.setHeight(e,n.heights[n.index++]),this.outdated=!1,this}},{key:"toString",value:function(){return"block(".concat(this.length,")")}}]),n}(Da),Ba=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r){var i;return(0,En.Z)(this,n),(i=t.call(this,e,r,Co.Text)).collapsed=0,i.widgetHeight=0,i}return(0,bn.Z)(n,[{key:"replace",value:function(e,t,r){var i=r[0];return 1==r.length&&(i instanceof n||i instanceof Ua&&4&i.flags)&&Math.abs(this.length-i.length)<10?(i instanceof Ua?i=new n(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):Da.of(r)}},{key:"updateHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;return r&&r.from<=t&&r.more?this.setHeight(e,r.heights[r.index++]):(n||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}},{key:"toString",value:function(){return"line(".concat(this.length).concat(this.collapsed?-this.collapsed:"").concat(this.widgetHeight?":"+this.widgetHeight:"",")")}}]),n}(Pa),Ua=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e){return(0,En.Z)(this,n),t.call(this,e,0)}return(0,bn.Z)(n,[{key:"lines",value:function(e,t){var n=e.lineAt(t).number,r=e.lineAt(t+this.length).number;return{firstLine:n,lastLine:r,lineHeight:this.height/(r-n+1)}}},{key:"blockAt",value:function(e,t,n,r){var i=this.lines(t,r),o=i.firstLine,s=i.lastLine,a=i.lineHeight,l=Math.max(0,Math.min(s-o,Math.floor((e-n)/a))),c=t.line(o+l),u=c.from,h=c.length;return new Ma(u,h,n+a*l,a,Co.Text)}},{key:"lineAt",value:function(e,t,n,r,i){if(t==Na.ByHeight)return this.blockAt(e,n,r,i);if(t==Na.ByPosNoHeight){var o=n.lineAt(e),s=o.from,a=o.to;return new Ma(s,a-s,0,0,Co.Text)}var l=this.lines(n,i),c=l.firstLine,u=l.lineHeight,h=n.lineAt(e),p=h.from,d=h.length,f=h.number;return new Ma(p,d,r+u*(f-c),u,Co.Text)}},{key:"forEachLine",value:function(e,t,n,r,i,o){for(var s=this.lines(n,i),a=s.firstLine,l=s.lineHeight,c=Math.max(e,i),u=Math.min(i+this.length,t);c<=u;){var h=n.lineAt(c);c==e&&(r+=l*(h.number-a)),o(new Ma(h.from,h.length,r,l,Co.Text)),r+=l,c=h.to+1}}},{key:"replace",value:function(e,t,r){var i=this.length-t;if(i>0){var o=r[r.length-1];o instanceof n?r[r.length-1]=new n(o.length+i):r.push(null,new n(i-1))}if(e>0){var s=r[0];s instanceof n?r[0]=new n(e+s.length):r.unshift(new n(e-1),null)}return Da.of(r)}},{key:"decomposeLeft",value:function(e,t){t.push(new n(e-1),null)}},{key:"decomposeRight",value:function(e,t){t.push(null,new n(this.length-e-1))}},{key:"updateHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,o=t+this.length;if(i&&i.from<=t+this.length&&i.more){var s=[],a=Math.max(t,i.from),l=-1,c=e.heightChanged;for(i.from>t&&s.push(new n(i.from-t-1).updateHeight(e,t));a<=o&&i.more;){var u=e.doc.lineAt(a).length;s.length&&s.push(null);var h=i.heights[i.index++];-1==l?l=h:Math.abs(h-l)>=La&&(l=-2);var p=new Ba(u,h);p.outdated=!1,s.push(p),a+=u+1}a<=o&&s.push(null,new n(o-a).updateHeight(e,a));var d=Da.of(s);return e.heightChanged=c||l<0||Math.abs(d.height-this.height)>=La||Math.abs(l-this.lines(e.doc,t).lineHeight)>=La,d}return(r||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1),this}},{key:"toString",value:function(){return"gap(".concat(this.length,")")}}]),n}(Da),Fa=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r,i){var o;return(0,En.Z)(this,n),(o=t.call(this,e.length+r+i.length,e.height+i.height,r|(e.outdated||i.outdated?2:0))).left=e,o.right=i,o.size=e.size+i.size,o}return(0,bn.Z)(n,[{key:"break",get:function(){return 1&this.flags}},{key:"blockAt",value:function(e,t,n,r){var i=n+this.left.height;return e<i?this.left.blockAt(e,t,n,r):this.right.blockAt(e,t,i,r+this.left.length+this.break)}},{key:"lineAt",value:function(e,t,n,r,i){var o=r+this.left.height,s=i+this.left.length+this.break,a=t==Na.ByHeight?e<o:e<s,l=a?this.left.lineAt(e,t,n,r,i):this.right.lineAt(e,t,n,o,s);if(this.break||(a?l.to<s:l.from>s))return l;var c=t==Na.ByPosNoHeight?Na.ByPosNoHeight:Na.ByPos;return a?l.join(this.right.lineAt(s,c,n,o,s)):this.left.lineAt(s,c,n,r,i).join(l)}},{key:"forEachLine",value:function(e,t,n,r,i,o){var s=r+this.left.height,a=i+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,t,n,r,i,o),t>=a&&this.right.forEachLine(e,t,n,s,a,o);else{var l=this.lineAt(a,Na.ByPos,n,r,i);e<l.from&&this.left.forEachLine(e,l.from-1,n,r,i,o),l.to>=e&&l.from<=t&&o(l),t>l.to&&this.right.forEachLine(l.to+1,t,n,s,a,o)}}},{key:"replace",value:function(e,t,n){var r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,n));var i=[];e>0&&this.decomposeLeft(e,i);var o,s=i.length,a=(0,_n.Z)(n);try{for(a.s();!(o=a.n()).done;){var l=o.value;i.push(l)}}catch(u){a.e(u)}finally{a.f()}if(e>0&&Wa(i,s-1),t<this.length){var c=i.length;this.decomposeRight(t,i),Wa(i,c)}return Da.of(i)}},{key:"decomposeLeft",value:function(e,t){var n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&e>=++n&&t.push(null),e>n&&this.right.decomposeLeft(e-n,t)}},{key:"decomposeRight",value:function(e,t){var n=this.left.length,r=n+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}},{key:"balanced",value:function(e,t){return e.size>2*t.size||t.size>2*e.size?Da.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}},{key:"updateHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=this.left,o=this.right,s=t+i.length+this.break,a=null;return r&&r.from<=t+i.length&&r.more?a=i=i.updateHeight(e,t,n,r):i.updateHeight(e,t,n),r&&r.from<=s+o.length&&r.more?a=o=o.updateHeight(e,s,n,r):o.updateHeight(e,s,n),a?this.balanced(i,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}},{key:"toString",value:function(){return this.left+(this.break?" ":"-")+this.right}}]),n}(Da);function Wa(e,t){var n,r;null==e[t]&&(n=e[t-1])instanceof Ua&&(r=e[t+1])instanceof Ua&&e.splice(t-1,3,new Ua(n.length+1+r.length))}var Ha=function(){function e(t,n){(0,En.Z)(this,e),this.pos=t,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}return(0,bn.Z)(e,[{key:"isCovered",get:function(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}},{key:"span",value:function(e,t){if(this.lineStart>-1){var n=Math.min(t,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof Ba?r.length+=n-this.pos:(n>this.pos||!this.isCovered)&&this.nodes.push(new Ba(n-this.pos,-1)),this.writtenTo=n,t>n&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}},{key:"point",value:function(e,t,n){if(e<t||n.heightRelevant){var r=n.widget?n.widget.estimatedHeight:0;r<0&&(r=this.oracle.lineHeight);var i=t-e;n.block?this.addBlock(new Pa(i,r,n.type)):(i||r>=5)&&this.addLineDeco(r,i)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}},{key:"enterLine",value:function(){if(!(this.lineStart>-1)){var e=this.oracle.doc.lineAt(this.pos),t=e.from,n=e.to;this.lineStart=t,this.lineEnd=n,this.writtenTo<t&&((this.writtenTo<t-1||null==this.nodes[this.nodes.length-1])&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new Ba(this.pos-t,-1)),this.writtenTo=this.pos}}},{key:"blankContent",value:function(e,t){var n=new Ua(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}},{key:"ensureLine",value:function(){this.enterLine();var e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Ba)return e;var t=new Ba(0,-1);return this.nodes.push(t),t}},{key:"addBlock",value:function(e){this.enterLine(),e.type!=Co.WidgetAfter||this.isCovered||this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=Co.WidgetBefore&&(this.covering=e)}},{key:"addLineDeco",value:function(e,t){var n=this.ensureLine();n.length+=t,n.collapsed+=t,n.widgetHeight=Math.max(n.widgetHeight,e),this.writtenTo=this.pos=this.pos+t}},{key:"finish",value:function(e){var t=0==this.nodes.length?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||t instanceof Ba||this.isCovered?(this.writtenTo<this.pos||null==t)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new Ba(0,-1));var n,r=e,i=(0,_n.Z)(this.nodes);try{for(i.s();!(n=i.n()).done;){var o=n.value;o instanceof Ba&&o.updateHeight(this.oracle,r),r+=o?o.length:1}}catch(s){i.e(s)}finally{i.f()}return this.nodes}}],[{key:"build",value:function(t,n,r,i){var o=new e(r,t);return Kr.spans(n,r,i,o,0),o.finish(r)}}]),e}();function Ga(e,t,n){var r=new Va;return Kr.compare(e,t,n,r,0),r.changes}var Va=function(){function e(){(0,En.Z)(this,e),this.changes=[]}return(0,bn.Z)(e,[{key:"compareRange",value:function(){}},{key:"comparePoint",value:function(e,t,n,r){(e<t||n&&n.heightRelevant||r&&r.heightRelevant)&&Do(e,t,this.changes,5)}}]),e}();function ja(e,t){for(var n=e.getBoundingClientRect(),r=e.ownerDocument,i=r.defaultView||window,o=Math.max(0,n.left),s=Math.min(i.innerWidth,n.right),a=Math.max(0,n.top),l=Math.min(i.innerHeight,n.bottom),c=e.parentNode;c&&c!=r.body;)if(1==c.nodeType){var u=c,h=window.getComputedStyle(u);if((u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth)&&"visible"!=h.overflow){var p=u.getBoundingClientRect();o=Math.max(o,p.left),s=Math.min(s,p.right),a=Math.max(a,p.top),l=c==e.parentNode?p.bottom:Math.min(l,p.bottom)}c="absolute"==h.position||"fixed"==h.position?u.offsetParent:u.parentNode}else{if(11!=c.nodeType)break;c=c.host}return{left:o-n.left,right:Math.max(o,s)-n.left,top:a-(n.top+t),bottom:Math.max(a,l)-(n.top+t)}}function Za(e,t){var n=e.getBoundingClientRect();return{left:0,right:n.right-n.left,top:t,bottom:n.bottom-(n.top+t)}}var qa=function(){function e(t,n,r){(0,En.Z)(this,e),this.from=t,this.to=n,this.size=r}return(0,bn.Z)(e,[{key:"draw",value:function(e){return Ao.replace({widget:new Xa(this.size,e)}).range(this.from,this.to)}}],[{key:"same",value:function(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],i=t[n];if(r.from!=i.from||r.to!=i.to||r.size!=i.size)return!1}return!0}}]),e}(),Xa=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r){var i;return(0,En.Z)(this,n),(i=t.call(this)).size=e,i.vertical=r,i}return(0,bn.Z)(n,[{key:"eq",value:function(e){return e.size==this.size&&e.vertical==this.vertical}},{key:"toDOM",value:function(){var e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}},{key:"estimatedHeight",get:function(){return this.vertical?this.size:-1}}]),n}(Ro),$a=function(){function e(t){(0,En.Z)(this,e),this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scaler=Ja,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=hs.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;var n=t.facet(is).some((function(e){return"function"!=typeof e&&"cm-lineWrapping"==e.class}));this.heightOracle=new Aa(n),this.stateDeco=t.facet(os).filter((function(e){return"function"!=typeof e})),this.heightMap=Da.empty().applyChanges(this.stateDeco,On.empty,this.heightOracle.setDoc(t.doc),[new cs(0,0,0,t.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Ao.set(this.lineGaps.map((function(e){return e.draw(!1)}))),this.computeVisibleRanges()}return(0,bn.Z)(e,[{key:"updateForViewport",value:function(){for(var e=this,t=[this.viewport],n=this.state.selection.main,r=function(r){var i=r?n.head:n.anchor;if(!t.some((function(e){var t=e.from,n=e.to;return i>=t&&i<=n}))){var o=e.lineBlockAt(i),s=o.from,a=o.to;t.push(new Ya(s,a))}},i=0;i<=1;i++)r(i);this.viewports=t.sort((function(e,t){return e.from-t.from})),this.scaler=this.heightMap.height<=7e6?Ja:new el(this.heightOracle.doc,this.heightMap,this.viewports)}},{key:"updateViewportLines",value:function(){var e=this;this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,(function(t){e.viewportLines.push(1==e.scaler.scale?t:tl(t,e.scaler))}))}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.state=e.state;var n=this.stateDeco;this.stateDeco=this.state.facet(os).filter((function(e){return"function"!=typeof e}));var r=e.changedRanges,i=cs.extendWithRanges(r,Ga(n,this.stateDeco,e?e.changes:$n.empty(this.state.doc.length))),o=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),i),this.heightMap.height!=o&&(e.flags|=2);var s=i.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<s.from||t.range.head>s.to)||!this.viewportIsAppropriate(s))&&(s=this.getViewport(0,t));var a=!e.changes.empty||2&e.flags||s.from!=this.viewport.from||s.to!=this.viewport.to;this.viewport=s,this.updateForViewport(),a&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet($o)&&(this.mustEnforceCursorAssoc=!0)}},{key:"measure",value:function(e){var t=e.contentDOM,n=window.getComputedStyle(t),r=this.heightOracle,i=n.whiteSpace;this.defaultTextDirection="rtl"==n.direction?hs.RTL:hs.LTR;var o=this.heightOracle.mustRefreshForWrapping(i),s=o||this.mustMeasureContent||this.contentDOMHeight!=t.clientHeight;this.contentDOMHeight=t.clientHeight,this.mustMeasureContent=!1;var a=0,l=0,c=parseInt(n.paddingTop)||0,u=parseInt(n.paddingBottom)||0;this.paddingTop==c&&this.paddingBottom==u||(this.paddingTop=c,this.paddingBottom=u,a|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(s=!0),this.editorWidth=e.scrollDOM.clientWidth,a|=8);var h=(this.printing?Za:ja)(t,this.paddingTop),p=h.top-this.pixelViewport.top,d=h.bottom-this.pixelViewport.bottom;this.pixelViewport=h;var f=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(f!=this.inView&&(this.inView=f,f&&(s=!0)),!this.inView&&!this.scrollTarget)return 0;var _=t.clientWidth;if(this.contentDOMWidth==_&&this.editorHeight==e.scrollDOM.clientHeight||(this.contentDOMWidth=_,this.editorHeight=e.scrollDOM.clientHeight,a|=8),s){var g=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(g)&&(o=!0),o||r.lineWrapping&&Math.abs(_-this.contentDOMWidth)>r.charWidth){var m=e.docView.measureTextSize(),v=m.lineHeight,y=m.charWidth;(o=v>0&&r.refresh(i,v,y,_/y,g))&&(e.docView.minWidth=0,a|=8)}p>0&&d>0?l=Math.max(p,d):p<0&&d<0&&(l=Math.min(p,d)),r.heightChanged=!1;var T,E=(0,_n.Z)(this.viewports);try{for(E.s();!(T=E.n()).done;){var b=T.value,O=b.from==this.viewport.from?g:e.docView.measureVisibleLineHeights(b);this.heightMap=(o?Da.empty().applyChanges(this.stateDeco,On.empty,this.heightOracle,[new cs(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(r,0,o,new xa(b.from,O))}}catch(w){E.e(w)}finally{E.f()}r.heightChanged&&(a|=2)}var k=!this.viewportIsAppropriate(this.viewport,l)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return k&&(this.viewport=this.getViewport(l,this.scrollTarget)),this.updateForViewport(),(2&a||k)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),a|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),a}},{key:"visibleTop",get:function(){return this.scaler.fromDOM(this.pixelViewport.top)}},{key:"visibleBottom",get:function(){return this.scaler.fromDOM(this.pixelViewport.bottom)}},{key:"getViewport",value:function(e,t){var n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,i=this.state.doc,o=this.visibleTop,s=this.visibleBottom,a=new Ya(r.lineAt(o-1e3*n,Na.ByHeight,i,0,0).from,r.lineAt(s+1e3*(1-n),Na.ByHeight,i,0,0).to);if(t){var l=t.range.head;if(l<a.from||l>a.to){var c,u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),h=r.lineAt(l,Na.ByPos,i,0,0);c="center"==t.y?(h.top+h.bottom)/2-u/2:"start"==t.y||"nearest"==t.y&&l<a.from?h.top:h.bottom-u,a=new Ya(r.lineAt(c-500,Na.ByHeight,i,0,0).from,r.lineAt(c+u+500,Na.ByHeight,i,0,0).to)}}return a}},{key:"mapViewport",value:function(e,t){var n=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new Ya(this.heightMap.lineAt(n,Na.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(r,Na.ByPos,this.state.doc,0,0).to)}},{key:"viewportIsAppropriate",value:function(e){var t=e.from,n=e.to,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!this.inView)return!0;var i=this.heightMap.lineAt(t,Na.ByPos,this.state.doc,0,0),o=i.top,s=this.heightMap.lineAt(n,Na.ByPos,this.state.doc,0,0),a=s.bottom,l=this.visibleTop,c=this.visibleBottom;return(0==t||o<=l-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||a>=c+Math.max(10,Math.min(r,250)))&&o>l-2e3&&a<c+2e3}},{key:"mapLineGaps",value:function(e,t){if(!e.length||t.empty)return e;var n,r=[],i=(0,_n.Z)(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;t.touchesRange(o.from,o.to)||r.push(new qa(t.mapPos(o.from),t.mapPos(o.to),o.size))}}catch(s){i.e(s)}finally{i.f()}return r}},{key:"ensureLineGaps",value:function(e,t){var n=this,r=this.heightOracle.lineWrapping,i=r?1e4:2e3,o=i>>1,s=i<<1;if(this.defaultTextDirection!=hs.LTR&&!r)return[];var a,l=[],c=function i(s,a,c,u){if(!(a-s<o)){var h=n.state.selection.main,p=[h.from];h.empty||p.push(h.to);for(var d=0,f=p;d<f.length;d++){var _=f[d];if(_>s&&_<a)return i(s,_-10,c,u),void i(_+10,a,c,u)}var g=function(e,t){var n,r=(0,_n.Z)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t(i))return i}}catch(o){r.e(o)}finally{r.f()}return}(e,(function(e){return e.from>=c.from&&e.to<=c.to&&Math.abs(e.from-s)<o&&Math.abs(e.to-a)<o&&!p.some((function(t){return e.from<t&&e.to>t}))}));if(!g){if(a<c.to&&t&&r&&t.visibleRanges.some((function(e){return e.from<=a&&e.to>=a}))){var m=t.moveToLineBoundary(nr.cursor(a),!1,!0).head;m>s&&(a=m)}g=new qa(s,a,n.gapSize(c,s,a,u))}l.push(g)}},u=(0,_n.Z)(this.viewportLines);try{for(u.s();!(a=u.n()).done;){var h=a.value;if(!(h.length<s)){var p=za(h.from,h.to,this.stateDeco);if(!(p.total<s)){var d=this.scrollTarget?this.scrollTarget.range.head:null,f=void 0,_=void 0;if(r){var g=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,m=void 0,v=void 0;if(null!=d){var y=Ka(p,d),T=((this.visibleBottom-this.visibleTop)/2+g)/h.height;m=y-T,v=y+T}else m=(this.visibleTop-h.top-g)/h.height,v=(this.visibleBottom-h.top+g)/h.height;f=Qa(p,m),_=Qa(p,v)}else{var E=p.total*this.heightOracle.charWidth,b=i*this.heightOracle.charWidth,O=void 0,k=void 0;if(null!=d){var w=Ka(p,d),S=((this.pixelViewport.right-this.pixelViewport.left)/2+b)/E;O=w-S,k=w+S}else O=(this.pixelViewport.left-b)/E,k=(this.pixelViewport.right+b)/E;f=Qa(p,O),_=Qa(p,k)}f>h.from&&c(h.from,f,h,p),_<h.to&&c(_,h.to,h,p)}}}}catch(I){u.e(I)}finally{u.f()}return l}},{key:"gapSize",value:function(e,t,n,r){var i=Ka(r,n)-Ka(r,t);return this.heightOracle.lineWrapping?e.height*i:r.total*this.heightOracle.charWidth*i}},{key:"updateLineGaps",value:function(e){var t=this;qa.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Ao.set(e.map((function(e){return e.draw(t.heightOracle.lineWrapping)}))))}},{key:"computeVisibleRanges",value:function(){var e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));var t=[];Kr.spans(e,this.viewport.from,this.viewport.to,{span:function(e,n){t.push({from:e,to:n})},point:function(){}},20);var n=t.length!=this.visibleRanges.length||this.visibleRanges.some((function(e,n){return e.from!=t[n].from||e.to!=t[n].to}));return this.visibleRanges=t,n?4:0}},{key:"lineBlockAt",value:function(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find((function(t){return t.from<=e&&t.to>=e}))||tl(this.heightMap.lineAt(e,Na.ByPos,this.state.doc,0,0),this.scaler)}},{key:"lineBlockAtHeight",value:function(e){return tl(this.heightMap.lineAt(this.scaler.fromDOM(e),Na.ByHeight,this.state.doc,0,0),this.scaler)}},{key:"elementAtHeight",value:function(e){return tl(this.heightMap.blockAt(this.scaler.fromDOM(e),this.state.doc,0,0),this.scaler)}},{key:"docHeight",get:function(){return this.scaler.toDOM(this.heightMap.height)}},{key:"contentHeight",get:function(){return this.docHeight+this.paddingTop+this.paddingBottom}}]),e}(),Ya=(0,bn.Z)((function e(t,n){(0,En.Z)(this,e),this.from=t,this.to=n}));function za(e,t,n){var r=[],i=e,o=0;return Kr.spans(n,e,t,{span:function(){},point:function(e,t){e>i&&(r.push({from:i,to:e}),o+=e-i),i=t}},20),i<t&&(r.push({from:i,to:t}),o+=t-i),{total:o,ranges:r}}function Qa(e,t){var n=e.total,r=e.ranges;if(t<=0)return r[0].from;if(t>=1)return r[r.length-1].to;for(var i=Math.floor(n*t),o=0;;o++){var s=r[o],a=s.from,l=s.to-a;if(i<=l)return a+i;i-=l}}function Ka(e,t){var n,r=0,i=(0,_n.Z)(e.ranges);try{for(i.s();!(n=i.n()).done;){var o=n.value,s=o.from,a=o.to;if(t<=a){r+=t-s;break}r+=a-s}}catch(l){i.e(l)}finally{i.f()}return r/e.total}var Ja={toDOM:function(e){return e},fromDOM:function(e){return e},scale:1},el=function(){function e(t,n,r){(0,En.Z)(this,e);var i=0,o=0,s=0;this.viewports=r.map((function(e){var r=e.from,o=e.to,s=n.lineAt(r,Na.ByPos,t,0,0).top,a=n.lineAt(o,Na.ByPos,t,0,0).bottom;return i+=a-s,{from:r,to:o,top:s,bottom:a,domTop:0,domBottom:0}})),this.scale=(7e6-i)/(n.height-i);var a,l=(0,_n.Z)(this.viewports);try{for(l.s();!(a=l.n()).done;){var c=a.value;c.domTop=s+(c.top-o)*this.scale,s=c.domBottom=c.domTop+(c.bottom-c.top),o=c.bottom}}catch(u){l.e(u)}finally{l.f()}}return(0,bn.Z)(e,[{key:"toDOM",value:function(e){for(var t=0,n=0,r=0;;t++){var i=t<this.viewports.length?this.viewports[t]:null;if(!i||e<i.top)return r+(e-n)*this.scale;if(e<=i.bottom)return i.domTop+(e-i.top);n=i.bottom,r=i.domBottom}}},{key:"fromDOM",value:function(e){for(var t=0,n=0,r=0;;t++){var i=t<this.viewports.length?this.viewports[t]:null;if(!i||e<i.domTop)return n+(e-r)/this.scale;if(e<=i.domBottom)return i.top+(e-i.domTop);n=i.bottom,r=i.domBottom}}}]),e}();function tl(e,t){if(1==t.scale)return e;var n=t.toDOM(e.top),r=t.toDOM(e.bottom);return new Ma(e.from,e.length,n,r-n,Array.isArray(e.type)?e.type.map((function(e){return tl(e,t)})):e.type)}var nl=or.define({combine:function(e){return e.join(" ")}}),rl=or.define({combine:function(e){return e.indexOf(!0)>-1}}),il=vi.newName(),ol=vi.newName(),sl=vi.newName(),al={"&light":"."+ol,"&dark":"."+sl};function ll(e,t,n){return new vi(t,{finish:function(t){return/&/.test(t)?t.replace(/&\w*/,(function(t){if("&"==t)return e;if(!n||!n[t])throw new RangeError("Unsupported selector: ".concat(t));return n[t]})):e+" "+t}})}var cl=ll("."+il,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>\')',backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},al),ul=(0,bn.Z)((function e(t,n,r,i){(0,En.Z)(this,e),this.typeOver=i,this.bounds=null,this.text="";var o=t.docView,s=o.impreciseHead,a=o.impreciseAnchor;if(t.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=t.docView.domBoundsAround(n,r,0))){var l=s||a?[]:function(e){var t=[];if(e.root.activeElement!=e.contentDOM)return t;var n=e.observer.selectionRange,r=n.anchorNode,i=n.anchorOffset,o=n.focusNode,s=n.focusOffset;r&&(t.push(new Ds(r,i)),o==r&&s==i||t.push(new Ds(o,s)));return t}(t),c=new Ns(l,t.state);c.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=c.text,this.newSel=function(e,t){if(0==e.length)return null;var n=e[0].pos,r=2==e.length?e[1].pos:n;return n>-1&&r>-1?nr.single(n+t,r+t):null}(l,this.bounds.from)}else{var u=t.observer.selectionRange,h=s&&s.node==u.focusNode&&s.offset==u.focusOffset||!Ai(t.contentDOM,u.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(u.focusNode,u.focusOffset),p=a&&a.node==u.anchorNode&&a.offset==u.anchorOffset||!Ai(t.contentDOM,u.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(u.anchorNode,u.anchorOffset);this.newSel=nr.single(p,h)}}));function hl(e,t){var n,r=t.newSel,i=e.state.selection.main;if(t.bounds){var o=t.bounds,s=o.from,a=o.to,l=i.from,c=null;(8===e.inputState.lastKeyCode&&e.inputState.lastKeyTime>Date.now()-100||po.android&&t.text.length<a-s)&&(l=i.to,c="end");var u=function(e,t,n,r){var i=Math.min(e.length,t.length),o=0;for(;o<i&&e.charCodeAt(o)==t.charCodeAt(o);)o++;if(o==i&&e.length==t.length)return null;var s=e.length,a=t.length;for(;s>0&&a>0&&e.charCodeAt(s-1)==t.charCodeAt(a-1);)s--,a--;if("end"==r){n-=s+Math.max(0,o-Math.min(s,a))-o}if(s<o&&e.length<t.length){a=(o-=n<=o&&n>=s?o-n:0)+(a-s),s=o}else if(a<o){s=(o-=n<=o&&n>=a?o-n:0)+(s-a),a=o}return{from:o,toA:s,toB:a}}(e.state.doc.sliceString(s,a,Ms),t.text,l-s,c);u&&(po.chrome&&13==e.inputState.lastKeyCode&&u.toB==u.from+2&&"\uffff\uffff"==t.text.slice(u.from,u.toB)&&u.toB--,n={from:s+u.from,to:s+u.toA,insert:On.of(t.text.slice(u.from,u.toB).split(Ms))})}else!r||e.hasFocus&&e.state.facet(Ko)&&!r.main.eq(i)||(r=null);if(!n&&!r)return!1;if(!n&&t.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:e.state.doc.slice(i.from,i.to)}:n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:e.state.doc.slice(i.from,n.from).append(n.insert).append(e.state.doc.slice(n.to,i.to))}:(po.mac||po.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())?(r&&2==n.insert.length&&(r=nr.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:On.of([" "])}):po.chrome&&n&&n.from==n.to&&n.from==i.head&&"\n "==n.insert.toString()&&e.lineWrapping&&(r&&(r=nr.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:On.of([" "])}),n){var h=e.state;if(po.ios&&e.inputState.flushIOSKey(e))return!0;if(po.android&&(n.from==i.from&&n.to==i.to&&1==n.insert.length&&2==n.insert.lines&&Zi(e.contentDOM,"Enter",13)||n.from==i.from-1&&n.to==i.to&&0==n.insert.length&&Zi(e.contentDOM,"Backspace",8)||n.from==i.from&&n.to==i.to+1&&0==n.insert.length&&Zi(e.contentDOM,"Delete",46)))return!0;var p,d=n.insert.toString();if(e.state.facet(qo).some((function(t){return t(e,n.from,n.to,d)})))return!0;if(e.inputState.composing>=0&&e.inputState.composing++,n.from>=i.from&&n.to<=i.to&&n.to-n.from>=(i.to-i.from)/3&&(!r||r.main.empty&&r.main.from==n.from+n.insert.length)&&e.inputState.composing<0){var f=i.from<n.from?h.sliceDoc(i.from,n.from):"",_=i.to>n.to?h.sliceDoc(n.to,i.to):"";p=h.replaceSelection(e.state.toText(f+n.insert.sliceString(0,void 0,e.state.lineBreak)+_))}else{var g=h.changes(n),m=r&&!h.selection.main.eq(r.main)&&r.main.to<=g.newLength?r.main:void 0;if(h.selection.ranges.length>1&&e.inputState.composing>=0&&n.to<=i.to&&n.to>=i.to-10){var v=e.state.sliceDoc(n.from,n.to),y=Fs(e)||e.state.doc.lineAt(i.head),T=i.to-n.to,E=i.to-i.from;p=h.changeByRange((function(t){if(t.from==i.from&&t.to==i.to)return{changes:g,range:m||t.map(g)};var r=t.to-T,o=r-v.length;if(t.to-t.from!=E||e.state.sliceDoc(o,r)!=v||y&&t.to>=y.from&&t.from<=y.to)return{range:t};var s=h.changes({from:o,to:r,insert:n.insert}),a=t.to-i.to;return{changes:s,range:m?nr.range(Math.max(0,m.anchor+a),Math.max(0,m.head+a)):t.map(s)}}))}else p={changes:g,selection:m&&h.selection.replaceRange(m)}}var b="input.type";return e.composing&&(b+=".compose",e.inputState.compositionFirstChange&&(b+=".start",e.inputState.compositionFirstChange=!1)),e.dispatch(p,{scrollIntoView:!0,userEvent:b}),!0}if(r&&!r.main.eq(i)){var O=!1,k="select";return e.inputState.lastSelectionTime>Date.now()-50&&("select"==e.inputState.lastSelectionOrigin&&(O=!0),k=e.inputState.lastSelectionOrigin),e.dispatch({selection:r,scrollIntoView:O,userEvent:k}),!0}return!1}var pl={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},dl=po.ie&&po.ie_version<=11,fl=function(){function e(t){var n=this;(0,En.Z)(this,e),this.view=t,this.active=!1,this.selectionRange=new Hi,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.resizeContent=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver((function(e){var r,i=(0,_n.Z)(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;n.queue.push(o)}}catch(s){i.e(s)}finally{i.f()}(po.ie&&po.ie_version<=11||po.ios&&t.composing)&&e.some((function(e){return"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length}))?n.flushSoon():n.flush()})),dl&&(this.onCharData=function(e){n.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),"function"==typeof ResizeObserver&&(this.resizeScroll=new ResizeObserver((function(){var e;(null===(e=n.view.docView)||void 0===e?void 0:e.lastUpdate)<Date.now()-75&&n.onResize()})),this.resizeScroll.observe(t.scrollDOM),this.resizeContent=new ResizeObserver((function(){return n.view.requestMeasure()})),this.resizeContent.observe(t.contentDOM)),this.addWindowListeners(this.win=t.win),this.start(),"function"==typeof IntersectionObserver&&(this.intersection=new IntersectionObserver((function(e){n.parentCheck<0&&(n.parentCheck=setTimeout(n.listenForScroll.bind(n),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=n.intersecting&&(n.intersecting=!n.intersecting,n.intersecting!=n.view.inView&&n.onScrollChanged(document.createEvent("Event")))}),{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver((function(e){e.length>0&&e[e.length-1].intersectionRatio>0&&n.onScrollChanged(document.createEvent("Event"))}),{})),this.listenForScroll(),this.readSelectionRange()}return(0,bn.Z)(e,[{key:"onScrollChanged",value:function(e){this.view.inputState.runScrollHandlers(this.view,e),this.intersecting&&this.view.measure()}},{key:"onScroll",value:function(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}},{key:"onResize",value:function(){var e=this;this.resizeTimeout<0&&(this.resizeTimeout=setTimeout((function(){e.resizeTimeout=-1,e.view.requestMeasure()}),50))}},{key:"onPrint",value:function(){var e=this;this.view.viewState.printing=!0,this.view.measure(),setTimeout((function(){e.view.viewState.printing=!1,e.view.requestMeasure()}),500)}},{key:"updateGaps",value:function(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((function(t,n){return t!=e[n]})))){this.gapIntersection.disconnect();var t,n=(0,_n.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.gapIntersection.observe(r)}}catch(i){n.e(i)}finally{n.f()}this.gaps=e}}},{key:"onSelectionChange",value:function(e){var t=this.selectionChanged;if(this.readSelectionRange()&&!this.delayedAndroidKey){var n=this.view,r=this.selectionRange;if(n.state.facet(Ko)?n.root.activeElement==this.dom:xi(n.dom,r)){var i=r.anchorNode&&n.docView.nearest(r.anchorNode);i&&i.ignoreEvent(e)?t||(this.selectionChanged=!1):(po.ie&&po.ie_version<=11||po.android&&po.chrome)&&!n.state.selection.main.empty&&r.focusNode&&Ni(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)?this.flushSoon():this.flush(!1)}}}},{key:"readSelectionRange",value:function(){var e=this.view,t=po.safari&&11==e.root.nodeType&&function(e){for(var t=e.activeElement;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}(this.dom.ownerDocument)==this.dom&&function(e){var t=null;function n(e){e.preventDefault(),e.stopImmediatePropagation(),t=e.getTargetRanges()[0]}if(e.contentDOM.addEventListener("beforeinput",n,!0),e.dom.ownerDocument.execCommand("indent"),e.contentDOM.removeEventListener("beforeinput",n,!0),!t)return null;var r=t.startContainer,i=t.startOffset,o=t.endContainer,s=t.endOffset,a=e.docView.domAtPos(e.state.selection.main.anchor);if(Ni(a.node,a.offset,o,s)){var l=[o,s,r,i];r=l[0],i=l[1],o=l[2],s=l[3]}return{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}}(this.view)||Ci(e.root);if(!t||this.selectionRange.eq(t))return!1;var n=xi(this.dom,t);return n&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&function(e,t){var n=t.focusNode,r=t.focusOffset;if(!n||t.anchorNode!=n||t.anchorOffset!=r)return!1;for(;;)if(r){if(1!=n.nodeType)return!1;var i=n.childNodes[r-1];"false"==i.contentEditable?r--:r=Pi(n=i)}else{if(n==e)return!0;r=Li(n),n=n.parentNode}}(this.dom,t)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(t),n&&(this.selectionChanged=!0),!0)}},{key:"setSelectionRange",value:function(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}},{key:"clearSelectionRange",value:function(){this.selectionRange.set(null,0,null,0)}},{key:"listenForScroll",value:function(){this.parentCheck=-1;for(var e=0,t=null,n=this.dom;n;)if(1==n.nodeType)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(n),n=n.assignedSlot||n.parentNode;else{if(11!=n.nodeType)break;n=n.host}if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){var r,i=(0,_n.Z)(this.scrollTargets);try{for(i.s();!(r=i.n()).done;){r.value.removeEventListener("scroll",this.onScroll)}}catch(a){i.e(a)}finally{i.f()}var o,s=(0,_n.Z)(this.scrollTargets=t);try{for(s.s();!(o=s.n()).done;){o.value.addEventListener("scroll",this.onScroll)}}catch(a){s.e(a)}finally{s.f()}}}},{key:"ignore",value:function(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}},{key:"start",value:function(){this.active||(this.observer.observe(this.dom,pl),dl&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}},{key:"stop",value:function(){this.active&&(this.active=!1,this.observer.disconnect(),dl&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}},{key:"clear",value:function(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}},{key:"delayAndroidKey",value:function(e,t){var n,r=this;if(!this.delayedAndroidKey){this.flushingAndroidKey=this.view.win.requestAnimationFrame((function(){var e=r.delayedAndroidKey;e&&(r.clearDelayedAndroidKey(),!r.flush()&&e.force&&Zi(r.dom,e.key,e.keyCode))}))}this.delayedAndroidKey&&"Enter"!=e||(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(null===(n=this.delayedAndroidKey)||void 0===n?void 0:n.force)})}},{key:"clearDelayedAndroidKey",value:function(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}},{key:"flushSoon",value:function(){var e=this;this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame((function(){e.delayedFlush=-1,e.flush()})))}},{key:"forceFlush",value:function(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}},{key:"processRecords",value:function(){var e,t=this.queue,n=(0,_n.Z)(this.observer.takeRecords());try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r)}}catch(h){n.e(h)}finally{n.f()}t.length&&(this.queue=[]);var i,o=-1,s=-1,a=!1,l=(0,_n.Z)(t);try{for(l.s();!(i=l.n()).done;){var c=i.value,u=this.readMutation(c);u&&(u.typeOver&&(a=!0),-1==o?(o=u.from,s=u.to):(o=Math.min(u.from,o),s=Math.max(u.to,s)))}}catch(h){l.e(h)}finally{l.f()}return{from:o,to:s,typeOver:a}}},{key:"readChange",value:function(){var e=this.processRecords(),t=e.from,n=e.to,r=e.typeOver,i=this.selectionChanged&&xi(this.dom,this.selectionRange);return t<0&&!i?null:(t>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1,new ul(this.view,t,n,r))}},{key:"flush",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();var t=this.readChange();if(!t)return!1;var n=this.view.state,r=hl(this.view,t);return this.view.state==n&&this.view.update([]),r}},{key:"readMutation",value:function(e){var t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty("attributes"==e.type),"attributes"==e.type&&(t.dirty|=4),"childList"==e.type){var n=_l(t,e.previousSibling||e.target.previousSibling,-1),r=_l(t,e.nextSibling||e.target.nextSibling,1);return{from:n?t.posAfter(n):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}return"characterData"==e.type?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}},{key:"setWindow",value:function(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}},{key:"addWindowListeners",value:function(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}},{key:"removeWindowListeners",value:function(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}},{key:"destroy",value:function(){var e,t,n,r;this.stop(),null===(e=this.intersection)||void 0===e||e.disconnect(),null===(t=this.gapIntersection)||void 0===t||t.disconnect(),null===(n=this.resizeScroll)||void 0===n||n.disconnect(),null===(r=this.resizeContent)||void 0===r||r.disconnect();var i,o=(0,_n.Z)(this.scrollTargets);try{for(o.s();!(i=o.n()).done;){i.value.removeEventListener("scroll",this.onScroll)}}catch(s){o.e(s)}finally{o.f()}this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}]),e}();function _l(e,t,n){for(;t;){var r=zi.get(t);if(r&&r.parent==e)return r;var i=t.parentNode;t=i!=e.dom?i:n>0?t.nextSibling:t.previousSibling}return null}var gl=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,En.Z)(this,e),this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: fixed; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=n.dispatch||function(e){return t.update([e])},this.dispatch=this.dispatch.bind(this),this._root=n.root||qi(n.parent)||document,this.viewState=new $a(n.state||qr.create(n)),this.plugins=this.state.facet(es).map((function(e){return new ns(e)}));var r,i=(0,_n.Z)(this.plugins);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.update(this)}}catch(s){i.e(s)}finally{i.f()}this.observer=new fl(this),this.inputState=new oa(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new Ps(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),n.parent&&n.parent.appendChild(this.dom)}return(0,bn.Z)(e,[{key:"state",get:function(){return this.viewState.state}},{key:"viewport",get:function(){return this.viewState.viewport}},{key:"visibleRanges",get:function(){return this.viewState.visibleRanges}},{key:"inView",get:function(){return this.viewState.inView}},{key:"composing",get:function(){return this.inputState.composing>0}},{key:"compositionStarted",get:function(){return this.inputState.composing>=0}},{key:"root",get:function(){return this._root}},{key:"win",get:function(){return this.dom.ownerDocument.defaultView||window}},{key:"dispatch",value:function(){var e;this._dispatch(1==arguments.length&&(arguments.length<=0?void 0:arguments[0])instanceof Dr?arguments.length<=0?void 0:arguments[0]:(e=this.state).update.apply(e,arguments))}},{key:"update",value:function(e){if(0!=this.updateState)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");var t,n,r=!1,i=!1,o=this.state,s=(0,_n.Z)(e);try{for(s.s();!(n=s.n()).done;){var a=n.value;if(a.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=a.state}}catch(T){s.e(T)}finally{s.f()}if(this.destroyed)this.viewState.state=o;else{var l=this.observer.delayedAndroidKey,c=null;if(l?(this.observer.clearDelayedAndroidKey(),((c=this.observer.readChange())&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(c=null)):this.observer.clear(),o.facet(qr.phrases)!=this.state.facet(qr.phrases))return this.setState(o);t=us.create(this,o,e);var u=this.viewState.scrollTarget;try{this.updateState=2;var h,p=(0,_n.Z)(e);try{for(p.s();!(h=p.n()).done;){var d=h.value;if(u&&(u=u.map(d.changes)),d.scrollIntoView){var f=d.state.selection.main;u=new Yo(f.empty?f:nr.cursor(f.head,f.head>f.anchor?-1:1))}var _,g=(0,_n.Z)(d.effects);try{for(g.s();!(_=g.n()).done;){var m=_.value;m.is(zo)&&(u=m.value)}}catch(T){g.e(T)}finally{g.f()}}}catch(T){p.e(T)}finally{p.f()}this.viewState.update(t,u),this.bidiCache=yl.update(this.bidiCache,t.changes),t.empty||(this.updatePlugins(t),this.inputState.update(t)),r=this.docView.update(t),this.state.facet(ls)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(r,e.some((function(e){return e.isUserEvent("select.pointer")})))}finally{this.updateState=0}if(t.startState.facet(nl)!=t.state.facet(nl)&&(this.viewState.mustMeasureContent=!0),(r||i||u||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!t.empty){var v,y=(0,_n.Z)(this.state.facet(Zo));try{for(y.s();!(v=y.n()).done;){(0,v.value)(t)}}catch(T){y.e(T)}finally{y.f()}}c&&!hl(this,c)&&l.force&&Zi(this.contentDOM,l.key,l.keyCode)}}},{key:"setState",value:function(e){if(0!=this.updateState)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)this.viewState.state=e;else{this.updateState=2;var t=this.hasFocus;try{var n,r=(0,_n.Z)(this.plugins);try{for(r.s();!(n=r.n()).done;){n.value.destroy(this)}}catch(s){r.e(s)}finally{r.f()}this.viewState=new $a(e),this.plugins=e.facet(es).map((function(e){return new ns(e)})),this.pluginMap.clear();var i,o=(0,_n.Z)(this.plugins);try{for(o.s();!(i=o.n()).done;){i.value.update(this)}}catch(s){o.e(s)}finally{o.f()}this.docView=new Ps(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}}},{key:"updatePlugins",value:function(e){var t=e.startState.facet(es),n=e.state.facet(es);if(t!=n){var r,i=[],o=(0,_n.Z)(n);try{for(o.s();!(r=o.n()).done;){var s=r.value,a=t.indexOf(s);if(a<0)i.push(new ns(s));else{var l=this.plugins[a];l.mustUpdate=e,i.push(l)}}}catch(_){o.e(_)}finally{o.f()}var c,u=(0,_n.Z)(this.plugins);try{for(u.s();!(c=u.n()).done;){var h=c.value;h.mustUpdate!=e&&h.destroy(this)}}catch(_){u.e(_)}finally{u.f()}this.plugins=i,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else{var p,d=(0,_n.Z)(this.plugins);try{for(d.s();!(p=d.n()).done;){p.value.mustUpdate=e}}catch(_){d.e(_)}finally{d.f()}}for(var f=0;f<this.plugins.length;f++)this.plugins[f].update(this)}},{key:"measure",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.destroyed){this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,t&&this.observer.forceFlush();var n=null,r=this.scrollDOM,i=r.scrollHeight,o=r.scrollTop,s=r.clientHeight,a=o>i-s-4?i:o;try{for(var l=0;;l++){this.updateState=1;var c=this.viewport,u=this.viewState.lineBlockAtHeight(a),h=this.viewState.measure(this);if(!h&&!this.measureRequests.length&&null==this.viewState.scrollTarget)break;if(l>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}var p=[];if(!(4&h)){var d=[p,this.measureRequests];this.measureRequests=d[0],p=d[1]}var f=p.map((function(t){try{return t.read(e)}catch(n){return Qo(e.state,n),vl}})),_=us.create(this,this.state,[]),g=!1,m=!1;_.flags|=h,n?n.flags|=h:n=_,this.updateState=2,_.empty||(this.updatePlugins(_),this.inputState.update(_),this.updateAttrs(),g=this.docView.update(_));for(var v=0;v<p.length;v++)if(f[v]!=vl)try{var y=p[v];y.write&&y.write(f[v],this)}catch(k){Qo(this.state,k)}if(this.viewState.editorHeight)if(this.viewState.scrollTarget)this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,m=!0;else{var T=this.viewState.lineBlockAt(u.from).top-u.top;(T>1||T<-1)&&(this.scrollDOM.scrollTop+=T,m=!0)}if(g&&this.docView.updateSelection(!0),this.viewport.from==c.from&&this.viewport.to==c.to&&!m&&0==this.measureRequests.length)break}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty){var E,b=(0,_n.Z)(this.state.facet(Zo));try{for(b.s();!(E=b.n()).done;){var O=E.value;O(n)}}catch(w){b.e(w)}finally{b.f()}}}}},{key:"themeClasses",get:function(){return il+" "+(this.state.facet(rl)?sl:ol)+" "+this.state.facet(nl)}},{key:"updateAttrs",value:function(){var e=this,t=Tl(this,rs,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Ko)?"true":"false",class:"cm-content",style:"".concat(po.tabSize,": ").concat(this.state.tabSize),role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),Tl(this,is,n);var r=this.observer.ignore((function(){var r=Io(e.contentDOM,e.contentAttrs,n),i=Io(e.dom,e.editorAttrs,t);return r||i}));return this.editorAttrs=t,this.contentAttrs=n,r}},{key:"showAnnouncements",value:function(t){var n,r=!0,i=(0,_n.Z)(t);try{for(i.s();!(n=i.n()).done;){var o,s=n.value,a=(0,_n.Z)(s.effects);try{for(a.s();!(o=a.n()).done;){var l=o.value;if(l.is(e.announce))r&&(this.announceDOM.textContent=""),r=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=l.value}}catch(c){a.e(c)}finally{a.f()}}}catch(c){i.e(c)}finally{i.f()}}},{key:"mountStyles",value:function(){this.styleModules=this.state.facet(ls),vi.mount(this.root,this.styleModules.concat(cl).reverse())}},{key:"readMeasured",value:function(){if(2==this.updateState)throw new Error("Reading the editor layout isn't allowed during an update");0==this.updateState&&this.measureScheduled>-1&&this.measure(!1)}},{key:"requestMeasure",value:function(e){var t=this;if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame((function(){return t.measure()}))),e){if(null!=e.key)for(var n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key)return void(this.measureRequests[n]=e);this.measureRequests.push(e)}}},{key:"plugin",value:function(e){var t=this.pluginMap.get(e);return(void 0===t||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find((function(t){return t.spec==e}))||null),t&&t.update(this).value}},{key:"documentTop",get:function(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}},{key:"documentPadding",get:function(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}},{key:"elementAtHeight",value:function(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}},{key:"lineBlockAtHeight",value:function(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}},{key:"viewportLineBlocks",get:function(){return this.viewState.viewportLines}},{key:"lineBlockAt",value:function(e){return this.viewState.lineBlockAt(e)}},{key:"contentHeight",get:function(){return this.viewState.contentHeight}},{key:"moveByChar",value:function(e,t,n){return ia(this,e,ra(this,e,t,n))}},{key:"moveByGroup",value:function(e,t){var n=this;return ia(this,e,ra(this,e,t,(function(t){return function(e,t,n){var r=e.state.charCategorizer(t),i=r(n);return function(e){var t=r(e);return i==Vr.Space&&(i=t),i==t}}(n,e.head,t)})))}},{key:"moveToLineBoundary",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return na(this,e,t,n)}},{key:"moveVertically",value:function(e,t,n){return ia(this,e,function(e,t,n,r){var i=t.head,o=n?1:-1;if(i==(n?e.state.doc.length:0))return nr.cursor(i,t.assoc);var s,a=t.goalColumn,l=e.contentDOM.getBoundingClientRect(),c=e.coordsAtPos(i),u=e.documentTop;if(c)null==a&&(a=c.left-l.left),s=o<0?c.top:c.bottom;else{var h=e.viewState.lineBlockAt(i);null==a&&(a=Math.min(l.right-l.left,e.defaultCharacterWidth*(i-h.from))),s=(o<0?h.top:h.bottom)+u}for(var p=l.left+a,d=null!==r&&void 0!==r?r:e.defaultLineHeight>>1,f=0;;f+=10){var _=s+(d+f)*o,g=Ks(e,{x:p,y:_},!1,o);if(_<l.top||_>l.bottom||(o<0?g<i:g>i))return nr.cursor(g,t.assoc,void 0,a)}}(this,e,t,n))}},{key:"domAtPos",value:function(e){return this.docView.domAtPos(e)}},{key:"posAtDOM",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.docView.posFromDOM(e,t)}},{key:"posAtCoords",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.readMeasured(),Ks(this,e,t)}},{key:"coordsAtPos",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.readMeasured();var n=this.docView.coordsAt(e,t);if(!n||n.left==n.right)return n;var r=this.state.doc.lineAt(e),i=this.bidiSpans(r),o=i[Ss.find(i,e-r.from,-1,t)];return Ui(n,o.dir==hs.LTR==t>0)}},{key:"defaultCharacterWidth",get:function(){return this.viewState.heightOracle.charWidth}},{key:"defaultLineHeight",get:function(){return this.viewState.heightOracle.lineHeight}},{key:"textDirection",get:function(){return this.viewState.defaultTextDirection}},{key:"textDirectionAt",value:function(e){return!this.state.facet(Xo)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}},{key:"lineWrapping",get:function(){return this.viewState.heightOracle.lineWrapping}},{key:"bidiSpans",value:function(e){if(e.length>ml)return Cs(e.length);var t,n=this.textDirectionAt(e.from),r=(0,_n.Z)(this.bidiCache);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i.from==e.from&&i.dir==n)return i.order}}catch(s){r.e(s)}finally{r.f()}var o=Rs(e.text,n);return this.bidiCache.push(new yl(e.from,e.to,n,o)),o}},{key:"hasFocus",get:function(){var e;return(this.dom.ownerDocument.hasFocus()||po.safari&&(null===(e=this.inputState)||void 0===e?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}},{key:"focus",value:function(){var e=this;this.observer.ignore((function(){Vi(e.contentDOM),e.docView.updateSelection()}))}},{key:"setRoot",value:function(e){this._root!=e&&(this._root=e,this.observer.setWindow((9==e.nodeType?e:e.ownerDocument).defaultView||window),this.mountStyles())}},{key:"destroy",value:function(){var e,t=(0,_n.Z)(this.plugins);try{for(t.s();!(e=t.n()).done;){e.value.destroy(this)}}catch(n){t.e(n)}finally{t.f()}this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}}],[{key:"scrollIntoView",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return zo.of(new Yo("number"==typeof e?nr.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}},{key:"domEventHandlers",value:function(e){return ts.define((function(){return{}}),{eventHandlers:e})}},{key:"theme",value:function(e,t){var n=vi.newName(),r=[nl.of(n),ls.of(ll(".".concat(n),e))];return t&&t.dark&&r.push(rl.of(!0)),r}},{key:"baseTheme",value:function(e){return mr.lowest(ls.of(ll("."+il,e,al)))}},{key:"findFromDOM",value:function(e){var t,n=e.querySelector(".cm-content"),r=n&&zi.get(n)||zi.get(e);return(null===(t=null===r||void 0===r?void 0:r.rootView)||void 0===t?void 0:t.view)||null}}]),e}();gl.styleModule=ls,gl.inputHandler=qo,gl.perLineTextDirection=Xo,gl.exceptionSink=jo,gl.updateListener=Zo,gl.editable=Ko,gl.mouseSelectionStyle=Vo,gl.dragMovesSelection=Go,gl.clickAddsSelectionRange=Ho,gl.decorations=os,gl.atomicRanges=ss,gl.scrollMargins=as,gl.darkTheme=rl,gl.contentAttributes=is,gl.editorAttributes=rs,gl.lineWrapping=gl.contentAttributes.of({class:"cm-lineWrapping"}),gl.announce=Lr.define();var ml=4096,vl={},yl=function(){function e(t,n,r,i){(0,En.Z)(this,e),this.from=t,this.to=n,this.dir=r,this.order=i}return(0,bn.Z)(e,null,[{key:"update",value:function(t,n){if(n.empty)return t;for(var r=[],i=t.length?t[t.length-1].dir:hs.LTR,o=Math.max(0,t.length-10);o<t.length;o++){var s=t[o];s.dir!=i||n.touchesRange(s.from,s.to)||r.push(new e(n.mapPos(s.from,1),n.mapPos(s.to,-1),s.dir,s.order))}return r}}]),e}();function Tl(e,t,n){for(var r=e.state.facet(t),i=r.length-1;i>=0;i--){var o=r[i],s="function"==typeof o?o(e):o;s&&wo(s,n)}return n}var El=po.mac?"mac":po.windows?"win":po.linux?"linux":"key";function bl(e,t){var n,r,i,o,s=e.split(/-(?!$)/),a=s[s.length-1];"Space"==a&&(a=" ");for(var l=0;l<s.length-1;++l){var c=s[l];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))r=!0;else if(/^s(hift)?$/i.test(c))i=!0;else{if(!/^mod$/i.test(c))throw new Error("Unrecognized modifier name: "+c);"mac"==t?o=!0:r=!0}}return n&&(a="Alt-"+a),r&&(a="Ctrl-"+a),o&&(a="Meta-"+a),i&&(a="Shift-"+a),a}function Ol(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}var kl=mr.default(gl.domEventHandlers({keydown:function(e,t){return Al(Il(t.state),e,t,"editor")}})),wl=or.define({enables:kl}),Sl=new WeakMap;function Il(e){var t=e.facet(wl),n=Sl.get(t);return n||Sl.set(t,n=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:El,r=Object.create(null),i=Object.create(null),o=function(e,t){var n=i[e];if(null==n)i[e]=t;else if(n!=t)throw new Error("Key binding "+e+" is used both as a regular binding and as a multi-stroke prefix")},s=function(e,t,i,s){for(var a,l,c=r[e]||(r[e]=Object.create(null)),u=t.split(/ (?!$)/).map((function(e){return bl(e,n)})),h=function(t){var n=u.slice(0,t).join(" ");o(n,!0),c[n]||(c[n]={preventDefault:!0,run:[function(t){var r=Rl={view:t,prefix:n,scope:e};return setTimeout((function(){Rl==r&&(Rl=null)}),Cl),!0}]})},p=1;p<u.length;p++)h(p);var d=u.join(" ");o(d,!1);var f=c[d]||(c[d]={preventDefault:!1,run:(null===(l=null===(a=c._any)||void 0===a?void 0:a.run)||void 0===l?void 0:l.slice())||[]});i&&f.run.push(i),s&&(f.preventDefault=!0)},a=(0,_n.Z)(e);try{for(a.s();!(t=a.n()).done;){var l=t.value,c=l.scope?l.scope.split(" "):["editor"];if(l.any){var u,h=(0,_n.Z)(c);try{for(h.s();!(u=h.n()).done;){var p=u.value,d=r[p]||(r[p]=Object.create(null));for(var f in d._any||(d._any={preventDefault:!1,run:[]}),d)d[f].run.push(l.any)}}catch(y){h.e(y)}finally{h.f()}}var _=l[n]||l.key;if(_){var g,m=(0,_n.Z)(c);try{for(m.s();!(g=m.n()).done;){var v=g.value;s(v,_,l.run,l.preventDefault),l.shift&&s(v,"Shift-"+_,l.shift,l.preventDefault)}}catch(y){m.e(y)}finally{m.f()}}}}catch(y){a.e(y)}finally{a.f()}return r}(t.reduce((function(e,t){return e.concat(t)}),[]))),n}var Rl=null,Cl=4e3;function Al(e,t,n,r){var i=function(e){var t=!(Si&&(e.ctrlKey||e.altKey||e.metaKey)||wi&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?bi:Ei)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(t),o=jn(Gn(i,0))==i.length&&" "!=i,s="",a=!1;Rl&&Rl.view==n&&Rl.scope==r&&(s=Rl.prefix+" ",(a=la.indexOf(t.keyCode)<0)&&(Rl=null));var l,c,u=new Set,h=function(e){if(e){var r,i=(0,_n.Z)(e.run);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(!u.has(o)&&(u.add(o),o(n,t)))return!0}}catch(s){i.e(s)}finally{i.f()}e.preventDefault&&(a=!0)}return!1},p=e[r];if(p){if(h(p[s+Ol(i,t,!o)]))return!0;if(o&&(t.altKey||t.metaKey||t.ctrlKey)&&(l=Ei[t.keyCode])&&l!=i){if(h(p[s+Ol(l,t,!0)]))return!0;if(t.shiftKey&&(c=bi[t.keyCode])!=i&&c!=l&&h(p[s+Ol(c,t,!1)]))return!0}else if(o&&t.shiftKey&&h(p[s+Ol(i,t,!0)]))return!0;if(h(p._any))return!0}return a}var xl=function(){function e(t,n,r,i,o){(0,En.Z)(this,e),this.className=t,this.left=n,this.top=r,this.width=i,this.height=o}return(0,bn.Z)(e,[{key:"draw",value:function(){var e=document.createElement("div");return e.className=this.className,this.adjust(e),e}},{key:"update",value:function(e,t){return t.className==this.className&&(this.adjust(e),!0)}},{key:"adjust",value:function(e){e.style.left=this.left+"px",e.style.top=this.top+"px",null!=this.width&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}},{key:"eq",value:function(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}}],[{key:"forRange",value:function(t,n,r){if(r.empty){var i=t.coordsAtPos(r.head,r.assoc||1);if(!i)return[];var o=Ml(t);return[new e(n,i.left-o.left,i.top-o.top,null,i.bottom-i.top)]}return Dl(t,n,r)}}]),e}();function Ml(e){var t=e.scrollDOM.getBoundingClientRect();return{left:(e.textDirection==hs.LTR?t.left:t.right-e.scrollDOM.clientWidth)-e.scrollDOM.scrollLeft,top:t.top-e.scrollDOM.scrollTop}}function Nl(e,t,n){var r=nr.cursor(t);return{from:Math.max(n.from,e.moveToLineBoundary(r,!1,!0).from),to:Math.min(n.to,e.moveToLineBoundary(r,!0,!0).from),type:Co.Text}}function Ll(e,t){var n=e.lineBlockAt(t);if(Array.isArray(n.type)){var r,i=(0,_n.Z)(n.type);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.to>t||o.to==t&&(o.to==n.to||o.type==Co.Text))return o}}catch(s){i.e(s)}finally{i.f()}}return n}function Dl(e,t,n){if(n.to<=e.viewport.from||n.from>=e.viewport.to)return[];var r=Math.max(n.from,e.viewport.from),i=Math.min(n.to,e.viewport.to),o=e.textDirection==hs.LTR,s=e.contentDOM,a=s.getBoundingClientRect(),l=Ml(e),c=window.getComputedStyle(s.firstChild),u=a.left+parseInt(c.paddingLeft)+Math.min(0,parseInt(c.textIndent)),h=a.right-parseInt(c.paddingRight),p=Ll(e,r),d=Ll(e,i),f=p.type==Co.Text?p:null,_=d.type==Co.Text?d:null;if(e.lineWrapping&&(f&&(f=Nl(e,r,f)),_&&(_=Nl(e,i,_))),f&&_&&f.from==_.from)return T(E(n.from,n.to,f));var g=f?E(n.from,null,f):b(p,!1),m=_?E(null,n.to,_):b(d,!0),v=[];return(f||p).to<(_||d).from-1?v.push(y(u,g.bottom,h,m.top)):g.bottom<m.top&&e.elementAtHeight((g.bottom+m.top)/2).type==Co.Text&&(g.bottom=m.top=(g.bottom+m.top)/2),T(g).concat(v).concat(T(m));function y(e,n,r,i){return new xl(t,e-l.left,n-l.top-.01,r-e,i-n+.01)}function T(e){for(var t=e.top,n=e.bottom,r=e.horizontal,i=[],o=0;o<r.length;o+=2)i.push(y(r[o],t,r[o+1],n));return i}function E(t,n,r){var i=1e9,s=-1e9,a=[];function l(t,n,l,c,p){var d=e.coordsAtPos(t,t==r.to?-2:2),f=e.coordsAtPos(l,l==r.from?2:-2);i=Math.min(d.top,f.top,i),s=Math.max(d.bottom,f.bottom,s),p==hs.LTR?a.push(o&&n?u:d.left,o&&c?h:f.right):a.push(!o&&c?u:f.left,!o&&n?h:d.right)}var c,p=null!==t&&void 0!==t?t:r.from,d=null!==n&&void 0!==n?n:r.to,f=(0,_n.Z)(e.visibleRanges);try{for(f.s();!(c=f.n()).done;){var _=c.value;if(_.to>p&&_.from<d)for(var g=Math.max(_.from,p),m=Math.min(_.to,d);;){var v,y=e.state.doc.lineAt(g),T=(0,_n.Z)(e.bidiSpans(y));try{for(T.s();!(v=T.n()).done;){var E=v.value,b=E.from+y.from,O=E.to+y.from;if(b>=m)break;O>g&&l(Math.max(b,g),null==t&&b<=p,Math.min(O,m),null==n&&O>=d,E.dir)}}catch(k){T.e(k)}finally{T.f()}if((g=y.to+1)>=m)break}}}catch(k){f.e(k)}finally{f.f()}return 0==a.length&&l(p,null==t,d,null==n,e.textDirection),{top:i,bottom:s,horizontal:a}}function b(e,t){var n=a.top+(t?e.top:e.bottom);return{top:n,bottom:n,horizontal:[]}}}var Pl=function(){function e(t,n){(0,En.Z)(this,e),this.view=t,this.layer=n,this.drawn=[],this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=t.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.dom.setAttribute("aria-hidden","true"),this.setOrder(t.state),t.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,t)}return(0,bn.Z)(e,[{key:"update",value:function(e){e.startState.facet(Bl)!=e.state.facet(Bl)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&e.view.requestMeasure(this.measureReq)}},{key:"setOrder",value:function(e){for(var t=0,n=e.facet(Bl);t<n.length&&n[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}},{key:"measure",value:function(){return this.layer.markers(this.view)}},{key:"draw",value:function(e){var t=this;if(e.length!=this.drawn.length||e.some((function(e,n){return!function(e,t){return e.constructor==t.constructor&&e.eq(t)}(e,t.drawn[n])}))){var n,r=this.dom.firstChild,i=0,o=(0,_n.Z)(e);try{for(o.s();!(n=o.n()).done;){var s=n.value;s.update&&r&&s.constructor&&this.drawn[i].constructor&&s.update(r,this.drawn[i])?(r=r.nextSibling,i++):this.dom.insertBefore(s.draw(),r)}}catch(l){o.e(l)}finally{o.f()}for(;r;){var a=r.nextSibling;r.remove(),r=a}this.drawn=e}}},{key:"destroy",value:function(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}]),e}(),Bl=or.define();function Ul(e){return[ts.define((function(t){return new Pl(t,e)})),Bl.of(e)]}var Fl=!po.ios,Wl=or.define({combine:function(e){return Xr(e,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:function(e,t){return Math.min(e,t)},drawRangeCursor:function(e,t){return e||t}})}});function Hl(e){return e.startState.facet(Wl)!=e.startState.facet(Wl)}var Gl=Ul({above:!0,markers:function(e){var t,n=e.state,r=n.facet(Wl),i=[],o=(0,_n.Z)(n.selection.ranges);try{for(o.s();!(t=o.n()).done;){var s=t.value,a=s==n.selection.main;if(s.empty?!a||Fl:r.drawRangeCursor){var l,c=a?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",u=s.empty?s:nr.cursor(s.head,s.head>s.anchor?-1:1),h=(0,_n.Z)(xl.forRange(e,c,u));try{for(h.s();!(l=h.n()).done;){var p=l.value;i.push(p)}}catch(d){h.e(d)}finally{h.f()}}}}catch(d){o.e(d)}finally{o.f()}return i},update:function(e,t){e.transactions.some((function(e){return e.scrollIntoView}))&&(t.style.animationName="cm-blink"==t.style.animationName?"cm-blink2":"cm-blink");var n=Hl(e);return n&&Vl(e.state,t),e.docChanged||e.selectionSet||n},mount:function(e,t){Vl(t.state,e)},class:"cm-cursorLayer"});function Vl(e,t){t.style.animationDuration=e.facet(Wl).cursorBlinkRate+"ms"}var jl=Ul({above:!1,markers:function(e){return e.state.selection.ranges.map((function(t){return t.empty?[]:xl.forRange(e,"cm-selectionBackground",t)})).reduce((function(e,t){return e.concat(t)}))},update:function(e,t){return e.docChanged||e.selectionSet||e.viewportChanged||Hl(e)},class:"cm-selectionLayer"}),Zl={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};Fl&&(Zl[".cm-line"].caretColor="transparent !important");var ql=mr.highest(gl.theme(Zl)),Xl=Lr.define({map:function(e,t){return null==e?null:t.mapPos(e)}}),$l=hr.define({create:function(){return null},update:function(e,t){return null!=e&&(e=t.changes.mapPos(e)),t.effects.reduce((function(e,t){return t.is(Xl)?t.value:e}),e)}}),Yl=ts.fromClass(function(){function e(t){(0,En.Z)(this,e),this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}return(0,bn.Z)(e,[{key:"update",value:function(e){var t,n=e.state.field($l);null==n?null!=this.cursor&&(null===(t=this.cursor)||void 0===t||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(e.startState.field($l)!=n||e.docChanged||e.geometryChanged)&&this.view.requestMeasure(this.measureReq))}},{key:"readPos",value:function(){var e=this.view.state.field($l),t=null!=e&&this.view.coordsAtPos(e);if(!t)return null;var n=this.view.scrollDOM.getBoundingClientRect();return{left:t.left-n.left+this.view.scrollDOM.scrollLeft,top:t.top-n.top+this.view.scrollDOM.scrollTop,height:t.bottom-t.top}}},{key:"drawCursor",value:function(e){this.cursor&&(e?(this.cursor.style.left=e.left+"px",this.cursor.style.top=e.top+"px",this.cursor.style.height=e.height+"px"):this.cursor.style.left="-100000px")}},{key:"destroy",value:function(){this.cursor&&this.cursor.remove()}},{key:"setDropPos",value:function(e){this.view.state.field($l)!=e&&this.view.dispatch({effects:Xl.of(e)})}}]),e}(),{eventHandlers:{dragover:function(e){this.setDropPos(this.view.posAtCoords({x:e.clientX,y:e.clientY}))},dragleave:function(e){e.target!=this.view.contentDOM&&this.view.contentDOM.contains(e.relatedTarget)||this.setDropPos(null)},dragend:function(){this.setDropPos(null)},drop:function(){this.setDropPos(null)}}});function zl(e,t,n,r,i){t.lastIndex=0;for(var o,s=e.iterRange(n,r),a=n;!s.next().done;a+=s.value.length)if(!s.lineBreak)for(;o=t.exec(s.value);)i(a+o.index,o)}var Ql=function(){function e(t){(0,En.Z)(this,e);var n=t.regexp,r=t.decoration,i=t.decorate,o=t.boundary,s=t.maxLength,a=void 0===s?1e3:s;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=function(e,t,n,r){return i(r,n,n+e[0].length,e,t)};else if("function"==typeof r)this.addMatch=function(e,t,n,i){var o=r(e,t,n);o&&i(n,n+e[0].length,o)};else{if(!r)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=function(e,t,n,i){return i(n,n+e[0].length,r)}}this.boundary=o,this.maxLength=a}return(0,bn.Z)(e,[{key:"createDeco",value:function(e){var t,n=this,r=new ei,i=r.add.bind(r),o=(0,_n.Z)(function(e,t){var n=e.visibleRanges;if(1==n.length&&n[0].from==e.viewport.from&&n[0].to==e.viewport.to)return n;var r,i=[],o=(0,_n.Z)(n);try{for(o.s();!(r=o.n()).done;){var s=r.value,a=s.from,l=s.to;a=Math.max(e.state.doc.lineAt(a).from,a-t),l=Math.min(e.state.doc.lineAt(l).to,l+t),i.length&&i[i.length-1].to>=a?i[i.length-1].to=l:i.push({from:a,to:l})}}catch(c){o.e(c)}finally{o.f()}return i}(e,this.maxLength));try{for(o.s();!(t=o.n()).done;){var s=t.value,a=s.from,l=s.to;zl(e.state.doc,this.regexp,a,l,(function(t,r){return n.addMatch(r,e,t,i)}))}}catch(c){o.e(c)}finally{o.f()}return r.finish()}},{key:"updateDeco",value:function(e,t){var n=1e9,r=-1;return e.docChanged&&e.changes.iterChanges((function(t,i,o,s){s>e.view.viewport.from&&o<e.view.viewport.to&&(n=Math.min(o,n),r=Math.max(s,r))})),e.viewportChanged||r-n>1e3?this.createDeco(e.view):r>-1?this.updateRange(e.view,t.map(e.changes),n,r):t}},{key:"updateRange",value:function(e,t,n,r){var i,o=this,s=(0,_n.Z)(e.visibleRanges);try{for(s.s();!(i=s.n()).done;){var a=i.value,l=Math.max(a.from,n),c=Math.min(a.to,r);c>l&&function(){var n=e.state.doc.lineAt(l),r=n.to<c?e.state.doc.lineAt(c):n,i=Math.max(a.from,n.from),s=Math.min(a.to,r.to);if(o.boundary){for(;l>n.from;l--)if(o.boundary.test(n.text[l-1-n.from])){i=l;break}for(;c<r.to;c++)if(o.boundary.test(r.text[c-r.from])){s=c;break}}var u=[],h=void 0,p=function(e,t,n){return u.push(n.range(e,t))};if(n==r)for(o.regexp.lastIndex=i-n.from;(h=o.regexp.exec(n.text))&&h.index<s-n.from;)o.addMatch(h,e,h.index+n.from,p);else zl(e.state.doc,o.regexp,i,s,(function(t,n){return o.addMatch(n,e,t,p)}));t=t.update({filterFrom:i,filterTo:s,filter:function(e,t){return e<i||t>s},add:u})}()}}catch(u){s.e(u)}finally{s.f()}return t}}]),e}(),Kl=null!=/x/.unicode?"gu":"g",Jl=new RegExp("[\0-\b\n-\x1f\x7f-\x9f\xad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]",Kl),ec={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"},tc=null;var nc=or.define({combine:function(e){var t=Xr(e,{render:null,specialChars:Jl,addSpecialChars:null});return(t.replaceTabs=!function(){var e;if(null==tc&&"undefined"!=typeof document&&document.body){var t=document.body.style;tc=null!=(null!==(e=t.tabSize)&&void 0!==e?e:t.MozTabSize)}return tc||!1}())&&(t.specialChars=new RegExp("\t|"+t.specialChars.source,Kl)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,Kl)),t}});var rc=null;function ic(){return rc||(rc=ts.fromClass(function(){function e(t){(0,En.Z)(this,e),this.view=t,this.decorations=Ao.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(nc)),this.decorations=this.decorator.createDeco(t)}return(0,bn.Z)(e,[{key:"makeDecorator",value:function(e){var t=this;return new Ql({regexp:e.specialChars,decoration:function(n,r,i){var o=r.state.doc,s=Gn(n[0],0);if(9==s){var a=o.lineAt(i),l=r.state.tabSize,c=hi(a.text,l,i-a.from);return Ao.replace({widget:new sc((l-c%l)*t.view.defaultCharacterWidth)})}return t.decorationCache[s]||(t.decorationCache[s]=Ao.replace({widget:new oc(e,s)}))},boundary:e.replaceTabs?void 0:/[^]/})}},{key:"update",value:function(e){var t=e.state.facet(nc);e.startState.facet(nc)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(e.view)):this.decorations=this.decorator.updateDeco(e,this.decorations)}}]),e}(),{decorations:function(e){return e.decorations}}))}var oc=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r){var i;return(0,En.Z)(this,n),(i=t.call(this)).options=e,i.code=r,i}return(0,bn.Z)(n,[{key:"eq",value:function(e){return e.code==this.code}},{key:"toDOM",value:function(e){var t=function(e){return e>=32?"\u2022":10==e?"\u2424":String.fromCharCode(9216+e)}(this.code),n=e.state.phrase("Control character")+" "+(ec[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,n,t);if(r)return r;var i=document.createElement("span");return i.textContent=t,i.title=n,i.setAttribute("aria-label",n),i.className="cm-specialChar",i}},{key:"ignoreEvent",value:function(){return!1}}]),n}(Ro),sc=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e){var r;return(0,En.Z)(this,n),(r=t.call(this)).width=e,r}return(0,bn.Z)(n,[{key:"eq",value:function(e){return e.width==this.width}},{key:"toDOM",value:function(){var e=document.createElement("span");return e.textContent="\t",e.className="cm-tab",e.style.width=this.width+"px",e}},{key:"ignoreEvent",value:function(){return!1}}]),n}(Ro);var ac=Ao.line({class:"cm-activeLine"}),lc=ts.fromClass(function(){function e(t){(0,En.Z)(this,e),this.decorations=this.getDeco(t)}return(0,bn.Z)(e,[{key:"update",value:function(e){(e.docChanged||e.selectionSet)&&(this.decorations=this.getDeco(e.view))}},{key:"getDeco",value:function(e){var t,n=-1,r=[],i=(0,_n.Z)(e.state.selection.ranges);try{for(i.s();!(t=i.n()).done;){var o=t.value,s=e.lineBlockAt(o.head);s.from>n&&(r.push(ac.range(s.from)),n=s.from)}}catch(a){i.e(a)}finally{i.f()}return Ao.set(r)}}]),e}(),{decorations:function(e){return e.decorations}}),cc=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e){var r;return(0,En.Z)(this,n),(r=t.call(this)).content=e,r}return(0,bn.Z)(n,[{key:"toDOM",value:function(){var e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild("string"==typeof this.content?document.createTextNode(this.content):this.content),"string"==typeof this.content?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}},{key:"ignoreEvent",value:function(){return!1}}]),n}(Ro);var uc=2e3;function hc(e,t){var n=e.posAtCoords({x:t.clientX,y:t.clientY},!1),r=e.state.doc.lineAt(n),i=n-r.from,o=i>uc?-1:i==r.length?function(e,t){var n=e.coordsAtPos(e.viewport.from);return n?Math.round(Math.abs((n.left-t)/e.defaultCharacterWidth)):-1}(e,t.clientX):hi(r.text,e.state.tabSize,n-r.from);return{line:r.number,col:o,off:i}}function pc(e,t){var n=hc(e,t),r=e.state.selection;return n?{update:function(e){if(e.docChanged){var t=e.changes.mapPos(e.startState.doc.line(n.line).from),i=e.state.doc.lineAt(t);n={line:i.number,col:n.col,off:Math.min(n.off,i.length)},r=r.map(e.changes)}},get:function(t,i,o){var s=hc(e,t);if(!s)return r;var a=function(e,t,n){var r=Math.min(t.line,n.line),i=Math.max(t.line,n.line),o=[];if(t.off>uc||n.off>uc||t.col<0||n.col<0)for(var s=Math.min(t.off,n.off),a=Math.max(t.off,n.off),l=r;l<=i;l++){var c=e.doc.line(l);c.length<=a&&o.push(nr.range(c.from+s,c.to+a))}else for(var u=Math.min(t.col,n.col),h=Math.max(t.col,n.col),p=r;p<=i;p++){var d=e.doc.line(p),f=pi(d.text,u,e.tabSize,!0);if(f<0)o.push(nr.cursor(d.to));else{var _=pi(d.text,h,e.tabSize);o.push(nr.range(d.from+f,d.from+_))}}return o}(e.state,n,s);return a.length?o?nr.create(a.concat(r.ranges)):nr.create(a):r}}:null}var dc={Alt:[18,function(e){return e.altKey}],Control:[17,function(e){return e.ctrlKey}],Shift:[16,function(e){return e.shiftKey}],Meta:[91,function(e){return e.metaKey}]},fc={style:"cursor: crosshair"};var _c="-10000px",gc=function(){function e(t,n,r){(0,En.Z)(this,e),this.facet=n,this.createTooltipView=r,this.input=t.state.facet(n),this.tooltips=this.input.filter((function(e){return e})),this.tooltipViews=this.tooltips.map(r)}return(0,bn.Z)(e,[{key:"update",value:function(e){var t,n=e.state.facet(this.facet),r=n.filter((function(e){return e}));if(n===this.input){var i,o=(0,_n.Z)(this.tooltipViews);try{for(o.s();!(i=o.n()).done;){var s=i.value;s.update&&s.update(e)}}catch(m){o.e(m)}finally{o.f()}return!1}for(var a=[],l=0;l<r.length;l++){var c=r[l],u=-1;if(c){for(var h=0;h<this.tooltips.length;h++){var p=this.tooltips[h];p&&p.create==c.create&&(u=h)}if(u<0)a[l]=this.createTooltipView(c);else{var d=a[l]=this.tooltipViews[u];d.update&&d.update(e)}}}var f,_=(0,_n.Z)(this.tooltipViews);try{for(_.s();!(f=_.n()).done;){var g=f.value;a.indexOf(g)<0&&(g.dom.remove(),null===(t=g.destroy)||void 0===t||t.call(g))}}catch(m){_.e(m)}finally{_.f()}return this.input=n,this.tooltips=r,this.tooltipViews=a,!0}}]),e}();function mc(e){var t=e.win;return{top:0,left:0,bottom:t.innerHeight,right:t.innerWidth}}var vc=or.define({combine:function(e){var t,n,r;return{position:po.ios?"absolute":(null===(t=e.find((function(e){return e.position})))||void 0===t?void 0:t.position)||"fixed",parent:(null===(n=e.find((function(e){return e.parent})))||void 0===n?void 0:n.parent)||null,tooltipSpace:(null===(r=e.find((function(e){return e.tooltipSpace})))||void 0===r?void 0:r.tooltipSpace)||mc}}}),yc=ts.fromClass(function(){function e(t){var n=this;(0,En.Z)(this,e),this.view=t,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;var r=t.state.facet(vc);this.position=r.position,this.parent=r.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new gc(t,bc,(function(e){return n.createTooltip(e)})),this.intersectionObserver="function"==typeof IntersectionObserver?new IntersectionObserver((function(e){Date.now()>n.lastTransaction-50&&e.length>0&&e[e.length-1].intersectionRatio<1&&n.measureSoon()}),{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}return(0,bn.Z)(e,[{key:"createContainer",value:function(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}},{key:"observeIntersection",value:function(){if(this.intersectionObserver){this.intersectionObserver.disconnect();var e,t=(0,_n.Z)(this.manager.tooltipViews);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.intersectionObserver.observe(n.dom)}}catch(r){t.e(r)}finally{t.f()}}}},{key:"measureSoon",value:function(){var e=this;this.measureTimeout<0&&(this.measureTimeout=setTimeout((function(){e.measureTimeout=-1,e.maybeMeasure()}),50))}},{key:"update",value:function(e){e.transactions.length&&(this.lastTransaction=Date.now());var t=this.manager.update(e);t&&this.observeIntersection();var n=t||e.geometryChanged,r=e.state.facet(vc);if(r.position!=this.position){this.position=r.position;var i,o=(0,_n.Z)(this.manager.tooltipViews);try{for(o.s();!(i=o.n()).done;){i.value.dom.style.position=this.position}}catch(c){o.e(c)}finally{o.f()}n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();var s,a=(0,_n.Z)(this.manager.tooltipViews);try{for(a.s();!(s=a.n()).done;){var l=s.value;this.container.appendChild(l.dom)}}catch(c){a.e(c)}finally{a.f()}n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}},{key:"createTooltip",value:function(e){var t=e.create(this.view);if(t.dom.classList.add("cm-tooltip"),e.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){var n=document.createElement("div");n.className="cm-tooltip-arrow",t.dom.appendChild(n)}return t.dom.style.position=this.position,t.dom.style.top=_c,this.container.appendChild(t.dom),t.mount&&t.mount(this.view),t}},{key:"destroy",value:function(){var e,t;this.view.win.removeEventListener("resize",this.measureSoon);var n,r=(0,_n.Z)(this.manager.tooltipViews);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.dom.remove(),null===(e=i.destroy)||void 0===e||e.call(i)}}catch(o){r.e(o)}finally{r.f()}null===(t=this.intersectionObserver)||void 0===t||t.disconnect(),clearTimeout(this.measureTimeout)}},{key:"readMeasure",value:function(){var e=this,t=this.view.dom.getBoundingClientRect();return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map((function(t,n){var r=e.manager.tooltipViews[n];return r.getCoords?r.getCoords(t.pos):e.view.coordsAtPos(t.pos)})),size:this.manager.tooltipViews.map((function(e){return e.dom.getBoundingClientRect()})),space:this.view.state.facet(vc).tooltipSpace(this.view)}}},{key:"writeMeasure",value:function(e){for(var t=e.editor,n=e.space,r=[],i=0;i<this.manager.tooltips.length;i++){var o=this.manager.tooltips[i],s=this.manager.tooltipViews[i],a=s.dom,l=e.pos[i],c=e.size[i];if(!l||l.bottom<=Math.max(t.top,n.top)||l.top>=Math.min(t.bottom,n.bottom)||l.right<Math.max(t.left,n.left)-.1||l.left>Math.min(t.right,n.right)+.1)a.style.top=_c;else{var u=o.arrow?s.dom.querySelector(".cm-tooltip-arrow"):null,h=u?7:0,p=c.right-c.left,d=c.bottom-c.top,f=s.offset||Ec,_=this.view.textDirection==hs.LTR,g=c.width>n.right-n.left?_?n.left:n.right-c.width:_?Math.min(l.left-(u?14:0)+f.x,n.right-p):Math.max(n.left,l.left-p+(u?14:0)-f.x),m=!!o.above;!o.strictSide&&(m?l.top-(c.bottom-c.top)-f.y<n.top:l.bottom+(c.bottom-c.top)+f.y>n.bottom)&&m==n.bottom-l.bottom>l.top-n.top&&(m=!m);var v=(m?l.top-n.top:n.bottom-l.bottom)-h;if(v<d&&!1!==s.resize){if(v<this.view.defaultLineHeight){a.style.top=_c;continue}a.style.height=(d=v)+"px"}else a.style.height&&(a.style.height="");var y=m?l.top-d-h-f.y:l.bottom+h+f.y,T=g+p;if(!0!==s.overlap){var E,b=(0,_n.Z)(r);try{for(b.s();!(E=b.n()).done;){var O=E.value;O.left<T&&O.right>g&&O.top<y+d&&O.bottom>y&&(y=m?O.top-d-2-h:O.bottom+h+2)}}catch(k){b.e(k)}finally{b.f()}}"absolute"==this.position?(a.style.top=y-e.parent.top+"px",a.style.left=g-e.parent.left+"px"):(a.style.top=y+"px",a.style.left=g+"px"),u&&(u.style.left="".concat(l.left+(_?f.x:-f.x)-(g+14-7),"px")),!0!==s.overlap&&r.push({left:g,top:y,right:T,bottom:y+d}),a.classList.toggle("cm-tooltip-above",m),a.classList.toggle("cm-tooltip-below",!m),s.positioned&&s.positioned(e.space)}}}},{key:"maybeMeasure",value:function(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView))){var e,t=(0,_n.Z)(this.manager.tooltipViews);try{for(t.s();!(e=t.n()).done;){e.value.dom.style.top=_c}}catch(n){t.e(n)}finally{t.f()}}}}]),e}(),{eventHandlers:{scroll:function(){this.maybeMeasure()}}}),Tc=gl.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"".concat(7,"px"),width:"".concat(14,"px"),position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"".concat(7,"px solid transparent"),borderRight:"".concat(7,"px solid transparent")},".cm-tooltip-above &":{bottom:"-".concat(7,"px"),"&:before":{borderTop:"".concat(7,"px solid #bbb")},"&:after":{borderTop:"".concat(7,"px solid #f5f5f5"),bottom:"1px"}},".cm-tooltip-below &":{top:"-".concat(7,"px"),"&:before":{borderBottom:"".concat(7,"px solid #bbb")},"&:after":{borderBottom:"".concat(7,"px solid #f5f5f5"),top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),Ec={x:0,y:0},bc=or.define({enables:[yc,Tc]}),Oc=or.define(),kc=function(){function e(t){var n=this;(0,En.Z)(this,e),this.view=t,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new gc(t,Oc,(function(e){return n.createHostedView(e)}))}return(0,bn.Z)(e,[{key:"createHostedView",value:function(e){var t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}},{key:"mount",value:function(e){var t,n=(0,_n.Z)(this.manager.tooltipViews);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.mount&&r.mount(e)}}catch(i){n.e(i)}finally{n.f()}this.mounted=!0}},{key:"positioned",value:function(e){var t,n=(0,_n.Z)(this.manager.tooltipViews);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.positioned&&r.positioned(e)}}catch(i){n.e(i)}finally{n.f()}}},{key:"update",value:function(e){this.manager.update(e)}}],[{key:"create",value:function(t){return new e(t)}}]),e}(),wc=bc.compute([Oc],(function(e){var t=e.facet(Oc).filter((function(e){return e}));return 0===t.length?null:{pos:Math.min.apply(Math,(0,fi.Z)(t.map((function(e){return e.pos})))),end:Math.max.apply(Math,(0,fi.Z)(t.filter((function(e){return null!=e.end})).map((function(e){return e.end})))),create:kc.create,above:t[0].above,arrow:t.some((function(e){return e.arrow}))}})),Sc=function(){function e(t,n,r,i,o){(0,En.Z)(this,e),this.view=t,this.source=n,this.field=r,this.setHover=i,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:t.dom,time:0},this.checkHover=this.checkHover.bind(this),t.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),t.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}return(0,bn.Z)(e,[{key:"update",value:function(){var e=this;this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout((function(){return e.startHover()}),20))}},{key:"active",get:function(){return this.view.state.field(this.field)}},{key:"checkHover",value:function(){if(this.hoverTimeout=-1,!this.active){var e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}}},{key:"startHover",value:function(){var e=this;clearTimeout(this.restartTimeout);var t=this.lastMove,n=this.view.contentDOM.contains(t.target)?this.view.posAtCoords(t):null;if(null!=n){var r=this.view.coordsAtPos(n);if(!(null==r||t.y<r.top||t.y>r.bottom||t.x<r.left-this.view.defaultCharacterWidth||t.x>r.right+this.view.defaultCharacterWidth)){var i=this.view.bidiSpans(this.view.state.doc.lineAt(n)).find((function(e){return e.from<=n&&e.to>=n})),o=i&&i.dir==hs.RTL?-1:1,s=this.source(this.view,n,t.x<r.left?-o:o);if(null===s||void 0===s?void 0:s.then){var a=this.pending={pos:n};s.then((function(t){e.pending==a&&(e.pending=null,t&&e.view.dispatch({effects:e.setHover.of(t)}))}),(function(t){return Qo(e.view.state,t,"hover tooltip")}))}else s&&this.view.dispatch({effects:this.setHover.of(s)})}}}},{key:"mousemove",value:function(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));var n=this.active;if(n&&!Ic(this.lastMove.target)||this.pending){var r=(n||this.pending).pos,i=null!==(t=null===n||void 0===n?void 0:n.end)&&void 0!==t?t:r;(r==i?this.view.posAtCoords(this.lastMove)==r:function(e,t,n,r,i,o){var s=document.createRange(),a=e.domAtPos(t),l=e.domAtPos(n);s.setEnd(l.node,l.offset),s.setStart(a.node,a.offset);var c=s.getClientRects();s.detach();for(var u=0;u<c.length;u++){var h=c[u];if(Math.max(h.top-i,i-h.bottom,h.left-r,r-h.right)<=o)return!0}return!1}(this.view,r,i,e.clientX,e.clientY,6))||(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}},{key:"mouseleave",value:function(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&!Ic(e.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})}},{key:"destroy",value:function(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}]),e}();function Ic(e){for(var t=e;t;t=t.parentNode)if(1==t.nodeType&&t.classList.contains("cm-tooltip"))return!0;return!1}function Rc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Lr.define(),r=hr.define({create:function(){return null},update:function(e,r){if(e&&(t.hideOnChange&&(r.docChanged||r.selection)||t.hideOn&&t.hideOn(r,e)))return null;if(e&&r.docChanged){var i=r.changes.mapPos(e.pos,-1,qn.TrackDel);if(null==i)return null;var o=Object.assign(Object.create(null),e);o.pos=i,null!=e.end&&(o.end=r.changes.mapPos(e.end)),e=o}var s,a=(0,_n.Z)(r.effects);try{for(a.s();!(s=a.n()).done;){var l=s.value;l.is(n)&&(e=l.value),l.is(Ac)&&(e=null)}}catch(c){a.e(c)}finally{a.f()}return e},provide:function(e){return Oc.from(e)}});return[r,ts.define((function(i){return new Sc(i,e,r,n,t.hoverTime||300)})),wc]}function Cc(e,t){var n=e.plugin(yc);if(!n)return null;var r=n.manager.tooltips.indexOf(t);return r<0?null:n.manager.tooltipViews[r]}var Ac=Lr.define();var xc=or.define({combine:function(e){var t,n,r,i=(0,_n.Z)(e);try{for(i.s();!(r=i.n()).done;){var o=r.value;t=t||o.topContainer,n=n||o.bottomContainer}}catch(s){i.e(s)}finally{i.f()}return{topContainer:t,bottomContainer:n}}});function Mc(e,t){var n=e.plugin(Nc),r=n?n.specs.indexOf(t):-1;return r>-1?n.panels[r]:null}var Nc=ts.fromClass(function(){function e(t){(0,En.Z)(this,e),this.input=t.state.facet(Pc),this.specs=this.input.filter((function(e){return e})),this.panels=this.specs.map((function(e){return e(t)}));var n=t.state.facet(xc);this.top=new Lc(t,!0,n.topContainer),this.bottom=new Lc(t,!1,n.bottomContainer),this.top.sync(this.panels.filter((function(e){return e.top}))),this.bottom.sync(this.panels.filter((function(e){return!e.top})));var r,i=(0,_n.Z)(this.panels);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.dom.classList.add("cm-panel"),o.mount&&o.mount()}}catch(s){i.e(s)}finally{i.f()}}return(0,bn.Z)(e,[{key:"update",value:function(e){var t=e.state.facet(xc);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new Lc(e.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new Lc(e.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();var n=e.state.facet(Pc);if(n!=this.input){var r,i=n.filter((function(e){return e})),o=[],s=[],a=[],l=[],c=(0,_n.Z)(i);try{for(c.s();!(r=c.n()).done;){var u=r.value,h=this.specs.indexOf(u),p=void 0;h<0?(p=u(e.view),l.push(p)):(p=this.panels[h]).update&&p.update(e),o.push(p),(p.top?s:a).push(p)}}catch(y){c.e(y)}finally{c.f()}this.specs=i,this.panels=o,this.top.sync(s),this.bottom.sync(a);for(var d=0,f=l;d<f.length;d++){var _=f[d];_.dom.classList.add("cm-panel"),_.mount&&_.mount()}}else{var g,m=(0,_n.Z)(this.panels);try{for(m.s();!(g=m.n()).done;){var v=g.value;v.update&&v.update(e)}}catch(y){m.e(y)}finally{m.f()}}}},{key:"destroy",value:function(){this.top.sync([]),this.bottom.sync([])}}]),e}(),{provide:function(e){return gl.scrollMargins.of((function(t){var n=t.plugin(e);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}}))}}),Lc=function(){function e(t,n,r){(0,En.Z)(this,e),this.view=t,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}return(0,bn.Z)(e,[{key:"sync",value:function(e){var t,n=(0,_n.Z)(this.panels);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.destroy&&e.indexOf(r)<0&&r.destroy()}}catch(i){n.e(i)}finally{n.f()}this.panels=e,this.syncDOM()}},{key:"syncDOM",value:function(){if(0!=this.panels.length){if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";var e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}var t,n=this.dom.firstChild,r=(0,_n.Z)(this.panels);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i.dom.parentNode==this.dom){for(;n!=i.dom;)n=Dc(n);n=n.nextSibling}else this.dom.insertBefore(i.dom,n)}}catch(o){r.e(o)}finally{r.f()}for(;n;)n=Dc(n)}else this.dom&&(this.dom.remove(),this.dom=void 0)}},{key:"scrollMargin",value:function(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}},{key:"syncClasses",value:function(){if(this.container&&this.classes!=this.view.themeClasses){var e,t=(0,_n.Z)(this.classes.split(" "));try{for(t.s();!(e=t.n()).done;){var n=e.value;n&&this.container.classList.remove(n)}}catch(s){t.e(s)}finally{t.f()}var r,i=(0,_n.Z)((this.classes=this.view.themeClasses).split(" "));try{for(i.s();!(r=i.n()).done;){var o=r.value;o&&this.container.classList.add(o)}}catch(s){i.e(s)}finally{i.f()}}}}]),e}();function Dc(e){var t=e.nextSibling;return e.remove(),t}var Pc=or.define({enables:Nc}),Bc=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(){return(0,En.Z)(this,n),t.apply(this,arguments)}return(0,bn.Z)(n,[{key:"compare",value:function(e){return this==e||this.constructor==e.constructor&&this.eq(e)}},{key:"eq",value:function(e){return!1}},{key:"destroy",value:function(e){}}]),n}($r);Bc.prototype.elementClass="",Bc.prototype.toDOM=void 0,Bc.prototype.mapMode=qn.TrackBefore,Bc.prototype.startSide=Bc.prototype.endSide=-1,Bc.prototype.point=!0;var Uc=or.define(),Fc={class:"",renderEmptyElements:!1,elementStyle:"",markers:function(){return Kr.empty},lineMarker:function(){return null},lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Wc=or.define();function Hc(e){return[Vc(),Wc.of(Object.assign(Object.assign({},Fc),e))]}var Gc=or.define({combine:function(e){return e.some((function(e){return e}))}});function Vc(e){var t=[jc];return e&&!1===e.fixed&&t.push(Gc.of(!0)),t}var jc=ts.fromClass(function(){function e(t){(0,En.Z)(this,e),this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=t.state.facet(Wc).map((function(e){return new $c(t,e)}));var n,r=(0,_n.Z)(this.gutters);try{for(r.s();!(n=r.n()).done;){var i=n.value;this.dom.appendChild(i.dom)}}catch(o){r.e(o)}finally{r.f()}this.fixed=!t.state.facet(Gc),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}return(0,bn.Z)(e,[{key:"update",value:function(e){if(this.updateGutters(e)){var t=this.prevViewport,n=e.view.viewport,r=Math.min(t.to,n.to)-Math.max(t.from,n.from);this.syncGutters(r<.8*(n.to-n.from))}e.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(Gc)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=e.view.viewport}},{key:"syncGutters",value:function(e){var t=this,n=this.dom.nextSibling;e&&this.dom.remove();var r,i=Kr.iter(this.view.state.facet(Uc),this.view.viewport.from),o=[],s=this.gutters.map((function(e){return new Xc(e,t.view.viewport,-t.view.documentPadding.top)})),a=(0,_n.Z)(this.view.viewportLineBlocks);try{for(a.s();!(r=a.n()).done;){var l=r.value,c=void 0;if(Array.isArray(l.type)){var u,h=(0,_n.Z)(l.type);try{for(h.s();!(u=h.n()).done;){var p=u.value;if(p.type==Co.Text){c=p;break}}}catch(m){h.e(m)}finally{h.f()}}else c=l.type==Co.Text?l:void 0;if(c){o.length&&(o=[]),qc(i,o,l.from);var d,f=(0,_n.Z)(s);try{for(f.s();!(d=f.n()).done;){d.value.line(this.view,c,o)}}catch(m){f.e(m)}finally{f.f()}}}}catch(m){a.e(m)}finally{a.f()}var _,g=(0,_n.Z)(s);try{for(g.s();!(_=g.n()).done;){_.value.finish()}}catch(m){g.e(m)}finally{g.f()}e&&this.view.scrollDOM.insertBefore(this.dom,n)}},{key:"updateGutters",value:function(e){var t=e.startState.facet(Wc),n=e.state.facet(Wc),r=e.docChanged||e.heightChanged||e.viewportChanged||!Kr.eq(e.startState.facet(Uc),e.state.facet(Uc),e.view.viewport.from,e.view.viewport.to);if(t==n){var i,o=(0,_n.Z)(this.gutters);try{for(o.s();!(i=o.n()).done;){i.value.update(e)&&(r=!0)}}catch(m){o.e(m)}finally{o.f()}}else{r=!0;var s,a=[],l=(0,_n.Z)(n);try{for(l.s();!(s=l.n()).done;){var c=s.value,u=t.indexOf(c);u<0?a.push(new $c(this.view,c)):(this.gutters[u].update(e),a.push(this.gutters[u]))}}catch(m){l.e(m)}finally{l.f()}var h,p=(0,_n.Z)(this.gutters);try{for(p.s();!(h=p.n()).done;){var d=h.value;d.dom.remove(),a.indexOf(d)<0&&d.destroy()}}catch(m){p.e(m)}finally{p.f()}for(var f=0,_=a;f<_.length;f++){var g=_[f];this.dom.appendChild(g.dom)}this.gutters=a}return r}},{key:"destroy",value:function(){var e,t=(0,_n.Z)(this.gutters);try{for(t.s();!(e=t.n()).done;){e.value.destroy()}}catch(n){t.e(n)}finally{t.f()}this.dom.remove()}}]),e}(),{provide:function(e){return gl.scrollMargins.of((function(t){var n=t.plugin(e);return n&&0!=n.gutters.length&&n.fixed?t.textDirection==hs.LTR?{left:n.dom.offsetWidth}:{right:n.dom.offsetWidth}:null}))}});function Zc(e){return Array.isArray(e)?e:[e]}function qc(e,t,n){for(;e.value&&e.from<=n;)e.from==n&&t.push(e.value),e.next()}var Xc=function(){function e(t,n,r){(0,En.Z)(this,e),this.gutter=t,this.height=r,this.localMarkers=[],this.i=0,this.cursor=Kr.iter(t.markers,n.from)}return(0,bn.Z)(e,[{key:"line",value:function(e,t,n){this.localMarkers.length&&(this.localMarkers=[]),qc(this.cursor,this.localMarkers,t.from);var r=n.length?this.localMarkers.concat(n):this.localMarkers,i=this.gutter.config.lineMarker(e,t,r);i&&r.unshift(i);var o=this.gutter;if(0!=r.length||o.config.renderEmptyElements){var s=t.top-this.height;if(this.i==o.elements.length){var a=new Yc(e,t.height,s,r);o.elements.push(a),o.dom.appendChild(a.dom)}else o.elements[this.i].update(e,t.height,s,r);this.height=t.bottom,this.i++}}},{key:"finish",value:function(){for(var e=this.gutter;e.elements.length>this.i;){var t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}]),e}(),$c=function(){function e(t,n){var r=this;(0,En.Z)(this,e),this.view=t,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");var i=function(e){r.dom.addEventListener(e,(function(r){var i=t.lineBlockAtHeight(r.clientY-t.documentTop);n.domEventHandlers[e](t,i,r)&&r.preventDefault()}))};for(var o in n.domEventHandlers)i(o);this.markers=Zc(n.markers(t)),n.initialSpacer&&(this.spacer=new Yc(t,0,0,[n.initialSpacer(t)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}return(0,bn.Z)(e,[{key:"update",value:function(e){var t=this.markers;if(this.markers=Zc(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){var n=this.config.updateSpacer(this.spacer.markers[0],e);n!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[n])}var r=e.view.viewport;return!Kr.eq(this.markers,t,r.from,r.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(e)}},{key:"destroy",value:function(){var e,t=(0,_n.Z)(this.elements);try{for(t.s();!(e=t.n()).done;){e.value.destroy()}}catch(n){t.e(n)}finally{t.f()}}}]),e}(),Yc=function(){function e(t,n,r,i){(0,En.Z)(this,e),this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(t,n,r,i)}return(0,bn.Z)(e,[{key:"update",value:function(e,t,n,r){this.height!=t&&(this.dom.style.height=(this.height=t)+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),function(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].compare(t[n]))return!1;return!0}(this.markers,r)||this.setMarkers(e,r)}},{key:"setMarkers",value:function(e,t){for(var n="cm-gutterElement",r=this.dom.firstChild,i=0,o=0;;){var s=o,a=i<t.length?t[i++]:null,l=!1;if(a){var c=a.elementClass;c&&(n+=" "+c);for(var u=o;u<this.markers.length;u++)if(this.markers[u].compare(a)){s=u,l=!0;break}}else s=this.markers.length;for(;o<s;){var h=this.markers[o++];if(h.toDOM){h.destroy(r);var p=r.nextSibling;r.remove(),r=p}}if(!a)break;a.toDOM&&(l?r=r.nextSibling:this.dom.insertBefore(a.toDOM(e),r)),l&&o++}this.dom.className=n,this.markers=t}},{key:"destroy",value:function(){this.setMarkers(null,[])}}]),e}();var zc=or.define(),Qc=or.define({combine:function(e){return Xr(e,{formatNumber:String,domEventHandlers:{}},{domEventHandlers:function(e,t){var n=Object.assign({},e),r=function(e){var r=n[e],i=t[e];n[e]=r?function(e,t,n){return r(e,t,n)||i(e,t,n)}:i};for(var i in t)r(i);return n}})}}),Kc=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e){var r;return(0,En.Z)(this,n),(r=t.call(this)).number=e,r}return(0,bn.Z)(n,[{key:"eq",value:function(e){return this.number==e.number}},{key:"toDOM",value:function(){return document.createTextNode(this.number)}}]),n}(Bc);function Jc(e,t){return e.state.facet(Qc).formatNumber(t,e.state)}var eu=Wc.compute([Qc],(function(e){return{class:"cm-lineNumbers",renderEmptyElements:!1,markers:function(e){return e.state.facet(zc)},lineMarker:function(e,t,n){return n.some((function(e){return e.toDOM}))?null:new Kc(Jc(e,e.state.doc.lineAt(t.from).number))},lineMarkerChange:function(e){return e.startState.facet(Qc)!=e.state.facet(Qc)},initialSpacer:function(e){return new Kc(Jc(e,tu(e.state.doc.lines)))},updateSpacer:function(e,t){var n=Jc(t.view,tu(t.view.state.doc.lines));return n==e.number?e:new Kc(n)},domEventHandlers:e.facet(Qc).domEventHandlers}}));function tu(e){for(var t=9;t<e;)t=10*t+9;return t}var nu=new(function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(){var e;return(0,En.Z)(this,n),(e=t.apply(this,arguments)).elementClass="cm-activeLineGutter",e}return(0,bn.Z)(n)}(Bc)),ru=Uc.compute(["selection"],(function(e){var t,n=[],r=-1,i=(0,_n.Z)(e.selection.ranges);try{for(i.s();!(t=i.n()).done;){var o=t.value,s=e.doc.lineAt(o.head).from;s>r&&(r=s,n.push(nu.range(s)))}}catch(a){i.e(a)}finally{i.f()}return Kr.of(n)}));var iu=__webpack_require__(4942),ou=1024,su=0,au=(0,bn.Z)((function e(t,n){(0,En.Z)(this,e),this.from=t,this.to=n})),lu=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,En.Z)(this,e),this.id=su++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||function(){throw new Error("This node type doesn't define a deserialize function")}}return(0,bn.Z)(e,[{key:"add",value:function(e){var t=this;if(this.perNode)throw new RangeError("Can't add per-node props to node types");return"function"!=typeof e&&(e=uu.match(e)),function(n){var r=e(n);return void 0===r?null:[t,r]}}}]),e}();lu.closedBy=new lu({deserialize:function(e){return e.split(" ")}}),lu.openedBy=new lu({deserialize:function(e){return e.split(" ")}}),lu.group=new lu({deserialize:function(e){return e.split(" ")}}),lu.contextHash=new lu({perNode:!0}),lu.lookAhead=new lu({perNode:!0}),lu.mounted=new lu({perNode:!0});var cu=Object.create(null),uu=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;(0,En.Z)(this,e),this.name=t,this.props=n,this.id=r,this.flags=i}return(0,bn.Z)(e,[{key:"prop",value:function(e){return this.props[e.id]}},{key:"isTop",get:function(){return(1&this.flags)>0}},{key:"isSkipped",get:function(){return(2&this.flags)>0}},{key:"isError",get:function(){return(4&this.flags)>0}},{key:"isAnonymous",get:function(){return(8&this.flags)>0}},{key:"is",value:function(e){if("string"==typeof e){if(this.name==e)return!0;var t=this.prop(lu.group);return!!t&&t.indexOf(e)>-1}return this.id==e}}],[{key:"define",value:function(t){var n=t.props&&t.props.length?Object.create(null):cu,r=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(null==t.name?8:0),i=new e(t.name||"",n,t.id,r);if(t.props){var o,s=(0,_n.Z)(t.props);try{for(s.s();!(o=s.n()).done;){var a=o.value;if(Array.isArray(a)||(a=a(i)),a){if(a[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[a[0].id]=a[1]}}}catch(l){s.e(l)}finally{s.f()}}return i}},{key:"match",value:function(e){var t=Object.create(null);for(var n in e){var r,i=(0,_n.Z)(n.split(" "));try{for(i.s();!(r=i.n()).done;){var o=r.value;t[o]=e[n]}}catch(s){i.e(s)}finally{i.f()}}return function(e){for(var n=e.prop(lu.group),r=-1;r<(n?n.length:0);r++){var i=t[r<0?e.name:n[r]];if(i)return i}}}}]),e}();uu.none=new uu("",Object.create(null),0,8);var hu,pu=function(){function e(t){(0,En.Z)(this,e),this.types=t;for(var n=0;n<t.length;n++)if(t[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}return(0,bn.Z)(e,[{key:"extend",value:function(){for(var t=[],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o,s=(0,_n.Z)(this.types);try{for(s.s();!(o=s.n()).done;){var a,l=o.value,c=null,u=(0,_n.Z)(r);try{for(u.s();!(a=u.n()).done;){var h=a.value,p=h(l);p&&(c||(c=Object.assign({},l.props)),c[p[0].id]=p[1])}}catch(d){u.e(d)}finally{u.f()}t.push(c?new uu(l.name,c,l.id,l.flags):l)}}catch(d){s.e(d)}finally{s.f()}return new e(t)}}]),e}(),du=new WeakMap,fu=new WeakMap;!function(e){e[e.ExcludeBuffers=1]="ExcludeBuffers",e[e.IncludeAnonymous=2]="IncludeAnonymous",e[e.IgnoreMounts=4]="IgnoreMounts",e[e.IgnoreOverlays=8]="IgnoreOverlays"}(hu||(hu={}));var _u=function(){function e(t,n,r,i,s){if((0,En.Z)(this,e),this.type=t,this.children=n,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);var a,l=(0,_n.Z)(s);try{for(l.s();!(a=l.n()).done;){var c=o(a.value,2),u=c[0],h=c[1];this.props["number"==typeof u?u:u.id]=h}}catch(p){l.e(p)}finally{l.f()}}}return(0,bn.Z)(e,[{key:"toString",value:function(){var e=this.prop(lu.mounted);if(e&&!e.overlay)return e.tree.toString();var t,n="",r=(0,_n.Z)(this.children);try{for(r.s();!(t=r.n()).done;){var i=t.value.toString();i&&(n&&(n+=","),n+=i)}}catch(o){r.e(o)}finally{r.f()}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}},{key:"cursor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Su(this.topNode,e)}},{key:"cursorAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=du.get(this)||this.topNode,r=new Su(n);return r.moveTo(e,t),du.set(this,r._tree),r}},{key:"topNode",get:function(){return new Eu(this,0,0,null)}},{key:"resolve",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Tu(du.get(this)||this.topNode,e,t,!1);return du.set(this,n),n}},{key:"resolveInner",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Tu(fu.get(this)||this.topNode,e,t,!0);return fu.set(this,n),n}},{key:"iterate",value:function(e){for(var t=e.enter,n=e.leave,r=e.from,i=void 0===r?0:r,o=e.to,s=void 0===o?this.length:o,a=this.cursor((e.mode||0)|hu.IncludeAnonymous);;){var l=!1;if(a.from<=s&&a.to>=i&&(a.type.isAnonymous||!1!==t(a))){if(a.firstChild())continue;l=!0}for(;l&&n&&!a.type.isAnonymous&&n(a),!a.nextSibling();){if(!a.parent())return;l=!0}}}},{key:"prop",value:function(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}},{key:"propValues",get:function(){var e=[];if(this.props)for(var t in this.props)e.push([+t,this.props[t]]);return e}},{key:"balance",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.children.length<=8?this:Au(uu.none,this.children,this.positions,0,this.children.length,0,this.length,(function(n,r,i){return new e(t.type,n,r,i,t.propValues)}),n.makeTree||function(t,n,r){return new e(uu.none,t,n,r)})}}],[{key:"build",value:function(e){return function(e){var t,n=e.buffer,r=e.nodeSet,i=e.maxBufferLength,o=void 0===i?ou:i,s=e.reused,a=void 0===s?[]:s,l=e.minRepeatType,c=void 0===l?r.types.length:l,u=Array.isArray(n)?new gu(n,n.length):n,h=r.types,p=0,d=0;function f(e,t,n,i,s){for(var l=u.id,T=u.start,E=u.end,b=u.size,O=d;b<0;){if(u.next(),-1==b){var k=a[l];return n.push(k),void i.push(T-e)}if(-3==b)return void(p=l);if(-4==b)return void(d=l);throw new RangeError("Unrecognized record size: ".concat(b))}var w,S,I=h[l],R=T-e;if(E-T<=o&&(S=v(u.pos-t,s))){for(var C=new Uint16Array(S.size-S.skip),A=u.pos-S.size,x=C.length;u.pos>A;)x=y(S.start,C,x);w=new mu(C,E-S.start,r),R=S.start-e}else{var M=u.pos-b;u.next();for(var N=[],L=[],D=l>=c?l:-1,P=0,B=E;u.pos>M;)D>=0&&u.id==D&&u.size>=0?(u.end<=B-o&&(g(N,L,T,P,u.end,B,D,O),P=N.length,B=u.end),u.next()):f(T,M,N,L,D);if(D>=0&&P>0&&P<N.length&&g(N,L,T,P,T,B,D,O),N.reverse(),L.reverse(),D>-1&&P>0){var U=_(I);w=Au(I,N,L,0,N.length,0,E-T,U,U)}else w=m(I,N,L,E-T,O-E)}n.push(w),i.push(R)}function _(e){return function(t,n,r){var i,o,s=0,a=t.length-1;if(a>=0&&(i=t[a])instanceof _u){if(!a&&i.type==e&&i.length==r)return i;(o=i.prop(lu.lookAhead))&&(s=n[a]+i.length+o)}return m(e,t,n,r,s)}}function g(e,t,n,i,o,s,a,l){for(var c=[],u=[];e.length>i;)c.push(e.pop()),u.push(t.pop()+n-o);e.push(m(r.types[a],c,u,s-o,l-s)),t.push(o-n)}function m(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0;if(p){var s=[lu.contextHash,p];o=o?[s].concat(o):[s]}if(i>25){var a=[lu.lookAhead,i];o=o?[a].concat(o):[a]}return new _u(e,t,n,r,o)}function v(e,t){var n=u.fork(),r=0,i=0,s=0,a=n.end-o,l={size:0,start:0,skip:0};e:for(var h=n.pos-e;n.pos>h;){var p=n.size;if(n.id==t&&p>=0)l.size=r,l.start=i,l.skip=s,s+=4,r+=4,n.next();else{var d=n.pos-p;if(p<0||d<h||n.start<a)break;var f=n.id>=c?4:0,_=n.start;for(n.next();n.pos>d;){if(n.size<0){if(-3!=n.size)break e;f+=4}else n.id>=c&&(f+=4);n.next()}i=_,r+=p,s+=f}}return(t<0||r==e)&&(l.size=r,l.start=i,l.skip=s),l.size>4?l:void 0}function y(e,t,n){var r=u.id,i=u.start,o=u.end,s=u.size;if(u.next(),s>=0&&r<c){var a=n;if(s>4)for(var l=u.pos-(s-4);u.pos>l;)n=y(e,t,n);t[--n]=a,t[--n]=o-e,t[--n]=i-e,t[--n]=r}else-3==s?p=r:-4==s&&(d=r);return n}var T=[],E=[];for(;u.pos>0;)f(e.start||0,e.bufferStart||0,T,E,-1);var b=null!==(t=e.length)&&void 0!==t?t:T.length?E[0]+T[0].length:0;return new _u(h[e.topID],T.reverse(),E.reverse(),b)}(e)}}]),e}();_u.empty=new _u(uu.none,[],[],0);var gu=function(){function e(t,n){(0,En.Z)(this,e),this.buffer=t,this.index=n}return(0,bn.Z)(e,[{key:"id",get:function(){return this.buffer[this.index-4]}},{key:"start",get:function(){return this.buffer[this.index-3]}},{key:"end",get:function(){return this.buffer[this.index-2]}},{key:"size",get:function(){return this.buffer[this.index-1]}},{key:"pos",get:function(){return this.index}},{key:"next",value:function(){this.index-=4}},{key:"fork",value:function(){return new e(this.buffer,this.index)}}]),e}(),mu=function(){function e(t,n,r){(0,En.Z)(this,e),this.buffer=t,this.length=n,this.set=r}return(0,bn.Z)(e,[{key:"type",get:function(){return uu.none}},{key:"toString",value:function(){for(var e=[],t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}},{key:"childString",value:function(e){var t=this.buffer[e],n=this.buffer[e+3],r=this.set.types[t],i=r.name;if(/\W/.test(i)&&!r.isError&&(i=JSON.stringify(i)),n==(e+=4))return i;for(var o=[];e<n;)o.push(this.childString(e)),e=this.buffer[e+3];return i+"("+o.join(",")+")"}},{key:"findChild",value:function(e,t,n,r,i){for(var o=this.buffer,s=-1,a=e;a!=t&&!(vu(i,r,o[a+1],o[a+2])&&(s=a,n>0));a=o[a+3]);return s}},{key:"slice",value:function(t,n,r){for(var i=this.buffer,o=new Uint16Array(n-t),s=0,a=t,l=0;a<n;){o[l++]=i[a++],o[l++]=i[a++]-r;var c=o[l++]=i[a++]-r;o[l++]=i[a++]-t,s=Math.max(s,c)}return new e(o,s,this.set)}}]),e}();function vu(e,t,n,r){switch(e){case-2:return n<t;case-1:return r>=t&&n<t;case 0:return n<t&&r>t;case 1:return n<=t&&r>t;case 2:return r>t;case 4:return!0}}function yu(e,t){for(var n=e.childBefore(t);n;){var r=n.lastChild;if(!r||r.to!=n.to)break;r.type.isError&&r.from==r.to?(e=n,n=r.prevSibling):n=r}return e}function Tu(e,t,n,r){for(var i;e.from==e.to||(n<1?e.from>=t:e.from>t)||(n>-1?e.to<=t:e.to<t);){var o=!r&&e instanceof Eu&&e.index<0?null:e.parent;if(!o)return e;e=o}var s=r?0:hu.IgnoreOverlays;if(r)for(var a=e,l=a.parent;l;l=(a=l).parent)a instanceof Eu&&a.index<0&&(null===(i=l.enter(t,n,s))||void 0===i?void 0:i.from)!=a.from&&(e=l);for(;;){var c=e.enter(t,n,s);if(!c)return e;e=c}}var Eu=function(){function e(t,n,r,i){(0,En.Z)(this,e),this._tree=t,this.from=n,this.index=r,this._parent=i}return(0,bn.Z)(e,[{key:"type",get:function(){return this._tree.type}},{key:"name",get:function(){return this._tree.type.name}},{key:"to",get:function(){return this.from+this._tree.length}},{key:"nextChild",value:function(t,n,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=this;;){for(var a=s._tree,l=a.children,c=a.positions,u=n>0?l.length:-1;t!=u;t+=n){var h=l[t],p=c[t]+s.from;if(vu(i,r,p,p+h.length))if(h instanceof mu){if(o&hu.ExcludeBuffers)continue;var d=h.findChild(0,h.buffer.length,n,r-p,i);if(d>-1)return new wu(new ku(s,h,t,p),null,d)}else if(o&hu.IncludeAnonymous||!h.type.isAnonymous||Iu(h)){var f=void 0;if(!(o&hu.IgnoreMounts)&&h.props&&(f=h.prop(lu.mounted))&&!f.overlay)return new e(f.tree,p,t,s);var _=new e(h,p,t,s);return o&hu.IncludeAnonymous||!_.type.isAnonymous?_:_.nextChild(n<0?h.children.length-1:0,n,r,i)}}if(o&hu.IncludeAnonymous||!s.type.isAnonymous)return null;if(t=s.index>=0?s.index+n:n<0?-1:s._parent._tree.children.length,!(s=s._parent))return null}}},{key:"firstChild",get:function(){return this.nextChild(0,1,0,4)}},{key:"lastChild",get:function(){return this.nextChild(this._tree.children.length-1,-1,0,4)}},{key:"childAfter",value:function(e){return this.nextChild(0,1,e,2)}},{key:"childBefore",value:function(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}},{key:"enter",value:function(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!(i&hu.IgnoreOverlays)&&(r=this._tree.prop(lu.mounted))&&r.overlay){var o,s=t-this.from,a=(0,_n.Z)(r.overlay);try{for(a.s();!(o=a.n()).done;){var l=o.value,c=l.from,u=l.to;if((n>0?c<=s:c<s)&&(n<0?u>=s:u>s))return new e(r.tree,r.overlay[0].from+this.from,-1,this)}}catch(h){a.e(h)}finally{a.f()}}return this.nextChild(0,1,t,n,i)}},{key:"nextSignificantParent",value:function(){for(var e=this;e.type.isAnonymous&&e._parent;)e=e._parent;return e}},{key:"parent",get:function(){return this._parent?this._parent.nextSignificantParent():null}},{key:"nextSibling",get:function(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}},{key:"prevSibling",get:function(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}},{key:"cursor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Su(this,e)}},{key:"tree",get:function(){return this._tree}},{key:"toTree",value:function(){return this._tree}},{key:"resolve",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Tu(this,e,t,!1)}},{key:"resolveInner",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Tu(this,e,t,!0)}},{key:"enterUnfinishedNodesBefore",value:function(e){return yu(this,e)}},{key:"getChild",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=bu(this,e,t,n);return r.length?r[0]:null}},{key:"getChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return bu(this,e,t,n)}},{key:"toString",value:function(){return this._tree.toString()}},{key:"node",get:function(){return this}},{key:"matchContext",value:function(e){return Ou(this,e)}}]),e}();function bu(e,t,n,r){var i=e.cursor(),o=[];if(!i.firstChild())return o;if(null!=n)for(;!i.type.is(n);)if(!i.nextSibling())return o;for(;;){if(null!=r&&i.type.is(r))return o;if(i.type.is(t)&&o.push(i.node),!i.nextSibling())return null==r?o:[]}}function Ou(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length-1,r=e.parent;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(t[n]&&t[n]!=r.name)return!1;n--}}return!0}var ku=(0,bn.Z)((function e(t,n,r,i){(0,En.Z)(this,e),this.parent=t,this.buffer=n,this.index=r,this.start=i})),wu=function(){function e(t,n,r){(0,En.Z)(this,e),this.context=t,this._parent=n,this.index=r,this.type=t.buffer.set.types[t.buffer.buffer[r]]}return(0,bn.Z)(e,[{key:"name",get:function(){return this.type.name}},{key:"from",get:function(){return this.context.start+this.context.buffer.buffer[this.index+1]}},{key:"to",get:function(){return this.context.start+this.context.buffer.buffer[this.index+2]}},{key:"child",value:function(t,n,r){var i=this.context.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],t,n-this.context.start,r);return o<0?null:new e(this.context,this,o)}},{key:"firstChild",get:function(){return this.child(1,0,4)}},{key:"lastChild",get:function(){return this.child(-1,0,4)}},{key:"childAfter",value:function(e){return this.child(1,e,2)}},{key:"childBefore",value:function(e){return this.child(-1,e,-2)}},{key:"enter",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(r&hu.ExcludeBuffers)return null;var i=this.context.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,t-this.context.start,n);return o<0?null:new e(this.context,this,o)}},{key:"parent",get:function(){return this._parent||this.context.parent.nextSignificantParent()}},{key:"externalSibling",value:function(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}},{key:"nextSibling",get:function(){var t=this.context.buffer,n=t.buffer[this.index+3];return n<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new e(this.context,this._parent,n):this.externalSibling(1)}},{key:"prevSibling",get:function(){var t=this.context.buffer,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new e(this.context,this._parent,t.findChild(n,this.index,-1,0,4))}},{key:"cursor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Su(this,e)}},{key:"tree",get:function(){return null}},{key:"toTree",value:function(){var e=[],t=[],n=this.context.buffer,r=this.index+4,i=n.buffer[this.index+3];if(i>r){var o=n.buffer[this.index+1];e.push(n.slice(r,i,o)),t.push(0)}return new _u(this.type,e,t,this.to-this.from)}},{key:"resolve",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Tu(this,e,t,!1)}},{key:"resolveInner",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Tu(this,e,t,!0)}},{key:"enterUnfinishedNodesBefore",value:function(e){return yu(this,e)}},{key:"toString",value:function(){return this.context.buffer.childString(this.index)}},{key:"getChild",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=bu(this,e,t,n);return r.length?r[0]:null}},{key:"getChildren",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return bu(this,e,t,n)}},{key:"node",get:function(){return this}},{key:"matchContext",value:function(e){return Ou(this,e)}}]),e}(),Su=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if((0,En.Z)(this,e),this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof Eu)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(var r=t._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=t,this.yieldBuf(t.index)}}return(0,bn.Z)(e,[{key:"name",get:function(){return this.type.name}},{key:"yieldNode",value:function(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}},{key:"yieldBuf",value:function(e,t){this.index=e;var n=this.buffer,r=n.start,i=n.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}},{key:"yield",value:function(e){return!!e&&(e instanceof Eu?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}},{key:"toString",value:function(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}},{key:"enterChild",value:function(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,n,this.mode));var r=this.buffer.buffer,i=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,n);return!(i<0)&&(this.stack.push(this.index),this.yieldBuf(i))}},{key:"firstChild",value:function(){return this.enterChild(1,0,4)}},{key:"lastChild",value:function(){return this.enterChild(-1,0,4)}},{key:"childAfter",value:function(e){return this.enterChild(1,e,2)}},{key:"childBefore",value:function(e){return this.enterChild(-1,e,-2)}},{key:"enter",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.mode;return this.buffer?!(n&hu.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n))}},{key:"parent",value:function(){if(!this.buffer)return this.yieldNode(this.mode&hu.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());var e=this.mode&hu.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}},{key:"sibling",value:function(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));var t=this.buffer.buffer,n=this.stack.length-1;if(e<0){var r=n<0?0:this.stack[n]+4;if(this.index!=r)return this.yieldBuf(t.findChild(r,this.index,-1,0,4))}else{var i=t.buffer[this.index+3];if(i<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(i)}return n<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}},{key:"nextSibling",value:function(){return this.sibling(1)}},{key:"prevSibling",value:function(){return this.sibling(-1)}},{key:"atLastNode",value:function(e){var t,n,r=this.buffer;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(var i=0;i<this.index;i++)if(r.buffer.buffer[i+3]<this.index)return!1;t=r.index,n=r.parent}else{var o=this._tree;t=o.index,n=o._parent}for(;n;t=(s=n).index,n=s._parent,s){var s;if(t>-1)for(var a=t+e,l=e<0?-1:n._tree.children.length;a!=l;a+=e){var c=n._tree.children[a];if(this.mode&hu.IncludeAnonymous||c instanceof mu||!c.type.isAnonymous||Iu(c))return!1}}return!0}},{key:"move",value:function(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}},{key:"next",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.move(1,e)}},{key:"prev",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.move(-1,e)}},{key:"moveTo",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}},{key:"node",get:function(){if(!this.buffer)return this._tree;var e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(var r=this.index,i=this.stack.length;i>=0;){for(var o=e;o;o=o._parent)if(o.index==r){if(r==this.index)return o;t=o,n=i+1;break e}r=this.stack[--i]}for(var s=n;s<this.stack.length;s++)t=new wu(this.buffer,t,this.stack[s]);return this.bufferNode=new wu(this.buffer,t,this.index)}},{key:"tree",get:function(){return this.buffer?null:this._tree._tree}},{key:"iterate",value:function(e,t){for(var n=0;;){var r=!1;if(this.type.isAnonymous||!1!==e(this)){if(this.firstChild()){n++;continue}this.type.isAnonymous||(r=!0)}for(;r&&t&&t(this),r=this.type.isAnonymous,!this.nextSibling();){if(!n)return;this.parent(),n--,r=!0}}}},{key:"matchContext",value:function(e){if(!this.buffer)return Ou(this.node,e);for(var t=this.buffer.buffer,n=t.set.types,r=e.length-1,i=this.stack.length-1;r>=0;i--){if(i<0)return Ou(this.node,e,r);var o=n[t.buffer[this.stack[i]]];if(!o.isAnonymous){if(e[r]&&e[r]!=o.name)return!1;r--}}return!0}}]),e}();function Iu(e){return e.children.some((function(e){return e instanceof mu||!e.type.isAnonymous||Iu(e)}))}var Ru=new WeakMap;function Cu(e,t){if(!e.isAnonymous||t instanceof mu||t.type!=e)return 1;var n=Ru.get(t);if(null==n){n=1;var r,i=(0,_n.Z)(t.children);try{for(i.s();!(r=i.n()).done;){var o=r.value;if(o.type!=e||!(o instanceof _u)){n=1;break}n+=Cu(e,o)}}catch(s){i.e(s)}finally{i.f()}Ru.set(t,n)}return n}function Au(e,t,n,r,i,o,s,a,l){for(var c=0,u=r;u<i;u++)c+=Cu(e,t[u]);var h=Math.ceil(1.5*c/8),p=[],d=[];return function t(n,r,i,s,a){for(var c=i;c<s;){var u=c,f=r[c],_=Cu(e,n[c]);for(c++;c<s;c++){var g=Cu(e,n[c]);if(_+g>=h)break;_+=g}if(c==u+1){if(_>h){var m=n[u];t(m.children,m.positions,0,m.children.length,r[u]+a);continue}p.push(n[u])}else{var v=r[c-1]+n[c-1].length-f;p.push(Au(e,n,r,u,c,f,v,null,l))}d.push(f+a-o)}}(t,n,r,i,0),(a||l)(p,d,s)}var xu=function(){function e(){(0,En.Z)(this,e),this.map=new WeakMap}return(0,bn.Z)(e,[{key:"setBuffer",value:function(e,t,n){var r=this.map.get(e);r||this.map.set(e,r=new Map),r.set(t,n)}},{key:"getBuffer",value:function(e,t){var n=this.map.get(e);return n&&n.get(t)}},{key:"set",value:function(e,t){e instanceof wu?this.setBuffer(e.context.buffer,e.index,t):e instanceof Eu&&this.map.set(e.tree,t)}},{key:"get",value:function(e){return e instanceof wu?this.getBuffer(e.context.buffer,e.index):e instanceof Eu?this.map.get(e.tree):void 0}},{key:"cursorSet",value:function(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}},{key:"cursorGet",value:function(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}]),e}(),Mu=function(){function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];(0,En.Z)(this,e),this.from=t,this.to=n,this.tree=r,this.offset=i,this.open=(o?1:0)|(s?2:0)}return(0,bn.Z)(e,[{key:"openStart",get:function(){return(1&this.open)>0}},{key:"openEnd",get:function(){return(2&this.open)>0}}],[{key:"addTree",value:function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=[new e(0,t.length,t,0,!1,i)],s=(0,_n.Z)(r);try{for(s.s();!(n=s.n()).done;){var a=n.value;a.to>t.length&&o.push(a)}}catch(l){s.e(l)}finally{s.f()}return o}},{key:"applyChanges",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:128;if(!n.length)return t;for(var i=[],o=1,s=t.length?t[0]:null,a=0,l=0,c=0;;a++){var u=a<n.length?n[a]:null,h=u?u.fromA:1e9;if(h-l>=r)for(;s&&s.from<h;){var p=s;if(l>=p.from||h<=p.to||c){var d=Math.max(p.from,l)-c,f=Math.min(p.to,h)-c;p=d>=f?null:new e(d,f,p.tree,p.offset+c,a>0,!!u)}if(p&&i.push(p),s.to>h)break;s=o<t.length?t[o++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}}]),e}(),Nu=function(){function e(){(0,En.Z)(this,e)}return(0,bn.Z)(e,[{key:"startParse",value:function(e,t,n){return"string"==typeof e&&(e=new Lu(e)),n=n?n.length?n.map((function(e){return new au(e.from,e.to)})):[new au(0,0)]:[new au(0,e.length)],this.createParse(e,t||[],n)}},{key:"parse",value:function(e,t,n){for(var r=this.startParse(e,t,n);;){var i=r.advance();if(i)return i}}}]),e}(),Lu=function(){function e(t){(0,En.Z)(this,e),this.string=t}return(0,bn.Z)(e,[{key:"length",get:function(){return this.string.length}},{key:"chunk",value:function(e){return this.string.slice(e)}},{key:"lineChunks",get:function(){return!1}},{key:"read",value:function(e,t){return this.string.slice(e,t)}}]),e}();new lu({perNode:!0});var Du=0,Pu=function(){function e(t,n,r){(0,En.Z)(this,e),this.set=t,this.base=n,this.modified=r,this.id=Du++}return(0,bn.Z)(e,null,[{key:"define",value:function(t){if(null===t||void 0===t?void 0:t.base)throw new Error("Can not derive from a modified tag");var n=new e([],null,[]);if(n.set.push(n),t){var r,i=(0,_n.Z)(t.set);try{for(i.s();!(r=i.n()).done;){var o=r.value;n.set.push(o)}}catch(s){i.e(s)}finally{i.f()}}return n}},{key:"defineModifier",value:function(){var e=new Uu;return function(t){return t.modified.indexOf(e)>-1?t:Uu.get(t.base||t,t.modified.concat(e).sort((function(e,t){return e.id-t.id})))}}}]),e}(),Bu=0,Uu=function(){function e(){(0,En.Z)(this,e),this.instances=[],this.id=Bu++}return(0,bn.Z)(e,null,[{key:"get",value:function(t,n){if(!n.length)return t;var r=n[0].instances.find((function(e){return e.base==t&&function(e,t){return e.length==t.length&&e.every((function(e,n){return e==t[n]}))}(n,e.modified)}));if(r)return r;var i,o=[],s=new Pu(o,t,n),a=(0,_n.Z)(n);try{for(a.s();!(i=a.n()).done;){i.value.instances.push(s)}}catch(_){a.e(_)}finally{a.f()}var l,c=function(e){for(var t=[[]],n=0;n<e.length;n++)for(var r=0,i=t.length;r<i;r++)t.push(t[r].concat(e[n]));return t.sort((function(e,t){return t.length-e.length}))}(n),u=(0,_n.Z)(t.set);try{for(u.s();!(l=u.n()).done;){var h=l.value;if(!h.modified.length){var p,d=(0,_n.Z)(c);try{for(d.s();!(p=d.n()).done;){var f=p.value;o.push(e.get(h,f))}}catch(_){d.e(_)}finally{d.f()}}}}catch(_){u.e(_)}finally{u.f()}return s}}]),e}();function Fu(e){var t=Object.create(null);for(var n in e){var r=e[n];Array.isArray(r)||(r=[r]);var i,o=(0,_n.Z)(n.split(" "));try{for(o.s();!(i=o.n()).done;){var s=i.value;if(s){for(var a=[],l=2,c=s,u=0;;){if("..."==c&&u>0&&u+3==s.length){l=1;break}var h=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(c);if(!h)throw new RangeError("Invalid path: "+s);if(a.push("*"==h[0]?"":'"'==h[0][0]?JSON.parse(h[0]):h[0]),(u+=h[0].length)==s.length)break;var p=s[u++];if(u==s.length&&"!"==p){l=0;break}if("/"!=p)throw new RangeError("Invalid path: "+s);c=s.slice(u)}var d=a.length-1,f=a[d];if(!f)throw new RangeError("Invalid path: "+s);var _=new Hu(r,l,d>0?a.slice(0,d):null);t[f]=_.sort(t[f])}}}catch(g){o.e(g)}finally{o.f()}}return Wu.add(t)}var Wu=new lu,Hu=function(){function e(t,n,r,i){(0,En.Z)(this,e),this.tags=t,this.mode=n,this.context=r,this.next=i}return(0,bn.Z)(e,[{key:"opaque",get:function(){return 0==this.mode}},{key:"inherit",get:function(){return 1==this.mode}},{key:"sort",value:function(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}},{key:"depth",get:function(){return this.context?this.context.length:0}}]),e}();function Gu(e,t){var n,r=Object.create(null),i=(0,_n.Z)(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(Array.isArray(o.tag)){var s,a=(0,_n.Z)(o.tag);try{for(a.s();!(s=a.n()).done;){var l=s.value;r[l.id]=o.class}}catch(d){a.e(d)}finally{a.f()}}else r[o.tag.id]=o.class}}catch(d){i.e(d)}finally{i.f()}var c=t||{},u=c.scope,h=c.all,p=void 0===h?null:h;return{style:function(e){var t,n=p,i=(0,_n.Z)(e);try{for(i.s();!(t=i.n()).done;){var o,s=t.value,a=(0,_n.Z)(s.set);try{for(a.s();!(o=a.n()).done;){var l=o.value,c=r[l.id];if(c){n=n?n+" "+c:c;break}}}catch(d){a.e(d)}finally{a.f()}}}catch(d){i.e(d)}finally{i.f()}return n},scope:u}}function Vu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length,o=new ju(r,Array.isArray(t)?t:[t],n);o.highlightRange(e.cursor(),r,i,"",o.highlighters),o.flush(i)}Hu.empty=new Hu([],2,null);var ju=function(){function e(t,n,r){(0,En.Z)(this,e),this.at=t,this.highlighters=n,this.span=r,this.class=""}return(0,bn.Z)(e,[{key:"startSpan",value:function(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}},{key:"flush",value:function(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}},{key:"highlightRange",value:function(e,t,n,r,i){var o=e.type,s=e.from,a=e.to;if(!(s>=n||a<=t)){o.isTop&&(i=this.highlighters.filter((function(e){return!e.scope||e.scope(o)})));var l=r,c=function(e){var t=e.type.prop(Wu);for(;t&&t.context&&!e.matchContext(t.context);)t=t.next;return t||null}(e)||Hu.empty,u=function(e,t){var n,r=null,i=(0,_n.Z)(e);try{for(i.s();!(n=i.n()).done;){var o=n.value.style(t);o&&(r=r?r+" "+o:o)}}catch(s){i.e(s)}finally{i.f()}return r}(i,c.tags);if(u&&(l&&(l+=" "),l+=u,1==c.mode&&(r+=(r?" ":"")+u)),this.startSpan(e.from,l),!c.opaque){var h=e.tree&&e.tree.prop(lu.mounted);if(h&&h.overlay){for(var p=e.node.enter(h.overlay[0].from+s,1),d=this.highlighters.filter((function(e){return!e.scope||e.scope(h.tree.type)})),f=e.firstChild(),_=0,g=s;;_++){var m=_<h.overlay.length?h.overlay[_]:null,v=m?m.from+s:a,y=Math.max(t,g),T=Math.min(n,v);if(y<T&&f)for(;e.from<T&&(this.highlightRange(e,y,T,r,i),this.startSpan(Math.min(T,e.to),l),!(e.to>=v)&&e.nextSibling()););if(!m||v>n)break;(g=m.to+s)>t&&(this.highlightRange(p.cursor(),Math.max(t,m.from+s),Math.min(n,g),r,d),this.startSpan(g,l))}f&&e.parent()}else if(e.firstChild()){do{if(!(e.to<=t)){if(e.from>=n)break;this.highlightRange(e,t,n,r,i),this.startSpan(Math.min(n,e.to),l)}}while(e.nextSibling());e.parent()}}}}}]),e}();var Zu,qu=Pu.define,Xu=qu(),$u=qu(),Yu=qu($u),zu=qu($u),Qu=qu(),Ku=qu(Qu),Ju=qu(Qu),eh=qu(),th=qu(eh),nh=qu(),rh=qu(),ih=qu(),oh=qu(ih),sh=qu(),ah={comment:Xu,lineComment:qu(Xu),blockComment:qu(Xu),docComment:qu(Xu),name:$u,variableName:qu($u),typeName:Yu,tagName:qu(Yu),propertyName:zu,attributeName:qu(zu),className:qu($u),labelName:qu($u),namespace:qu($u),macroName:qu($u),literal:Qu,string:Ku,docString:qu(Ku),character:qu(Ku),attributeValue:qu(Ku),number:Ju,integer:qu(Ju),float:qu(Ju),bool:qu(Qu),regexp:qu(Qu),escape:qu(Qu),color:qu(Qu),url:qu(Qu),keyword:nh,self:qu(nh),null:qu(nh),atom:qu(nh),unit:qu(nh),modifier:qu(nh),operatorKeyword:qu(nh),controlKeyword:qu(nh),definitionKeyword:qu(nh),moduleKeyword:qu(nh),operator:rh,derefOperator:qu(rh),arithmeticOperator:qu(rh),logicOperator:qu(rh),bitwiseOperator:qu(rh),compareOperator:qu(rh),updateOperator:qu(rh),definitionOperator:qu(rh),typeOperator:qu(rh),controlOperator:qu(rh),punctuation:ih,separator:qu(ih),bracket:oh,angleBracket:qu(oh),squareBracket:qu(oh),paren:qu(oh),brace:qu(oh),content:eh,heading:th,heading1:qu(th),heading2:qu(th),heading3:qu(th),heading4:qu(th),heading5:qu(th),heading6:qu(th),contentSeparator:qu(eh),list:qu(eh),quote:qu(eh),emphasis:qu(eh),strong:qu(eh),link:qu(eh),monospace:qu(eh),strikethrough:qu(eh),inserted:qu(),deleted:qu(),changed:qu(),invalid:qu(),meta:sh,documentMeta:qu(sh),annotation:qu(sh),processingInstruction:qu(sh),definition:Pu.defineModifier(),constant:Pu.defineModifier(),function:Pu.defineModifier(),standard:Pu.defineModifier(),local:Pu.defineModifier(),special:Pu.defineModifier()},lh=(Gu([{tag:ah.link,class:"tok-link"},{tag:ah.heading,class:"tok-heading"},{tag:ah.emphasis,class:"tok-emphasis"},{tag:ah.strong,class:"tok-strong"},{tag:ah.keyword,class:"tok-keyword"},{tag:ah.atom,class:"tok-atom"},{tag:ah.bool,class:"tok-bool"},{tag:ah.url,class:"tok-url"},{tag:ah.labelName,class:"tok-labelName"},{tag:ah.inserted,class:"tok-inserted"},{tag:ah.deleted,class:"tok-deleted"},{tag:ah.literal,class:"tok-literal"},{tag:ah.string,class:"tok-string"},{tag:ah.number,class:"tok-number"},{tag:[ah.regexp,ah.escape,ah.special(ah.string)],class:"tok-string2"},{tag:ah.variableName,class:"tok-variableName"},{tag:ah.local(ah.variableName),class:"tok-variableName tok-local"},{tag:ah.definition(ah.variableName),class:"tok-variableName tok-definition"},{tag:ah.special(ah.variableName),class:"tok-variableName2"},{tag:ah.definition(ah.propertyName),class:"tok-propertyName tok-definition"},{tag:ah.typeName,class:"tok-typeName"},{tag:ah.namespace,class:"tok-namespace"},{tag:ah.className,class:"tok-className"},{tag:ah.macroName,class:"tok-macroName"},{tag:ah.propertyName,class:"tok-propertyName"},{tag:ah.operator,class:"tok-operator"},{tag:ah.comment,class:"tok-comment"},{tag:ah.meta,class:"tok-meta"},{tag:ah.invalid,class:"tok-invalid"},{tag:ah.punctuation,class:"tok-punctuation"}]),new lu);function ch(e){return or.define({combine:e?function(t){return t.concat(e)}:void 0})}var uh=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";(0,En.Z)(this,e),this.data=t,this.name=i,qr.prototype.hasOwnProperty("tree")||Object.defineProperty(qr.prototype,"tree",{get:function(){return dh(this)}}),this.parser=n,this.extension=[bh.of(this),qr.languageData.of((function(e,t,n){return e.facet(hh(e,t,n))}))].concat(r)}return(0,bn.Z)(e,[{key:"isActiveAt",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return hh(e,t,n)==this.data}},{key:"findRegions",value:function(e){var t=this,n=e.facet(bh);if((null===n||void 0===n?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];var r=[];return function e(n,i){if(n.prop(lh)!=t.data){var o=n.prop(lu.mounted);if(o){if(o.tree.prop(lh)==t.data){if(o.overlay){var s,a=(0,_n.Z)(o.overlay);try{for(a.s();!(s=a.n()).done;){var l=s.value;r.push({from:l.from+i,to:l.to+i})}}catch(p){a.e(p)}finally{a.f()}}else r.push({from:i,to:i+n.length});return}if(o.overlay){var c=r.length;if(e(o.tree,o.overlay[0].from+i),r.length>c)return}}for(var u=0;u<n.children.length;u++){var h=n.children[u];h instanceof _u&&e(h,n.positions[u]+i)}}else r.push({from:i,to:i+n.length})}(dh(e),0),r}},{key:"allowsNesting",get:function(){return!0}}]),e}();function hh(e,t,n){var r=e.facet(bh);if(!r)return null;var i=r.data;if(r.allowsNesting)for(var o=dh(e).topNode;o;o=o.enter(t,n,hu.ExcludeBuffers))i=o.type.prop(lh)||i;return i}uh.setState=Lr.define();var ph=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r,i){var o;return(0,En.Z)(this,n),(o=t.call(this,e,r,[],i)).parser=r,o}return(0,bn.Z)(n,[{key:"configure",value:function(e,t){return new n(this.data,this.parser.configure(e),t||this.name)}},{key:"allowsNesting",get:function(){return this.parser.hasWrappers()}}],[{key:"define",value:function(e){var t=ch(e.languageData);return new n(t,e.parser.configure({props:[lh.add((function(e){return e.isTop?t:void 0}))]}),e.name)}}]),n}(uh);function dh(e){var t=e.field(uh.state,!1);return t?t.tree:_u.empty}var fh=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.length;(0,En.Z)(this,e),this.doc=t,this.length=n,this.cursorPos=0,this.string="",this.cursor=t.iter()}return(0,bn.Z)(e,[{key:"syncTo",value:function(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}},{key:"chunk",value:function(e){return this.syncTo(e),this.string}},{key:"lineChunks",get:function(){return!0}},{key:"read",value:function(e,t){var n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}}]),e}(),_h=null,gh=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,a=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0;(0,En.Z)(this,e),this.parser=t,this.state=n,this.fragments=r,this.tree=i,this.treeLen=o,this.viewport=s,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}return(0,bn.Z)(e,[{key:"startParse",value:function(){return this.parser.startParse(new fh(this.state.doc),this.fragments)}},{key:"work",value:function(e,t){var n=this;return null!=t&&t>=this.state.doc.length&&(t=void 0),this.tree!=_u.empty&&this.isDone(null!==t&&void 0!==t?t:this.state.doc.length)?(this.takeTree(),!0):this.withContext((function(){var r;if("number"==typeof e){var i=Date.now()+e;e=function(){return Date.now()>i}}for(n.parse||(n.parse=n.startParse()),null!=t&&(null==n.parse.stoppedAt||n.parse.stoppedAt>t)&&t<n.state.doc.length&&n.parse.stopAt(t);;){var o=n.parse.advance();if(o){if(n.fragments=n.withoutTempSkipped(Mu.addTree(o,n.fragments,null!=n.parse.stoppedAt)),n.treeLen=null!==(r=n.parse.stoppedAt)&&void 0!==r?r:n.state.doc.length,n.tree=o,n.parse=null,!(n.treeLen<(null!==t&&void 0!==t?t:n.state.doc.length)))return!0;n.parse=n.startParse()}if(e())return!1}}))}},{key:"takeTree",value:function(){var e,t,n=this;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((null==this.parse.stoppedAt||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext((function(){for(;!(t=n.parse.advance()););})),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Mu.addTree(this.tree,this.fragments,!0)),this.parse=null)}},{key:"withContext",value:function(e){var t=_h;_h=this;try{return e()}finally{_h=t}}},{key:"withoutTempSkipped",value:function(e){for(var t;t=this.tempSkipped.pop();)e=mh(e,t.from,t.to);return e}},{key:"changes",value:function(t,n){var r=this.fragments,i=this.tree,o=this.treeLen,s=this.viewport,a=this.skipped;if(this.takeTree(),!t.empty){var l=[];if(t.iterChangedRanges((function(e,t,n,r){return l.push({fromA:e,toA:t,fromB:n,toB:r})})),r=Mu.applyChanges(r,l),i=_u.empty,o=0,s={from:t.mapPos(s.from,-1),to:t.mapPos(s.to,1)},this.skipped.length){a=[];var c,u=(0,_n.Z)(this.skipped);try{for(u.s();!(c=u.n()).done;){var h=c.value,p=t.mapPos(h.from,1),d=t.mapPos(h.to,-1);p<d&&a.push({from:p,to:d})}}catch(f){u.e(f)}finally{u.f()}}}return new e(this.parser,n,r,i,o,s,a,this.scheduleOn)}},{key:"updateViewport",value:function(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;for(var t=this.skipped.length,n=0;n<this.skipped.length;n++){var r=this.skipped[n],i=r.from,o=r.to;i<e.to&&o>e.from&&(this.fragments=mh(this.fragments,i,o),this.skipped.splice(n--,1))}return!(this.skipped.length>=t)&&(this.reset(),!0)}},{key:"reset",value:function(){this.parse&&(this.takeTree(),this.parse=null)}},{key:"skipUntilInView",value:function(e,t){this.skipped.push({from:e,to:t})}},{key:"isDone",value:function(e){e=Math.min(e,this.state.doc.length);var t=this.fragments;return this.treeLen>=e&&t.length&&0==t[0].from&&t[0].to>=e}}],[{key:"create",value:function(t,n,r){return new e(t,n,[],_u.empty,0,r,[],null)}},{key:"getSkippingParser",value:function(e){return new(function(t){(0,yn.Z)(r,t);var n=(0,Tn.Z)(r);function r(){return(0,En.Z)(this,r),n.apply(this,arguments)}return(0,bn.Z)(r,[{key:"createParse",value:function(t,n,r){var i=r[0].from,o=r[r.length-1].to,s={parsedPos:i,advance:function(){var t=_h;if(t){var n,s=(0,_n.Z)(r);try{for(s.s();!(n=s.n()).done;){var a=n.value;t.tempSkipped.push(a)}}catch(l){s.e(l)}finally{s.f()}e&&(t.scheduleOn=t.scheduleOn?Promise.all([t.scheduleOn,e]):e)}return this.parsedPos=o,new _u(uu.none,[],[],o-i)},stoppedAt:null,stopAt:function(){}};return s}}]),r}(Nu))}},{key:"get",value:function(){return _h}}]),e}();function mh(e,t,n){return Mu.applyChanges(e,[{fromA:t,toA:n,fromB:t,toB:n}])}var vh=function(){function e(t){(0,En.Z)(this,e),this.context=t,this.tree=t.tree}return(0,bn.Z)(e,[{key:"apply",value:function(t){if(!t.docChanged&&this.tree==this.context.tree)return this;var n=this.context.changes(t.changes,t.state),r=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new e(n)}}],[{key:"init",value:function(t){var n=Math.min(3e3,t.doc.length),r=gh.create(t.facet(bh).parser,t,{from:0,to:n});return r.work(20,n)||r.takeTree(),new e(r)}}]),e}();uh.state=hr.define({create:vh.init,update:function(e,t){var n,r=(0,_n.Z)(t.effects);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.is(uh.setState))return i.value}}catch(o){r.e(o)}finally{r.f()}return t.startState.facet(bh)!=t.state.facet(bh)?vh.init(t.state):e.apply(t)}});var yh=function(e){var t=setTimeout((function(){return e()}),500);return function(){return clearTimeout(t)}};"undefined"!=typeof requestIdleCallback&&(yh=function(e){var t=-1,n=setTimeout((function(){t=requestIdleCallback(e,{timeout:400})}),100);return function(){return t<0?clearTimeout(n):cancelIdleCallback(t)}});var Th="undefined"!=typeof navigator&&(null===(Zu=navigator.scheduling)||void 0===Zu?void 0:Zu.isInputPending)?function(){return navigator.scheduling.isInputPending()}:null,Eh=ts.fromClass(function(){function e(t){(0,En.Z)(this,e),this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}return(0,bn.Z)(e,[{key:"update",value:function(e){var t=this.view.state.field(uh.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}},{key:"scheduleWork",value:function(){if(!this.working){var e=this.view.state,t=e.field(uh.state);t.tree==t.context.tree&&t.context.isDone(e.doc.length)||(this.working=yh(this.work))}}},{key:"work",value:function(e){this.working=null;var t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),!(this.chunkBudget<=0)){var n=this.view,r=n.state,i=n.viewport.to,o=r.field(uh.state);if(o.tree!=o.context.tree||!o.context.isDone(i+1e5)){var s=Date.now()+Math.min(this.chunkBudget,100,e&&!Th?Math.max(25,e.timeRemaining()-5):1e9),a=o.context.treeLen<i&&r.doc.length>i+1e3,l=o.context.work((function(){return Th&&Th()||Date.now()>s}),i+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:uh.setState.of(new vh(o.context))})),this.chunkBudget>0&&(!l||a)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}}}},{key:"checkAsyncSchedule",value:function(e){var t=this;e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then((function(){return t.scheduleWork()})).catch((function(e){return Qo(t.view.state,e)})).then((function(){return t.workScheduled--})),e.scheduleOn=null)}},{key:"destroy",value:function(){this.working&&this.working()}},{key:"isWorking",value:function(){return!!(this.working||this.workScheduled>0)}}]),e}(),{eventHandlers:{focus:function(){this.scheduleWork()}}}),bh=or.define({combine:function(e){return e.length?e[0]:null},enables:function(e){return[uh.state,Eh,gl.contentAttributes.compute([e],(function(t){var n=t.facet(e);return n&&n.name?{"data-language":n.name}:{}}))]}}),Oh=(0,bn.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];(0,En.Z)(this,e),this.language=t,this.support=n,this.extension=[t,n]})),kh=or.define(),wh=or.define({combine:function(e){if(!e.length)return"  ";if(!/^(?: +|\t+)$/.test(e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(e[0]));return e[0]}});function Sh(e){var t=e.facet(wh);return 9==t.charCodeAt(0)?e.tabSize*t.length:t.length}function Ih(e,t){var n="",r=e.tabSize;if(9==e.facet(wh).charCodeAt(0))for(;t>=r;)n+="\t",t-=r;for(var i=0;i<t;i++)n+=" ";return n}function Rh(e,t){e instanceof qr&&(e=new Ch(e));var n,r=(0,_n.Z)(e.state.facet(kh));try{for(r.s();!(n=r.n()).done;){var i=(0,n.value)(e,t);if(void 0!==i)return i}}catch(s){r.e(s)}finally{r.f()}var o=dh(e.state);return o?function(e,t,n){return Mh(t.resolveInner(n).enterUnfinishedNodesBefore(n),n,e)}(e,o,t):null}var Ch=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,En.Z)(this,e),this.state=t,this.options=n,this.unit=Sh(t)}return(0,bn.Z)(e,[{key:"lineAt",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.state.doc.lineAt(e),r=this.options,i=r.simulateBreak,o=r.simulateDoubleBreak;return null!=i&&i>=n.from&&i<=n.to?o&&i==e?{text:"",from:e}:(t<0?i<e:i<=e)?{text:n.text.slice(i-n.from),from:i}:{text:n.text.slice(0,i-n.from),from:n.from}:n}},{key:"textAfterPos",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";var n=this.lineAt(e,t),r=n.text,i=n.from;return r.slice(e-i,Math.min(r.length,e+100-i))}},{key:"column",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.lineAt(e,t),r=n.text,i=n.from,o=this.countColumn(r,e-i),s=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return s>-1&&(o+=s-this.countColumn(r,r.search(/\S|$/))),o}},{key:"countColumn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;return hi(e,this.state.tabSize,t)}},{key:"lineIndent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.lineAt(e,t),r=n.text,i=n.from,o=this.options.overrideIndentation;if(o){var s=o(i);if(s>-1)return s}return this.countColumn(r,r.search(/\S|$/))}},{key:"simulatedBreak",get:function(){return this.options.simulateBreak||null}}]),e}(),Ah=new lu;function xh(e){var t=e.type.prop(Ah);if(t)return t;var n,r=e.firstChild;if(r&&(n=r.type.prop(lu.closedBy))){var i=e.lastChild,o=i&&n.indexOf(i.name)>-1;return function(e){return Bh(e,!0,1,void 0,o&&!function(e){return e.pos==e.options.simulateBreak&&e.options.simulateDoubleBreak}(e)?i.from:void 0)}}return null==e.parent?Nh:null}function Mh(e,t,n){for(;e;e=e.parent){var r=xh(e);if(r)return r(Lh.create(n,t,e))}return null}function Nh(){return 0}var Lh=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r,i){var o;return(0,En.Z)(this,n),(o=t.call(this,e.state,e.options)).base=e,o.pos=r,o.node=i,o}return(0,bn.Z)(n,[{key:"textAfter",get:function(){return this.textAfterPos(this.pos)}},{key:"baseIndent",get:function(){for(var e=this.state.doc.lineAt(this.node.from);;){for(var t=this.node.resolve(e.from);t.parent&&t.parent.from==t.from;)t=t.parent;if(Dh(t,this.node))break;e=this.state.doc.lineAt(t.from)}return this.lineIndent(e.from)}},{key:"continue",value:function(){var e=this.node.parent;return e?Mh(e,this.pos,this.base):0}}],[{key:"create",value:function(e,t,r){return new n(e,t,r)}}]),n}(Ch);function Dh(e,t){for(var n=t;n;n=n.parent)if(e==n)return!0;return!1}function Ph(e){var t=e.closing,n=e.align,r=void 0===n||n,i=e.units,o=void 0===i?1:i;return function(e){return Bh(e,r,o,t)}}function Bh(e,t,n,r,i){var o=e.textAfter,s=o.match(/^\s*/)[0].length,a=r&&o.slice(s,s+r.length)==r||i==e.pos+s,l=t?function(e){var t=e.node,n=t.childAfter(t.from),r=t.lastChild;if(!n)return null;for(var i=e.options.simulateBreak,o=e.state.doc.lineAt(n.from),s=null==i||i<=o.from?o.to:Math.min(o.to,i),a=n.to;;){var l=t.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped)return l.from<s?n:null;a=l.to}}(e):null;return l?a?e.column(l.from):e.column(l.to):e.baseIndent+(a?0:e.unit*n)}var Uh=or.define(),Fh=new lu;function Wh(e){var t=e.lastChild;return t&&t.to==e.to&&t.type.isError}function Hh(e,t,n){var r,i=(0,_n.Z)(e.facet(Uh));try{for(i.s();!(r=i.n()).done;){var o=(0,r.value)(e,t,n);if(o)return o}}catch(s){i.e(s)}finally{i.f()}return function(e,t,n){var r=dh(e);if(r.length<n)return null;for(var i=null,o=r.resolveInner(n,1);o;o=o.parent)if(!(o.to<=n||o.from>n)){if(i&&o.from<t)break;var s=o.type.prop(Fh);if(s&&(o.to<r.length-50||r.length==e.doc.length||!Wh(o))){var a=s(o,e);a&&a.from<=n&&a.from>=t&&a.to>n&&(i=a)}}return i}(e,t,n)}function Gh(e,t){var n=t.mapPos(e.from,1),r=t.mapPos(e.to,-1);return n>=r?void 0:{from:n,to:r}}var Vh=Lr.define({map:Gh}),jh=Lr.define({map:Gh});function Zh(e){var t,n=[],r=(0,_n.Z)(e.state.selection.ranges);try{var i=function(){var r=t.value.head;if(n.some((function(e){return e.from<=r&&e.to>=r})))return"continue";n.push(e.lineBlockAt(r))};for(r.s();!(t=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}return n}var qh=hr.define({create:function(){return Ao.none},update:function(e,t){e=e.map(t.changes);var n,r=(0,_n.Z)(t.effects);try{var i=function(){var t=n.value;t.is(Vh)&&!function(e,t,n){var r=!1;return e.between(t,t,(function(e,i){e==t&&i==n&&(r=!0)})),r}(e,t.value.from,t.value.to)?e=e.update({add:[ep.range(t.value.from,t.value.to)]}):t.is(jh)&&(e=e.update({filter:function(e,n){return t.value.from!=e||t.value.to!=n},filterFrom:t.value.from,filterTo:t.value.to}))};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}if(t.selection){var o=!1,s=t.selection.main.head;e.between(s,s,(function(e,t){e<s&&t>s&&(o=!0)})),o&&(e=e.update({filterFrom:s,filterTo:s,filter:function(e,t){return t<=s||e>=s}}))}return e},provide:function(e){return gl.decorations.from(e)},toJSON:function(e,t){var n=[];return e.between(0,t.doc.length,(function(e,t){n.push(e,t)})),n},fromJSON:function(e){if(!Array.isArray(e)||e.length%2)throw new RangeError("Invalid JSON for fold state");for(var t=[],n=0;n<e.length;){var r=e[n++],i=e[n++];if("number"!=typeof r||"number"!=typeof i)throw new RangeError("Invalid JSON for fold state");t.push(ep.range(r,i))}return Ao.set(t,!0)}});function Xh(e,t,n){var r,i=null;return null===(r=e.field(qh,!1))||void 0===r||r.between(t,n,(function(e,t){(!i||i.from>e)&&(i={from:e,to:t})})),i}function $h(e,t){return e.field(qh,!1)?t:t.concat(Lr.appendConfig.of(Jh()))}function Yh(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.state.doc.lineAt(t.from).number,i=e.state.doc.lineAt(t.to).number;return gl.announce.of("".concat(e.state.phrase(n?"Folded lines":"Unfolded lines")," ").concat(r," ").concat(e.state.phrase("to")," ").concat(i,"."))}var zh=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:function(e){var t,n=(0,_n.Z)(Zh(e));try{for(n.s();!(t=n.n()).done;){var r=t.value,i=Hh(e.state,r.from,r.to);if(i)return e.dispatch({effects:$h(e.state,[Vh.of(i),Yh(e,i)])}),!0}}catch(o){n.e(o)}finally{n.f()}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:function(e){if(!e.state.field(qh,!1))return!1;var t,n=[],r=(0,_n.Z)(Zh(e));try{for(r.s();!(t=r.n()).done;){var i=t.value,o=Xh(e.state,i.from,i.to);o&&n.push(jh.of(o),Yh(e,o,!1))}}catch(s){r.e(s)}finally{r.f()}return n.length&&e.dispatch({effects:n}),n.length>0}},{key:"Ctrl-Alt-[",run:function(e){for(var t=e.state,n=[],r=0;r<t.doc.length;){var i=e.lineBlockAt(r),o=Hh(t,i.from,i.to);o&&n.push(Vh.of(o)),r=(o?e.lineBlockAt(o.to):i).to+1}return n.length&&e.dispatch({effects:$h(e.state,n)}),!!n.length}},{key:"Ctrl-Alt-]",run:function(e){var t=e.state.field(qh,!1);if(!t||!t.size)return!1;var n=[];return t.between(0,e.state.doc.length,(function(e,t){n.push(jh.of({from:e,to:t}))})),e.dispatch({effects:n}),!0}}],Qh={placeholderDOM:null,placeholderText:"\u2026"},Kh=or.define({combine:function(e){return Xr(e,Qh)}});function Jh(e){var t=[qh,rp];return e&&t.push(Kh.of(e)),t}var ep=Ao.replace({widget:new(function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(){return(0,En.Z)(this,n),t.apply(this,arguments)}return(0,bn.Z)(n,[{key:"toDOM",value:function(e){var t=e.state,n=t.facet(Kh),r=function(t){var n=e.lineBlockAt(e.posAtDOM(t.target)),r=Xh(e.state,n.from,n.to);r&&e.dispatch({effects:jh.of(r)}),t.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(e,r);var i=document.createElement("span");return i.textContent=n.placeholderText,i.setAttribute("aria-label",t.phrase("folded code")),i.title=t.phrase("unfold"),i.className="cm-foldPlaceholder",i.onclick=r,i}}]),n}(Ro))}),tp={openText:"\u2304",closedText:"\u203a",markerDOM:null,domEventHandlers:{},foldingChanged:function(){return!1}},np=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r){var i;return(0,En.Z)(this,n),(i=t.call(this)).config=e,i.open=r,i}return(0,bn.Z)(n,[{key:"eq",value:function(e){return this.config==e.config&&this.open==e.open}},{key:"toDOM",value:function(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);var t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}]),n}(Bc);var rp=gl.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}}),ip=function(){function e(t,n){var r;function i(e){var t=vi.newName();return(r||(r=Object.create(null)))["."+t]=e,t}(0,En.Z)(this,e),this.specs=t;var o="string"==typeof n.all?n.all:n.all?i(n.all):void 0,s=n.scope;this.scope=s instanceof uh?function(e){return e.prop(lh)==s.data}:s?function(e){return e==s}:void 0,this.style=Gu(t.map((function(e){return{tag:e.tag,class:e.class||i(Object.assign({},e,{tag:null}))}})),{all:o}).style,this.module=r?new vi(r):null,this.themeType=n.themeType}return(0,bn.Z)(e,null,[{key:"define",value:function(t,n){return new e(t,n||{})}}]),e}(),op=or.define(),sp=or.define({combine:function(e){return e.length?[e[0]]:null}});function ap(e){var t=e.facet(op);return t.length?t:e.facet(sp)}function lp(e,t){var n,r=[up];return e instanceof ip&&(e.module&&r.push(gl.styleModule.of(e.module)),n=e.themeType),(null===t||void 0===t?void 0:t.fallback)?r.push(sp.of(e)):n?r.push(op.computeN([gl.darkTheme],(function(t){return t.facet(gl.darkTheme)==("dark"==n)?[e]:[]}))):r.push(op.of(e)),r}var cp=function(){function e(t){(0,En.Z)(this,e),this.markCache=Object.create(null),this.tree=dh(t.state),this.decorations=this.buildDeco(t,ap(t.state))}return(0,bn.Z)(e,[{key:"update",value:function(e){var t=dh(e.state),n=ap(e.state),r=n!=ap(e.startState);t.length<e.view.viewport.to&&!r&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||r)&&(this.tree=t,this.decorations=this.buildDeco(e.view,n))}},{key:"buildDeco",value:function(e,t){var n=this;if(!t||!this.tree.length)return Ao.none;var r,i=new ei,o=(0,_n.Z)(e.visibleRanges);try{for(o.s();!(r=o.n()).done;){var s=r.value,a=s.from,l=s.to;Vu(this.tree,t,(function(e,t,r){i.add(e,t,n.markCache[r]||(n.markCache[r]=Ao.mark({class:r})))}),a,l)}}catch(c){o.e(c)}finally{o.f()}return i.finish()}}]),e}(),up=mr.high(ts.fromClass(cp,{decorations:function(e){return e.decorations}})),hp=ip.define([{tag:ah.meta,color:"#7a757a"},{tag:ah.link,textDecoration:"underline"},{tag:ah.heading,textDecoration:"underline",fontWeight:"bold"},{tag:ah.emphasis,fontStyle:"italic"},{tag:ah.strong,fontWeight:"bold"},{tag:ah.strikethrough,textDecoration:"line-through"},{tag:ah.keyword,color:"#708"},{tag:[ah.atom,ah.bool,ah.url,ah.contentSeparator,ah.labelName],color:"#219"},{tag:[ah.literal,ah.inserted],color:"#164"},{tag:[ah.string,ah.deleted],color:"#a11"},{tag:[ah.regexp,ah.escape,ah.special(ah.string)],color:"#e40"},{tag:ah.definition(ah.variableName),color:"#00f"},{tag:ah.local(ah.variableName),color:"#30a"},{tag:[ah.typeName,ah.namespace],color:"#085"},{tag:ah.className,color:"#167"},{tag:[ah.special(ah.variableName),ah.macroName],color:"#256"},{tag:ah.definition(ah.propertyName),color:"#00c"},{tag:ah.comment,color:"#940"},{tag:ah.invalid,color:"#f00"}]),pp=gl.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),dp=1e4,fp="()[]{}",_p=or.define({combine:function(e){return Xr(e,{afterCursor:!0,brackets:fp,maxScanDistance:dp,renderMatch:vp})}}),gp=Ao.mark({class:"cm-matchingBracket"}),mp=Ao.mark({class:"cm-nonmatchingBracket"});function vp(e){var t=[],n=e.matched?gp:mp;return t.push(n.range(e.start.from,e.start.to)),e.end&&t.push(n.range(e.end.from,e.end.to)),t}var yp=hr.define({create:function(){return Ao.none},update:function(e,t){if(!t.docChanged&&!t.selection)return e;var n,r=[],i=t.state.facet(_p),o=(0,_n.Z)(t.state.selection.ranges);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(s.empty){var a=bp(t.state,s.head,-1,i)||s.head>0&&bp(t.state,s.head-1,1,i)||i.afterCursor&&(bp(t.state,s.head,1,i)||s.head<t.state.doc.length&&bp(t.state,s.head+1,-1,i));a&&(r=r.concat(i.renderMatch(a,t.state)))}}}catch(l){o.e(l)}finally{o.f()}return Ao.set(r,!0)},provide:function(e){return gl.decorations.from(e)}}),Tp=[yp,pp];function Ep(e,t,n){var r=e.prop(t<0?lu.openedBy:lu.closedBy);if(r)return r;if(1==e.name.length){var i=n.indexOf(e.name);if(i>-1&&i%2==(t<0?1:0))return[n[i+t]]}return null}function bp(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.maxScanDistance||dp,o=r.brackets||fp,s=dh(e),a=s.resolveInner(t,n),l=a;l;l=l.parent){var c=Ep(l.type,n,o);if(c&&l.from<l.to)return Op(e,t,n,l,c,o)}return kp(e,t,n,s,a.type,i,o)}function Op(e,t,n,r,i,o){var s=r.parent,a={from:r.from,to:r.to},l=0,c=null===s||void 0===s?void 0:s.cursor();if(c&&(n<0?c.childBefore(r.from):c.childAfter(r.to)))do{if(n<0?c.to<=r.from:c.from>=r.to){if(0==l&&i.indexOf(c.type.name)>-1&&c.from<c.to)return{start:a,end:{from:c.from,to:c.to},matched:!0};if(Ep(c.type,n,o))l++;else if(Ep(c.type,-n,o)){if(0==l)return{start:a,end:c.from==c.to?void 0:{from:c.from,to:c.to},matched:!1};l--}}}while(n<0?c.prevSibling():c.nextSibling());return{start:a,matched:!1}}function kp(e,t,n,r,i,o,s){var a=n<0?e.sliceDoc(t-1,t):e.sliceDoc(t,t+1),l=s.indexOf(a);if(l<0||l%2==0!=n>0)return null;for(var c={from:n<0?t-1:t,to:n>0?t+1:t},u=e.doc.iterRange(t,n>0?e.doc.length:0),h=0,p=0;!u.next().done&&p<=o;){var d=u.value;n<0&&(p+=d.length);for(var f=t+p*n,_=n>0?0:d.length-1,g=n>0?d.length:-1;_!=g;_+=n){var m=s.indexOf(d[_]);if(!(m<0||r.resolveInner(f+_,1).type!=i))if(m%2==0==n>0)h++;else{if(1==h)return{start:c,end:{from:f+_,to:f+_+1},matched:m>>1==l>>1};h--}}n>0&&(p+=d.length)}return u.done?{start:c,matched:!1}:null}for(var wp=Object.create(null),Sp=[uu.none],Ip=[],Rp=Object.create(null),Cp=0,Ap=[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]];Cp<Ap.length;Cp++){var xp=o(Ap[Cp],2),Mp=xp[0],Np=xp[1];Rp[Mp]=Dp(wp,Np)}function Lp(e,t){Ip.indexOf(e)>-1||(Ip.push(e),console.warn(t))}function Dp(e,t){var n,r=null,i=(0,_n.Z)(t.split("."));try{for(i.s();!(n=i.n()).done;){var o=n.value,s=e[o]||ah[o];s?"function"==typeof s?r?r=s(r):Lp(o,"Modifier ".concat(o," used at start of tag")):r?Lp(o,"Tag ".concat(o," used as modifier")):r=s:Lp(o,"Unknown highlighting tag ".concat(o))}}catch(c){i.e(c)}finally{i.f()}if(!r)return 0;var a=t.replace(/ /g,"_"),l=uu.define({id:Sp.length,name:a,props:[Fu((0,iu.Z)({},a,r))]});return Sp.push(l),l.id}function Pp(e,t){return function(n){var r=n.state,i=n.dispatch;if(r.readOnly)return!1;var o=e(t,r);return!!o&&(i(r.update(o)),!0)}}var Bp=Pp(Vp,0),Up=Pp(Gp,0),Fp=Pp((function(e,t){return Gp(e,t,function(e){var t,n=[],r=(0,_n.Z)(e.selection.ranges);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=e.doc.lineAt(i.from),s=i.to<=o.to?o:e.doc.lineAt(i.to),a=n.length-1;a>=0&&n[a].to>o.from?n[a].to=s.to:n.push({from:o.from,to:s.to})}}catch(l){r.e(l)}finally{r.f()}return n}(t))}),0);function Wp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.selection.main.head,n=e.languageDataAt("commentTokens",t);return n.length?n[0]:{}}function Hp(e,t,n,r){var i,o,s=t.open,a=t.close,l=e.sliceDoc(n-50,n),c=e.sliceDoc(r,r+50),u=/\s*$/.exec(l)[0].length,h=/^\s*/.exec(c)[0].length,p=l.length-u;if(l.slice(p-s.length,p)==s&&c.slice(h,h+a.length)==a)return{open:{pos:n-u,margin:u&&1},close:{pos:r+h,margin:h&&1}};r-n<=100?i=o=e.sliceDoc(n,r):(i=e.sliceDoc(n,n+50),o=e.sliceDoc(r-50,r));var d=/^\s*/.exec(i)[0].length,f=/\s*$/.exec(o)[0].length,_=o.length-f-a.length;return i.slice(d,d+s.length)==s&&o.slice(_,_+a.length)==a?{open:{pos:n+d+s.length,margin:/\s/.test(i.charAt(d+s.length))?1:0},close:{pos:r-f-a.length,margin:/\s/.test(o.charAt(_-1))?1:0}}:null}function Gp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.selection.ranges,r=n.map((function(e){return Wp(t,e.from).block}));if(!r.every((function(e){return e})))return null;var i=n.map((function(e,n){return Hp(t,r[n],e.from,e.to)}));if(2!=e&&!i.every((function(e){return e})))return{changes:t.changes(n.map((function(e,t){return i[t]?[]:[{from:e.from,insert:r[t].open+" "},{from:e.to,insert:" "+r[t].close}]})))};if(1!=e&&i.some((function(e){return e}))){for(var o,s=[],a=0;a<i.length;a++)if(o=i[a]){var l=r[a],c=o,u=c.open,h=c.close;s.push({from:u.pos-l.open.length,to:u.pos+u.margin},{from:h.pos-h.margin,to:h.pos+l.close.length})}return{changes:s}}return null}function Vp(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.selection.ranges,i=[],o=-1,s=(0,_n.Z)(r);try{for(s.s();!(n=s.n()).done;){for(var a=n.value,l=a.from,c=a.to,u=i.length,h=1e9,p=l;p<=c;){var d=t.doc.lineAt(p);if(d.from>o&&(l==c||c>d.from)){o=d.from;var f=Wp(t,p).line;if(!f)continue;var _=/^\s*/.exec(d.text)[0].length,g=_==d.length,m=d.text.slice(_,_+f.length)==f?_:-1;_<d.text.length&&_<h&&(h=_),i.push({line:d,comment:m,token:f,indent:_,empty:g,single:!1})}p=d.to+1}if(h<1e9)for(var v=u;v<i.length;v++)i[v].indent<i[v].line.text.length&&(i[v].indent=h);i.length==u+1&&(i[u].single=!0)}}catch(U){s.e(U)}finally{s.f()}if(2!=e&&i.some((function(e){return e.comment<0&&(!e.empty||e.single)}))){var y,T=[],E=(0,_n.Z)(i);try{for(E.s();!(y=E.n()).done;){var b=y.value,O=b.line,k=b.token,w=b.indent,S=b.empty,I=b.single;!I&&S||T.push({from:O.from+w,insert:k+" "})}}catch(U){E.e(U)}finally{E.f()}var R=t.changes(T);return{changes:R,selection:t.selection.map(R,1)}}if(1!=e&&i.some((function(e){return e.comment>=0}))){var C,A=[],x=(0,_n.Z)(i);try{for(x.s();!(C=x.n()).done;){var M=C.value,N=M.line,L=M.comment,D=M.token;if(L>=0){var P=N.from+L,B=P+D.length;" "==N.text[B-N.from]&&B++,A.push({from:P,to:B})}}}catch(U){x.e(U)}finally{x.f()}return{changes:A}}return null}var jp=xr.define(),Zp=xr.define(),qp=or.define(),Xp=or.define({combine:function(e){return Xr(e,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})}});var $p=hr.define({create:function(){return cd.empty},update:function(e,t){var n=t.state.facet(Xp),r=t.annotation(jp);if(r){var i=t.docChanged?nr.single(function(e){var t=0;return e.iterChangedRanges((function(e,n){return t=n})),t}(t.changes)):void 0,o=ed.fromTransaction(t,i),s=r.side,a=0==s?e.undone:e.done;return a=o?td(a,a.length,n.minDepth,o):id(a,t.startState.selection),new cd(0==s?r.rest:a,0==s?a:r.rest)}var l=t.annotation(Zp);if("full"!=l&&"before"!=l||(e=e.isolate()),!1===t.annotation(Dr.addToHistory))return t.changes.empty?e:e.addMapping(t.changes.desc);var c=ed.fromTransaction(t),u=t.annotation(Dr.time),h=t.annotation(Dr.userEvent);return c?e=e.addChanges(c,u,h,n.newGroupDelay,n.minDepth):t.selection&&(e=e.addSelection(t.startState.selection,u,h,n.newGroupDelay)),"full"!=l&&"after"!=l||(e=e.isolate()),e},toJSON:function(e){return{done:e.done.map((function(e){return e.toJSON()})),undone:e.undone.map((function(e){return e.toJSON()}))}},fromJSON:function(e){return new cd(e.done.map(ed.fromJSON),e.undone.map(ed.fromJSON))}});function Yp(e,t){return function(n){var r=n.state,i=n.dispatch;if(!t&&r.readOnly)return!1;var o=r.field($p,!1);if(!o)return!1;var s=o.pop(e,r,t);return!!s&&(i(s),!0)}}var zp=Yp(0,!1),Qp=Yp(1,!1),Kp=Yp(0,!0),Jp=Yp(1,!0);var ed=function(){function e(t,n,r,i,o){(0,En.Z)(this,e),this.changes=t,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=o}return(0,bn.Z)(e,[{key:"setSelAfter",value:function(t){return new e(this.changes,this.effects,this.mapped,this.startSelection,t)}},{key:"toJSON",value:function(){var e,t,n;return{changes:null===(e=this.changes)||void 0===e?void 0:e.toJSON(),mapped:null===(t=this.mapped)||void 0===t?void 0:t.toJSON(),startSelection:null===(n=this.startSelection)||void 0===n?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map((function(e){return e.toJSON()}))}}}],[{key:"fromJSON",value:function(t){return new e(t.changes&&$n.fromJSON(t.changes),[],t.mapped&&Xn.fromJSON(t.mapped),t.startSelection&&nr.fromJSON(t.startSelection),t.selectionsAfter.map(nr.fromJSON))}},{key:"fromTransaction",value:function(t,n){var r,i=rd,o=(0,_n.Z)(t.startState.facet(qp));try{for(o.s();!(r=o.n()).done;){var s=(0,r.value)(t);s.length&&(i=i.concat(s))}}catch(a){o.e(a)}finally{o.f()}return!i.length&&t.changes.empty?null:new e(t.changes.invert(t.startState.doc),i,void 0,n||t.startState.selection,rd)}},{key:"selection",value:function(t){return new e(void 0,rd,void 0,void 0,t)}}]),e}();function td(e,t,n,r){var i=t+1>n+20?t-n-1:0,o=e.slice(i,t);return o.push(r),o}function nd(e,t){return e.length?t.length?e.concat(t):e:t}var rd=[];function id(e,t){if(e.length){var n=e[e.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-200));return r.length&&r[r.length-1].eq(t)?e:(r.push(t),td(e,e.length-1,1e9,n.setSelAfter(r)))}return[ed.selection([t])]}function od(e){var t=e[e.length-1],n=e.slice();return n[e.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),n}function sd(e,t){if(!e.length)return e;for(var n=e.length,r=rd;n;){var i=ad(e[n-1],t,r);if(i.changes&&!i.changes.empty||i.effects.length){var o=e.slice(0,n);return o[n-1]=i,o}t=i.mapped,n--,r=i.selectionsAfter}return r.length?[ed.selection(r)]:rd}function ad(e,t,n){var r=nd(e.selectionsAfter.length?e.selectionsAfter.map((function(e){return e.map(t)})):rd,n);if(!e.changes)return ed.selection(r);var i=e.changes.map(t),o=t.mapDesc(e.changes,!0),s=e.mapped?e.mapped.composeDesc(o):o;return new ed(i,Lr.mapEffects(e.effects,t),s,e.startSelection.map(o),r)}var ld=/^(input\.type|delete)($|\.)/,cd=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;(0,En.Z)(this,e),this.done=t,this.undone=n,this.prevTime=r,this.prevUserEvent=i}return(0,bn.Z)(e,[{key:"isolate",value:function(){return this.prevTime?new e(this.done,this.undone):this}},{key:"addChanges",value:function(t,n,r,i,o){var s=this.done,a=s[s.length-1];return s=a&&a.changes&&!a.changes.empty&&t.changes&&(!r||ld.test(r))&&(!a.selectionsAfter.length&&n-this.prevTime<i&&function(e,t){var n=[],r=!1;return e.iterChangedRanges((function(e,t){return n.push(e,t)})),t.iterChangedRanges((function(e,t,i,o){for(var s=0;s<n.length;){var a=n[s++],l=n[s++];o>=a&&i<=l&&(r=!0)}})),r}(a.changes,t.changes)||"input.type.compose"==r)?td(s,s.length-1,o,new ed(t.changes.compose(a.changes),nd(t.effects,a.effects),a.mapped,a.startSelection,rd)):td(s,s.length,o,t),new e(s,rd,n,r)}},{key:"addSelection",value:function(t,n,r,i){var o=this.done.length?this.done[this.done.length-1].selectionsAfter:rd;return o.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&function(e,t){return e.ranges.length==t.ranges.length&&0===e.ranges.filter((function(e,n){return e.empty!=t.ranges[n].empty})).length}(o[o.length-1],t)?this:new e(id(this.done,t),this.undone,n,r)}},{key:"addMapping",value:function(t){return new e(sd(this.done,t),sd(this.undone,t),this.prevTime,this.prevUserEvent)}},{key:"pop",value:function(e,t,n){var r=0==e?this.done:this.undone;if(0==r.length)return null;var i=r[r.length-1];if(n&&i.selectionsAfter.length)return t.update({selection:i.selectionsAfter[i.selectionsAfter.length-1],annotations:jp.of({side:e,rest:od(r)}),userEvent:0==e?"select.undo":"select.redo",scrollIntoView:!0});if(i.changes){var o=1==r.length?rd:r.slice(0,r.length-1);return i.mapped&&(o=sd(o,i.mapped)),t.update({changes:i.changes,selection:i.startSelection,effects:i.effects,annotations:jp.of({side:e,rest:o}),filter:!1,userEvent:0==e?"undo":"redo",scrollIntoView:!0})}return null}}]),e}();cd.empty=new cd(rd,rd);var ud=[{key:"Mod-z",run:zp,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Qp,preventDefault:!0},{linux:"Ctrl-Shift-z",run:Qp,preventDefault:!0},{key:"Mod-u",run:Kp,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Jp,preventDefault:!0}];function hd(e,t){return nr.create(e.ranges.map(t),e.mainIndex)}function pd(e,t){return e.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function dd(e,t){var n=e.state,r=e.dispatch,i=hd(n.selection,t);return!i.eq(n.selection)&&(r(pd(n,i)),!0)}function fd(e,t){return nr.cursor(t?e.to:e.from)}function _d(e,t){return dd(e,(function(n){return n.empty?e.moveByChar(n,t):fd(n,t)}))}function gd(e){return e.textDirectionAt(e.state.selection.main.head)==hs.LTR}var md=function(e){return _d(e,!gd(e))},vd=function(e){return _d(e,gd(e))};function yd(e,t){return dd(e,(function(n){return n.empty?e.moveByGroup(n,t):fd(n,t)}))}function Td(e,t,n){if(t.type.prop(n))return!0;var r=t.to-t.from;return r&&(r>2||/[^\s,.;:]/.test(e.sliceDoc(t.from,t.to)))||t.firstChild}function Ed(e,t,n){for(var r=dh(e).resolveInner(t.head),i=n?lu.closedBy:lu.openedBy,o=t.head;;){var s=n?r.childAfter(o):r.childBefore(o);if(!s)break;Td(e,s,i)?r=s:o=n?s.to:s.from}var a,l;return l=r.type.prop(i)&&(a=n?bp(e,r.from,1):bp(e,r.to,-1))&&a.matched?n?a.end.to:a.end.from:n?r.to:r.from,nr.cursor(l,n?-1:1)}function bd(e,t){return dd(e,(function(n){if(!n.empty)return fd(n,t);var r=e.moveVertically(n,t);return r.head!=n.head?r:e.moveToLineBoundary(n,t)}))}var Od=function(e){return bd(e,!1)},kd=function(e){return bd(e,!0)};function wd(e){return Math.max(e.defaultLineHeight,Math.min(e.dom.clientHeight,innerHeight)-5)}function Sd(e,t){var n=e.state,r=hd(n.selection,(function(n){return n.empty?e.moveVertically(n,t,wd(e)):fd(n,t)}));if(r.eq(n.selection))return!1;var i,o=e.coordsAtPos(n.selection.main.head),s=e.scrollDOM.getBoundingClientRect();return o&&o.top>s.top&&o.bottom<s.bottom&&o.top-s.top<=e.scrollDOM.scrollHeight-e.scrollDOM.scrollTop-e.scrollDOM.clientHeight&&(i=gl.scrollIntoView(r.main.head,{y:"start",yMargin:o.top-s.top})),e.dispatch(pd(n,r),{effects:i}),!0}var Id=function(e){return Sd(e,!1)},Rd=function(e){return Sd(e,!0)};function Cd(e,t,n){var r=e.lineBlockAt(t.head),i=e.moveToLineBoundary(t,n);if(i.head==t.head&&i.head!=(n?r.to:r.from)&&(i=e.moveToLineBoundary(t,n,!1)),!n&&i.head==r.from&&r.length){var o=/^\s*/.exec(e.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;o&&t.head!=r.from+o&&(i=nr.cursor(r.from+o))}return i}function Ad(e,t,n){var r=!1,i=hd(e.selection,(function(t){var i=bp(e,t.head,-1)||bp(e,t.head,1)||t.head>0&&bp(e,t.head-1,1)||t.head<e.doc.length&&bp(e,t.head+1,-1);if(!i||!i.end)return t;r=!0;var o=i.start.from==t.head?i.end.to:i.end.from;return n?nr.range(t.anchor,o):nr.cursor(o)}));return!!r&&(t(pd(e,i)),!0)}function xd(e,t){var n=hd(e.state.selection,(function(e){var n=t(e);return nr.range(e.anchor,n.head,n.goalColumn)}));return!n.eq(e.state.selection)&&(e.dispatch(pd(e.state,n)),!0)}function Md(e,t){return xd(e,(function(n){return e.moveByChar(n,t)}))}var Nd=function(e){return Md(e,!gd(e))},Ld=function(e){return Md(e,gd(e))};function Dd(e,t){return xd(e,(function(n){return e.moveByGroup(n,t)}))}function Pd(e,t){return xd(e,(function(n){return e.moveVertically(n,t)}))}var Bd=function(e){return Pd(e,!1)},Ud=function(e){return Pd(e,!0)};function Fd(e,t){return xd(e,(function(n){return e.moveVertically(n,t,wd(e))}))}var Wd=function(e){return Fd(e,!1)},Hd=function(e){return Fd(e,!0)},Gd=function(e){var t=e.state;return(0,e.dispatch)(pd(t,{anchor:0})),!0},Vd=function(e){var t=e.state;return(0,e.dispatch)(pd(t,{anchor:t.doc.length})),!0},jd=function(e){var t=e.state;return(0,e.dispatch)(pd(t,{anchor:t.selection.main.anchor,head:0})),!0},Zd=function(e){var t=e.state;return(0,e.dispatch)(pd(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0};function qd(e,t){if(e.state.readOnly)return!1;var n="delete.selection",r=e.state,i=r.changeByRange((function(r){var i=r.from,o=r.to;if(i==o){var s=t(i);s<i?(n="delete.backward",s=Xd(e,s,!1)):s>i&&(n="delete.forward",s=Xd(e,s,!0)),i=Math.min(i,s),o=Math.max(o,s)}else i=Xd(e,i,!1),o=Xd(e,o,!0);return i==o?{range:r}:{changes:{from:i,to:o},range:nr.cursor(i)}}));return!i.changes.empty&&(e.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:"delete.selection"==n?gl.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function Xd(e,t,n){if(e instanceof gl){var r,i=(0,_n.Z)(e.state.facet(gl.atomicRanges).map((function(t){return t(e)})));try{for(i.s();!(r=i.n()).done;){r.value.between(t,t,(function(e,r){e<t&&r>t&&(t=n?r:e)}))}}catch(o){i.e(o)}finally{i.f()}}return t}var $d=function(e,t){return qd(e,(function(n){var r,i,o=e.state,s=o.doc.lineAt(n);if(!t&&n>s.from&&n<s.from+200&&!/[^ \t]/.test(r=s.text.slice(0,n-s.from))){if("\t"==r[r.length-1])return n-1;for(var a=hi(r,o.tabSize)%Sh(o)||Sh(o),l=0;l<a&&" "==r[r.length-1-l];l++)n--;i=n}else(i=Bn(s.text,n-s.from,t,t)+s.from)==n&&s.number!=(t?o.doc.lines:1)&&(i+=t?1:-1);return i}))},Yd=function(e){return $d(e,!1)},zd=function(e){return $d(e,!0)},Qd=function(e,t){return qd(e,(function(n){for(var r=n,i=e.state,o=i.doc.lineAt(r),s=i.charCategorizer(r),a=null;;){if(r==(t?o.to:o.from)){r==n&&o.number!=(t?i.doc.lines:1)&&(r+=t?1:-1);break}var l=Bn(o.text,r-o.from,t)+o.from,c=o.text.slice(Math.min(r,l)-o.from,Math.max(r,l)-o.from),u=s(c);if(null!=a&&u!=a)break;" "==c&&r==n||(a=u),r=l}return r}))},Kd=function(e){return Qd(e,!1)},Jd=function(e){return qd(e,(function(t){var n=e.lineBlockAt(t).to;return t<n?n:Math.min(e.state.doc.length,t+1)}))};function ef(e){var t,n=[],r=-1,i=(0,_n.Z)(e.selection.ranges);try{for(i.s();!(t=i.n()).done;){var o=t.value,s=e.doc.lineAt(o.from),a=e.doc.lineAt(o.to);if(o.empty||o.to!=a.from||(a=e.doc.lineAt(o.to-1)),r>=s.number){var l=n[n.length-1];l.to=a.to,l.ranges.push(o)}else n.push({from:s.from,to:a.to,ranges:[o]});r=a.number+1}}catch(c){i.e(c)}finally{i.f()}return n}function tf(e,t,n){if(e.readOnly)return!1;var r,i=[],o=[],s=(0,_n.Z)(ef(e));try{for(s.s();!(r=s.n()).done;){var a=r.value;if(n?a.to!=e.doc.length:0!=a.from){var l=e.doc.lineAt(n?a.to+1:a.from-1),c=l.length+1;if(n){i.push({from:a.to,to:l.to},{from:a.from,insert:l.text+e.lineBreak});var u,h=(0,_n.Z)(a.ranges);try{for(h.s();!(u=h.n()).done;){var p=u.value;o.push(nr.range(Math.min(e.doc.length,p.anchor+c),Math.min(e.doc.length,p.head+c)))}}catch(g){h.e(g)}finally{h.f()}}else{i.push({from:l.from,to:a.from},{from:a.to,insert:e.lineBreak+l.text});var d,f=(0,_n.Z)(a.ranges);try{for(f.s();!(d=f.n()).done;){var _=d.value;o.push(nr.range(_.anchor-c,_.head-c))}}catch(g){f.e(g)}finally{f.f()}}}}}catch(g){s.e(g)}finally{s.f()}return!!i.length&&(t(e.update({changes:i,scrollIntoView:!0,selection:nr.create(o,e.selection.mainIndex),userEvent:"move.line"})),!0)}function nf(e,t,n){if(e.readOnly)return!1;var r,i=[],o=(0,_n.Z)(ef(e));try{for(o.s();!(r=o.n()).done;){var s=r.value;n?i.push({from:s.from,insert:e.doc.slice(s.from,s.to)+e.lineBreak}):i.push({from:s.to,insert:e.lineBreak+e.doc.slice(s.from,s.to)})}}catch(a){o.e(a)}finally{o.f()}return t(e.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}var rf=sf(!1),of=sf(!0);function sf(e){return function(t){var n=t.state,r=t.dispatch;if(n.readOnly)return!1;var i=n.changeByRange((function(t){var r=t.from,i=t.to,o=n.doc.lineAt(r),s=!e&&r==i&&function(e,t){if(/\(\)|\[\]|\{\}/.test(e.sliceDoc(t-1,t+1)))return{from:t,to:t};var n,r=dh(e).resolveInner(t),i=r.childBefore(t),o=r.childAfter(t);return i&&o&&i.to<=t&&o.from>=t&&(n=i.type.prop(lu.closedBy))&&n.indexOf(o.name)>-1&&e.doc.lineAt(i.to).from==e.doc.lineAt(o.from).from?{from:i.to,to:o.from}:null}(n,r);e&&(r=i=(i<=o.to?o:n.doc.lineAt(i)).to);var a=new Ch(n,{simulateBreak:r,simulateDoubleBreak:!!s}),l=Rh(a,r);for(null==l&&(l=/^\s*/.exec(n.doc.lineAt(r).text)[0].length);i<o.to&&/\s/.test(o.text[i-o.from]);)i++;s?(r=s.from,i=s.to):r>o.from&&r<o.from+100&&!/\S/.test(o.text.slice(0,r))&&(r=o.from);var c=["",Ih(n,l)];return s&&c.push(Ih(n,a.lineIndent(o.from,-1))),{changes:{from:r,to:i,insert:On.of(c)},range:nr.cursor(r+1+c[1].length)}}));return r(n.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function af(e,t){var n=-1;return e.changeByRange((function(r){for(var i=[],o=r.from;o<=r.to;){var s=e.doc.lineAt(o);s.number>n&&(r.empty||r.to>s.from)&&(t(s,i,r),n=s.number),o=s.to+1}var a=e.changes(i);return{changes:i,range:nr.range(a.mapPos(r.anchor,1),a.mapPos(r.head,1))}}))}var lf=function(e){var t=e.state,n=e.dispatch;return!t.readOnly&&(n(t.update(af(t,(function(e,n){n.push({from:e.from,insert:t.facet(wh)})})),{userEvent:"input.indent"})),!0)},cf=function(e){var t=e.state,n=e.dispatch;return!t.readOnly&&(n(t.update(af(t,(function(e,n){var r=/^\s*/.exec(e.text)[0];if(r){for(var i=hi(r,t.tabSize),o=0,s=Ih(t,Math.max(0,i-Sh(t)));o<r.length&&o<s.length&&r.charCodeAt(o)==s.charCodeAt(o);)o++;n.push({from:e.from+o,to:e.from+r.length,insert:s.slice(o)})}})),{userEvent:"delete.dedent"})),!0)},uf=[{key:"ArrowLeft",run:md,shift:Nd,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:function(e){return yd(e,!gd(e))},shift:function(e){return Dd(e,!gd(e))},preventDefault:!0},{mac:"Cmd-ArrowLeft",run:function(e){return dd(e,(function(t){return Cd(e,t,!gd(e))}))},shift:function(e){return xd(e,(function(t){return Cd(e,t,!gd(e))}))},preventDefault:!0},{key:"ArrowRight",run:vd,shift:Ld,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:function(e){return yd(e,gd(e))},shift:function(e){return Dd(e,gd(e))},preventDefault:!0},{mac:"Cmd-ArrowRight",run:function(e){return dd(e,(function(t){return Cd(e,t,gd(e))}))},shift:function(e){return xd(e,(function(t){return Cd(e,t,gd(e))}))},preventDefault:!0},{key:"ArrowUp",run:Od,shift:Bd,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Gd,shift:jd},{mac:"Ctrl-ArrowUp",run:Id,shift:Wd},{key:"ArrowDown",run:kd,shift:Ud,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Vd,shift:Zd},{mac:"Ctrl-ArrowDown",run:Rd,shift:Hd},{key:"PageUp",run:Id,shift:Wd},{key:"PageDown",run:Rd,shift:Hd},{key:"Home",run:function(e){return dd(e,(function(t){return Cd(e,t,!1)}))},shift:function(e){return xd(e,(function(t){return Cd(e,t,!1)}))},preventDefault:!0},{key:"Mod-Home",run:Gd,shift:jd},{key:"End",run:function(e){return dd(e,(function(t){return Cd(e,t,!0)}))},shift:function(e){return xd(e,(function(t){return Cd(e,t,!0)}))},preventDefault:!0},{key:"Mod-End",run:Vd,shift:Zd},{key:"Enter",run:rf},{key:"Mod-a",run:function(e){var t=e.state;return(0,e.dispatch)(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0}},{key:"Backspace",run:Yd,shift:Yd},{key:"Delete",run:zd},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Kd},{key:"Mod-Delete",mac:"Alt-Delete",run:function(e){return Qd(e,!0)}},{mac:"Mod-Backspace",run:function(e){return qd(e,(function(t){var n=e.lineBlockAt(t).from;return t>n?n:Math.max(0,t-1)}))}},{mac:"Mod-Delete",run:Jd}].concat([{key:"Ctrl-b",run:md,shift:Nd,preventDefault:!0},{key:"Ctrl-f",run:vd,shift:Ld},{key:"Ctrl-p",run:Od,shift:Bd},{key:"Ctrl-n",run:kd,shift:Ud},{key:"Ctrl-a",run:function(e){return dd(e,(function(t){return nr.cursor(e.lineBlockAt(t.head).from,1)}))},shift:function(e){return xd(e,(function(t){return nr.cursor(e.lineBlockAt(t.head).from)}))}},{key:"Ctrl-e",run:function(e){return dd(e,(function(t){return nr.cursor(e.lineBlockAt(t.head).to,-1)}))},shift:function(e){return xd(e,(function(t){return nr.cursor(e.lineBlockAt(t.head).to)}))}},{key:"Ctrl-d",run:zd},{key:"Ctrl-h",run:Yd},{key:"Ctrl-k",run:Jd},{key:"Ctrl-Alt-h",run:Kd},{key:"Ctrl-o",run:function(e){var t=e.state,n=e.dispatch;if(t.readOnly)return!1;var r=t.changeByRange((function(e){return{changes:{from:e.from,to:e.to,insert:On.of(["",""])},range:nr.cursor(e.from)}}));return n(t.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:function(e){var t=e.state,n=e.dispatch;if(t.readOnly)return!1;var r=t.changeByRange((function(e){if(!e.empty||0==e.from||e.from==t.doc.length)return{range:e};var n=e.from,r=t.doc.lineAt(n),i=n==r.from?n-1:Bn(r.text,n-r.from,!1)+r.from,o=n==r.to?n+1:Bn(r.text,n-r.from,!0)+r.from;return{changes:{from:i,to:o,insert:t.doc.slice(n,o).append(t.doc.slice(i,n))},range:nr.cursor(o)}}));return!r.changes.empty&&(n(t.update(r,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:Rd}].map((function(e){return{mac:e.key,run:e.run,shift:e.shift}}))),hf=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:function(e){return dd(e,(function(t){return Ed(e.state,t,!gd(e))}))},shift:function(e){return xd(e,(function(t){return Ed(e.state,t,!gd(e))}))}},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:function(e){return dd(e,(function(t){return Ed(e.state,t,gd(e))}))},shift:function(e){return xd(e,(function(t){return Ed(e.state,t,gd(e))}))}},{key:"Alt-ArrowUp",run:function(e){return tf(e.state,e.dispatch,!1)}},{key:"Shift-Alt-ArrowUp",run:function(e){return nf(e.state,e.dispatch,!1)}},{key:"Alt-ArrowDown",run:function(e){return tf(e.state,e.dispatch,!0)}},{key:"Shift-Alt-ArrowDown",run:function(e){return nf(e.state,e.dispatch,!0)}},{key:"Escape",run:function(e){var t=e.state,n=e.dispatch,r=t.selection,i=null;return r.ranges.length>1?i=nr.create([r.main]):r.main.empty||(i=nr.create([nr.cursor(r.main.head)])),!!i&&(n(pd(t,i)),!0)}},{key:"Mod-Enter",run:of},{key:"Alt-l",mac:"Ctrl-l",run:function(e){var t=e.state,n=e.dispatch,r=ef(t).map((function(e){var n=e.from,r=e.to;return nr.range(n,Math.min(r+1,t.doc.length))}));return n(t.update({selection:nr.create(r),userEvent:"select"})),!0}},{key:"Mod-i",run:function(e){var t=e.state,n=e.dispatch,r=hd(t.selection,(function(e){for(var n,r=dh(t).resolveInner(e.head,1);!(r.from<e.from&&r.to>=e.to||r.to>e.to&&r.from<=e.from)&&(null===(n=r.parent)||void 0===n?void 0:n.parent);)r=r.parent;return nr.range(r.to,r.from)}));return n(pd(t,r)),!0},preventDefault:!0},{key:"Mod-[",run:cf},{key:"Mod-]",run:lf},{key:"Mod-Alt-\\",run:function(e){var t=e.state,n=e.dispatch;if(t.readOnly)return!1;var r=Object.create(null),i=new Ch(t,{overrideIndentation:function(e){var t=r[e];return null==t?-1:t}}),o=af(t,(function(e,n,o){var s=Rh(i,e.from);if(null!=s){/\S/.test(e.text)||(s=0);var a=/^\s*/.exec(e.text)[0],l=Ih(t,s);(a!=l||o.from<e.from+a.length)&&(r[e.from]=s,n.push({from:e.from,to:e.from+a.length,insert:l}))}}));return o.changes.empty||n(t.update(o,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:function(e){if(e.state.readOnly)return!1;var t=e.state,n=t.changes(ef(t).map((function(e){var n=e.from,r=e.to;return n>0?n--:r<t.doc.length&&r++,{from:n,to:r}}))),r=hd(t.selection,(function(t){return e.moveVertically(t,!0)})).map(n);return e.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:function(e){return Ad(e.state,e.dispatch,!1)}},{key:"Mod-/",run:function(e){var t=Wp(e.state);return t.line?Bp(e):!!t.block&&Fp(e)}},{key:"Alt-A",run:Up}].concat(uf),pf={key:"Tab",run:lf,shift:cf};function df(){var e=arguments[0];"string"==typeof e&&(e=document.createElement(e));var t=1,n=arguments[1];if(n&&"object"==typeof n&&null==n.nodeType&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];"string"==typeof i?e.setAttribute(r,i):null!=i&&(e[r]=i)}t++}for(;t<arguments.length;t++)ff(e,arguments[t]);return e}function ff(e,t){if("string"==typeof t)e.appendChild(document.createTextNode(t));else if(null==t);else if(null!=t.nodeType)e.appendChild(t);else{if(!Array.isArray(t))throw new RangeError("Unsupported child node: "+t);for(var n=0;n<t.length;n++)ff(e,t[n])}}var _f="function"==typeof String.prototype.normalize?function(e){return e.normalize("NFKD")}:function(e){return e},gf=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length,o=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;(0,En.Z)(this,e),this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=t.iterRange(r,i),this.bufferStart=r,this.normalize=o?function(e){return o(_f(e))}:_f,this.query=this.normalize(n)}return(0,bn.Z)(e,[{key:"peek",value:function(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Gn(this.buffer,this.bufferPos)}},{key:"next",value:function(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}},{key:"nextOverlapping",value:function(){for(;;){var e=this.peek();if(e<0)return this.done=!0,this;var t=Vn(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=jn(e);for(var r=this.normalize(t),i=0,o=n;;i++){var s=r.charCodeAt(i),a=this.match(s,o);if(a)return this.value=a,this;if(i==r.length-1)break;o==n&&i<t.length&&t.charCodeAt(i)==s&&o++}}}},{key:"match",value:function(e,t){for(var n=null,r=0;r<this.matches.length;r+=2){var i=this.matches[r],o=!1;this.query.charCodeAt(i)==e&&(i==this.query.length-1?n={from:this.matches[r+1],to:t+1}:(this.matches[r]++,o=!0)),o||(this.matches.splice(r,2),r-=2)}return this.query.charCodeAt(0)==e&&(1==this.query.length?n={from:t,to:t+1}:this.matches.push(1,t)),n&&this.test&&!this.test(n.from,n.to,this.buffer,this.bufferPos)&&(n=null),n}}]),e}();"undefined"!=typeof Symbol&&(gf.prototype[Symbol.iterator]=function(){return this});var mf={from:-1,to:-1,match:/.*/.exec("")},vf="gm"+(null==/x/.unicode?"":"u"),yf=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t.length;if((0,En.Z)(this,e),this.text=t,this.to=o,this.curLine="",this.done=!1,this.value=mf,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new bf(t,n,r,i,o);this.re=new RegExp(n,vf+((null===r||void 0===r?void 0:r.ignoreCase)?"i":"")),this.test=null===r||void 0===r?void 0:r.test,this.iter=t.iter();var s=t.lineAt(i);this.curLineStart=s.from,this.matchPos=Of(t,i),this.getLine(this.curLineStart)}return(0,bn.Z)(e,[{key:"getLine",value:function(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}},{key:"nextLine",value:function(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}},{key:"next",value:function(){for(var e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;var t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){var n=this.curLineStart+t.index,r=n+t[0].length;if(this.matchPos=Of(this.text,r+(n==r?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<r||n>this.value.to)&&(!this.test||this.test(n,r,t)))return this.value={from:n,to:r,match:t},this;e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),e=0}}}}]),e}(),Tf=new WeakMap,Ef=function(){function e(t,n){(0,En.Z)(this,e),this.from=t,this.text=n}return(0,bn.Z)(e,[{key:"to",get:function(){return this.from+this.text.length}}],[{key:"get",value:function(t,n,r){var i=Tf.get(t);if(!i||i.from>=r||i.to<=n){var o=new e(n,t.sliceString(n,r));return Tf.set(t,o),o}if(i.from==n&&i.to==r)return i;var s=i.text,a=i.from;return a>n&&(s=t.sliceString(n,a)+s,a=n),i.to<r&&(s+=t.sliceString(i.to,r)),Tf.set(t,new e(a,s)),new e(n,s.slice(n-a,r-a))}}]),e}(),bf=function(){function e(t,n,r,i,o){(0,En.Z)(this,e),this.text=t,this.to=o,this.done=!1,this.value=mf,this.matchPos=Of(t,i),this.re=new RegExp(n,vf+((null===r||void 0===r?void 0:r.ignoreCase)?"i":"")),this.test=null===r||void 0===r?void 0:r.test,this.flat=Ef.get(t,i,this.chunkEnd(i+5e3))}return(0,bn.Z)(e,[{key:"chunkEnd",value:function(e){return e>=this.to?this.to:this.text.lineAt(e).to}},{key:"next",value:function(){for(;;){var e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){var n=this.flat.from+t.index,r=n+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(n,r,t)))return this.value={from:n,to:r,match:t},this.matchPos=Of(this.text,r+(n==r?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Ef.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}]),e}();function Of(e,t){if(t>=e.length)return t;for(var n,r=e.lineAt(t);t<r.to&&(n=r.text.charCodeAt(t-r.from))>=56320&&n<57344;)t++;return t}function kf(e){var t=df("input",{class:"cm-textfield",name:"line"});function n(){var n=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(n){var r=e.state,i=r.doc.lineAt(r.selection.main.head),s=o(n,5),a=s[1],l=s[2],c=s[3],u=s[4],h=c?+c.slice(1):0,p=l?+l:i.number;if(l&&u){var d=p/100;a&&(d=d*("-"==a?-1:1)+i.number/r.doc.lines),p=Math.round(r.doc.lines*d)}else l&&a&&(p=p*("-"==a?-1:1)+i.number);var f=r.doc.line(Math.max(1,Math.min(r.doc.lines,p)));e.dispatch({effects:wf.of(!1),selection:nr.cursor(f.from+Math.max(0,Math.min(h,f.length))),scrollIntoView:!0}),e.focus()}}return{dom:df("form",{class:"cm-gotoLine",onkeydown:function(t){27==t.keyCode?(t.preventDefault(),e.dispatch({effects:wf.of(!1)}),e.focus()):13==t.keyCode&&(t.preventDefault(),n())},onsubmit:function(e){e.preventDefault(),n()}},df("label",e.state.phrase("Go to line"),": ",t)," ",df("button",{class:"cm-button",type:"submit"},e.state.phrase("go")))}}"undefined"!=typeof Symbol&&(yf.prototype[Symbol.iterator]=bf.prototype[Symbol.iterator]=function(){return this});var wf=Lr.define(),Sf=hr.define({create:function(){return!0},update:function(e,t){var n,r=(0,_n.Z)(t.effects);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.is(wf)&&(e=i.value)}}catch(o){r.e(o)}finally{r.f()}return e},provide:function(e){return Pc.from(e,(function(e){return e?kf:null}))}}),If=gl.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),Rf={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},Cf=or.define({combine:function(e){return Xr(e,Rf,{highlightWordAroundCursor:function(e,t){return e||t},minSelectionLength:Math.min,maxMatches:Math.min})}});var Af=Ao.mark({class:"cm-selectionMatch"}),xf=Ao.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function Mf(e,t,n,r){return(0==n||e(t.sliceDoc(n-1,n))!=Vr.Word)&&(r==t.doc.length||e(t.sliceDoc(r,r+1))!=Vr.Word)}var Nf=ts.fromClass(function(){function e(t){(0,En.Z)(this,e),this.decorations=this.getDeco(t)}return(0,bn.Z)(e,[{key:"update",value:function(e){(e.selectionSet||e.docChanged||e.viewportChanged)&&(this.decorations=this.getDeco(e.view))}},{key:"getDeco",value:function(e){var t=e.state.facet(Cf),n=e.state,r=n.selection;if(r.ranges.length>1)return Ao.none;var i,o=r.main,s=null;if(o.empty){if(!t.highlightWordAroundCursor)return Ao.none;var a=n.wordAt(o.head);if(!a)return Ao.none;s=n.charCategorizer(o.head),i=n.sliceDoc(a.from,a.to)}else{var l=o.to-o.from;if(l<t.minSelectionLength||l>200)return Ao.none;if(t.wholeWords){if(i=n.sliceDoc(o.from,o.to),!Mf(s=n.charCategorizer(o.head),n,o.from,o.to)||!function(e,t,n,r){return e(t.sliceDoc(n,n+1))==Vr.Word&&e(t.sliceDoc(r-1,r))==Vr.Word}(s,n,o.from,o.to))return Ao.none}else if(!(i=n.sliceDoc(o.from,o.to).trim()))return Ao.none}var c,u=[],h=(0,_n.Z)(e.visibleRanges);try{for(h.s();!(c=h.n()).done;)for(var p=c.value,d=new gf(n.doc,i,p.from,p.to);!d.next().done;){var f=d.value,_=f.from,g=f.to;if((!s||Mf(s,n,_,g))&&(o.empty&&_<=o.from&&g>=o.to?u.push(xf.range(_,g)):(_>=o.to||g<=o.from)&&u.push(Af.range(_,g)),u.length>t.maxMatches))return Ao.none}}catch(m){h.e(m)}finally{h.f()}return Ao.set(u)}}]),e}(),{decorations:function(e){return e.decorations}}),Lf=gl.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}});var Df=or.define({combine:function(e){return Xr(e,{top:!1,caseSensitive:!1,literal:!1,wholeWord:!1,createPanel:function(e){return new l_(e)}})}});var Pf=function(){function e(t){(0,En.Z)(this,e),this.search=t.search,this.caseSensitive=!!t.caseSensitive,this.literal=!!t.literal,this.regexp=!!t.regexp,this.replace=t.replace||"",this.valid=!!this.search&&(!this.regexp||function(e){try{return new RegExp(e,vf),!0}catch(Zu){return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!t.wholeWord}return(0,bn.Z)(e,[{key:"unquote",value:function(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(function(e,t){return"n"==t?"\n":"r"==t?"\r":"t"==t?"\t":"\\"}))}},{key:"eq",value:function(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}},{key:"create",value:function(){return this.regexp?new Vf(this):new Ff(this)}},{key:"getCursor",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=e.doc?e:qr.create({doc:e});return null==n&&(n=r.doc.length),this.regexp?Wf(this,r,t,n):Uf(this,r,t,n)}}]),e}(),Bf=(0,bn.Z)((function e(t){(0,En.Z)(this,e),this.spec=t}));function Uf(e,t,n,r){return new gf(t.doc,e.unquoted,n,r,e.caseSensitive?void 0:function(e){return e.toLowerCase()},e.wholeWord?function(e,t){return function(n,r,i,o){return(o>n||o+i.length<r)&&(o=Math.max(0,n-2),i=e.sliceString(o,Math.min(e.length,r+2))),(t(Hf(i,n-o))!=Vr.Word||t(Gf(i,n-o))!=Vr.Word)&&(t(Gf(i,r-o))!=Vr.Word||t(Hf(i,r-o))!=Vr.Word)}}(t.doc,t.charCategorizer(t.selection.main.head)):void 0)}var Ff=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e){return(0,En.Z)(this,n),t.call(this,e)}return(0,bn.Z)(n,[{key:"nextMatch",value:function(e,t,n){var r=Uf(this.spec,e,n,e.doc.length).nextOverlapping();return r.done&&(r=Uf(this.spec,e,0,t).nextOverlapping()),r.done?null:r.value}},{key:"prevMatchInRange",value:function(e,t,n){for(var r=n;;){for(var i=Math.max(t,r-1e4-this.spec.unquoted.length),o=Uf(this.spec,e,i,r),s=null;!o.nextOverlapping().done;)s=o.value;if(s)return s;if(i==t)return null;r-=1e4}}},{key:"prevMatch",value:function(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}},{key:"getReplacement",value:function(e){return this.spec.unquote(this.spec.replace)}},{key:"matchAll",value:function(e,t){for(var n=Uf(this.spec,e,0,e.doc.length),r=[];!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}},{key:"highlight",value:function(e,t,n,r){for(var i=Uf(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.doc.length));!i.next().done;)r(i.value.from,i.value.to)}}]),n}(Bf);function Wf(e,t,n,r){return new yf(t.doc,e.search,{ignoreCase:!e.caseSensitive,test:e.wholeWord?(i=t.charCategorizer(t.selection.main.head),function(e,t,n){return!n[0].length||(i(Hf(n.input,n.index))!=Vr.Word||i(Gf(n.input,n.index))!=Vr.Word)&&(i(Gf(n.input,n.index+n[0].length))!=Vr.Word||i(Hf(n.input,n.index+n[0].length))!=Vr.Word)}):void 0},n,r);var i}function Hf(e,t){return e.slice(Bn(e,t,!1),t)}function Gf(e,t){return e.slice(t,Bn(e,t))}var Vf=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(){return(0,En.Z)(this,n),t.apply(this,arguments)}return(0,bn.Z)(n,[{key:"nextMatch",value:function(e,t,n){var r=Wf(this.spec,e,n,e.doc.length).next();return r.done&&(r=Wf(this.spec,e,0,t).next()),r.done?null:r.value}},{key:"prevMatchInRange",value:function(e,t,n){for(var r=1;;r++){for(var i=Math.max(t,n-1e4*r),o=Wf(this.spec,e,i,n),s=null;!o.next().done;)s=o.value;if(s&&(i==t||s.from>i+10))return s;if(i==t)return null}}},{key:"prevMatch",value:function(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}},{key:"getReplacement",value:function(e){return this.spec.unquote(this.spec.replace.replace(/\$([$&\d+])/g,(function(t,n){return"$"==n?"$":"&"==n?e.match[0]:"0"!=n&&+n<e.match.length?e.match[n]:t})))}},{key:"matchAll",value:function(e,t){for(var n=Wf(this.spec,e,0,e.doc.length),r=[];!n.next().done;){if(r.length>=t)return null;r.push(n.value)}return r}},{key:"highlight",value:function(e,t,n,r){for(var i=Wf(this.spec,e,Math.max(0,t-250),Math.min(n+250,e.doc.length));!i.next().done;)r(i.value.from,i.value.to)}}]),n}(Bf),jf=Lr.define(),Zf=Lr.define(),qf=hr.define({create:function(e){return new Xf(i_(e).create(),null)},update:function(e,t){var n,r=(0,_n.Z)(t.effects);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.is(jf)?e=new Xf(i.value.create(),e.panel):i.is(Zf)&&(e=new Xf(e.query,i.value?r_:null))}}catch(o){r.e(o)}finally{r.f()}return e},provide:function(e){return Pc.from(e,(function(e){return e.panel}))}});var Xf=(0,bn.Z)((function e(t,n){(0,En.Z)(this,e),this.query=t,this.panel=n})),$f=Ao.mark({class:"cm-searchMatch"}),Yf=Ao.mark({class:"cm-searchMatch cm-searchMatch-selected"}),zf=ts.fromClass(function(){function e(t){(0,En.Z)(this,e),this.view=t,this.decorations=this.highlight(t.state.field(qf))}return(0,bn.Z)(e,[{key:"update",value:function(e){var t=e.state.field(qf);(t!=e.startState.field(qf)||e.docChanged||e.selectionSet||e.viewportChanged)&&(this.decorations=this.highlight(t))}},{key:"highlight",value:function(e){var t=e.query;if(!e.panel||!t.spec.valid)return Ao.none;for(var n=this.view,r=new ei,i=0,o=n.visibleRanges,s=o.length;i<s;i++){for(var a=o[i],l=a.from,c=a.to;i<s-1&&c>o[i+1].from-500;)c=o[++i].to;t.highlight(n.state,l,c,(function(e,t){var i=n.state.selection.ranges.some((function(n){return n.from==e&&n.to==t}));r.add(e,t,i?Yf:$f)}))}return r.finish()}}]),e}(),{decorations:function(e){return e.decorations}});function Qf(e){return function(t){var n=t.state.field(qf,!1);return n&&n.query.spec.valid?e(t,n):o_(t)}}var Kf=Qf((function(e,t){var n=t.query,r=e.state.selection.main.to,i=n.nextMatch(e.state,r,r);return!!i&&(e.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:h_(e,i),userEvent:"select.search"}),!0)})),Jf=Qf((function(e,t){var n=t.query,r=e.state,i=r.selection.main.from,o=n.prevMatch(r,i,i);return!!o&&(e.dispatch({selection:{anchor:o.from,head:o.to},scrollIntoView:!0,effects:h_(e,o),userEvent:"select.search"}),!0)})),e_=Qf((function(e,t){var n=t.query.matchAll(e.state,1e3);return!(!n||!n.length)&&(e.dispatch({selection:nr.create(n.map((function(e){return nr.range(e.from,e.to)}))),userEvent:"select.search.matches"}),!0)})),t_=Qf((function(e,t){var n=t.query,r=e.state,i=r.selection.main,o=i.from,s=i.to;if(r.readOnly)return!1;var a=n.nextMatch(r,o,o);if(!a)return!1;var l,c,u=[],h=[];if(a.from==o&&a.to==s&&(c=r.toText(n.getReplacement(a)),u.push({from:a.from,to:a.to,insert:c}),a=n.nextMatch(r,a.from,a.to),h.push(gl.announce.of(r.phrase("replaced match on line $",r.doc.lineAt(o).number)+"."))),a){var p=0==u.length||u[0].from>=a.to?0:a.to-a.from-c.length;l={anchor:a.from-p,head:a.to-p},h.push(h_(e,a))}return e.dispatch({changes:u,selection:l,scrollIntoView:!!l,effects:h,userEvent:"input.replace"}),!0})),n_=Qf((function(e,t){var n=t.query;if(e.state.readOnly)return!1;var r=n.matchAll(e.state,1e9).map((function(e){return{from:e.from,to:e.to,insert:n.getReplacement(e)}}));if(!r.length)return!1;var i=e.state.phrase("replaced $ matches",r.length)+".";return e.dispatch({changes:r,effects:gl.announce.of(i),userEvent:"input.replace.all"}),!0}));function r_(e){return e.state.facet(Df).createPanel(e)}function i_(e,t){var n,r,i,o,s=e.selection.main,a=s.empty||s.to>s.from+100?"":e.sliceDoc(s.from,s.to);if(t&&!a)return t;var l=e.facet(Df);return new Pf({search:(null!==(n=null===t||void 0===t?void 0:t.literal)&&void 0!==n?n:l.literal)?a:a.replace(/\n/g,"\\n"),caseSensitive:null!==(r=null===t||void 0===t?void 0:t.caseSensitive)&&void 0!==r?r:l.caseSensitive,literal:null!==(i=null===t||void 0===t?void 0:t.literal)&&void 0!==i?i:l.literal,wholeWord:null!==(o=null===t||void 0===t?void 0:t.wholeWord)&&void 0!==o?o:l.wholeWord})}var o_=function(e){var t=e.state.field(qf,!1);if(t&&t.panel){var n=Mc(e,r_);if(!n)return!1;var r=n.dom.querySelector("[main-field]");if(r&&r!=e.root.activeElement){var i=i_(e.state,t.query.spec);i.valid&&e.dispatch({effects:jf.of(i)}),r.focus(),r.select()}}else e.dispatch({effects:[Zf.of(!0),t?jf.of(i_(e.state,t.query.spec)):Lr.appendConfig.of(d_)]});return!0},s_=function(e){var t=e.state.field(qf,!1);if(!t||!t.panel)return!1;var n=Mc(e,r_);return n&&n.dom.contains(e.root.activeElement)&&e.focus(),e.dispatch({effects:Zf.of(!1)}),!0},a_=[{key:"Mod-f",run:o_,scope:"editor search-panel"},{key:"F3",run:Kf,shift:Jf,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Kf,shift:Jf,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:s_,scope:"editor search-panel"},{key:"Mod-Shift-l",run:function(e){var t=e.state,n=e.dispatch,r=t.selection;if(r.ranges.length>1||r.main.empty)return!1;for(var i=r.main,o=i.from,s=i.to,a=[],l=0,c=new gf(t.doc,t.sliceDoc(o,s));!c.next().done;){if(a.length>1e3)return!1;c.value.from==o&&(l=a.length),a.push(nr.range(c.value.from,c.value.to))}return n(t.update({selection:nr.create(a,l),userEvent:"select.search.matches"})),!0}},{key:"Alt-g",run:function(e){var t=Mc(e,kf);if(!t){var n=[wf.of(!0)];null==e.state.field(Sf,!1)&&n.push(Lr.appendConfig.of([Sf,If])),e.dispatch({effects:n}),t=Mc(e,kf)}return t&&t.dom.querySelector("input").focus(),!0}},{key:"Mod-d",run:function(e){var t=e.state,n=e.dispatch,r=t.selection.ranges;if(r.some((function(e){return e.from===e.to})))return function(e){var t=e.state,n=e.dispatch,r=t.selection,i=nr.create(r.ranges.map((function(e){return t.wordAt(e.head)||nr.cursor(e.head)})),r.mainIndex);return!i.eq(r)&&(n(t.update({selection:i})),!0)}({state:t,dispatch:n});var i=t.sliceDoc(r[0].from,r[0].to);if(t.selection.ranges.some((function(e){return t.sliceDoc(e.from,e.to)!=i})))return!1;var o=function(e,t){for(var n=e.selection,r=n.main,i=n.ranges,o=e.wordAt(r.head),s=o&&o.from==r.from&&o.to==r.to,a=function(n,r){if(r.next(),!r.done){if(n&&i.some((function(e){return e.from==r.value.from})))return c=r,l=n,"continue";if(s){var o=e.wordAt(r.value.from);if(!o||o.from!=r.value.from||o.to!=r.value.to)return c=r,l=n,"continue"}return l=n,c=r,{v:r.value}}if(n)return c=r,l=n,{v:null};r=new gf(e.doc,t,0,Math.max(0,i[i.length-1].from-1)),l=n=!0,c=r},l=!1,c=new gf(e.doc,t,i[i.length-1].to);;){var u=a(l,c);if("continue"!==u&&"object"===typeof u)return u.v}}(t,i);return!!o&&(n(t.update({selection:t.selection.addRange(nr.range(o.from,o.to),!1),effects:gl.scrollIntoView(o.to)})),!0)},preventDefault:!0}],l_=function(){function e(t){var n=this;(0,En.Z)(this,e),this.view=t;var r=this.query=t.state.field(qf).query.spec;function i(e,t,n){return df("button",{class:"cm-button",name:e,onclick:t,type:"button"},n)}this.commit=this.commit.bind(this),this.searchField=df("input",{value:r.search,placeholder:c_(t,"Find"),"aria-label":c_(t,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=df("input",{value:r.replace,placeholder:c_(t,"Replace"),"aria-label":c_(t,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=df("input",{type:"checkbox",name:"case",form:"",checked:r.caseSensitive,onchange:this.commit}),this.reField=df("input",{type:"checkbox",name:"re",form:"",checked:r.regexp,onchange:this.commit}),this.wordField=df("input",{type:"checkbox",name:"word",form:"",checked:r.wholeWord,onchange:this.commit}),this.dom=df("div",{onkeydown:function(e){return n.keydown(e)},class:"cm-search"},[this.searchField,i("next",(function(){return Kf(t)}),[c_(t,"next")]),i("prev",(function(){return Jf(t)}),[c_(t,"previous")]),i("select",(function(){return e_(t)}),[c_(t,"all")]),df("label",null,[this.caseField,c_(t,"match case")]),df("label",null,[this.reField,c_(t,"regexp")]),df("label",null,[this.wordField,c_(t,"by word")])].concat((0,fi.Z)(t.state.readOnly?[]:[df("br"),this.replaceField,i("replace",(function(){return t_(t)}),[c_(t,"replace")]),i("replaceAll",(function(){return n_(t)}),[c_(t,"replace all")])]),[df("button",{name:"close",onclick:function(){return s_(t)},"aria-label":c_(t,"close"),type:"button"},["\xd7"])]))}return(0,bn.Z)(e,[{key:"commit",value:function(){var e=new Pf({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:jf.of(e)}))}},{key:"keydown",value:function(e){var t,n,r;t=this.view,n=e,r="search-panel",Al(Il(t.state),n,t,r)?e.preventDefault():13==e.keyCode&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Jf:Kf)(this.view)):13==e.keyCode&&e.target==this.replaceField&&(e.preventDefault(),t_(this.view))}},{key:"update",value:function(e){var t,n=(0,_n.Z)(e.transactions);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,o=(0,_n.Z)(i.effects);try{for(o.s();!(r=o.n()).done;){var s=r.value;s.is(jf)&&!s.value.eq(this.query)&&this.setQuery(s.value)}}catch(a){o.e(a)}finally{o.f()}}}catch(a){n.e(a)}finally{n.f()}}},{key:"setQuery",value:function(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}},{key:"mount",value:function(){this.searchField.select()}},{key:"pos",get:function(){return 80}},{key:"top",get:function(){return this.view.state.facet(Df).top}}]),e}();function c_(e,t){return e.state.phrase(t)}var u_=/[\s\.,:;?!]/;function h_(e,t){var n=t.from,r=t.to,i=e.state.doc.lineAt(n),o=e.state.doc.lineAt(r).to,s=Math.max(i.from,n-30),a=Math.min(o,r+30),l=e.state.sliceDoc(s,a);if(s!=i.from)for(var c=0;c<30;c++)if(!u_.test(l[c+1])&&u_.test(l[c])){l=l.slice(c);break}if(a!=o)for(var u=l.length-1;u>l.length-30;u--)if(!u_.test(l[u-1])&&u_.test(l[u])){l=l.slice(0,u);break}return gl.announce.of("".concat(e.state.phrase("current match"),". ").concat(l," ").concat(e.state.phrase("on line")," ").concat(i.number,"."))}var p_=gl.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),d_=[qf,mr.lowest(zf),p_],f_=function(){function e(t,n,r){(0,En.Z)(this,e),this.state=t,this.pos=n,this.explicit=r,this.abortListeners=[]}return(0,bn.Z)(e,[{key:"tokenBefore",value:function(e){for(var t=dh(this.state).resolveInner(this.pos,-1);t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}},{key:"matchBefore",value:function(e){var t=this.state.doc.lineAt(this.pos),n=Math.max(t.from,this.pos-250),r=t.text.slice(n-t.from,this.pos-t.from),i=r.search(T_(e,!1));return i<0?null:{from:n+i,to:this.pos,text:r.slice(i)}}},{key:"aborted",get:function(){return null==this.abortListeners}},{key:"addEventListener",value:function(e,t){"abort"==e&&this.abortListeners&&this.abortListeners.push(t)}}]),e}();function __(e){var t=Object.keys(e).join(""),n=/\w/.test(t);return n&&(t=t.replace(/\w/g,"")),"[".concat(n?"\\w":"").concat(t.replace(/[^\w\s]/g,"\\$&"),"]")}function g_(e){var t=e.map((function(e){return"string"==typeof e?{label:e}:e})),n=t.every((function(e){return/^\w+$/.test(e.label)}))?[/\w*$/,/\w+$/]:function(e){var t,n=Object.create(null),r=Object.create(null),i=(0,_n.Z)(e);try{for(i.s();!(t=i.n()).done;){var o=t.value.label;n[o[0]]=!0;for(var s=1;s<o.length;s++)r[o[s]]=!0}}catch(l){i.e(l)}finally{i.f()}var a=__(n)+__(r)+"*$";return[new RegExp("^"+a),new RegExp(a)]}(t),r=o(n,2),i=r[0],s=r[1];return function(e){var n=e.matchBefore(s);return n||e.explicit?{from:n?n.from:e.pos,options:t,validFor:i}:null}}function m_(e,t){return function(n){for(var r=dh(n.state).resolveInner(n.pos,-1);r;r=r.parent)if(e.indexOf(r.name)>-1)return null;return t(n)}}var v_=(0,bn.Z)((function e(t,n,r){(0,En.Z)(this,e),this.completion=t,this.source=n,this.match=r}));function y_(e){return e.selection.main.head}function T_(e,t){var n,r=e.source,i=t&&"^"!=r[0],o="$"!=r[r.length-1];return i||o?new RegExp("".concat(i?"^":"","(?:").concat(r,")").concat(o?"$":""),null!==(n=e.flags)&&void 0!==n?n:e.ignoreCase?"i":""):e}var E_=xr.define();function b_(e,t){var n,r,i,o,s=t.completion.apply||t.completion.label,a=t.source;"string"==typeof s?e.dispatch(Object.assign(Object.assign({},(n=e.state,r=s,i=a.from,o=a.to,Object.assign(Object.assign({},n.changeByRange((function(e){if(e==n.selection.main)return{changes:{from:i,to:o,insert:r},range:nr.cursor(i+r.length)};var t=o-i;return!e.empty||t&&n.sliceDoc(e.from-t,e.from)!=n.sliceDoc(i,o)?{range:e}:{changes:{from:e.from-t,to:e.from,insert:r},range:nr.cursor(e.from-t+r.length)}}))),{userEvent:"input.complete"}))),{annotations:E_.of(t.completion)})):s(e,t.completion,a.from,a.to)}var O_=new WeakMap;function k_(e){if(!Array.isArray(e))return e;var t=O_.get(e);return t||O_.set(e,t=g_(e)),t}var w_=function(){function e(t){(0,En.Z)(this,e),this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(var n=0;n<t.length;){var r=Gn(t,n),i=jn(r);this.chars.push(r);var o=t.slice(n,n+i),s=o.toUpperCase();this.folded.push(Gn(s==o?o.toLowerCase():s,0)),n+=i}this.astral=t.length!=this.chars.length}return(0,bn.Z)(e,[{key:"match",value:function(e){if(0==this.pattern.length)return[0];if(e.length<this.pattern.length)return null;var t=this.chars,n=this.folded,r=this.any,i=this.precise,o=this.byWord;if(1==t.length){var s=Gn(e,0);return s==t[0]?[0,0,jn(s)]:s==n[0]?[-200,0,jn(s)]:null}var a=e.indexOf(this.pattern);if(0==a)return[0,0,this.pattern.length];var l=t.length,c=0;if(a<0){for(var u=0,h=Math.min(e.length,200);u<h&&c<l;){var p=Gn(e,u);p!=t[c]&&p!=n[c]||(r[c++]=u),u+=jn(p)}if(c<l)return null}for(var d=0,f=0,_=!1,g=0,m=-1,v=-1,y=/[a-z]/.test(e),T=!0,E=0,b=Math.min(e.length,200),O=0;E<b&&f<l;){var k=Gn(e,E);a<0&&(d<l&&k==t[d]&&(i[d++]=E),g<l&&(k==t[g]||k==n[g]?(0==g&&(m=E),v=E+1,g++):g=0));var w=void 0,S=k<255?k>=48&&k<=57||k>=97&&k<=122?2:k>=65&&k<=90?1:0:(w=Vn(k))!=w.toLowerCase()?1:w!=w.toUpperCase()?2:0;(!E||1==S&&y||0==O&&0!=S)&&(t[f]==k||n[f]==k&&(_=!0)?o[f++]=E:o.length&&(T=!1)),O=S,E+=jn(k)}return f==l&&0==o[0]&&T?this.result((_?-200:0)-100,o,e):g==l&&0==m?[-200-e.length,0,v]:a>-1?[-700-e.length,a,a+this.pattern.length]:g==l?[-900-e.length,m,v]:f==l?this.result((_?-200:0)-100-700+(T?0:-1100),o,e):2==t.length?null:this.result((r[0]?-700:0)-200-1100,r,e)}},{key:"result",value:function(e,t,n){var r,i=[e-n.length],o=1,s=(0,_n.Z)(t);try{for(s.s();!(r=s.n()).done;){var a=r.value,l=a+(this.astral?jn(Gn(n,a)):1);o>1&&i[o-1]==a?i[o-1]=l:(i[o++]=a,i[o++]=l)}}catch(c){s.e(c)}finally{s.f()}return i}}]),e}(),S_=or.define({combine:function(e){return Xr(e,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,optionClass:function(){return""},aboveCursor:!1,icons:!0,addToOptions:[],compareCompletions:function(e,t){return e.label.localeCompare(t.label)},interactionDelay:75},{defaultKeymap:function(e,t){return e&&t},closeOnBlur:function(e,t){return e&&t},icons:function(e,t){return e&&t},optionClass:function(e,t){return function(n){return function(e,t){return e?t?e+" "+t:e:t}(e(n),t(n))}},addToOptions:function(e,t){return e.concat(t)}})}});function I_(e,t,n){if(e<=n)return{from:0,to:e};if(t<0&&(t=0),t<=e>>1){var r=Math.floor(t/n);return{from:r*n,to:(r+1)*n}}var i=Math.floor((e-t)/n);return{from:e-(i+1)*n,to:e-i*n}}var R_=function(){function e(t,n){var r=this;(0,En.Z)(this,e),this.view=t,this.stateField=n,this.info=null,this.placeInfo={read:function(){return r.measureInfo()},write:function(e){return r.positionInfo(e)},key:this},this.space=null;var i=t.state.field(n),o=i.open,s=o.options,a=o.selected,l=t.state.facet(S_);this.optionContent=function(e){var t=e.addToOptions.slice();return e.icons&&t.push({render:function(e){var t,n=document.createElement("div");return n.classList.add("cm-completionIcon"),e.type&&(t=n.classList).add.apply(t,(0,fi.Z)(e.type.split(/\s+/g).map((function(e){return"cm-completionIcon-"+e})))),n.setAttribute("aria-hidden","true"),n},position:20}),t.push({render:function(e,t,n){var r=document.createElement("span");r.className="cm-completionLabel";for(var i=e.label,o=0,s=1;s<n.length;){var a=n[s++],l=n[s++];a>o&&r.appendChild(document.createTextNode(i.slice(o,a)));var c=r.appendChild(document.createElement("span"));c.appendChild(document.createTextNode(i.slice(a,l))),c.className="cm-completionMatchedText",o=l}return o<i.length&&r.appendChild(document.createTextNode(i.slice(o))),r},position:50},{render:function(e){if(!e.detail)return null;var t=document.createElement("span");return t.className="cm-completionDetail",t.textContent=e.detail,t},position:80}),t.sort((function(e,t){return e.position-t.position})).map((function(e){return e.render}))}(l),this.optionClass=l.optionClass,this.range=I_(s.length,a,l.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.dom.addEventListener("mousedown",(function(e){for(var n,i=e.target;i&&i!=r.dom;i=i.parentNode)if("LI"==i.nodeName&&(n=/-(\d+)$/.exec(i.id))&&+n[1]<s.length)return b_(t,s[+n[1]]),void e.preventDefault()})),this.list=this.dom.appendChild(this.createListBox(s,i.id,this.range)),this.list.addEventListener("scroll",(function(){r.info&&r.view.requestMeasure(r.placeInfo)}))}return(0,bn.Z)(e,[{key:"mount",value:function(){this.updateSel()}},{key:"update",value:function(e){var t,n,r,i=e.state.field(this.stateField),o=e.startState.field(this.stateField);i!=o&&(this.updateSel(),(null===(t=i.open)||void 0===t?void 0:t.disabled)!=(null===(n=o.open)||void 0===n?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!(null===(r=i.open)||void 0===r?void 0:r.disabled)))}},{key:"positioned",value:function(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfo)}},{key:"updateSel",value:function(){var e=this,t=this.view.state.field(this.stateField),n=t.open;if((n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=I_(n.options.length,n.selected,this.view.state.facet(S_).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(n.options,t.id,this.range)),this.list.addEventListener("scroll",(function(){e.info&&e.view.requestMeasure(e.placeInfo)}))),this.updateSelectedOption(n.selected)){this.info&&(this.info.remove(),this.info=null);var r=n.options[n.selected].completion,i=r.info;if(!i)return;var o="string"===typeof i?document.createTextNode(i):i(r);if(!o)return;"then"in o?o.then((function(n){n&&e.view.state.field(e.stateField,!1)==t&&e.addInfoPane(n)})).catch((function(t){return Qo(e.view.state,t,"completion info")})):this.addInfoPane(o)}}},{key:"addInfoPane",value:function(e){var t=this.info=document.createElement("div");t.className="cm-tooltip cm-completionInfo",t.appendChild(e),this.dom.appendChild(t),this.view.requestMeasure(this.placeInfo)}},{key:"updateSelectedOption",value:function(e){for(var t=null,n=this.list.firstChild,r=this.range.from;n;n=n.nextSibling,r++)r==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),t=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected");return t&&function(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect();r.top<n.top?e.scrollTop-=n.top-r.top:r.bottom>n.bottom&&(e.scrollTop+=r.bottom-n.bottom)}(this.list,t),t}},{key:"measureInfo",value:function(){var e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;var t=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),r=e.getBoundingClientRect(),i=this.space;if(!i){var o=this.dom.ownerDocument.defaultView||window;i={left:0,top:0,right:o.innerWidth,bottom:o.innerHeight}}if(r.top>Math.min(i.bottom,t.bottom)-10||r.bottom<Math.max(i.top,t.top)+10)return null;var s,a=this.view.textDirection==hs.RTL,l=a,c=!1,u="",h="",p=t.left-i.left,d=i.right-t.right;if(l&&p<Math.min(n.width,d)?l=!1:!l&&d<Math.min(n.width,p)&&(l=!0),n.width<=(l?p:d))u=Math.max(i.top,Math.min(r.top,i.bottom-n.height))-t.top+"px",s=Math.min(400,l?p:d)+"px";else{c=!0,s=Math.min(400,(a?t.right:i.right-t.left)-30)+"px";var f=i.bottom-t.bottom;f>=n.height||f>t.top?u=r.bottom-t.top+"px":h=t.bottom-r.top+"px"}return{top:u,bottom:h,maxWidth:s,class:c?a?"left-narrow":"right-narrow":l?"left":"right"}}},{key:"positionInfo",value:function(e){this.info&&(e?(this.info.style.top=e.top,this.info.style.bottom=e.bottom,this.info.style.maxWidth=e.maxWidth,this.info.className="cm-tooltip cm-completionInfo cm-completionInfo-"+e.class):this.info.style.top="-1e6px")}},{key:"createListBox",value:function(e,t,n){var r=document.createElement("ul");r.id=t,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions"));for(var i=n.from;i<n.to;i++){var o=e[i],s=o.completion,a=o.match,l=r.appendChild(document.createElement("li"));l.id=t+"-"+i,l.setAttribute("role","option");var c=this.optionClass(s);c&&(l.className=c);var u,h=(0,_n.Z)(this.optionContent);try{for(h.s();!(u=h.n()).done;){var p=(0,u.value)(s,this.view.state,a);p&&l.appendChild(p)}}catch(d){h.e(d)}finally{h.f()}}return n.from&&r.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&r.classList.add("cm-completionListIncompleteBottom"),r}}]),e}();function C_(e){return 100*(e.boost||0)+(e.apply?10:0)+(e.info?5:0)+(e.type?1:0)}var A_=function(){function e(t,n,r,i,o,s){(0,En.Z)(this,e),this.options=t,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=o,this.disabled=s}return(0,bn.Z)(e,[{key:"setSelected",value:function(t,n){return t==this.selected||t>=this.options.length?this:new e(this.options,N_(n,t),this.tooltip,this.timestamp,t,this.disabled)}},{key:"map",value:function(t){return new e(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:t.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}],[{key:"build",value:function(t,n,r,i,o){var s=function(e,t){var n,r=[],i=0,o=(0,_n.Z)(e);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(s.hasResult())if(!1===s.result.filter){var a,l=s.result.getMatch,c=(0,_n.Z)(s.result.options);try{for(c.s();!(a=c.n()).done;){var u=a.value,h=[1e9-i++];if(l){var p,d=(0,_n.Z)(l(u));try{for(d.s();!(p=d.n()).done;){var f=p.value;h.push(f)}}catch(S){d.e(S)}finally{d.f()}}r.push(new v_(u,s,h))}}catch(S){c.e(S)}finally{c.f()}}else{var _,g=new w_(t.sliceDoc(s.from,s.to)),m=void 0,v=(0,_n.Z)(s.result.options);try{for(v.s();!(_=v.n()).done;){var y=_.value;(m=g.match(y.label))&&(null!=y.boost&&(m[0]+=y.boost),r.push(new v_(y,s,m)))}}catch(S){v.e(S)}finally{v.f()}}}}catch(S){o.e(S)}finally{o.f()}var T,E=[],b=null,O=t.facet(S_).compareCompletions,k=(0,_n.Z)(r.sort((function(e,t){return t.match[0]-e.match[0]||O(e.completion,t.completion)})));try{for(k.s();!(T=k.n()).done;){var w=T.value;!b||b.label!=w.completion.label||b.detail!=w.completion.detail||null!=b.type&&null!=w.completion.type&&b.type!=w.completion.type||b.apply!=w.completion.apply?E.push(w):C_(w.completion)>C_(b)&&(E[E.length-1]=w),b=w.completion}}catch(S){k.e(S)}finally{k.f()}return E}(t,n);if(!s.length)return i&&t.some((function(e){return 1==e.state}))?new e(i.options,i.attrs,i.tooltip,i.timestamp,i.selected,!0):null;var a,l=n.facet(S_).selectOnOpen?0:-1;if(i&&i.selected!=l&&-1!=i.selected)for(var c=i.options[i.selected].completion,u=0;u<s.length;u++)if(s[u].completion==c){l=u;break}return new e(s,N_(r,l),{pos:t.reduce((function(e,t){return t.hasResult()?Math.min(e,t.from):e}),1e8),create:(a=G_,function(e){return new R_(e,a)}),above:o.aboveCursor},i?i.timestamp:Date.now(),l,!1)}}]),e}(),x_=function(){function e(t,n,r){(0,En.Z)(this,e),this.active=t,this.id=n,this.open=r}return(0,bn.Z)(e,[{key:"update",value:function(t){var n=this,r=t.state,i=r.facet(S_),o=(i.override||r.languageDataAt("autocomplete",y_(r)).map(k_)).map((function(e){var r=n.active.find((function(t){return t.source==e}))||new P_(e,n.active.some((function(e){return 0!=e.state}))?1:0);return r.update(t,i)}));o.length==this.active.length&&o.every((function(e,t){return e==n.active[t]}))&&(o=this.active);var s=this.open;t.selection||o.some((function(e){return e.hasResult()&&t.changes.touchesRange(e.from,e.to)}))||!function(e,t){if(e==t)return!0;for(var n=0,r=0;;){for(;n<e.length&&!e[n].hasResult;)n++;for(;r<t.length&&!t[r].hasResult;)r++;var i=n==e.length,o=r==t.length;if(i||o)return i==o;if(e[n++].result!=t[r++].result)return!1}}(o,this.active)?s=A_.build(o,r,this.id,this.open,i):s&&s.disabled&&!o.some((function(e){return 1==e.state}))?s=null:s&&t.docChanged&&(s=s.map(t.changes)),!s&&o.every((function(e){return 1!=e.state}))&&o.some((function(e){return e.hasResult()}))&&(o=o.map((function(e){return e.hasResult()?new P_(e.source,0):e})));var a,l=(0,_n.Z)(t.effects);try{for(l.s();!(a=l.n()).done;){var c=a.value;c.is(H_)&&(s=s&&s.setSelected(c.value,this.id))}}catch(u){l.e(u)}finally{l.f()}return o==this.active&&s==this.open?this:new e(o,this.id,s)}},{key:"tooltip",get:function(){return this.open?this.open.tooltip:null}},{key:"attrs",get:function(){return this.open?this.open.attrs:M_}}],[{key:"start",value:function(){return new e(L_,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}}]),e}();var M_={"aria-autocomplete":"list"};function N_(e,t){var n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":e};return t>-1&&(n["aria-activedescendant"]=e+"-"+t),n}var L_=[];function D_(e){return e.isUserEvent("input.type")?"input":e.isUserEvent("delete.backward")?"delete":null}var P_=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;(0,En.Z)(this,e),this.source=t,this.state=n,this.explicitPos=r}return(0,bn.Z)(e,[{key:"hasResult",value:function(){return!1}},{key:"update",value:function(t,n){var r=D_(t),i=this;r?i=i.handleUserEvent(t,r,n):t.docChanged?i=i.handleChange(t):t.selection&&0!=i.state&&(i=new e(i.source,0));var o,s=(0,_n.Z)(t.effects);try{for(s.s();!(o=s.n()).done;){var a=o.value;if(a.is(U_))i=new e(i.source,1,a.value?y_(t.state):-1);else if(a.is(F_))i=new e(i.source,0);else if(a.is(W_)){var l,c=(0,_n.Z)(a.value);try{for(c.s();!(l=c.n()).done;){var u=l.value;u.source==i.source&&(i=u)}}catch(h){c.e(h)}finally{c.f()}}}}catch(h){s.e(h)}finally{s.f()}return i}},{key:"handleUserEvent",value:function(t,n,r){return"delete"!=n&&r.activateOnTyping?new e(this.source,1):this.map(t.changes)}},{key:"handleChange",value:function(t){return t.changes.touchesRange(y_(t.startState))?new e(this.source,0):this.map(t.changes)}},{key:"map",value:function(t){return t.empty||this.explicitPos<0?this:new e(this.source,this.state,t.mapPos(this.explicitPos))}}]),e}(),B_=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r,i,o,s){var a;return(0,En.Z)(this,n),(a=t.call(this,e,2,r)).result=i,a.from=o,a.to=s,a}return(0,bn.Z)(n,[{key:"hasResult",value:function(){return!0}},{key:"handleUserEvent",value:function(e,t,r){var i,o=e.changes.mapPos(this.from),s=e.changes.mapPos(this.to,1),a=y_(e.state);if((this.explicitPos<0?a<=o:a<this.from)||a>s||"delete"==t&&y_(e.startState)==this.from)return new P_(this.source,"input"==t&&r.activateOnTyping?1:0);var l,c=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return function(e,t,n,r){if(!e)return!1;var i=t.sliceDoc(n,r);return"function"==typeof e?e(i,n,r,t):T_(e,!0).test(i)}(this.result.validFor,e.state,o,s)?new n(this.source,c,this.result,o,s):this.result.update&&(l=this.result.update(this.result,o,s,new f_(e.state,a,c>=0)))?new n(this.source,c,l,l.from,null!==(i=l.to)&&void 0!==i?i:y_(e.state)):new P_(this.source,1,c)}},{key:"handleChange",value:function(e){return e.changes.touchesRange(this.from,this.to)?new P_(this.source,0):this.map(e.changes)}},{key:"map",value:function(e){return e.empty?this:new n(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}]),n}(P_);var U_=Lr.define(),F_=Lr.define(),W_=Lr.define({map:function(e,t){return e.map((function(e){return e.map(t)}))}}),H_=Lr.define(),G_=hr.define({create:function(){return x_.start()},update:function(e,t){return e.update(t)},provide:function(e){return[bc.from(e,(function(e){return e.tooltip})),gl.contentAttributes.from(e,(function(e){return e.attrs}))]}});function V_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"option";return function(n){var r=n.state.field(G_,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(S_).interactionDelay)return!1;var i,o=1;"page"==t&&(i=Cc(n,r.open.tooltip))&&(o=Math.max(2,Math.floor(i.dom.offsetHeight/i.dom.querySelector("li").offsetHeight)-1));var s=r.open.options.length,a=r.open.selected>-1?r.open.selected+o*(e?1:-1):e?0:s-1;return a<0?a="page"==t?0:s-1:a>=s&&(a="page"==t?s-1:0),n.dispatch({effects:H_.of(a)}),!0}}var j_=(0,bn.Z)((function e(t,n){(0,En.Z)(this,e),this.active=t,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0})),Z_=ts.fromClass(function(){function e(t){(0,En.Z)(this,e),this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;var n,r=(0,_n.Z)(t.state.field(G_).active);try{for(r.s();!(n=r.n()).done;){var i=n.value;1==i.state&&this.startQuery(i)}}catch(o){r.e(o)}finally{r.f()}}return(0,bn.Z)(e,[{key:"update",value:function(e){var t=this,n=e.state.field(G_);if(e.selectionSet||e.docChanged||e.startState.field(G_)!=n){for(var r=e.transactions.some((function(e){return(e.selection||e.docChanged)&&!D_(e)})),i=0;i<this.running.length;i++){var o=this.running[i];if(r||o.updates.length+e.transactions.length>50&&Date.now()-o.time>1e3){var s,a=(0,_n.Z)(o.context.abortListeners);try{for(a.s();!(s=a.n()).done;){var l=s.value;try{l()}catch(d){Qo(this.view.state,d)}}}catch(f){a.e(f)}finally{a.f()}o.context.abortListeners=null,this.running.splice(i--,1)}else{var c;(c=o.updates).push.apply(c,(0,fi.Z)(e.transactions))}}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=n.active.some((function(e){return 1==e.state&&!t.running.some((function(t){return t.active.source==e.source}))}))?setTimeout((function(){return t.startUpdate()}),50):-1,0!=this.composing){var u,h=(0,_n.Z)(e.transactions);try{for(h.s();!(u=h.n()).done;){var p=u.value;"input"==D_(p)?this.composing=2:2==this.composing&&p.selection&&(this.composing=3)}}catch(f){h.e(f)}finally{h.f()}}}}},{key:"startUpdate",value:function(){var e=this;this.debounceUpdate=-1;var t,n=this.view.state.field(G_),r=(0,_n.Z)(n.active);try{var i=function(){var n=t.value;1!=n.state||e.running.some((function(e){return e.active.source==n.source}))||e.startQuery(n)};for(r.s();!(t=r.n()).done;)i()}catch(o){r.e(o)}finally{r.f()}}},{key:"startQuery",value:function(e){var t=this,n=this.view.state,r=y_(n),i=new f_(n,r,e.explicitPos==r),o=new j_(e,i);this.running.push(o),Promise.resolve(e.source(i)).then((function(e){o.context.aborted||(o.done=e||null,t.scheduleAccept())}),(function(e){t.view.dispatch({effects:F_.of(null)}),Qo(t.view.state,e)}))}},{key:"scheduleAccept",value:function(){var e=this;this.running.every((function(e){return void 0!==e.done}))?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout((function(){return e.accept()}),50))}},{key:"accept",value:function(){var e,t=this;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;for(var n=[],r=this.view.state.facet(S_),i=function(i){var s=t.running[i];if(void 0===s.done)return o=i,"continue";if(t.running.splice(i--,1),s.done){var a,l=new B_(s.active.source,s.active.explicitPos,s.done,s.done.from,null!==(e=s.done.to)&&void 0!==e?e:y_(s.updates.length?s.updates[0].startState:t.view.state)),c=(0,_n.Z)(s.updates);try{for(c.s();!(a=c.n()).done;){var u=a.value;l=l.update(u,r)}}catch(g){c.e(g)}finally{c.f()}if(l.hasResult())return n.push(l),o=i,"continue"}var h=t.view.state.field(G_).active.find((function(e){return e.source==s.active.source}));if(h&&1==h.state)if(null==s.done){var p,d=new P_(s.active.source,0),f=(0,_n.Z)(s.updates);try{for(f.s();!(p=f.n()).done;){var _=p.value;d=d.update(_,r)}}catch(g){f.e(g)}finally{f.f()}1!=d.state&&n.push(d)}else t.startQuery(h);o=i},o=0;o<this.running.length;o++)i(o);n.length&&this.view.dispatch({effects:W_.of(n)})}}]),e}(),{eventHandlers:{blur:function(){var e=this.view.state.field(G_,!1);e&&e.tooltip&&this.view.state.facet(S_).closeOnBlur&&this.view.dispatch({effects:F_.of(null)})},compositionstart:function(){this.composing=1},compositionend:function(){var e=this;3==this.composing&&setTimeout((function(){return e.view.dispatch({effects:U_.of(!1)})}),20),this.composing=0}}}),q_=gl.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xb7\xb7\xb7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"".concat(400,"px"),boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"".concat(30,"px")},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"".concat(30,"px")},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25cb'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25cc'"}},".cm-completionIcon-variable":{"&:after":{content:"'\ud835\udc65'"}},".cm-completionIcon-constant":{"&:after":{content:"'\ud835\udc36'"}},".cm-completionIcon-type":{"&:after":{content:"'\ud835\udc61'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222a'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25a1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\ud83d\udd11\ufe0e'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25a2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),X_=(0,bn.Z)((function e(t,n,r,i){(0,En.Z)(this,e),this.field=t,this.line=n,this.from=r,this.to=i})),$_=function(){function e(t,n,r){(0,En.Z)(this,e),this.field=t,this.from=n,this.to=r}return(0,bn.Z)(e,[{key:"map",value:function(t){var n=t.mapPos(this.from,-1,qn.TrackDel),r=t.mapPos(this.to,1,qn.TrackDel);return null==n||null==r?null:new e(this.field,n,r)}}]),e}(),Y_=function(){function e(t,n){(0,En.Z)(this,e),this.lines=t,this.fieldPositions=n}return(0,bn.Z)(e,[{key:"instantiate",value:function(e,t){var n,r=[],i=[t],o=e.doc.lineAt(t),s=/^\s*/.exec(o.text)[0],a=(0,_n.Z)(this.lines);try{for(a.s();!(n=a.n()).done;){var l=n.value;if(r.length){for(var c=s,u=/^\t*/.exec(l)[0].length,h=0;h<u;h++)c+=e.facet(wh);i.push(t+c.length-u),l=c+l.slice(u)}r.push(l),t+=l.length+1}}catch(d){a.e(d)}finally{a.f()}var p=this.fieldPositions.map((function(e){return new $_(e.field,i[e.line]+e.from,i[e.line]+e.to)}));return{text:r,ranges:p}}}],[{key:"parse",value:function(t){var n,r,i=[],o=[],s=[],a=(0,_n.Z)(t.split(/\r\n?|\n/));try{for(a.s();!(r=a.n()).done;){for(var l,c=r.value;n=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(c);){for(var u=n[1]?+n[1]:null,h=n[2]||n[3]||"",p=-1,d=0;d<i.length;d++)(null!=u?i[d].seq==u:h&&i[d].name==h)&&(p=d);if(p<0){for(var f=0;f<i.length&&(null==u||null!=i[f].seq&&i[f].seq<u);)f++;i.splice(f,0,{seq:u,name:h}),p=f;var _,g=(0,_n.Z)(s);try{for(g.s();!(_=g.n()).done;){var m=_.value;m.field>=p&&m.field++}}catch(E){g.e(E)}finally{g.f()}}s.push(new X_(p,o.length,n.index,n.index+h.length)),c=c.slice(0,n.index)+h+c.slice(n.index+n[0].length)}for(;l=/\\([{}])/.exec(c);){c=c.slice(0,l.index)+l[1]+c.slice(l.index+l[0].length);var v,y=(0,_n.Z)(s);try{for(y.s();!(v=y.n()).done;){var T=v.value;T.line==o.length&&T.from>l.index&&(T.from--,T.to--)}}catch(E){y.e(E)}finally{y.f()}}o.push(c)}}catch(E){a.e(E)}finally{a.f()}return new e(o,s)}}]),e}(),z_=Ao.widget({widget:new(function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(){return(0,En.Z)(this,n),t.apply(this,arguments)}return(0,bn.Z)(n,[{key:"toDOM",value:function(){var e=document.createElement("span");return e.className="cm-snippetFieldPosition",e}},{key:"ignoreEvent",value:function(){return!1}}]),n}(Ro))}),Q_=Ao.mark({class:"cm-snippetField"}),K_=function(){function e(t,n){(0,En.Z)(this,e),this.ranges=t,this.active=n,this.deco=Ao.set(t.map((function(e){return(e.from==e.to?z_:Q_).range(e.from,e.to)})))}return(0,bn.Z)(e,[{key:"map",value:function(t){var n,r=[],i=(0,_n.Z)(this.ranges);try{for(i.s();!(n=i.n()).done;){var o=n.value.map(t);if(!o)return null;r.push(o)}}catch(s){i.e(s)}finally{i.f()}return new e(r,this.active)}},{key:"selectionInsideField",value:function(e){var t=this;return e.ranges.every((function(e){return t.ranges.some((function(n){return n.field==t.active&&n.from<=e.from&&n.to>=e.to}))}))}}]),e}(),J_=Lr.define({map:function(e,t){return e&&e.map(t)}}),eg=Lr.define(),tg=hr.define({create:function(){return null},update:function(e,t){var n,r=(0,_n.Z)(t.effects);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.is(J_))return i.value;if(i.is(eg)&&e)return new K_(e.ranges,i.value)}}catch(o){r.e(o)}finally{r.f()}return e&&t.docChanged&&(e=e.map(t.changes)),e&&t.selection&&!e.selectionInsideField(t.selection)&&(e=null),e},provide:function(e){return gl.decorations.from(e,(function(e){return e?e.deco:Ao.none}))}});function ng(e,t){return nr.create(e.filter((function(e){return e.field==t})).map((function(e){return nr.range(e.from,e.to)})))}function rg(e){var t=Y_.parse(e);return function(e,n,r,i){var o=t.instantiate(e.state,r),s=o.text,a=o.ranges,l={changes:{from:r,to:i,insert:On.of(s)},scrollIntoView:!0};if(a.length&&(l.selection=ng(a,0)),a.length>1){var c=new K_(a,0),u=l.effects=[J_.of(c)];void 0===e.state.field(tg,!1)&&u.push(Lr.appendConfig.of([tg,ag,cg,q_]))}e.dispatch(e.state.update(l))}}function ig(e){return function(t){var n=t.state,r=t.dispatch,i=n.field(tg,!1);if(!i||e<0&&0==i.active)return!1;var o=i.active+e,s=e>0&&!i.ranges.some((function(t){return t.field==o+e}));return r(n.update({selection:ng(i.ranges,o),effects:J_.of(s?null:new K_(i.ranges,o))})),!0}}var og=[{key:"Tab",run:ig(1),shift:ig(-1)},{key:"Escape",run:function(e){var t=e.state,n=e.dispatch;return!!t.field(tg,!1)&&(n(t.update({effects:J_.of(null)})),!0)}}],sg=or.define({combine:function(e){return e.length?e[0]:og}}),ag=mr.highest(wl.compute([sg],(function(e){return e.facet(sg)})));function lg(e,t){return Object.assign(Object.assign({},t),{apply:rg(e)})}var cg=gl.domEventHandlers({mousedown:function(e,t){var n,r=t.state.field(tg,!1);if(!r||null==(n=t.posAtCoords({x:e.clientX,y:e.clientY})))return!1;var i=r.ranges.find((function(e){return e.from<=n&&e.to>=n}));return!(!i||i.field==r.active)&&(t.dispatch({selection:ng(r.ranges,i.field),effects:J_.of(r.ranges.some((function(e){return e.field>i.field}))?new K_(r.ranges,i.field):null)}),!0)}});var ug={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},hg=Lr.define({map:function(e,t){var n=t.mapPos(e,-1,qn.TrackAfter);return null==n?void 0:n}}),pg=Lr.define({map:function(e,t){return t.mapPos(e)}}),dg=new(function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(){return(0,En.Z)(this,n),t.apply(this,arguments)}return(0,bn.Z)(n)}($r));dg.startSide=1,dg.endSide=-1;var fg=hr.define({create:function(){return Kr.empty},update:function(e,t){if(t.selection){var n=t.state.doc.lineAt(t.selection.main.head).from,r=t.startState.doc.lineAt(t.startState.selection.main.head).from;n!=t.changes.mapPos(r,-1)&&(e=Kr.empty)}e=e.map(t.changes);var i,o=(0,_n.Z)(t.effects);try{var s=function(){var t=i.value;t.is(hg)?e=e.update({add:[dg.range(t.value,t.value+1)]}):t.is(pg)&&(e=e.update({filter:function(e){return e!=t.value}}))};for(o.s();!(i=o.n()).done;)s()}catch(a){o.e(a)}finally{o.f()}return e}});var _g="()[]{}<>";function gg(e){for(var t=0;t<_g.length;t+=2)if(_g.charCodeAt(t)==e)return _g.charAt(t+1);return Vn(e<128?e:e+1)}function mg(e,t){return e.languageDataAt("closeBrackets",t)[0]||ug}var vg="object"==typeof navigator&&/Android\b/.test(navigator.userAgent),yg=gl.inputHandler.of((function(e,t,n,r){if((vg?e.composing:e.compositionStarted)||e.state.readOnly)return!1;var i=e.state.selection.main;if(r.length>2||2==r.length&&1==jn(Gn(r,0))||t!=i.from||n!=i.to)return!1;var o=function(e,t){var n,r=mg(e,e.selection.main.head),i=r.brackets||ug.brackets,o=(0,_n.Z)(i);try{for(o.s();!(n=o.n()).done;){var s=n.value,a=gg(Gn(s,0));if(t==s)return a==s?wg(e,s,i.indexOf(s+s+s)>-1,r):Og(e,s,a,r.before||ug.before);if(t==a&&Eg(e,e.selection.main.from))return kg(e,s,a)}}catch(l){o.e(l)}finally{o.f()}return null}(e.state,r);return!!o&&(e.dispatch(o),!0)})),Tg=[{key:"Backspace",run:function(e){var t=e.state,n=e.dispatch;if(t.readOnly)return!1;var r=mg(t,t.selection.main.head).brackets||ug.brackets,i=null,o=t.changeByRange((function(e){if(e.empty){var n,o=function(e,t){var n=e.sliceString(t-2,t);return jn(Gn(n,0))==n.length?n:n.slice(1)}(t.doc,e.head),s=(0,_n.Z)(r);try{for(s.s();!(n=s.n()).done;){var a=n.value;if(a==o&&bg(t.doc,e.head)==gg(Gn(a,0)))return{changes:{from:e.head-a.length,to:e.head+a.length},range:nr.cursor(e.head-a.length)}}}catch(l){s.e(l)}finally{s.f()}}return{range:i=e}}));return i||n(t.update(o,{scrollIntoView:!0,userEvent:"delete.backward"})),!i}}];function Eg(e,t){var n=!1;return e.field(fg).between(0,e.doc.length,(function(e){e==t&&(n=!0)})),n}function bg(e,t){var n=e.sliceString(t,t+2);return n.slice(0,jn(Gn(n,0)))}function Og(e,t,n,r){var i=null,o=e.changeByRange((function(o){if(!o.empty)return{changes:[{insert:t,from:o.from},{insert:n,from:o.to}],effects:hg.of(o.to+t.length),range:nr.range(o.anchor+t.length,o.head+t.length)};var s=bg(e.doc,o.head);return!s||/\s/.test(s)||r.indexOf(s)>-1?{changes:{insert:t+n,from:o.head},effects:hg.of(o.head+t.length),range:nr.cursor(o.head+t.length)}:{range:i=o}}));return i?null:e.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function kg(e,t,n){var r=null,i=e.selection.ranges.map((function(t){return t.empty&&bg(e.doc,t.head)==n?nr.cursor(t.head+n.length):r=t}));return r?null:e.update({selection:nr.create(i,e.selection.mainIndex),scrollIntoView:!0,effects:e.selection.ranges.map((function(e){var t=e.from;return pg.of(t)}))})}function wg(e,t,n,r){var i=r.stringPrefixes||ug.stringPrefixes,o=null,s=e.changeByRange((function(r){if(!r.empty)return{changes:[{insert:t,from:r.from},{insert:t,from:r.to}],effects:hg.of(r.to+t.length),range:nr.range(r.anchor+t.length,r.head+t.length)};var s,a=r.head,l=bg(e.doc,a);if(l==t){if(Sg(e,a))return{changes:{insert:t+t,from:a},effects:hg.of(a+t.length),range:nr.cursor(a+t.length)};if(Eg(e,a)){var c=n&&e.sliceDoc(a,a+3*t.length)==t+t+t;return{range:nr.cursor(a+t.length*(c?3:1)),effects:pg.of(a)}}}else{if(n&&e.sliceDoc(a-2*t.length,a)==t+t&&(s=Ig(e,a-2*t.length,i))>-1&&Sg(e,s))return{changes:{insert:t+t+t+t,from:a},effects:hg.of(a+t.length),range:nr.cursor(a+t.length)};if(e.charCategorizer(a)(l)!=Vr.Word&&Ig(e,a,i)>-1&&!function(e,t,n,r){for(var i=dh(e).resolveInner(t,-1),o=r.reduce((function(e,t){return Math.max(e,t.length)}),0),s=0;s<5;s++){var a=e.sliceDoc(i.from,Math.min(i.to,i.from+n.length+o)),l=a.indexOf(n);if(!l||l>-1&&r.indexOf(a.slice(0,l))>-1){for(var c=i.firstChild;c&&c.from==i.from&&c.to-c.from>n.length+l;){if(e.sliceDoc(c.to-n.length,c.to)==n)return!1;c=c.firstChild}return!0}var u=i.to==t&&i.parent;if(!u)break;i=u}return!1}(e,a,t,i))return{changes:{insert:t+t,from:a},effects:hg.of(a+t.length),range:nr.cursor(a+t.length)}}return{range:o=r}}));return o?null:e.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function Sg(e,t){var n=dh(e).resolveInner(t+1);return n.parent&&n.from==t}function Ig(e,t,n){var r=e.charCategorizer(t);if(r(e.sliceDoc(t-1,t))!=Vr.Word)return t;var i,o=(0,_n.Z)(n);try{for(o.s();!(i=o.n()).done;){var s=i.value,a=t-s.length;if(e.sliceDoc(a,t)==s&&r(e.sliceDoc(a-1,a))!=Vr.Word)return a}}catch(l){o.e(l)}finally{o.f()}return-1}var Rg=[{key:"Ctrl-Space",run:function(e){return!!e.state.field(G_,!1)&&(e.dispatch({effects:U_.of(!0)}),!0)}},{key:"Escape",run:function(e){var t=e.state.field(G_,!1);return!(!t||!t.active.some((function(e){return 0!=e.state})))&&(e.dispatch({effects:F_.of(null)}),!0)}},{key:"ArrowDown",run:V_(!0)},{key:"ArrowUp",run:V_(!1)},{key:"PageDown",run:V_(!0,"page")},{key:"PageUp",run:V_(!1,"page")},{key:"Enter",run:function(e){var t=e.state.field(G_,!1);return!(e.state.readOnly||!t||!t.open||t.open.selected<0||Date.now()-t.open.timestamp<e.state.facet(S_).interactionDelay)&&(t.open.disabled||b_(e,t.open.options[t.open.selected]),!0)}}],Cg=mr.highest(wl.computeN([S_],(function(e){return e.facet(S_).defaultKeymap?[Rg]:[]})));var Ag=(0,bn.Z)((function e(t,n,r){(0,En.Z)(this,e),this.from=t,this.to=n,this.diagnostic=r})),xg=function(){function e(t,n,r){(0,En.Z)(this,e),this.diagnostics=t,this.panel=n,this.selected=r}return(0,bn.Z)(e,null,[{key:"init",value:function(t,n,r){var i=t,o=r.facet(Zg).markerFilter;o&&(i=o(i));var s=Ao.set(i.map((function(e){return e.from==e.to||e.from==e.to-1&&r.doc.lineAt(e.from).to==e.from?Ao.widget({widget:new $g(e),diagnostic:e}).range(e.from):Ao.mark({attributes:{class:"cm-lintRange cm-lintRange-"+e.severity},diagnostic:e}).range(e.from,e.to)})),!0);return new e(s,n,Mg(s))}}]),e}();function Mg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=null;return e.between(n,1e9,(function(e,n,i){var o=i.spec;if(!t||o.diagnostic==t)return r=new Ag(e,n,o.diagnostic),!1})),r}function Ng(e,t){return!(!e.effects.some((function(e){return e.is(Dg)}))&&!e.changes.touchesRange(t.pos))}function Lg(e,t){return e.field(Ug,!1)?t:t.concat(Lr.appendConfig.of([Ug,gl.decorations.compute([Ug],(function(e){var t=e.field(Ug),n=t.selected,r=t.panel;return n&&r&&n.from!=n.to?Ao.set([Fg.range(n.from,n.to)]):Ao.none})),Rc(Wg,{hideOn:Ng}),Jg]))}var Dg=Lr.define(),Pg=Lr.define(),Bg=Lr.define(),Ug=hr.define({create:function(){return new xg(Ao.none,null,null)},update:function(e,t){if(t.docChanged){var n=e.diagnostics.map(t.changes),r=null;if(e.selected){var i=t.changes.mapPos(e.selected.from,1);r=Mg(n,e.selected.diagnostic,i)||Mg(n,null,i)}e=new xg(n,e.panel,r)}var o,s=(0,_n.Z)(t.effects);try{for(s.s();!(o=s.n()).done;){var a=o.value;a.is(Dg)?e=xg.init(a.value,e.panel,t.state):a.is(Pg)?e=new xg(e.diagnostics,a.value?zg.open:null,e.selected):a.is(Bg)&&(e=new xg(e.diagnostics,e.panel,a.value))}}catch(l){s.e(l)}finally{s.f()}return e},provide:function(e){return[Pc.from(e,(function(e){return e.panel})),gl.decorations.from(e,(function(e){return e.diagnostics}))]}});var Fg=Ao.mark({class:"cm-lintRange cm-lintRange-active"});function Wg(e,t,n){var r=e.state.field(Ug).diagnostics,i=[],o=2e8,s=0;r.between(t-(n<0?1:0),t+(n>0?1:0),(function(e,r,a){var l=a.spec;t>=e&&t<=r&&(e==r||(t>e||n>0)&&(t<r||n<0))&&(i.push(l.diagnostic),o=Math.min(e,o),s=Math.max(r,s))}));var a=e.state.facet(Zg).tooltipFilter;return a&&(i=a(i)),i.length?{pos:o,end:s,above:e.state.doc.lineAt(o).to<s,create:function(){return{dom:Hg(e,i)}}}:null}function Hg(e,t){return df("ul",{class:"cm-tooltip-lint"},t.map((function(t){return Xg(e,t,!1)})))}var Gg=function(e){var t=e.state.field(Ug,!1);return!(!t||!t.panel)&&(e.dispatch({effects:Pg.of(!1)}),!0)},Vg=[{key:"Mod-Shift-m",run:function(e){var t=e.state.field(Ug,!1);t&&t.panel||e.dispatch({effects:Lg(e.state,[Pg.of(!0)])});var n=Mc(e,zg.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},preventDefault:!0},{key:"F8",run:function(e){var t=e.state.field(Ug,!1);if(!t)return!1;var n=e.state.selection.main,r=t.diagnostics.iter(n.to+1);return!(!r.value&&(!(r=t.diagnostics.iter(0)).value||r.from==n.from&&r.to==n.to))&&(e.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)}}],jg=ts.fromClass(function(){function e(t){(0,En.Z)(this,e),this.view=t,this.timeout=-1,this.set=!0;var n=t.state.facet(Zg).delay;this.lintTime=Date.now()+n,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,n)}return(0,bn.Z)(e,[{key:"run",value:function(){var e=this,t=Date.now();if(t<this.lintTime-10)setTimeout(this.run,this.lintTime-t);else{this.set=!1;var n=this.view.state,r=n.facet(Zg).sources;Promise.all(r.map((function(t){return Promise.resolve(t(e.view))}))).then((function(t){var r=t.reduce((function(e,t){return e.concat(t)}));e.view.state.doc==n.doc&&e.view.dispatch(function(e,t){return{effects:Lg(e,[Dg.of(t)])}}(e.view.state,r))}),(function(t){Qo(e.view.state,t)}))}}},{key:"update",value:function(e){var t=e.state.facet(Zg);(e.docChanged||t!=e.startState.facet(Zg))&&(this.lintTime=Date.now()+t.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,t.delay)))}},{key:"force",value:function(){this.set&&(this.lintTime=Date.now(),this.run())}},{key:"destroy",value:function(){clearTimeout(this.timeout)}}]),e}()),Zg=or.define({combine:function(e){return Object.assign({sources:e.map((function(e){return e.source}))},Xr(e.map((function(e){return e.config})),{delay:750,markerFilter:null,tooltipFilter:null}))},enables:jg});function qg(e){var t=[];if(e){var n,r=(0,_n.Z)(e);try{e:for(r.s();!(n=r.n()).done;){for(var i=n.value.name,o=function(e){var n=i[e];if(/[a-zA-Z]/.test(n)&&!t.some((function(e){return e.toLowerCase()==n.toLowerCase()})))return t.push(n),"continue|actions"},s=0;s<i.length;s++){if("continue|actions"===o(s))continue e}t.push("")}}catch(a){r.e(a)}finally{r.f()}}return t}function Xg(e,t,n){var r,i=n?qg(t.actions):[];return df("li",{class:"cm-diagnostic cm-diagnostic-"+t.severity},df("span",{class:"cm-diagnosticText"},t.renderMessage?t.renderMessage():t.message),null===(r=t.actions)||void 0===r?void 0:r.map((function(n,r){var o=function(r){r.preventDefault();var i=Mg(e.state.field(Ug).diagnostics,t);i&&n.apply(e,i.from,i.to)},s=n.name,a=i[r]?s.indexOf(i[r]):-1,l=a<0?s:[s.slice(0,a),df("u",s.slice(a,a+1)),s.slice(a+1)];return df("button",{type:"button",class:"cm-diagnosticAction",onclick:o,onmousedown:o,"aria-label":" Action: ".concat(s).concat(a<0?"":' (access key "'.concat(i[r],')"'),".")},l)})),t.source&&df("div",{class:"cm-diagnosticSource"},t.source))}var $g=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e){var r;return(0,En.Z)(this,n),(r=t.call(this)).diagnostic=e,r}return(0,bn.Z)(n,[{key:"eq",value:function(e){return e.diagnostic==this.diagnostic}},{key:"toDOM",value:function(){return df("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}]),n}(Ro),Yg=(0,bn.Z)((function e(t,n){(0,En.Z)(this,e),this.diagnostic=n,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=Xg(t,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")})),zg=function(){function e(t){var n=this;(0,En.Z)(this,e),this.view=t,this.items=[];this.list=df("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:function(e){if(27==e.keyCode)Gg(n.view),n.view.focus();else if(38==e.keyCode||33==e.keyCode)n.moveSelection((n.selectedIndex-1+n.items.length)%n.items.length);else if(40==e.keyCode||34==e.keyCode)n.moveSelection((n.selectedIndex+1)%n.items.length);else if(36==e.keyCode)n.moveSelection(0);else if(35==e.keyCode)n.moveSelection(n.items.length-1);else if(13==e.keyCode)n.view.focus();else{if(!(e.keyCode>=65&&e.keyCode<=90&&n.selectedIndex>=0))return;for(var r=n.items[n.selectedIndex].diagnostic,i=qg(r.actions),o=0;o<i.length;o++)if(i[o].toUpperCase().charCodeAt(0)==e.keyCode){var s=Mg(n.view.state.field(Ug).diagnostics,r);s&&r.actions[o].apply(t,s.from,s.to)}}e.preventDefault()},onclick:function(e){for(var t=0;t<n.items.length;t++)n.items[t].dom.contains(e.target)&&n.moveSelection(t)}}),this.dom=df("div",{class:"cm-panel-lint"},this.list,df("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:function(){return Gg(n.view)}},"\xd7")),this.update()}return(0,bn.Z)(e,[{key:"selectedIndex",get:function(){var e=this.view.state.field(Ug).selected;if(!e)return-1;for(var t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}},{key:"update",value:function(){var e=this,t=this.view.state.field(Ug),n=t.diagnostics,r=t.selected,i=0,o=!1,s=null;for(n.between(0,this.view.state.doc.length,(function(t,n,a){for(var l,c=a.spec,u=-1,h=i;h<e.items.length;h++)if(e.items[h].diagnostic==c.diagnostic){u=h;break}u<0?(l=new Yg(e.view,c.diagnostic),e.items.splice(i,0,l),o=!0):(l=e.items[u],u>i&&(e.items.splice(i,u-i),o=!0)),r&&l.diagnostic==r.diagnostic?l.dom.hasAttribute("aria-selected")||(l.dom.setAttribute("aria-selected","true"),s=l):l.dom.hasAttribute("aria-selected")&&l.dom.removeAttribute("aria-selected"),i++}));i<this.items.length&&!(1==this.items.length&&this.items[0].diagnostic.from<0);)o=!0,this.items.pop();0==this.items.length&&(this.items.push(new Yg(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),o=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:function(){return{sel:s.dom.getBoundingClientRect(),panel:e.list.getBoundingClientRect()}},write:function(t){var n=t.sel,r=t.panel;n.top<r.top?e.list.scrollTop-=r.top-n.top:n.bottom>r.bottom&&(e.list.scrollTop+=n.bottom-r.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),o&&this.sync()}},{key:"sync",value:function(){var e=this.list.firstChild;function t(){var t=e;e=t.nextSibling,t.remove()}var n,r=(0,_n.Z)(this.items);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.dom.parentNode==this.list){for(;e!=i.dom;)t();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e)}}catch(o){r.e(o)}finally{r.f()}for(;e;)t()}},{key:"moveSelection",value:function(e){if(!(this.selectedIndex<0)){var t=Mg(this.view.state.field(Ug).diagnostics,this.items[e].diagnostic);t&&this.view.dispatch({selection:{anchor:t.from,head:t.to},scrollIntoView:!0,effects:Bg.of(t)})}}}],[{key:"open",value:function(t){return new e(t)}}]),e}();function Qg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'viewBox="0 0 40 40"';return'url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" '.concat(t,">").concat(encodeURIComponent(e),"</svg>')")}function Kg(e){return Qg('<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="'.concat(e,'" fill="none" stroke-width=".7"/>'),'width="6" height="3"')}var Jg=gl.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Kg("#d11")},".cm-lintRange-warning":{backgroundImage:Kg("orange")},".cm-lintRange-info":{backgroundImage:Kg("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});var em=function(e){void 0===e&&(e={});var t=[];!1!==e.closeBracketsKeymap&&(t=t.concat(Tg)),!1!==e.defaultKeymap&&(t=t.concat(hf)),!1!==e.searchKeymap&&(t=t.concat(a_)),!1!==e.historyKeymap&&(t=t.concat(ud)),!1!==e.foldKeymap&&(t=t.concat(zh)),!1!==e.completionKeymap&&(t=t.concat(Rg)),!1!==e.lintKeymap&&(t=t.concat(Vg));var n=[];return!1!==e.lineNumbers&&n.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[Qc.of(e),Vc(),eu]}()),!1!==e.highlightActiveLineGutter&&n.push(ru),!1!==e.highlightSpecialChars&&n.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[nc.of(e),ic()]}()),!1!==e.history&&n.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[$p,Xp.of(e),gl.domEventHandlers({beforeinput:function(e,t){var n="historyUndo"==e.inputType?zp:"historyRedo"==e.inputType?Qp:null;return!!n&&(e.preventDefault(),n(t))}})]}()),!1!==e.foldGutter&&n.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign(Object.assign({},tp),e),n=new np(t,!0),r=new np(t,!1),i=ts.fromClass(function(){function e(t){(0,En.Z)(this,e),this.from=t.viewport.from,this.markers=this.buildMarkers(t)}return(0,bn.Z)(e,[{key:"update",value:function(e){(e.docChanged||e.viewportChanged||e.startState.facet(bh)!=e.state.facet(bh)||e.startState.field(qh,!1)!=e.state.field(qh,!1)||dh(e.startState)!=dh(e.state)||t.foldingChanged(e))&&(this.markers=this.buildMarkers(e.view))}},{key:"buildMarkers",value:function(e){var t,i=new ei,o=(0,_n.Z)(e.viewportLineBlocks);try{for(o.s();!(t=o.n()).done;){var s=t.value,a=Xh(e.state,s.from,s.to)?r:Hh(e.state,s.from,s.to)?n:null;a&&i.add(s.from,s.from,a)}}catch(l){o.e(l)}finally{o.f()}return i.finish()}}]),e}()),o=t.domEventHandlers;return[i,Hc({class:"cm-foldGutter",markers:function(e){var t;return(null===(t=e.plugin(i))||void 0===t?void 0:t.markers)||Kr.empty},initialSpacer:function(){return new np(t,!1)},domEventHandlers:Object.assign(Object.assign({},o),{click:function(e,t,n){if(o.click&&o.click(e,t,n))return!0;var r=Xh(e.state,t.from,t.to);if(r)return e.dispatch({effects:jh.of(r)}),!0;var i=Hh(e.state,t.from,t.to);return!!i&&(e.dispatch({effects:Vh.of(i)}),!0)}})}),Jh()]}()),!1!==e.drawSelection&&n.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[Wl.of(e),Gl,jl,ql,$o.of(!0)]}()),!1!==e.dropCursor&&n.push([$l,Yl]),!1!==e.allowMultipleSelections&&n.push(qr.allowMultipleSelections.of(!0)),!1!==e.indentOnInput&&n.push(qr.transactionFilter.of((function(e){if(!e.docChanged||!e.isUserEvent("input.type")&&!e.isUserEvent("input.complete"))return e;var t=e.startState.languageDataAt("indentOnInput",e.startState.selection.main.head);if(!t.length)return e;var n=e.newDoc,r=e.newSelection.main.head,i=n.lineAt(r);if(r>i.from+200)return e;var o=n.sliceString(i.from,r);if(!t.some((function(e){return e.test(o)})))return e;var s,a=e.state,l=-1,c=[],u=(0,_n.Z)(a.selection.ranges);try{for(u.s();!(s=u.n()).done;){var h=s.value.head,p=a.doc.lineAt(h);if(p.from!=l){l=p.from;var d=Rh(a,p.from);if(null!=d){var f=/^\s*/.exec(p.text)[0],_=Ih(a,d);f!=_&&c.push({from:p.from,to:p.from+f.length,insert:_})}}}}catch(g){u.e(g)}finally{u.f()}return c.length?[e,{changes:c,sequential:!0}]:e}))),!1!==e.syntaxHighlighting&&n.push(lp(hp,{fallback:!0})),!1!==e.bracketMatching&&n.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[_p.of(e),Tp]}()),!1!==e.closeBrackets&&n.push([yg,fg]),!1!==e.autocompletion&&n.push(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return[G_,S_.of(e),Z_,Cg,q_]}()),!1!==e.rectangularSelection&&n.push(function(e){var t=(null===e||void 0===e?void 0:e.eventFilter)||function(e){return e.altKey&&0==e.button};return gl.mouseSelectionStyle.of((function(e,n){return t(n)?pc(e,n):null}))}()),!1!==e.crosshairCursor&&n.push(function(){var e=o(dc[(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).key||"Alt"],2),t=e[0],n=e[1],r=ts.fromClass(function(){function e(t){(0,En.Z)(this,e),this.view=t,this.isDown=!1}return(0,bn.Z)(e,[{key:"set",value:function(e){this.isDown!=e&&(this.isDown=e,this.view.update([]))}}]),e}(),{eventHandlers:{keydown:function(e){this.set(e.keyCode==t||n(e))},keyup:function(e){e.keyCode!=t&&n(e)||this.set(!1)},mousemove:function(e){this.set(n(e))}}});return[r,gl.contentAttributes.of((function(e){var t;return(null===(t=e.plugin(r))||void 0===t?void 0:t.isDown)?fc:null}))]}()),!1!==e.highlightActiveLine&&n.push(lc),!1!==e.highlightSelectionMatches&&n.push(function(e){var t=[Lf,Nf];return e&&t.push(Cf.of(e)),t}()),e.tabSize&&"number"===typeof e.tabSize&&n.push(wh.of(" ".repeat(e.tabSize))),n.concat([wl.of(t.flat())]).filter(Boolean)},tm="#e5c07b",nm="#e06c75",rm="#56b6c2",im="#ffffff",om="#abb2bf",sm="#7d8799",am="#61afef",lm="#98c379",cm="#d19a66",um="#c678dd",hm="#21252b",pm="#2c313a",dm="#282c34",fm="#353a42",_m="#3E4451",gm="#528bff",mm=[gl.theme({"&":{color:om,backgroundColor:dm},".cm-content":{caretColor:gm},".cm-cursor, .cm-dropCursor":{borderLeftColor:gm},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:_m},".cm-panels":{backgroundColor:hm,color:om},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847",outline:"1px solid #515a6b"},".cm-gutters":{backgroundColor:dm,color:sm,border:"none"},".cm-activeLineGutter":{backgroundColor:pm},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:fm},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:fm,borderBottomColor:fm},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:pm,color:om}}},{dark:!0}),lp(ip.define([{tag:ah.keyword,color:um},{tag:[ah.name,ah.deleted,ah.character,ah.propertyName,ah.macroName],color:nm},{tag:[ah.function(ah.variableName),ah.labelName],color:am},{tag:[ah.color,ah.constant(ah.name),ah.standard(ah.name)],color:cm},{tag:[ah.definition(ah.name),ah.separator],color:om},{tag:[ah.typeName,ah.className,ah.number,ah.changed,ah.annotation,ah.modifier,ah.self,ah.namespace],color:tm},{tag:[ah.operator,ah.operatorKeyword,ah.url,ah.escape,ah.regexp,ah.link,ah.special(ah.string)],color:rm},{tag:[ah.meta,ah.comment],color:sm},{tag:ah.strong,fontWeight:"bold"},{tag:ah.emphasis,fontStyle:"italic"},{tag:ah.strikethrough,textDecoration:"line-through"},{tag:ah.link,color:sm,textDecoration:"underline"},{tag:ah.heading,fontWeight:"bold",color:nm},{tag:[ah.atom,ah.bool,ah.special(ah.variableName)],color:cm},{tag:[ah.processingInstruction,ah.string,ah.inserted],color:lm},{tag:ah.invalid,color:im}]))];function vm(t){var n=t.value,r=t.selection,i=t.onChange,s=t.onStatistics,a=t.onCreateEditor,l=t.onUpdate,c=t.extensions,u=void 0===c?[]:c,h=t.autoFocus,p=t.theme,d=void 0===p?"light":p,f=t.height,_=void 0===f?"":f,g=t.minHeight,m=void 0===g?"":g,v=t.maxHeight,y=void 0===v?"":v,T=t.placeholder,E=void 0===T?"":T,b=t.width,O=void 0===b?"":b,k=t.minWidth,w=void 0===k?"":k,S=t.maxWidth,I=void 0===S?"":S,R=t.editable,C=void 0===R||R,A=t.readOnly,x=void 0!==A&&A,M=t.indentWithTab,N=void 0===M||M,L=t.basicSetup,D=void 0===L||L,P=t.root,B=t.initialState,U=o((0,e.useState)(),2),F=U[0],W=U[1],H=o((0,e.useState)(),2),G=H[0],V=H[1],j=o((0,e.useState)(),2),Z=j[0],q=j[1],X=gl.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),$=gl.theme({"&":{height:_,minHeight:m,maxHeight:y,width:O,minWidth:w,maxWidth:I}}),Y=gl.updateListener.of((function(e){if(e.docChanged&&"function"===typeof i){var t=e.state.doc.toString();i(t,e)}s&&s(function(e){return{line:e.state.doc.lineAt(e.state.selection.main.from),lineCount:e.state.doc.lines,lineBreak:e.state.lineBreak,length:e.state.doc.length,readOnly:e.state.readOnly,tabSize:e.state.tabSize,selection:e.state.selection,selectionAsSingle:e.state.selection.asSingle().main,ranges:e.state.selection.ranges,selectionCode:e.state.sliceDoc(e.state.selection.main.from,e.state.selection.main.to),selections:e.state.selection.ranges.map((function(t){return e.state.sliceDoc(t.from,t.to)})),selectedText:e.state.selection.ranges.some((function(e){return!e.empty}))}}(e))})),z=[Y,$];switch(N&&z.unshift(wl.of([pf])),D&&("boolean"===typeof D?z.unshift(em()):z.unshift(em(D))),E&&z.unshift(function(e){return ts.fromClass(function(){function t(n){(0,En.Z)(this,t),this.view=n,this.placeholder=Ao.set([Ao.widget({widget:new cc(e),side:1}).range(0)])}return(0,bn.Z)(t,[{key:"decorations",get:function(){return this.view.state.doc.length?Ao.none:this.placeholder}}]),t}(),{decorations:function(e){return e.decorations}})}(E)),d){case"light":z.push(X);break;case"dark":z.push(mm);break;case"none":break;default:z.push(d)}return!1===C&&z.push(gl.editable.of(!1)),x&&z.push(qr.readOnly.of(!0)),l&&"function"===typeof l&&z.push(gl.updateListener.of(l)),z=z.concat(u),(0,e.useEffect)((function(){if(F&&!Z){var e={doc:n,selection:r,extensions:z},t=B?qr.fromJSON(B.json,e,B.fields):qr.create(e);if(q(t),!G){var i=new gl({state:t,parent:F,root:P});V(i),a&&a(i,t)}}return function(){G&&(q(void 0),V(void 0))}}),[F,Z]),(0,e.useEffect)((function(){return W(t.container)}),[t.container]),(0,e.useEffect)((function(){return function(){G&&(G.destroy(),V(void 0))}}),[G]),(0,e.useEffect)((function(){h&&G&&G.focus()}),[h,G]),(0,e.useEffect)((function(){G&&G.dispatch({effects:Lr.reconfigure.of(z)})}),[d,u,_,m,y,O,w,I,E,C,x,N,D,i,l]),(0,e.useEffect)((function(){var e=G?G.state.doc.toString():"";G&&n!==e&&G.dispatch({changes:{from:0,to:e.length,insert:n||""}})}),[n,G]),{state:Z,setState:q,view:G,setView:V,container:F,setContainer:W}}var ym=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],Tm=(0,e.forwardRef)((function(t,n){var r=t.className,i=t.value,o=void 0===i?"":i,s=t.selection,a=t.extensions,l=void 0===a?[]:a,c=t.onChange,u=t.onStatistics,h=t.onCreateEditor,p=t.onUpdate,d=t.autoFocus,f=t.theme,_=void 0===f?"light":f,g=t.height,m=t.minHeight,v=t.maxHeight,y=t.width,T=t.minWidth,E=t.maxWidth,b=t.basicSetup,O=t.placeholder,k=t.indentWithTab,w=t.editable,S=t.readOnly,I=t.root,R=t.initialState,C=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,ym),x=(0,e.useRef)(null),M=vm({container:x.current,root:I,value:o,autoFocus:d,theme:_,height:g,minHeight:m,maxHeight:v,width:y,minWidth:T,maxWidth:E,basicSetup:b,placeholder:O,indentWithTab:k,editable:w,readOnly:S,selection:s,onChange:c,onStatistics:u,onCreateEditor:h,onUpdate:p,extensions:l,initialState:R}),N=M.state,L=M.view,D=M.container;M.setContainer;if((0,e.useImperativeHandle)(n,(function(){return{editor:x.current,state:N,view:L}}),[x,D,N,L]),"string"!==typeof o)throw new Error("value must be typeof string but got "+typeof o);var P="string"===typeof _?"cm-theme-"+_:"cm-theme";return(0,A.jsx)("div",fn({ref:x,className:P+(r?" "+r:"")},C))}));Tm.displayName="CodeMirror";var Em,bm=Tm,Om=function(){function e(t,n,r,i,o,s,a,l,c){var u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0,h=arguments.length>10?arguments[10]:void 0;(0,En.Z)(this,e),this.p=t,this.stack=n,this.state=r,this.reducePos=i,this.pos=o,this.score=s,this.buffer=a,this.bufferBase=l,this.curContext=c,this.lookAhead=u,this.parent=h}return(0,bn.Z)(e,[{key:"toString",value:function(){return"[".concat(this.stack.filter((function(e,t){return t%3==0})).concat(this.state),"]@").concat(this.pos).concat(this.score?"!"+this.score:"")}},{key:"context",get:function(){return this.curContext?this.curContext.context:null}},{key:"pushState",value:function(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}},{key:"reduce",value:function(e){var t=e>>19,n=65535&e,r=this.p.parser,i=r.dynamicPrecedence(n);if(i&&(this.score+=i),0==t)return this.pushState(r.getGoto(this.state,n,!0),this.reducePos),n<r.minRepeatTerm&&this.storeNode(n,this.reducePos,this.reducePos,4,!0),void this.reduceContext(n,this.reducePos);var o=this.stack.length-3*(t-1)-(262144&e?6:0),s=this.stack[o-2],a=this.stack[o-1],l=this.bufferBase+this.buffer.length-a;if(n<r.minRepeatTerm||131072&e){var c=r.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(n,s,c,l+4,!0)}if(262144&e)this.state=this.stack[o];else{var u=this.stack[o-3];this.state=r.getGoto(u,n,!0)}for(;this.stack.length>o;)this.stack.pop();this.reduceContext(n,s)}},{key:"storeNode",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(0==e&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){var o=this,s=this.buffer.length;if(0==s&&o.parent&&(s=o.bufferBase-o.parent.bufferBase,o=o.parent),s>0&&0==o.buffer[s-4]&&o.buffer[s-1]>-1){if(t==n)return;if(o.buffer[s-2]>=t)return void(o.buffer[s-2]=n)}}if(i&&this.pos!=n){var a=this.buffer.length;if(a>0&&0!=this.buffer[a-4])for(;a>0&&this.buffer[a-2]>n;)this.buffer[a]=this.buffer[a-4],this.buffer[a+1]=this.buffer[a-3],this.buffer[a+2]=this.buffer[a-2],this.buffer[a+3]=this.buffer[a-1],a-=4,r>4&&(r-=4);this.buffer[a]=e,this.buffer[a+1]=t,this.buffer[a+2]=n,this.buffer[a+3]=r}else this.buffer.push(e,t,n,r)}},{key:"shift",value:function(e,t,n){var r=this.pos;if(131072&e)this.pushState(65535&e,this.pos);else if(0==(262144&e)){var i=e,o=this.p.parser;(n>this.pos||t<=o.maxNode)&&(this.pos=n,o.stateFlag(i,1)||(this.reducePos=n)),this.pushState(i,r),this.shiftContext(t,r),t<=o.maxNode&&this.buffer.push(t,r,n,4)}else this.pos=n,this.shiftContext(t,r),t<=this.p.parser.maxNode&&this.buffer.push(t,r,n,4)}},{key:"apply",value:function(e,t,n){65536&e?this.reduce(e):this.shift(e,t,n)}},{key:"useNode",value:function(e,t){var n=this.p.reused.length-1;(n<0||this.p.reused[n]!=e)&&(this.p.reused.push(e),n++);var r=this.pos;this.reducePos=this.pos=r+e.length,this.pushState(t,r),this.buffer.push(n,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}},{key:"split",value:function(){for(var t=this,n=t.buffer.length;n>0&&t.buffer[n-2]>t.reducePos;)n-=4;for(var r=t.buffer.slice(n),i=t.bufferBase+n;t&&i==t.bufferBase;)t=t.parent;return new e(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,t)}},{key:"recoverByDelete",value:function(e,t){var n=e<=this.p.parser.maxNode;n&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,n?8:4),this.pos=this.reducePos=t,this.score-=190}},{key:"canShift",value:function(e){for(var t=new wm(this);;){var n=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(0==n)return!1;if(0==(65536&n))return!0;t.reduce(n)}}},{key:"recoverByInsert",value:function(e){if(this.stack.length>=300)return[];var t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){for(var n,r=[],i=0;i<t.length;i+=2)(n=t[i+1])!=this.state&&this.p.parser.hasAction(n,e)&&r.push(t[i],n);if(this.stack.length<120)for(var o=function(e){var n=t[e+1];r.some((function(e,t){return 1&t&&e==n}))||r.push(t[e],n)},s=0;r.length<8&&s<t.length;s+=2)o(s);t=r}for(var a=[],l=0;l<t.length&&a.length<4;l+=2){var c=t[l+1];if(c!=this.state){var u=this.split();u.pushState(c,this.pos),u.storeNode(0,u.pos,u.pos,4,!0),u.shiftContext(t[l],this.pos),u.score-=200,a.push(u)}}return a}},{key:"forceReduce",value:function(){var e=this.p.parser.stateSlot(this.state,5);if(0==(65536&e))return!1;var t=this.p.parser;if(!t.validAction(this.state,e)){var n=e>>19,r=65535&e,i=this.stack.length-3*n;if(i<0||t.getGoto(this.stack[i],r,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}},{key:"forceAll",value:function(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}},{key:"deadEnd",get:function(){if(3!=this.stack.length)return!1;var e=this.p.parser;return 65535==e.data[e.stateSlot(this.state,1)]&&!e.stateSlot(this.state,4)}},{key:"restart",value:function(){this.state=this.stack[0],this.stack.length=0}},{key:"sameState",value:function(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(var t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}},{key:"parser",get:function(){return this.p.parser}},{key:"dialectEnabled",value:function(e){return this.p.parser.dialect.flags[e]}},{key:"shiftContext",value:function(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}},{key:"reduceContext",value:function(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}},{key:"emitContext",value:function(){var e=this.buffer.length-1;(e<0||-3!=this.buffer[e])&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}},{key:"emitLookAhead",value:function(){var e=this.buffer.length-1;(e<0||-4!=this.buffer[e])&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}},{key:"updateContext",value:function(e){if(e!=this.curContext.context){var t=new km(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}},{key:"setLookAhead",value:function(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}},{key:"close",value:function(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}],[{key:"start",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=t.parser.context;return new e(t,[],n,r,r,0,[],0,i?new km(i,i.start):null,0,null)}}]),e}(),km=(0,bn.Z)((function e(t,n){(0,En.Z)(this,e),this.tracker=t,this.context=n,this.hash=t.strict?t.hash(n):0}));!function(e){e[e.Insert=200]="Insert",e[e.Delete=190]="Delete",e[e.Reduce=100]="Reduce",e[e.MaxNext=4]="MaxNext",e[e.MaxInsertStackDepth=300]="MaxInsertStackDepth",e[e.DampenInsertStackDepth=120]="DampenInsertStackDepth"}(Em||(Em={}));var wm=function(){function e(t){(0,En.Z)(this,e),this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}return(0,bn.Z)(e,[{key:"reduce",value:function(e){var t=65535&e,n=e>>19;0==n?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=3*(n-1);var r=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=r}}]),e}(),Sm=function(){function e(t,n,r){(0,En.Z)(this,e),this.stack=t,this.pos=n,this.index=r,this.buffer=t.buffer,0==this.index&&this.maybeNext()}return(0,bn.Z)(e,[{key:"maybeNext",value:function(){var e=this.stack.parent;null!=e&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}},{key:"id",get:function(){return this.buffer[this.index-4]}},{key:"start",get:function(){return this.buffer[this.index-3]}},{key:"end",get:function(){return this.buffer[this.index-2]}},{key:"size",get:function(){return this.buffer[this.index-1]}},{key:"next",value:function(){this.index-=4,this.pos-=4,0==this.index&&this.maybeNext()}},{key:"fork",value:function(){return new e(this.stack,this.pos,this.index)}}],[{key:"create",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.bufferBase+t.buffer.length;return new e(t,n,n-t.bufferBase)}}]),e}(),Im=(0,bn.Z)((function e(){(0,En.Z)(this,e),this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0})),Rm=new Im,Cm=function(){function e(t,n){(0,En.Z)(this,e),this.input=t,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Rm,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}return(0,bn.Z)(e,[{key:"resolveOffset",value:function(e,t){for(var n=this.range,r=this.rangeIndex,i=this.pos+e;i<n.from;){if(!r)return null;var o=this.ranges[--r];i-=n.from-o.to,n=o}for(;t<0?i>n.to:i>=n.to;){if(r==this.ranges.length-1)return null;var s=this.ranges[++r];i+=s.from-n.to,n=s}return i}},{key:"clipPos",value:function(e){if(e>=this.range.from&&e<this.range.to)return e;var t,n=(0,_n.Z)(this.ranges);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.to>e)return Math.max(e,r.from)}}catch(i){n.e(i)}finally{n.f()}return this.end}},{key:"peek",value:function(e){var t,n,r=this.chunkOff+e;if(r>=0&&r<this.chunk.length)t=this.pos+e,n=this.chunk.charCodeAt(r);else{var i=this.resolveOffset(e,1);if(null==i)return-1;if((t=i)>=this.chunk2Pos&&t<this.chunk2Pos+this.chunk2.length)n=this.chunk2.charCodeAt(t-this.chunk2Pos);else{for(var o=this.rangeIndex,s=this.range;s.to<=t;)s=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=t),t+this.chunk2.length>s.to&&(this.chunk2=this.chunk2.slice(0,s.to-t)),n=this.chunk2.charCodeAt(0)}}return t>=this.token.lookAhead&&(this.token.lookAhead=t+1),n}},{key:"acceptToken",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t?this.resolveOffset(t,-1):this.pos;if(null==n||n<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=n}},{key:"getChunk",value:function(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){var e=this.chunk,t=this.chunkPos;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;var n=this.input.chunk(this.pos),r=this.pos+n.length;this.chunk=r>this.range.to?n.slice(0,this.range.to-this.pos):n,this.chunkPos=this.pos,this.chunkOff=0}}},{key:"readNext",value:function(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}},{key:"advance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}},{key:"setDone",value:function(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}},{key:"reset",value:function(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=Rm,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}},{key:"read",value:function(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);var n,r="",i=(0,_n.Z)(this.ranges);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.from>=t)break;o.to>e&&(r+=this.input.read(Math.max(o.from,e),Math.min(o.to,t)))}}catch(s){i.e(s)}finally{i.f()}return r}}]),e}(),Am=function(){function e(t,n){(0,En.Z)(this,e),this.data=t,this.id=n}return(0,bn.Z)(e,[{key:"token",value:function(e,t){!function(e,t,n,r){var i=0,o=1<<r,s=n.p.parser,a=s.dialect;e:for(;0!=(o&e[i]);){for(var l=e[i+1],c=i+3;c<l;c+=2)if((e[c+1]&o)>0){var u=e[c];if(a.allows(u)&&(-1==t.token.value||t.token.value==u||s.overrides(u,t.token.value))){t.acceptToken(u);break}}var h=t.next,p=0,d=e[i+2];if(!(t.next<0&&d>p&&65535==e[l+3*d-3]&&65535==e[l+3*d-3])){for(;p<d;){var f=p+d>>1,_=l+f+(f<<1),g=e[_],m=e[_+1]||65536;if(h<g)d=f;else{if(!(h>=m)){i=e[_+2],t.advance();continue e}p=f+1}}break}i=e[l+3*d-1]}}(this.data,e,t,this.id)}}]),e}();Am.prototype.contextual=Am.prototype.fallback=Am.prototype.extend=!1;var xm=(0,bn.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,En.Z)(this,e),this.token=t,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}));function Mm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Uint16Array;if("string"!=typeof e)return e;for(var n=null,r=0,i=0;r<e.length;){for(var o=0;;){var s=e.charCodeAt(r++),a=!1;if(126==s){o=65535;break}s>=92&&s--,s>=34&&s--;var l=s-32;if(l>=46&&(l-=46,a=!0),o+=l,a)break;o*=46}n?n[i++]=o:n=new t(o)}return n}var Nm,Lm="undefined"!=typeof process&&{NODE_ENV:"production",PUBLIC_URL:"/cde",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}&&/\bparse\b/.test({NODE_ENV:"production",PUBLIC_URL:"/cde",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.LOG),Dm=null;function Pm(e,t,n){var r=e.cursor(hu.IncludeAnonymous);for(r.moveTo(t);;)if(!(n<0?r.childBefore(t):r.childAfter(t)))for(;;){if((n<0?r.to<t:r.from>t)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,t-25)):Math.min(e.length,Math.max(r.from+1,t+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:e.length}}!function(e){e[e.Margin=25]="Margin"}(Nm||(Nm={}));var Bm,Um=function(){function e(t,n){(0,En.Z)(this,e),this.fragments=t,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}return(0,bn.Z)(e,[{key:"nextFragment",value:function(){var e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?Pm(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?Pm(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}},{key:"nodeAt",value:function(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){var t=this.trees.length-1;if(t<0)return this.nextFragment(),null;var n=this.trees[t],r=this.index[t];if(r!=n.children.length){var i=n.children[r],o=this.start[t]+n.positions[r];if(o>e)return this.nextStart=o,null;if(i instanceof _u){if(o==e){if(o<this.safeFrom)return null;var s=o+i.length;if(s<=this.safeTo){var a=i.prop(lu.lookAhead);if(!a||s+a<this.fragment.to)return i}}this.index[t]++,o+i.length>=Math.max(this.safeFrom,e)&&(this.trees.push(i),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+i.length}else this.trees.pop(),this.start.pop(),this.index.pop()}}}]),e}(),Fm=function(){function e(t,n){(0,En.Z)(this,e),this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map((function(e){return new Im}))}return(0,bn.Z)(e,[{key:"getActions",value:function(e){for(var t=0,n=null,r=e.p.parser,i=r.tokenizers,o=r.stateSlot(e.state,3),s=e.curContext?e.curContext.hash:0,a=0,l=0;l<i.length;l++)if(0!=(1<<l&o)){var c=i[l],u=this.tokens[l];if((!n||c.fallback)&&((c.contextual||u.start!=e.pos||u.mask!=o||u.context!=s)&&(this.updateCachedToken(u,c,e),u.mask=o,u.context=s),u.lookAhead>u.end+25&&(a=Math.max(u.lookAhead,a)),0!=u.value)){var h=t;if(u.extended>-1&&(t=this.addActions(e,u.extended,u.end,t)),t=this.addActions(e,u.value,u.end,t),!c.extend&&(n=u,t>h))break}}for(;this.actions.length>t;)this.actions.pop();return a&&e.setLookAhead(a),n||e.pos!=this.stream.end||((n=new Im).value=e.p.parser.eofTerm,n.start=n.end=e.pos,t=this.addActions(e,n.value,n.end,t)),this.mainToken=n,this.actions}},{key:"getMainToken",value:function(e){if(this.mainToken)return this.mainToken;var t=new Im,n=e.pos,r=e.p;return t.start=n,t.end=Math.min(n+1,r.stream.end),t.value=n==r.stream.end?r.parser.eofTerm:0,t}},{key:"updateCachedToken",value:function(e,t,n){var r=this.stream.clipPos(n.pos);if(t.token(this.stream.reset(r,e),n),e.value>-1){for(var i=n.p.parser,o=0;o<i.specialized.length;o++)if(i.specialized[o]==e.value){var s=i.specializers[o](this.stream.read(e.start,e.end),n);if(s>=0&&n.p.parser.dialect.allows(s>>1)){0==(1&s)?e.value=s>>1:e.extended=s>>1;break}}}else e.value=0,e.end=this.stream.clipPos(r+1)}},{key:"putAction",value:function(e,t,n,r){for(var i=0;i<r;i+=3)if(this.actions[i]==e)return r;return this.actions[r++]=e,this.actions[r++]=t,this.actions[r++]=n,r}},{key:"addActions",value:function(e,t,n,r){for(var i=e.state,o=e.p.parser,s=o.data,a=0;a<2;a++)for(var l=o.stateSlot(i,a?2:1);;l+=3){if(65535==s[l]){if(1!=s[l+1]){0==r&&2==s[l+1]&&(r=this.putAction(qm(s,l+2),t,n,r));break}l=qm(s,l+2)}s[l]==t&&(r=this.putAction(qm(s,l+1),t,n,r))}return r}}]),e}();!function(e){e[e.Distance=5]="Distance",e[e.MaxRemainingPerStep=3]="MaxRemainingPerStep",e[e.MinBufferLengthPrune=500]="MinBufferLengthPrune",e[e.ForceReduceLimit=10]="ForceReduceLimit",e[e.CutDepth=15e3]="CutDepth",e[e.CutTo=9e3]="CutTo"}(Bm||(Bm={}));var Wm=function(){function e(t,n,r,i){(0,En.Z)(this,e),this.parser=t,this.input=n,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.stream=new Cm(n,i),this.tokens=new Fm(t,this.stream),this.topTerm=t.top[1];var o=i[0].from;this.stacks=[Om.start(this,t.top[0],o)],this.fragments=r.length&&this.stream.end-o>4*t.bufferLength?new Um(r,t.nodeSet):null}return(0,bn.Z)(e,[{key:"parsedPos",get:function(){return this.minStackPos}},{key:"advance",value:function(){for(var e,t,n=this.stacks,r=this.minStackPos,i=this.stacks=[],o=0;o<n.length;o++)for(var s=n[o];;){if(this.tokens.mainToken=null,s.pos>r)i.push(s);else{if(this.advanceStack(s,i,n))continue;e||(e=[],t=[]),e.push(s);var a=this.tokens.getMainToken(s);t.push(a.value,a.end)}break}if(!i.length){var l=e&&function(e){var t,n=null,r=(0,_n.Z)(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,o=i.p.stoppedAt;(i.pos==i.p.stream.end||null!=o&&i.pos>o)&&i.p.parser.stateFlag(i.state,2)&&(!n||n.score<i.score)&&(n=i)}}catch(s){r.e(s)}finally{r.f()}return n}(e);if(l)return this.stackToTree(l);if(this.parser.strict)throw Lm&&e&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+r);this.recovering||(this.recovering=5)}if(this.recovering&&e){var c=null!=this.stoppedAt&&e[0].pos>this.stoppedAt?e[0]:this.runRecovery(e,t,i);if(c)return this.stackToTree(c.forceAll())}if(this.recovering){var u=1==this.recovering?1:3*this.recovering;if(i.length>u)for(i.sort((function(e,t){return t.score-e.score}));i.length>u;)i.pop();i.some((function(e){return e.reducePos>r}))&&this.recovering--}else if(i.length>1)e:for(var h=0;h<i.length-1;h++)for(var p=i[h],d=h+1;d<i.length;d++){var f=i[d];if(p.sameState(f)||p.buffer.length>500&&f.buffer.length>500){if(!((p.score-f.score||p.buffer.length-f.buffer.length)>0)){i.splice(h--,1);continue e}i.splice(d--,1)}}this.minStackPos=i[0].pos;for(var _=1;_<i.length;_++)i[_].pos<this.minStackPos&&(this.minStackPos=i[_].pos);return null}},{key:"stopAt",value:function(e){if(null!=this.stoppedAt&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}},{key:"advanceStack",value:function(e,t,n){var r=e.pos,i=this.parser,o=Lm?this.stackID(e)+" -> ":"";if(null!=this.stoppedAt&&r>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments)for(var s=e.curContext&&e.curContext.tracker.strict,a=s?e.curContext.hash:0,l=this.fragments.nodeAt(r);l;){var c=this.parser.nodeSet.types[l.type.id]==l.type?i.getGoto(e.state,l.type.id):-1;if(c>-1&&l.length&&(!s||(l.prop(lu.contextHash)||0)==a))return e.useNode(l,c),Lm&&console.log(o+this.stackID(e)+" (via reuse of ".concat(i.getName(l.type.id),")")),!0;if(!(l instanceof _u)||0==l.children.length||l.positions[0]>0)break;var u=l.children[0];if(!(u instanceof _u&&0==l.positions[0]))break;l=u}var h=i.stateSlot(e.state,4);if(h>0)return e.reduce(h),Lm&&console.log(o+this.stackID(e)+" (via always-reduce ".concat(i.getName(65535&h),")")),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););for(var p=this.tokens.getActions(e),d=0;d<p.length;){var f=p[d++],_=p[d++],g=p[d++],m=d==p.length||!n,v=m?e:e.split();if(v.apply(f,_,g),Lm&&console.log(o+this.stackID(v)+" (via ".concat(0==(65536&f)?"shift":"reduce of ".concat(i.getName(65535&f))," for ").concat(i.getName(_)," @ ").concat(r).concat(v==e?"":", split",")")),m)return!0;v.pos>r?t.push(v):n.push(v)}return!1}},{key:"advanceFully",value:function(e,t){for(var n=e.pos;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>n)return Hm(e,t),!0}}},{key:"runRecovery",value:function(e,t,n){for(var r=null,i=!1,o=0;o<e.length;o++){var s=e[o],a=t[o<<1],l=t[1+(o<<1)],c=Lm?this.stackID(s)+" -> ":"";if(s.deadEnd){if(i)continue;if(i=!0,s.restart(),Lm&&console.log(c+this.stackID(s)+" (restarted)"),this.advanceFully(s,n))continue}for(var u=s.split(),h=c,p=0;u.forceReduce()&&p<10;p++){if(Lm&&console.log(h+this.stackID(u)+" (via force-reduce)"),this.advanceFully(u,n))break;Lm&&(h=this.stackID(u)+" -> ")}var d,f=(0,_n.Z)(s.recoverByInsert(a));try{for(f.s();!(d=f.n()).done;){var _=d.value;Lm&&console.log(c+this.stackID(_)+" (via recover-insert)"),this.advanceFully(_,n)}}catch(g){f.e(g)}finally{f.f()}this.stream.end>s.pos?(l==s.pos&&(l++,a=0),s.recoverByDelete(a,l),Lm&&console.log(c+this.stackID(s)+" (via recover-delete ".concat(this.parser.getName(a),")")),Hm(s,n)):(!r||r.score<s.score)&&(r=s)}return r}},{key:"stackToTree",value:function(e){return e.close(),_u.build({buffer:Sm.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}},{key:"stackID",value:function(e){var t=(Dm||(Dm=new WeakMap)).get(e);return t||Dm.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}]),e}();function Hm(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(r.pos==e.pos&&r.sameState(e))return void(t[n].score<e.score&&(t[n]=e))}t.push(e)}var Gm=function(){function e(t,n,r){(0,En.Z)(this,e),this.source=t,this.flags=n,this.disabled=r}return(0,bn.Z)(e,[{key:"allows",value:function(e){return!this.disabled||0==this.disabled[e]}}]),e}(),Vm=function(e){return e},jm=(0,bn.Z)((function e(t){(0,En.Z)(this,e),this.start=t.start,this.shift=t.shift||Vm,this.reduce=t.reduce||Vm,this.reuse=t.reuse||Vm,this.hash=t.hash||function(){return 0},this.strict=!1!==t.strict})),Zm=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e){var r,i;if((0,En.Z)(this,n),(i=t.call(this)).wrappers=[],14!=e.version)throw new RangeError("Parser version (".concat(e.version,") doesn't match runtime version (",14,")"));var o=e.nodeNames.split(" ");i.minRepeatTerm=o.length;for(var s=0;s<e.repeatNodeCount;s++)o.push("");for(var a=Object.keys(e.topRules).map((function(t){return e.topRules[t][1]})),l=[],c=0;c<o.length;c++)l.push([]);function u(e,t,n){l[e].push([t,t.deserialize(String(n))])}if(e.nodeProps){var h,p=(0,_n.Z)(e.nodeProps);try{for(p.s();!(h=p.n()).done;){var d=h.value,f=d[0];"string"==typeof f&&(f=lu[f]);for(var _=1;_<d.length;){var g=d[_++];if(g>=0)u(g,f,d[_++]);else{for(var m=d[_+-g],v=-g;v>0;v--)u(d[_++],f,m);_++}}}}catch(E){p.e(E)}finally{p.f()}}i.nodeSet=new pu(o.map((function(t,n){return uu.define({name:n>=i.minRepeatTerm?void 0:t,id:n,props:l[n],top:a.indexOf(n)>-1,error:0==n,skipped:e.skippedNodes&&e.skippedNodes.indexOf(n)>-1})}))),e.propSources&&(i.nodeSet=(r=i.nodeSet).extend.apply(r,(0,fi.Z)(e.propSources))),i.strict=!1,i.bufferLength=ou;var y=Mm(e.tokenData);i.context=e.context,i.specializerSpecs=e.specialized||[],i.specialized=new Uint16Array(i.specializerSpecs.length);for(var T=0;T<i.specializerSpecs.length;T++)i.specialized[T]=i.specializerSpecs[T].term;return i.specializers=i.specializerSpecs.map($m),i.states=Mm(e.states,Uint32Array),i.data=Mm(e.stateData),i.goto=Mm(e.goto),i.maxTerm=e.maxTerm,i.tokenizers=e.tokenizers.map((function(e){return"number"==typeof e?new Am(y,e):e})),i.topRules=e.topRules,i.dialects=e.dialects||{},i.dynamicPrecedences=e.dynamicPrecedences||null,i.tokenPrecTable=e.tokenPrec,i.termNames=e.termNames||null,i.maxNode=i.nodeSet.types.length-1,i.dialect=i.parseDialect(),i.top=i.topRules[Object.keys(i.topRules)[0]],i}return(0,bn.Z)(n,[{key:"createParse",value:function(e,t,n){var r,i=new Wm(this,e,t,n),o=(0,_n.Z)(this.wrappers);try{for(o.s();!(r=o.n()).done;){i=(0,r.value)(i,e,t,n)}}catch(s){o.e(s)}finally{o.f()}return i}},{key:"getGoto",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.goto;if(t>=r[0])return-1;for(var i=r[t+1];;){var o=r[i++],s=1&o,a=r[i++];if(s&&n)return a;for(var l=i+(o>>1);i<l;i++)if(r[i]==e)return a;if(s)return-1}}},{key:"hasAction",value:function(e,t){for(var n=this.data,r=0;r<2;r++)for(var i,o=this.stateSlot(e,r?2:1);;o+=3){if(65535==(i=n[o])){if(1!=n[o+1]){if(2==n[o+1])return qm(n,o+2);break}i=n[o=qm(n,o+2)]}if(i==t||0==i)return qm(n,o+1)}return 0}},{key:"stateSlot",value:function(e,t){return this.states[6*e+t]}},{key:"stateFlag",value:function(e,t){return(this.stateSlot(e,0)&t)>0}},{key:"validAction",value:function(e,t){if(t==this.stateSlot(e,4))return!0;for(var n=this.stateSlot(e,1);;n+=3){if(65535==this.data[n]){if(1!=this.data[n+1])return!1;n=qm(this.data,n+2)}if(t==qm(this.data,n+1))return!0}}},{key:"nextStates",value:function(e){for(var t=this,n=[],r=this.stateSlot(e,1);;r+=3){if(65535==this.data[r]){if(1!=this.data[r+1])break;r=qm(this.data,r+2)}0==(1&this.data[r+2])&&function(){var e=t.data[r+1];n.some((function(t,n){return 1&n&&t==e}))||n.push(t.data[r],e)}()}return n}},{key:"overrides",value:function(e,t){var n=Xm(this.data,this.tokenPrecTable,t);return n<0||Xm(this.data,this.tokenPrecTable,e)<n}},{key:"configure",value:function(e){var t,r=Object.assign(Object.create(n.prototype),this);if(e.props&&(r.nodeSet=(t=this.nodeSet).extend.apply(t,(0,fi.Z)(e.props))),e.top){var i=this.topRules[e.top];if(!i)throw new RangeError("Invalid top rule name ".concat(e.top));r.top=i}return e.tokenizers&&(r.tokenizers=this.tokenizers.map((function(t){var n=e.tokenizers.find((function(e){return e.from==t}));return n?n.to:t}))),e.specializers&&(r.specializers=this.specializers.slice(),r.specializerSpecs=this.specializerSpecs.map((function(t,n){var i=e.specializers.find((function(e){return e.from==t.external}));if(!i)return t;var o=Object.assign(Object.assign({},t),{external:i.to});return r.specializers[n]=$m(o),o}))),e.contextTracker&&(r.context=e.contextTracker),e.dialect&&(r.dialect=this.parseDialect(e.dialect)),null!=e.strict&&(r.strict=e.strict),e.wrap&&(r.wrappers=r.wrappers.concat(e.wrap)),null!=e.bufferLength&&(r.bufferLength=e.bufferLength),r}},{key:"hasWrappers",value:function(){return this.wrappers.length>0}},{key:"getName",value:function(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}},{key:"eofTerm",get:function(){return this.maxNode+1}},{key:"topNode",get:function(){return this.nodeSet.types[this.top[1]]}},{key:"dynamicPrecedence",value:function(e){var t=this.dynamicPrecedences;return null==t?0:t[e]||0}},{key:"parseDialect",value:function(e){var t=Object.keys(this.dialects),n=t.map((function(){return!1}));if(e){var r,i=(0,_n.Z)(e.split(" "));try{for(i.s();!(r=i.n()).done;){var o=r.value,s=t.indexOf(o);s>=0&&(n[s]=!0)}}catch(h){i.e(h)}finally{i.f()}}for(var a=null,l=0;l<t.length;l++)if(!n[l])for(var c,u=this.dialects[t[l]];65535!=(c=this.data[u++]);)(a||(a=new Uint8Array(this.maxTerm+1)))[c]=1;return new Gm(e,n,a)}}],[{key:"deserialize",value:function(e){return new n(e)}}]),n}(Nu);function qm(e,t){return e[t]|e[t+1]<<16}function Xm(e,t,n){for(var r,i=t;65535!=(r=e[i]);i++)if(r==n)return i-t;return-1}function $m(e){if(e.external){var t=e.extend?1:0;return function(n,r){return e.external(n,r)<<1|t}}return e.get}var Ym=new Set([23,47,48,255,63,121,54,55,230,60,61,58,59,71,142,143,146]),zm=new xm((function(e,t){if(e.next<0)e.acceptToken(194);else if(10!=e.next&&13!=e.next);else if(t.context.depth<0)e.acceptToken(192,1);else{e.advance();for(var n=0;32==e.next||9==e.next;)e.advance(),n++;var r=10==e.next||13==e.next||35==e.next;e.acceptToken(r?193:191,-n)}}),{contextual:!0,fallback:!0}),Qm=new xm((function(e,t){var n=t.context.depth;if(!(n<0)){var r=e.peek(-1);if((10==r||13==r)&&t.context.depth>=0){for(var i=0,o=0;;){if(32==e.next)i++;else{if(9!=e.next)break;i+=8-i%8}e.advance(),o++}i!=n&&10!=e.next&&13!=e.next&&35!=e.next&&(i<n?e.acceptToken(190,-o):e.acceptToken(189))}}}));function Km(e,t){this.parent=e,this.depth=t,this.hash=(e?e.hash+e.hash<<8:0)+t+(t<<4)}var Jm=new jm({start:new Km(null,0),reduce:function(e,t){return e.depth<0&&Ym.has(t)?e.parent:e},shift:function(e,t,n,r){return 189==t?new Km(e,function(e){for(var t=0,n=0;n<e.length;n++)t+=9==e.charCodeAt(n)?8-t%8:1;return t}(r.read(r.pos,n.pos))):190==t?e.parent:22==t||53==t||57==t?new Km(e,-1):e},hash:function(e){return e.hash}}),ev=new xm((function(e){for(var t=0;t<5;t++){if(e.next!="print".charCodeAt(t))return;e.advance()}if(!/\w/.test(String.fromCharCode(e.next)))for(var n=0;;n++){var r=e.peek(n);if(32!=r&&9!=r)return void(40!=r&&46!=r&&10!=r&&13!=r&&35!=r&&e.acceptToken(1))}})),tv=Fu({'async "*" "**" FormatConversion FormatSpec':ah.modifier,"for while if elif else try except finally return raise break continue with pass assert await yield match case":ah.controlKeyword,"in not and or is del":ah.operatorKeyword,"from def class global nonlocal lambda":ah.definitionKeyword,import:ah.moduleKeyword,"with as print":ah.keyword,Boolean:ah.bool,None:ah.null,VariableName:ah.variableName,"CallExpression/VariableName":ah.function(ah.variableName),"FunctionDefinition/VariableName":ah.function(ah.definition(ah.variableName)),"ClassDefinition/VariableName":ah.definition(ah.className),PropertyName:ah.propertyName,"CallExpression/MemberExpression/PropertyName":ah.function(ah.propertyName),Comment:ah.lineComment,Number:ah.number,String:ah.string,FormatString:ah.special(ah.string),UpdateOp:ah.updateOperator,ArithOp:ah.arithmeticOperator,BitOp:ah.bitwiseOperator,CompareOp:ah.compareOperator,AssignOp:ah.definitionOperator,Ellipsis:ah.punctuation,At:ah.meta,"( )":ah.paren,"[ ]":ah.squareBracket,"{ }":ah.brace,".":ah.derefOperator,", ;":ah.separator}),nv={__proto__:null,await:40,or:50,and:52,in:56,not:58,is:60,if:66,else:68,lambda:72,yield:90,from:92,async:98,for:100,None:152,True:154,False:154,del:168,pass:172,break:176,continue:180,return:184,raise:192,import:196,as:198,global:202,nonlocal:204,assert:208,elif:218,while:222,try:228,except:230,finally:232,with:236,def:240,class:250,match:261,case:267},rv=Zm.deserialize({version:14,states:"!L`O`Q$IXOOO%fQ$I[O'#G|OOQ$IS'#Cm'#CmOOQ$IS'#Cn'#CnO'UQ$IWO'#ClO(wQ$I[O'#G{OOQ$IS'#G|'#G|OOQ$IS'#DS'#DSOOQ$IS'#G{'#G{O)eQ$IWO'#CsO)uQ$IWO'#DdO*VQ$IWO'#DhOOQ$IS'#Ds'#DsO*jO`O'#DsO*rOpO'#DsO*zO!bO'#DtO+VO#tO'#DtO+bO&jO'#DtO+mO,UO'#DtO-oQ$I[O'#GmOOQ$IS'#Gm'#GmO'UQ$IWO'#GlO/RQ$I[O'#GlOOQ$IS'#E]'#E]O/jQ$IWO'#E^OOQ$IS'#Gk'#GkO/tQ$IWO'#GjOOQ$IV'#Gj'#GjO0PQ$IWO'#FPOOQ$IS'#GX'#GXO0UQ$IWO'#FOOOQ$IV'#Hx'#HxOOQ$IV'#Gi'#GiOOQ$IT'#Fh'#FhQ`Q$IXOOO'UQ$IWO'#CoO0dQ$IWO'#C{O0kQ$IWO'#DPO0yQ$IWO'#HQO1ZQ$I[O'#EQO'UQ$IWO'#EROOQ$IS'#ET'#ETOOQ$IS'#EV'#EVOOQ$IS'#EX'#EXO1oQ$IWO'#EZO2VQ$IWO'#E_O0PQ$IWO'#EaO2jQ$I[O'#EaO0PQ$IWO'#EdO/jQ$IWO'#EgO/jQ$IWO'#EkO/jQ$IWO'#EnO2uQ$IWO'#EpO2|Q$IWO'#EuO3XQ$IWO'#EqO/jQ$IWO'#EuO0PQ$IWO'#EwO0PQ$IWO'#E|O3^Q$IWO'#FROOQ$IS'#Cc'#CcOOQ$IS'#Cd'#CdOOQ$IS'#Ce'#CeOOQ$IS'#Cf'#CfOOQ$IS'#Cg'#CgOOQ$IS'#Ch'#ChOOQ$IS'#Cj'#CjO'UQ$IWO,58|O'UQ$IWO,58|O'UQ$IWO,58|O'UQ$IWO,58|O'UQ$IWO,58|O'UQ$IWO,58|O3eQ$IWO'#DmOOQ$IS,5:W,5:WO3xQ$IWO'#H[OOQ$IS,5:Z,5:ZO4VQ%1`O,5:ZO4[Q$I[O,59WO0dQ$IWO,59`O0dQ$IWO,59`O0dQ$IWO,59`O6zQ$IWO,59`O7PQ$IWO,59`O7WQ$IWO,59hO7_Q$IWO'#G{O8eQ$IWO'#GzOOQ$IS'#Gz'#GzOOQ$IS'#DY'#DYO8|Q$IWO,59_O'UQ$IWO,59_O9[Q$IWO,59_O9aQ$IWO,5:PO'UQ$IWO,5:POOQ$IS,5:O,5:OO9oQ$IWO,5:OO9tQ$IWO,5:VO'UQ$IWO,5:VO'UQ$IWO,5:TOOQ$IS,5:S,5:SO:VQ$IWO,5:SO:[Q$IWO,5:UOOOO'#Fp'#FpO:aO`O,5:_OOQ$IS,5:_,5:_OOOO'#Fq'#FqO:iOpO,5:_O:qQ$IWO'#DuOOOO'#Fr'#FrO;RO!bO,5:`OOQ$IS,5:`,5:`OOOO'#Fu'#FuO;^O#tO,5:`OOOO'#Fv'#FvO;iO&jO,5:`OOOO'#Fw'#FwO;tO,UO,5:`OOQ$IS'#Fx'#FxO<PQ$I[O,5:dO>qQ$I[O,5=WO?[Q%GlO,5=WO?{Q$I[O,5=WOOQ$IS,5:x,5:xO@dQ$IXO'#GQOAsQ$IWO,5;TOOQ$IV,5=U,5=UOBOQ$I[O'#HtOBgQ$IWO,5;kOOQ$IS-E:V-E:VOOQ$IV,5;j,5;jO3SQ$IWO'#EwOOQ$IT-E9f-E9fOBoQ$I[O,59ZODvQ$I[O,59gOEaQ$IWO'#G}OElQ$IWO'#G}O0PQ$IWO'#G}OEwQ$IWO'#DROFPQ$IWO,59kOFUQ$IWO'#HRO'UQ$IWO'#HRO/jQ$IWO,5=lOOQ$IS,5=l,5=lO/jQ$IWO'#D|OOQ$IS'#D}'#D}OFsQ$IWO'#FzOGTQ$IWO,58zOGTQ$IWO,58zO)hQ$IWO,5:jOGcQ$I[O'#HTOOQ$IS,5:m,5:mOOQ$IS,5:u,5:uOGvQ$IWO,5:yOHXQ$IWO,5:{OOQ$IS'#F}'#F}OHgQ$I[O,5:{OHuQ$IWO,5:{OHzQ$IWO'#HwOOQ$IS,5;O,5;OOIYQ$IWO'#HsOOQ$IS,5;R,5;RO3XQ$IWO,5;VO3XQ$IWO,5;YOIkQ$I[O'#HyO'UQ$IWO'#HyOIuQ$IWO,5;[O2uQ$IWO,5;[O/jQ$IWO,5;aO0PQ$IWO,5;cOIzQ$IXO'#ElOKTQ$IZO,5;]ONiQ$IWO'#HzO3XQ$IWO,5;aONtQ$IWO,5;cONyQ$IWO,5;hO! RQ$I[O,5;mO'UQ$IWO,5;mO!#uQ$I[O1G.hO!#|Q$I[O1G.hO!&mQ$I[O1G.hO!&wQ$I[O1G.hO!)bQ$I[O1G.hO!)uQ$I[O1G.hO!*YQ$IWO'#HZO!*hQ$I[O'#GmO/jQ$IWO'#HZO!*rQ$IWO'#HYOOQ$IS,5:X,5:XO!*zQ$IWO,5:XO!+PQ$IWO'#H]O!+[Q$IWO'#H]O!+oQ$IWO,5=vOOQ$IS'#Dq'#DqOOQ$IS1G/u1G/uOOQ$IS1G.z1G.zO!,oQ$I[O1G.zO!,vQ$I[O1G.zO0dQ$IWO1G.zO!-cQ$IWO1G/SOOQ$IS'#DX'#DXO/jQ$IWO,59rOOQ$IS1G.y1G.yO!-jQ$IWO1G/cO!-zQ$IWO1G/cO!.SQ$IWO1G/dO'UQ$IWO'#HSO!.XQ$IWO'#HSO!.^Q$I[O1G.yO!.nQ$IWO,59gO!/tQ$IWO,5=rO!0UQ$IWO,5=rO!0^Q$IWO1G/kO!0cQ$I[O1G/kOOQ$IS1G/j1G/jO!0sQ$IWO,5=mO!1jQ$IWO,5=mO/jQ$IWO1G/oO!2XQ$IWO1G/qO!2^Q$I[O1G/qO!2nQ$I[O1G/oOOQ$IS1G/n1G/nOOQ$IS1G/p1G/pOOOO-E9n-E9nOOQ$IS1G/y1G/yOOOO-E9o-E9oO!3OQ$IWO'#HhO/jQ$IWO'#HhO!3^Q$IWO,5:aOOOO-E9p-E9pOOQ$IS1G/z1G/zOOOO-E9s-E9sOOOO-E9t-E9tOOOO-E9u-E9uOOQ$IS-E9v-E9vO!3iQ%GlO1G2rO!4YQ$I[O1G2rO'UQ$IWO,5<eOOQ$IS,5<e,5<eOOQ$IS-E9w-E9wOOQ$IS,5<l,5<lOOQ$IS-E:O-E:OOOQ$IV1G0o1G0oO0PQ$IWO'#F|O!4qQ$I[O,5>`OOQ$IS1G1V1G1VO!5YQ$IWO1G1VOOQ$IS'#DT'#DTO/jQ$IWO,5=iOOQ$IS,5=i,5=iO!5_Q$IWO'#FiO!5jQ$IWO,59mO!5rQ$IWO1G/VO!5|Q$I[O,5=mOOQ$IS1G3W1G3WOOQ$IS,5:h,5:hO!6mQ$IWO'#GlOOQ$IS,5<f,5<fOOQ$IS-E9x-E9xO!7OQ$IWO1G.fOOQ$IS1G0U1G0UO!7^Q$IWO,5=oO!7nQ$IWO,5=oO/jQ$IWO1G0eO/jQ$IWO1G0eO0PQ$IWO1G0gOOQ$IS-E9{-E9{O!8PQ$IWO1G0gO!8[Q$IWO1G0gO!8aQ$IWO,5>cO!8oQ$IWO,5>cO!8}Q$IWO,5>_O!9eQ$IWO,5>_O!9vQ$IZO1G0qO!=XQ$IZO1G0tO!@gQ$IWO,5>eO!@qQ$IWO,5>eO!@yQ$I[O,5>eO/jQ$IWO1G0vO!ATQ$IWO1G0vO3XQ$IWO1G0{ONtQ$IWO1G0}OOQ$IV,5;W,5;WO!AYQ$IYO,5;WO!A_Q$IZO1G0wO!DsQ$IWO'#GUO3XQ$IWO1G0wO3XQ$IWO1G0wO!EQQ$IWO,5>fO!E_Q$IWO,5>fO0PQ$IWO,5>fOOQ$IV1G0{1G0{O!EgQ$IWO'#EyO!ExQ%1`O1G0}OOQ$IV1G1S1G1SO3XQ$IWO1G1SO!FQQ$IWO'#FTOOQ$IV1G1X1G1XO! RQ$I[O1G1XOOQ$IS,5=u,5=uOOQ$IS'#Dn'#DnO/jQ$IWO,5=uO!FVQ$IWO,5=tO!FjQ$IWO,5=tOOQ$IS1G/s1G/sO!FrQ$IWO,5=wO!GSQ$IWO,5=wO!G[Q$IWO,5=wO!GoQ$IWO,5=wO!HPQ$IWO,5=wOOQ$IS1G3b1G3bOOQ$IS7+$f7+$fO!5rQ$IWO7+$nO!IrQ$IWO1G.zO!IyQ$IWO1G.zOOQ$IS1G/^1G/^OOQ$IS,5<V,5<VO'UQ$IWO,5<VOOQ$IS7+$}7+$}O!JQQ$IWO7+$}OOQ$IS-E9i-E9iOOQ$IS7+%O7+%OO!JbQ$IWO,5=nO'UQ$IWO,5=nOOQ$IS7+$e7+$eO!JgQ$IWO7+$}O!JoQ$IWO7+%OO!JtQ$IWO1G3^OOQ$IS7+%V7+%VO!KUQ$IWO1G3^O!K^Q$IWO7+%VOOQ$IS,5<U,5<UO'UQ$IWO,5<UO!KcQ$IWO1G3XOOQ$IS-E9h-E9hO!LYQ$IWO7+%ZOOQ$IS7+%]7+%]O!LhQ$IWO1G3XO!MVQ$IWO7+%]O!M[Q$IWO1G3_O!MlQ$IWO1G3_O!MtQ$IWO7+%ZO!MyQ$IWO,5>SO!NaQ$IWO,5>SO!NaQ$IWO,5>SO!NoO!LQO'#DwO!NzOSO'#HiOOOO1G/{1G/{O# PQ$IWO1G/{O# XQ%GlO7+(^O# xQ$I[O1G2PP#!cQ$IWO'#FyOOQ$IS,5<h,5<hOOQ$IS-E9z-E9zOOQ$IS7+&q7+&qOOQ$IS1G3T1G3TOOQ$IS,5<T,5<TOOQ$IS-E9g-E9gOOQ$IS7+$q7+$qO#!pQ$IWO,5=WO##ZQ$IWO,5=WO##lQ$I[O,5<WO#$PQ$IWO1G3ZOOQ$IS-E9j-E9jOOQ$IS7+&P7+&PO#$aQ$IWO7+&POOQ$IS7+&R7+&RO#$oQ$IWO'#HvO0PQ$IWO'#HuO#%TQ$IWO7+&ROOQ$IS,5<k,5<kO#%`Q$IWO1G3}OOQ$IS-E9}-E9}OOQ$IS,5<g,5<gO#%nQ$IWO1G3yOOQ$IS-E9y-E9yO#&UQ$IZO7+&]O!DsQ$IWO'#GSO3XQ$IWO7+&]O3XQ$IWO7+&`O#)gQ$I[O,5<oO'UQ$IWO,5<oO#)qQ$IWO1G4POOQ$IS-E:R-E:RO#){Q$IWO1G4PO3XQ$IWO7+&bO/jQ$IWO7+&bOOQ$IV7+&g7+&gO!ExQ%1`O7+&iO#*TQ$IXO1G0rOOQ$IV-E:S-E:SO3XQ$IWO7+&cO3XQ$IWO7+&cOOQ$IV,5<p,5<pO#+yQ$IWO,5<pOOQ$IV7+&c7+&cO#,UQ$IZO7+&cO#/dQ$IWO,5<qO#/oQ$IWO1G4QOOQ$IS-E:T-E:TO#/|Q$IWO1G4QO#0UQ$IWO'#H|O#0dQ$IWO'#H|O0PQ$IWO'#H|OOQ$IS'#H|'#H|O#0oQ$IWO'#H{OOQ$IS,5;e,5;eO#0wQ$IWO,5;eO/jQ$IWO'#E{OOQ$IV7+&i7+&iO3XQ$IWO7+&iOOQ$IV7+&n7+&nO#0|Q$IYO,5;oOOQ$IV7+&s7+&sOOQ$IS1G3a1G3aOOQ$IS,5<Y,5<YO#1RQ$IWO1G3`OOQ$IS-E9l-E9lO#1fQ$IWO,5<ZO#1qQ$IWO,5<ZO#2UQ$IWO1G3cOOQ$IS-E9m-E9mO#2fQ$IWO1G3cO#2nQ$IWO1G3cO#3OQ$IWO1G3cO#2fQ$IWO1G3cOOQ$IS<<HY<<HYO#3ZQ$I[O1G1qOOQ$IS<<Hi<<HiP#3hQ$IWO'#FkO7WQ$IWO1G3YO#3uQ$IWO1G3YO#3zQ$IWO<<HiOOQ$IS<<Hj<<HjO#4[Q$IWO7+(xOOQ$IS<<Hq<<HqO#4lQ$I[O1G1pP#5]Q$IWO'#FjO#5jQ$IWO7+(yO#5zQ$IWO7+(yO#6SQ$IWO<<HuO#6XQ$IWO7+(sOOQ$IS<<Hw<<HwO#7OQ$IWO,5<XO'UQ$IWO,5<XOOQ$IS-E9k-E9kOOQ$IS<<Hu<<HuOOQ$IS,5<_,5<_O/jQ$IWO,5<_O#7TQ$IWO1G3nOOQ$IS-E9q-E9qO#7kQ$IWO1G3nOOOO'#Ft'#FtO#7yO!LQO,5:cOOOO,5>T,5>TOOOO7+%g7+%gO#8UQ$IWO1G2rO#8oQ$IWO1G2rP'UQ$IWO'#FlO/jQ$IWO<<IkO#9QQ$IWO,5>bO#9cQ$IWO,5>bO0PQ$IWO,5>bO#9tQ$IWO,5>aOOQ$IS<<Im<<ImP0PQ$IWO'#GPP/jQ$IWO'#F{OOQ$IV-E:Q-E:QO3XQ$IWO<<IwOOQ$IV,5<n,5<nO3XQ$IWO,5<nOOQ$IV<<Iw<<IwOOQ$IV<<Iz<<IzO#9yQ$I[O1G2ZP#:TQ$IWO'#GTO#:[Q$IWO7+)kO#:fQ$IZO<<I|O3XQ$IWO<<I|OOQ$IV<<JT<<JTO3XQ$IWO<<JTOOQ$IV'#GR'#GRO#=tQ$IZO7+&^OOQ$IV<<I}<<I}O#?pQ$IZO<<I}OOQ$IV1G2[1G2[O0PQ$IWO1G2[O3XQ$IWO<<I}O0PQ$IWO1G2]P/jQ$IWO'#GVO#COQ$IWO7+)lO#C]Q$IWO7+)lOOQ$IS'#Ez'#EzO/jQ$IWO,5>hO#CeQ$IWO,5>hOOQ$IS,5>h,5>hO#CpQ$IWO,5>gO#DRQ$IWO,5>gOOQ$IS1G1P1G1POOQ$IS,5;g,5;gO#DZQ$IWO1G1ZP#D`Q$IWO'#FnO#DpQ$IWO1G1uO#ETQ$IWO1G1uO#EeQ$IWO1G1uP#EpQ$IWO'#FoO#E}Q$IWO7+(}O#F_Q$IWO7+(}O#F_Q$IWO7+(}O#FgQ$IWO7+(}O#FwQ$IWO7+(tO7WQ$IWO7+(tOOQ$ISAN>TAN>TO#GbQ$IWO<<LeOOQ$ISAN>aAN>aO/jQ$IWO1G1sO#GrQ$I[O1G1sP#G|Q$IWO'#FmOOQ$IS1G1y1G1yP#HZQ$IWO'#FsO#HhQ$IWO7+)YOOOO-E9r-E9rO#IOQ$IWO7+(^OOQ$ISAN?VAN?VO#IiQ$IWO,5<jO#I}Q$IWO1G3|OOQ$IS-E9|-E9|O#J`Q$IWO1G3|OOQ$IS1G3{1G3{OOQ$IVAN?cAN?cOOQ$IV1G2Y1G2YO3XQ$IWOAN?hO#JqQ$IZOAN?hOOQ$IVAN?oAN?oOOQ$IV-E:P-E:POOQ$IV<<Ix<<IxO3XQ$IWOAN?iO3XQ$IWO7+'vOOQ$IVAN?iAN?iOOQ$IS7+'w7+'wO#NPQ$IWO<<MWOOQ$IS1G4S1G4SO/jQ$IWO1G4SOOQ$IS,5<r,5<rO#N^Q$IWO1G4ROOQ$IS-E:U-E:UOOQ$IU'#GY'#GYO#NoQ$IYO7+&uO#NzQ$IWO'#FUO$ rQ$IWO7+'aO$!SQ$IWO7+'aOOQ$IS7+'a7+'aO$!_Q$IWO<<LiO$!oQ$IWO<<LiO$!oQ$IWO<<LiO$!wQ$IWO'#HUOOQ$IS<<L`<<L`O$#RQ$IWO<<L`OOQ$IS7+'_7+'_O0PQ$IWO1G2UP0PQ$IWO'#GOO$#lQ$IWO7+)hO$#}Q$IWO7+)hOOQ$IVG25SG25SO3XQ$IWOG25SOOQ$IVG25TG25TOOQ$IV<<Kb<<KbOOQ$IS7+)n7+)nP$$`Q$IWO'#GWOOQ$IU-E:W-E:WOOQ$IV<<Ja<<JaO$%SQ$I[O'#FWOOQ$IS'#FY'#FYO$%dQ$IWO'#FXO$&UQ$IWO'#FXOOQ$IS'#FX'#FXO$&ZQ$IWO'#IOO#NzQ$IWO'#F`O#NzQ$IWO'#F`O$&rQ$IWO'#FaO#NzQ$IWO'#FbO$&yQ$IWO'#IPOOQ$IS'#IP'#IPO$'hQ$IWO,5;pOOQ$IS<<J{<<J{O$'pQ$IWO<<J{O$(QQ$IWOANBTO$(bQ$IWOANBTO$(jQ$IWO'#HVOOQ$IS'#HV'#HVO0kQ$IWO'#DaO$)TQ$IWO,5=pOOQ$ISANAzANAzOOQ$IS7+'p7+'pO$)lQ$IWO<<MSOOQ$IVLD*nLD*nO4VQ%1`O'#G[O$)}Q$I[O,5;yO#NzQ$IWO'#FdOOQ$IS,5;},5;}OOQ$IS'#FZ'#FZO$*oQ$IWO,5;sO$*tQ$IWO,5;sOOQ$IS'#F^'#F^O#NzQ$IWO'#GZO$+fQ$IWO,5;wO$,QQ$IWO,5>jO$,bQ$IWO,5>jO0PQ$IWO,5;vO$,sQ$IWO,5;zO$,xQ$IWO,5;zO#NzQ$IWO'#IQO$,}Q$IWO'#IQO$-SQ$IWO,5;{OOQ$IS,5;|,5;|O'UQ$IWO'#FgOOQ$IU1G1[1G1[O3XQ$IWO1G1[OOQ$ISAN@gAN@gO$-XQ$IWOG27oO$-iQ$IWO,59{OOQ$IS1G3[1G3[OOQ$IS,5<v,5<vOOQ$IS-E:Y-E:YO$-nQ$I[O'#FWO$-uQ$IWO'#IRO$.TQ$IWO'#IRO$.]Q$IWO,5<OOOQ$IS1G1_1G1_O$.bQ$IWO1G1_O$.gQ$IWO,5<uOOQ$IS-E:X-E:XO$/RQ$IWO,5<yO$/jQ$IWO1G4UOOQ$IS-E:]-E:]OOQ$IS1G1b1G1bOOQ$IS1G1f1G1fO$/zQ$IWO,5>lO#NzQ$IWO,5>lOOQ$IS1G1g1G1gO$0YQ$I[O,5<ROOQ$IU7+&v7+&vO$!wQ$IWO1G/gO#NzQ$IWO,5<PO$0aQ$IWO,5>mO$0hQ$IWO,5>mOOQ$IS1G1j1G1jOOQ$IS7+&y7+&yP#NzQ$IWO'#G_O$0pQ$IWO1G4WO$0zQ$IWO1G4WO$1SQ$IWO1G4WOOQ$IS7+%R7+%RO$1bQ$IWO1G1kO$1pQ$I[O'#FWO$1wQ$IWO,5<xOOQ$IS,5<x,5<xO$2VQ$IWO1G4XOOQ$IS-E:[-E:[O#NzQ$IWO,5<wO$2^Q$IWO,5<wO$2cQ$IWO7+)rOOQ$IS-E:Z-E:ZO$2mQ$IWO7+)rO#NzQ$IWO,5<QP#NzQ$IWO'#G^O$2uQ$IWO1G2cO#NzQ$IWO1G2cP$3TQ$IWO'#G]O$3[Q$IWO<<M^O$3fQ$IWO1G1lO$3tQ$IWO7+'}O7WQ$IWO'#C{O7WQ$IWO,59`O7WQ$IWO,59`O7WQ$IWO,59`O$4SQ$I[O,5=WO7WQ$IWO1G.zO/jQ$IWO1G/VO/jQ$IWO7+$nP$4gQ$IWO'#FyO'UQ$IWO'#GlO$4tQ$IWO,59`O$4yQ$IWO,59`O$5QQ$IWO,59kO$5VQ$IWO1G/SO0kQ$IWO'#DPO7WQ$IWO,59h",stateData:"$5m~O%[OS%XOS%WOSQOS~OPhOTeOdsOfXOmtOq!SOtuO}vO!O!PO!R!VO!S!UO!VYO!ZZO!fdO!mdO!ndO!odO!vxO!xyO!zzO!|{O#O|O#S}O#U!OO#X!QO#Y!QO#[!RO#c!TO#f!WO#j!XO#l!YO#q!ZO#tlO#v![O%VqO%gQO%hQO%lRO%mVO&R[O&S]O&V^O&Y_O&``O&caO&ebO~OT!bO]!bO_!cOf!jO!V!lO!d!nO%b!]O%c!^O%d!_O%e!`O%f!`O%g!aO%h!aO%i!bO%j!bO%k!bO~Oi%pXj%pXk%pXl%pXm%pXn%pXq%pXx%pXy%pX!s%pX#^%pX%V%pX%Y%pX%r%pXe%pX!R%pX!S%pX%s%pX!U%pX!Y%pX!O%pX#V%pXr%pX!j%pX~P$bOdsOfXO!VYO!ZZO!fdO!mdO!ndO!odO%gQO%hQO%lRO%mVO&R[O&S]O&V^O&Y_O&``O&caO&ebO~Ox%oXy%oX#^%oX%V%oX%Y%oX%r%oX~Oi!qOj!rOk!pOl!pOm!sOn!tOq!uO!s%oX~P(cOT!{Om/iOt/wO}vO~P'UOT#OOm/iOt/wO!U#PO~P'UOT#SO_#TOm/iOt/wO!Y#UO~P'UO&T#XO&U#ZO~O&W#[O&X#ZO~O!Z#^O&Z#_O&_#aO~O!Z#^O&a#bO&b#aO~O!Z#^O&U#aO&d#dO~O!Z#^O&X#aO&f#fO~OT%aX]%aX_%aXf%aXi%aXj%aXk%aXl%aXm%aXn%aXq%aXx%aX!V%aX!d%aX%b%aX%c%aX%d%aX%e%aX%f%aX%g%aX%h%aX%i%aX%j%aX%k%aXe%aX!R%aX!S%aX~O&R[O&S]O&V^O&Y_O&``O&caO&ebOy%aX!s%aX#^%aX%V%aX%Y%aX%r%aX%s%aX!U%aX!Y%aX!O%aX#V%aXr%aX!j%aX~P+xOx#kOy%`X!s%`X#^%`X%V%`X%Y%`X%r%`X~Om/iOt/wO~P'UO#^#nO%V#pO%Y#pO~O%mVO~O!R#uO#l!YO#q!ZO#tlO~OmtO~P'UOT#zO_#{O%mVOyuP~OT$POm/iOt/wO!O$QO~P'UOy$SO!s$XO%r$TO#^!tX%V!tX%Y!tX~OT$POm/iOt/wO#^!}X%V!}X%Y!}X~P'UOm/iOt/wO#^#RX%V#RX%Y#RX~P'UO!d$_O!m$_O%mVO~OT$iO~P'UO!S$kO#j$lO#l$mO~Oy$nO~OT$uO~P'UOT%OO_%OOe%QOm/iOt/wO~P'UOm/iOt/wOy%TO~P'UO&Q%VO~O_!cOf!jO!V!lO!d!nOT`a]`ai`aj`ak`al`am`an`aq`ax`ay`a!s`a#^`a%V`a%Y`a%b`a%c`a%d`a%e`a%f`a%g`a%h`a%i`a%j`a%k`a%r`ae`a!R`a!S`a%s`a!U`a!Y`a!O`a#V`ar`a!j`a~Ol%[O~Om%[O~P'UOm/iO~P'UOi/kOj/lOk/jOl/jOm/sOn/tOq/xOe%oX!R%oX!S%oX%s%oX!U%oX!Y%oX!O%oX#V%oX!j%oX~P(cO%s%^Oe%nXx%nX!R%nX!S%nX!U%nXy%nX~Oe%`Ox%aO!R%eO!S%dO~Oe%`O~Ox%hO!R%eO!S%dO!U%zX~O!U%lO~Ox%mOy%oO!R%eO!S%dO!Y%uX~O!Y%sO~O!Y%tO~O&T#XO&U%vO~O&W#[O&X%vO~OT%yOm/iOt/wO}vO~P'UO!Z#^O&Z#_O&_%|O~O!Z#^O&a#bO&b%|O~O!Z#^O&U%|O&d#dO~O!Z#^O&X%|O&f#fO~OT!la]!la_!laf!lai!laj!lak!lal!lam!lan!laq!lax!lay!la!V!la!d!la!s!la#^!la%V!la%Y!la%b!la%c!la%d!la%e!la%f!la%g!la%h!la%i!la%j!la%k!la%r!lae!la!R!la!S!la%s!la!U!la!Y!la!O!la#V!lar!la!j!la~P#yOx&ROy%`a!s%`a#^%`a%V%`a%Y%`a%r%`a~P$bOT&TOmtOtuOy%`a!s%`a#^%`a%V%`a%Y%`a%r%`a~P'UOx&ROy%`a!s%`a#^%`a%V%`a%Y%`a%r%`a~OPhOTeOmtOtuO}vO!O!PO!vxO!xyO!zzO!|{O#O|O#S}O#U!OO#X!QO#Y!QO#[!RO#^$tX%V$tX%Y$tX~P'UO#^#nO%V&YO%Y&YO~O!d&ZOf&hX%V&hX#V&hX#^&hX%Y&hX#U&hX~Of!jO%V&]O~Oicajcakcalcamcancaqcaxcayca!sca#^ca%Vca%Yca%rcaeca!Rca!Sca%sca!Uca!Yca!Oca#Vcarca!jca~P$bOqoaxoayoa#^oa%Voa%Yoa%roa~Oi!qOj!rOk!pOl!pOm!sOn!tO!soa~PD_O%r&_Ox%qXy%qX~O%mVOx%qXy%qX~Ox&bOyuX~Oy&dO~Ox%mO#^%uX%V%uX%Y%uXe%uXy%uX!Y%uX!j%uX%r%uX~OT/rOm/iOt/wO}vO~P'UO%r$TO#^Sa%VSa%YSa~Ox&mO#^%wX%V%wX%Y%wXl%wX~P$bOx&pO!O&oO#^#Ra%V#Ra%Y#Ra~O#V&qO#^#Ta%V#Ta%Y#Ta~O!d$_O!m$_O#U&sO%mVO~O#U&sO~Ox&uO#^&kX%V&kX%Y&kX~Ox&wO#^&gX%V&gX%Y&gXy&gX~Ox&{Ol&mX~P$bOl'OO~OPhOTeOmtOtuO}vO!O!PO!vxO!xyO!zzO!|{O#O|O#S}O#U!OO#X!QO#Y!QO#[!RO%V'TO~P'UOr'XO#g'VO#h'WOP#eaT#ead#eaf#eam#eaq#eat#ea}#ea!O#ea!R#ea!S#ea!V#ea!Z#ea!f#ea!m#ea!n#ea!o#ea!v#ea!x#ea!z#ea!|#ea#O#ea#S#ea#U#ea#X#ea#Y#ea#[#ea#c#ea#f#ea#j#ea#l#ea#q#ea#t#ea#v#ea%S#ea%V#ea%g#ea%h#ea%l#ea%m#ea&R#ea&S#ea&V#ea&Y#ea&`#ea&c#ea&e#ea%U#ea%Y#ea~Ox'YO#V'[Oy&nX~Of'^O~Of!jOy$nO~Oy'bO~P$bOT!bO]!bO_!cOf!jO!V!lO!d!nO%d!_O%e!`O%f!`O%g!aO%h!aO%i!bO%j!bO%k!bOiUijUikUilUimUinUiqUixUiyUi!sUi#^Ui%VUi%YUi%bUi%rUieUi!RUi!SUi%sUi!UUi!YUi!OUi#VUirUi!jUi~O%c!^O~P! YO%cUi~P! YOT!bO]!bO_!cOf!jO!V!lO!d!nO%g!aO%h!aO%i!bO%j!bO%k!bOiUijUikUilUimUinUiqUixUiyUi!sUi#^Ui%VUi%YUi%bUi%cUi%dUi%rUieUi!RUi!SUi%sUi!UUi!YUi!OUi#VUirUi!jUi~O%e!`O%f!`O~P!$TO%eUi%fUi~P!$TO_!cOf!jO!V!lO!d!nOiUijUikUilUimUinUiqUixUiyUi!sUi#^Ui%VUi%YUi%bUi%cUi%dUi%eUi%fUi%gUi%hUi%rUieUi!RUi!SUi%sUi!UUi!YUi!OUi#VUirUi!jUi~OT!bO]!bO%i!bO%j!bO%k!bO~P!'ROTUi]Ui%iUi%jUi%kUi~P!'RO!R%eO!S%dOe%}Xx%}X~O%r'fO%s'fO~P+xOx'hOe%|X~Oe'jO~Ox'kOy'mO!U&PX~Om/iOt/wOx'kOy'nO!U&PX~P'UO!U'pO~Ok!pOl!pOm!sOn!tOihiqhixhiyhi!shi#^hi%Vhi%Yhi%rhi~Oj!rO~P!+tOjhi~P!+tOi/kOj/lOk/jOl/jOm/sOn/tO~Or'rO~P!,}OT'wOe'xOm/iOt/wO~P'UOe'xOx'yO~Oe'{O~O!S'}O~Oe(OOx'yO!R%eO!S%dO~P$bOi/kOj/lOk/jOl/jOm/sOn/tOeoa!Roa!Soa%soa!Uoa!Yoa!Ooa#Voaroa!joa~PD_OT'wOm/iOt/wO!U%za~P'UOx(RO!U%za~O!U(SO~Ox(RO!R%eO!S%dO!U%za~P$bOT(WOm/iOt/wO!Y%ua#^%ua%V%ua%Y%uae%uay%ua!j%ua%r%ua~P'UOx(XO!Y%ua#^%ua%V%ua%Y%uae%uay%ua!j%ua%r%ua~O!Y([O~Ox(XO!R%eO!S%dO!Y%ua~P$bOx(_O!R%eO!S%dO!Y%{a~P$bOx(bOy&[X!Y&[X!j&[X~Oy(eO!Y(gO!j(hO~OT&TOmtOtuOy%`i!s%`i#^%`i%V%`i%Y%`i%r%`i~P'UOx(iOy%`i!s%`i#^%`i%V%`i%Y%`i%r%`i~O!d&ZOf&ha%V&ha#V&ha#^&ha%Y&ha#U&ha~O%V(nO~OT#zO_#{O%mVO~Ox&bOyua~OmtOtuO~P'UOx(XO#^%ua%V%ua%Y%uae%uay%ua!Y%ua!j%ua%r%ua~P$bOx(sO#^%`X%V%`X%Y%`X%r%`X~O%r$TO#^Si%VSi%YSi~O#^%wa%V%wa%Y%wal%wa~P'UOx(vO#^%wa%V%wa%Y%wal%wa~OT(zOf(|O%mVO~O#U(}O~O%mVO#^&ka%V&ka%Y&ka~Ox)PO#^&ka%V&ka%Y&ka~Om/iOt/wO#^&ga%V&ga%Y&gay&ga~P'UOx)SO#^&ga%V&ga%Y&gay&ga~Or)WO#a)VOP#_iT#_id#_if#_im#_iq#_it#_i}#_i!O#_i!R#_i!S#_i!V#_i!Z#_i!f#_i!m#_i!n#_i!o#_i!v#_i!x#_i!z#_i!|#_i#O#_i#S#_i#U#_i#X#_i#Y#_i#[#_i#c#_i#f#_i#j#_i#l#_i#q#_i#t#_i#v#_i%S#_i%V#_i%g#_i%h#_i%l#_i%m#_i&R#_i&S#_i&V#_i&Y#_i&`#_i&c#_i&e#_i%U#_i%Y#_i~Or)XOP#biT#bid#bif#bim#biq#bit#bi}#bi!O#bi!R#bi!S#bi!V#bi!Z#bi!f#bi!m#bi!n#bi!o#bi!v#bi!x#bi!z#bi!|#bi#O#bi#S#bi#U#bi#X#bi#Y#bi#[#bi#c#bi#f#bi#j#bi#l#bi#q#bi#t#bi#v#bi%S#bi%V#bi%g#bi%h#bi%l#bi%m#bi&R#bi&S#bi&V#bi&Y#bi&`#bi&c#bi&e#bi%U#bi%Y#bi~OT)ZOl&ma~P'UOx)[Ol&ma~Ox)[Ol&ma~P$bOl)`O~O%T)cO~Or)fO#g'VO#h)eOP#eiT#eid#eif#eim#eiq#eit#ei}#ei!O#ei!R#ei!S#ei!V#ei!Z#ei!f#ei!m#ei!n#ei!o#ei!v#ei!x#ei!z#ei!|#ei#O#ei#S#ei#U#ei#X#ei#Y#ei#[#ei#c#ei#f#ei#j#ei#l#ei#q#ei#t#ei#v#ei%S#ei%V#ei%g#ei%h#ei%l#ei%m#ei&R#ei&S#ei&V#ei&Y#ei&`#ei&c#ei&e#ei%U#ei%Y#ei~Om/iOt/wOy$nO~P'UOm/iOt/wOy&na~P'UOx)lOy&na~OT)pO_)qOe)tO%i)rO%mVO~Oy$nO&q)vO~O%V)zO~OT%OO_%OOm/iOt/wOe%|a~P'UOx*OOe%|a~Om/iOt/wOy*RO!U&Pa~P'UOx*SO!U&Pa~Om/iOt/wOx*SOy*VO!U&Pa~P'UOm/iOt/wOx*SO!U&Pa~P'UOx*SOy*VO!U&Pa~Ok/jOl/jOm/sOn/tOehiihiqhixhi!Rhi!Shi%shi!Uhiyhi!Yhi#^hi%Vhi%Yhi!Ohi#Vhirhi!jhi%rhi~Oj/lO~P!H[Ojhi~P!H[OT'wOe*[Om/iOt/wO~P'UOl*^O~Oe*[Ox*`O~Oe*aO~OT'wOm/iOt/wO!U%zi~P'UOx*bO!U%zi~O!U*cO~OT(WOm/iOt/wO!Y%ui#^%ui%V%ui%Y%uie%uiy%ui!j%ui%r%ui~P'UOx*fO!R%eO!S%dO!Y%{i~Ox*iO!Y%ui#^%ui%V%ui%Y%uie%uiy%ui!j%ui%r%ui~O!Y*jO~O_*lOm/iOt/wO!Y%{i~P'UOx*fO!Y%{i~O!Y*nO~OT*pOm/iOt/wOy&[a!Y&[a!j&[a~P'UOx*qOy&[a!Y&[a!j&[a~O!Z#^O&^*tO!Y!kX~O!Y*vO~Oy(eO!Y*wO~OT&TOmtOtuOy%`q!s%`q#^%`q%V%`q%Y%`q%r%`q~P'UOx$miy$mi!s$mi#^$mi%V$mi%Y$mi%r$mi~P$bOT&TOmtOtuO~P'UOT&TOm/iOt/wO#^%`a%V%`a%Y%`a%r%`a~P'UOx*xO#^%`a%V%`a%Y%`a%r%`a~Ox$`a#^$`a%V$`a%Y$`al$`a~P$bO#^%wi%V%wi%Y%wil%wi~P'UOx*{O#^#Rq%V#Rq%Y#Rq~Ox*|O#V+OO#^&jX%V&jX%Y&jXe&jX~OT+QOf(|O%mVO~O%mVO#^&ki%V&ki%Y&ki~Om/iOt/wO#^&gi%V&gi%Y&giy&gi~P'UOr+UO#a)VOP#_qT#_qd#_qf#_qm#_qq#_qt#_q}#_q!O#_q!R#_q!S#_q!V#_q!Z#_q!f#_q!m#_q!n#_q!o#_q!v#_q!x#_q!z#_q!|#_q#O#_q#S#_q#U#_q#X#_q#Y#_q#[#_q#c#_q#f#_q#j#_q#l#_q#q#_q#t#_q#v#_q%S#_q%V#_q%g#_q%h#_q%l#_q%m#_q&R#_q&S#_q&V#_q&Y#_q&`#_q&c#_q&e#_q%U#_q%Y#_q~Ol$wax$wa~P$bOT)ZOl&mi~P'UOx+]Ol&mi~OPhOTeOmtOq!SOtuO}vO!O!PO!R!VO!S!UO!vxO!xyO!zzO!|{O#O|O#S}O#U!OO#X!QO#Y!QO#[!RO#c!TO#f!WO#j!XO#l!YO#q!ZO#tlO#v![O~P'UOx+gOy$nO#V+gO~O#h+hOP#eqT#eqd#eqf#eqm#eqq#eqt#eq}#eq!O#eq!R#eq!S#eq!V#eq!Z#eq!f#eq!m#eq!n#eq!o#eq!v#eq!x#eq!z#eq!|#eq#O#eq#S#eq#U#eq#X#eq#Y#eq#[#eq#c#eq#f#eq#j#eq#l#eq#q#eq#t#eq#v#eq%S#eq%V#eq%g#eq%h#eq%l#eq%m#eq&R#eq&S#eq&V#eq&Y#eq&`#eq&c#eq&e#eq%U#eq%Y#eq~O#V+iOx$yay$ya~Om/iOt/wOy&ni~P'UOx+kOy&ni~Oy$SO%r+mOe&pXx&pX~O%mVOe&pXx&pX~Ox+qOe&oX~Oe+sO~O%T+uO~OT%OO_%OOm/iOt/wOe%|i~P'UOy+wOx$ca!U$ca~Om/iOt/wOy+xOx$ca!U$ca~P'UOm/iOt/wOy*RO!U&Pi~P'UOx+{O!U&Pi~Om/iOt/wOx+{O!U&Pi~P'UOx+{Oy,OO!U&Pi~Oe$_ix$_i!U$_i~P$bOT'wOm/iOt/wO~P'UOl,QO~OT'wOe,ROm/iOt/wO~P'UOT'wOm/iOt/wO!U%zq~P'UOx$^i!Y$^i#^$^i%V$^i%Y$^ie$^iy$^i!j$^i%r$^i~P$bOT(WOm/iOt/wO~P'UO_*lOm/iOt/wO!Y%{q~P'UOx,SO!Y%{q~O!Y,TO~OT(WOm/iOt/wO!Y%uq#^%uq%V%uq%Y%uqe%uqy%uq!j%uq%r%uq~P'UOy,UO~OT*pOm/iOt/wOy&[i!Y&[i!j&[i~P'UOx,ZOy&[i!Y&[i!j&[i~O!Z#^O&^*tO!Y!ka~OT&TOm/iOt/wO#^%`i%V%`i%Y%`i%r%`i~P'UOx,]O#^%`i%V%`i%Y%`i%r%`i~O%mVO#^&ja%V&ja%Y&jae&ja~Ox,`O#^&ja%V&ja%Y&jae&ja~Oe,cO~Ol$wix$wi~P$bOT)ZO~P'UOT)ZOl&mq~P'UOr,fOP#dyT#dyd#dyf#dym#dyq#dyt#dy}#dy!O#dy!R#dy!S#dy!V#dy!Z#dy!f#dy!m#dy!n#dy!o#dy!v#dy!x#dy!z#dy!|#dy#O#dy#S#dy#U#dy#X#dy#Y#dy#[#dy#c#dy#f#dy#j#dy#l#dy#q#dy#t#dy#v#dy%S#dy%V#dy%g#dy%h#dy%l#dy%m#dy&R#dy&S#dy&V#dy&Y#dy&`#dy&c#dy&e#dy%U#dy%Y#dy~OPhOTeOmtOq!SOtuO}vO!O!PO!R!VO!S!UO!vxO!xyO!zzO!|{O#O|O#S}O#U!OO#X!QO#Y!QO#[!RO#c!TO#f!WO#j!XO#l!YO#q!ZO#tlO#v![O%U,jO%Y,jO~P'UO#h,kOP#eyT#eyd#eyf#eym#eyq#eyt#ey}#ey!O#ey!R#ey!S#ey!V#ey!Z#ey!f#ey!m#ey!n#ey!o#ey!v#ey!x#ey!z#ey!|#ey#O#ey#S#ey#U#ey#X#ey#Y#ey#[#ey#c#ey#f#ey#j#ey#l#ey#q#ey#t#ey#v#ey%S#ey%V#ey%g#ey%h#ey%l#ey%m#ey&R#ey&S#ey&V#ey&Y#ey&`#ey&c#ey&e#ey%U#ey%Y#ey~Om/iOt/wOy&nq~P'UOx,oOy&nq~O%r+mOe&pax&pa~OT)pO_)qO%i)rO%mVOe&oa~Ox,sOe&oa~O#y,wO~OT%OO_%OOm/iOt/wO~P'UOm/iOt/wOy,xOx$ci!U$ci~P'UOm/iOt/wOx$ci!U$ci~P'UOy,xOx$ci!U$ci~Om/iOt/wOy*RO~P'UOm/iOt/wOy*RO!U&Pq~P'UOx,{O!U&Pq~Om/iOt/wOx,{O!U&Pq~P'UOq-OO!R%eO!S%dOe%vq!U%vq!Y%vqx%vq~P!,}O_*lOm/iOt/wO!Y%{y~P'UOx$ai!Y$ai~P$bO_*lOm/iOt/wO~P'UOT*pOm/iOt/wO~P'UOT*pOm/iOt/wOy&[q!Y&[q!j&[q~P'UOT&TOm/iOt/wO#^%`q%V%`q%Y%`q%r%`q~P'UO#V-SOx$ra#^$ra%V$ra%Y$rae$ra~O%mVO#^&ji%V&ji%Y&jie&ji~Ox-UO#^&ji%V&ji%Y&jie&ji~Or-XOP#d!RT#d!Rd#d!Rf#d!Rm#d!Rq#d!Rt#d!R}#d!R!O#d!R!R#d!R!S#d!R!V#d!R!Z#d!R!f#d!R!m#d!R!n#d!R!o#d!R!v#d!R!x#d!R!z#d!R!|#d!R#O#d!R#S#d!R#U#d!R#X#d!R#Y#d!R#[#d!R#c#d!R#f#d!R#j#d!R#l#d!R#q#d!R#t#d!R#v#d!R%S#d!R%V#d!R%g#d!R%h#d!R%l#d!R%m#d!R&R#d!R&S#d!R&V#d!R&Y#d!R&`#d!R&c#d!R&e#d!R%U#d!R%Y#d!R~Om/iOt/wOy&ny~P'UOT)pO_)qO%i)rO%mVOe&oi~O#y,wO%U-_O%Y-_O~OT-iOf-gO!V-fO!Z-hO!f-bO!n-dO!o-dO%h-aO%mVO&R[O&S]O&V^O~Om/iOt/wOx$cq!U$cq~P'UOy-nOx$cq!U$cq~Om/iOt/wOy*RO!U&Py~P'UOx-oO!U&Py~Om/iOt-sO~P'UOq-OO!R%eO!S%dOe%vy!U%vy!Y%vyx%vy~P!,}O%mVO#^&jq%V&jq%Y&jqe&jq~Ox-wO#^&jq%V&jq%Y&jqe&jq~OT)pO_)qO%i)rO%mVO~Of-{O!d-yOx#zX#V#zX%b#zXe#zX~Oq#zXy#zX!U#zX!Y#zX~P$$nO%g-}O%h-}Oq#{Xx#{Xy#{X#V#{X%b#{X!U#{Xe#{X!Y#{X~O!f.PO~Ox.TO#V.VO%b.QOq&rXy&rX!U&rXe&rX~O_.YO~P$ WOf-{Oq&sXx&sXy&sX#V&sX%b&sX!U&sXe&sX!Y&sX~Oq.^Oy$nO~Om/iOt/wOx$cy!U$cy~P'UOm/iOt/wOy*RO!U&P!R~P'UOx.bO!U&P!R~Oe%yXq%yX!R%yX!S%yX!U%yX!Y%yXx%yX~P!,}Oq-OO!R%eO!S%dOe%xa!U%xa!Y%xax%xa~O%mVO#^&jy%V&jy%Y&jye&jy~O!d-yOf$Raq$Rax$Ray$Ra#V$Ra%b$Ra!U$Rae$Ra!Y$Ra~O!f.kO~O%g-}O%h-}Oq#{ax#{ay#{a#V#{a%b#{a!U#{ae#{a!Y#{a~O%b.QOq$Pax$Pay$Pa#V$Pa!U$Pae$Pa!Y$Pa~Oq&ray&ra!U&rae&ra~P#NzOx.pOq&ray&ra!U&rae&ra~O!U.sO~Oe.sO~Oy.uO~O!Y.vO~Om/iOt/wOy*RO!U&P!Z~P'UOy.yO~O%r.zO~P$$nOx.{O#V.VO%b.QOe&uX~Ox.{Oe&uX~Oe.}O~O!f/OO~O#V.VOq$}ax$}ay$}a%b$}a!U$}ae$}a!Y$}a~O#V.VO%b.QOq%Rax%Ray%Ra!U%Rae%Ra~Oq&riy&ri!U&rie&ri~P#NzOx/QO#V.VO%b.QO!Y&ta~Oy$Za~P$bOe&ua~P#NzOx/YOe&ua~O_/[O!Y&ti~P$ WOx/^O!Y&ti~Ox/^O#V.VO%b.QO!Y&ti~O#V.VO%b.QOe$Xix$Xi~O%r/aO~P$$nO#V.VO%b.QOe%Qax%Qa~Oe&ui~P#NzOy/dO~O_/[O!Y&tq~P$ WOx/fO!Y&tq~O#V.VO%b.QOx%Pi!Y%Pi~O_/[O~P$ WO_/[O!Y&ty~P$ WO#V.VO%b.QOe$Yix$Yi~O#V.VO%b.QOx%Pq!Y%Pq~Ox*xO#^%`a%V%`a%Y%`a%r%`a~P$bOT&TOm/iOt/wO~P'UOl/nO~Om/nO~P'UOy/oO~Or/pO~P!,}O&S&V&c&e&R!Z&Z&a&d&f&Y&`&Y%m~",goto:"!9p&vPPPP&wP'P*e*}+h,S,o-]P-zP'P.k.k'PPPP'P2PPPPPPP2P4oPP4oP6{7U=QPP=T=c=fPP'P'PPP=rPP'P'PPP'P'P'P'P'P=v>m'PP>pP>vByFcPFw'PPPPF{GR&wP&w&wP&wP&wP&wP&wP&w&w&wP&wPP&wPP&wPGXPG`GfPG`PG`G`PPPG`PIePInItIzIePG`JQPG`PJXJ_PJcJwKfLPJcJcLVLdJcJcJcJcLxMOMRMWMZMaMgMsNVN]NgNm! Z! a! g! m! w! }!!T!!Z!!a!!g!!y!#T!#Z!#a!#g!#q!#w!#}!$T!$Z!$e!$k!$u!${!%U!%[!%k!%s!%}!&UPPPPPPPPP!&[!&d!&m!&w!'SPPPPPPPPPPPP!+r!,[!0j!3vPP!4O!4^!4g!5]!5S!5f!5l!5o!5r!5u!5}!6nPPPPPPPPPP!6q!6tPPPPPPPPP!6z!7W!7d!7j!7s!7v!7|!8S!8Y!8]P!8e!8n!9j!9m]iOr#n$n)c+c'udOSXYZehrstvx|}!R!S!T!U!X![!d!e!f!g!h!i!j!l!p!q!r!t!u!{#O#S#T#^#k#n$P$Q$S$U$X$i$k$l$n$u%O%T%[%_%a%d%h%m%o%y&R&T&`&d&m&o&p&w&{'O'V'Y'g'h'k'm'n'r'w'y'}(R(W(X(_(b(i(k(s(v)S)V)Z)[)`)c)l)v*O*R*S*V*]*^*`*b*e*f*i*l*p*q*x*z*{+S+[+]+c+j+k+n+v+w+x+z+{,O,Q,S,U,W,Y,Z,],o,q,x,{-O-n-o.^.b.y/i/j/k/l/n/o/p/q/r/t/x}!dP#j#w$Y$h$t%f%k%q%r&e&}'d(j(u)Y*Z*d+Z,V.w/m!P!eP#j#w$Y$h$t$v%f%k%q%r&e&}'d(j(u)Y*Z*d+Z,V.w/m!R!fP#j#w$Y$h$t$v$w%f%k%q%r&e&}'d(j(u)Y*Z*d+Z,V.w/m!T!gP#j#w$Y$h$t$v$w$x%f%k%q%r&e&}'d(j(u)Y*Z*d+Z,V.w/m!V!hP#j#w$Y$h$t$v$w$x$y%f%k%q%r&e&}'d(j(u)Y*Z*d+Z,V.w/m!X!iP#j#w$Y$h$t$v$w$x$y$z%f%k%q%r&e&}'d(j(u)Y*Z*d+Z,V.w/m!]!iP!o#j#w$Y$h$t$v$w$x$y$z${%f%k%q%r&e&}'d(j(u)Y*Z*d+Z,V.w/m'uSOSXYZehrstvx|}!R!S!T!U!X![!d!e!f!g!h!i!j!l!p!q!r!t!u!{#O#S#T#^#k#n$P$Q$S$U$X$i$k$l$n$u%O%T%[%_%a%d%h%m%o%y&R&T&`&d&m&o&p&w&{'O'V'Y'g'h'k'm'n'r'w'y'}(R(W(X(_(b(i(k(s(v)S)V)Z)[)`)c)l)v*O*R*S*V*]*^*`*b*e*f*i*l*p*q*x*z*{+S+[+]+c+j+k+n+v+w+x+z+{,O,Q,S,U,W,Y,Z,],o,q,x,{-O-n-o.^.b.y/i/j/k/l/n/o/p/q/r/t/x&ZUOXYZhrtv|}!R!S!T!X!j!l!p!q!r!t!u#^#k#n$Q$S$U$X$l$n%O%T%[%_%a%h%m%o%y&R&`&d&o&p&w'O'V'Y'g'h'k'm'n'r'y(R(X(_(b(i(k(s)S)V)`)c)l)v*O*R*S*V*]*^*`*b*e*f*i*p*q*x*{+S+c+j+k+n+v+w+x+z+{,O,Q,S,U,W,Y,Z,],o,q,x,{-O-n-o.b.y/i/j/k/l/n/o/p/q/t/x%eWOXYZhrv|}!R!S!T!X!j!l#^#k#n$Q$S$U$X$l$n%O%T%_%a%h%m%o%y&R&`&d&o&p&w'O'V'Y'g'h'k'm'n'r'y(R(X(_(b(i(k(s)S)V)`)c)l)v*O*R*S*V*]*`*b*e*f*i*p*q*x*{+S+c+j+k+n+v+w+x+z+{,O,S,U,W,Y,Z,],o,q,x,{-n-o.b/o/p/qQ#}uQ.c-sR/u/w'ldOSXYZehrstvx|}!R!S!T!U!X![!d!e!f!g!h!i!l!p!q!r!t!u!{#O#S#T#^#k#n$P$Q$S$U$X$i$k$l$n$u%O%T%[%_%a%d%h%m%o%y&R&T&`&d&m&o&p&w&{'O'V'Y'g'k'm'n'r'w'y'}(R(W(X(_(b(i(k(s(v)S)V)Z)[)`)c)l)v*R*S*V*]*^*`*b*e*f*i*l*p*q*x*z*{+S+[+]+c+j+k+n+w+x+z+{,O,Q,S,U,W,Y,Z,],o,q,x,{-O-n-o.^.b.y/i/j/k/l/n/o/p/q/r/t/xW#ql!O!P$`W#yu&b-s/wQ$b!QQ$r!YQ$s!ZW$}!j'h*O+vS&a#z#{Q'R$mQ(l&ZQ(z&qU({&s(|(}U)O&u)P+RQ)n'[W)o'^+q,s-]S+p)p)qY,_*|,`-T-U-wQ,b+OQ,l+gQ,n+il-`,w-f-g-i.R.T.Y.p.u.z/P/[/a/dQ-v-SQ.Z-hQ.g-{Q.r.VU/V.{/Y/bX/]/Q/^/e/fR&`#yi!xXY!S!T%a%h'y(R)V*]*`*bR%_!wQ!|XQ%z#^Q&i$UR&l$XT-r-O.y![!kP!o#j#w$Y$h$t$v$w$x$y$z${%f%k%q%r&e&}'d(j(u)Y*Z*d+Z,V.w/mQ&^#rR'a$sR'g$}Q%W!nR.e-y'tcOSXYZehrstvx|}!R!S!T!U!X![!d!e!f!g!h!i!j!l!p!q!r!t!u!{#O#S#T#^#k#n$P$Q$S$U$X$i$k$l$n$u%O%T%[%_%a%d%h%m%o%y&R&T&`&d&m&o&p&w&{'O'V'Y'g'h'k'm'n'r'w'y'}(R(W(X(_(b(i(k(s(v)S)V)Z)[)`)c)l)v*O*R*S*V*]*^*`*b*e*f*i*l*p*q*x*z*{+S+[+]+c+j+k+n+v+w+x+z+{,O,Q,S,U,W,Y,Z,],o,q,x,{-O-n-o.^.b.y/i/j/k/l/n/o/p/q/r/t/xS#hc#i!P-d,w-f-g-h-i-{.R.T.Y.p.u.z.{/P/Q/Y/[/^/a/b/d/e/f'tcOSXYZehrstvx|}!R!S!T!U!X![!d!e!f!g!h!i!j!l!p!q!r!t!u!{#O#S#T#^#k#n$P$Q$S$U$X$i$k$l$n$u%O%T%[%_%a%d%h%m%o%y&R&T&`&d&m&o&p&w&{'O'V'Y'g'h'k'm'n'r'w'y'}(R(W(X(_(b(i(k(s(v)S)V)Z)[)`)c)l)v*O*R*S*V*]*^*`*b*e*f*i*l*p*q*x*z*{+S+[+]+c+j+k+n+v+w+x+z+{,O,Q,S,U,W,Y,Z,],o,q,x,{-O-n-o.^.b.y/i/j/k/l/n/o/p/q/r/t/xT#hc#iS#__#`S#b`#cS#da#eS#fb#gT*t(e*uT(f%z(hQ$WwR+o)oX$Uw$V$W&kZkOr$n)c+cXoOr)c+cQ$o!WQ&y$fQ&z$gQ']$qQ'`$sQ)a'QQ)g'VQ)i'WQ)j'XQ)w'_Q)y'aQ+V)VQ+X)WQ+Y)XQ+^)_S+`)b)xQ+d)eQ+e)fQ+f)hQ,d+UQ,e+WQ,g+_Q,h+aQ,m+hQ-W,fQ-Y,kQ-Z,lQ-x-XQ._-lR.x.`WoOr)c+cR#tnQ'_$rR)b'RQ+n)oR,q+oQ)x'_R+a)bZmOnr)c+cQ'c$tR){'dT,u+u,vu-k,w-f-g-i-{.R.T.Y.p.u.z.{/P/Y/[/a/b/dt-k,w-f-g-i-{.R.T.Y.p.u.z.{/P/Y/[/a/b/dQ.Z-hX/]/Q/^/e/f!P-c,w-f-g-h-i-{.R.T.Y.p.u.z.{/P/Q/Y/[/^/a/b/d/e/fQ.O-bR.l.Pg.R-e.S.h.o.t/S/U/W/c/g/hu-j,w-f-g-i-{.R.T.Y.p.u.z.{/P/Y/[/a/b/dX-|-`-j.g/VR.i-{V/X.{/Y/bR.`-lQrOR#vrQ&c#|R(q&cS%n#R$OS(Y%n(]T(]%q&eQ%b!zQ%i!}W'z%b%i(P(TQ(P%fR(T%kQ&n$YR(w&nQ(`%rQ*g(ZT*m(`*gQ'i%PR*P'iS'l%S%TY*T'l*U+|,|-pU*U'm'n'oU+|*V*W*XS,|+},OR-p,}Q#Y]R%u#YQ#]^R%w#]Q#`_R%{#`Q(c%xS*r(c*sR*s(dQ*u(eR,[*uQ#c`R%}#cQ#eaR&O#eQ#gbR&P#gQ#icR&Q#iQ#lfQ&S#jW&V#l&S(t*yQ(t&hR*y/mQ$VwS&j$V&kR&k$WQ&x$dR)T&xQ&[#qR(m&[Q$`!PR&r$`Q*}({S,a*}-VR-V,bQ&v$bR)Q&vQ#ojR&X#oQ+c)cR,i+cQ)U&yR+T)UQ&|$hS)]&|)^R)^&}Q'U$oR)d'UQ'Z$pS)m'Z+lR+l)nQ+r)sR,t+rWnOr)c+cR#snQ,v+uR-^,vd.S-e.h.o.t/S/U/W/c/g/hR.n.SU-z-`.g/VR.f-zQ/R.tS/_/R/`R/`/SS.|.h.iR/Z.|Q.U-eR.q.USqOrT+b)c+cWpOr)c+cR'S$nYjOr$n)c+cR&W#n[wOr#n$n)c+cR&i$U&YPOXYZhrtv|}!R!S!T!X!j!l!p!q!r!t!u#^#k#n$Q$S$U$X$l$n%O%T%[%_%a%h%m%o%y&R&`&d&o&p&w'O'V'Y'g'h'k'm'n'r'y(R(X(_(b(i(k(s)S)V)`)c)l)v*O*R*S*V*]*^*`*b*e*f*i*p*q*x*{+S+c+j+k+n+v+w+x+z+{,O,Q,S,U,W,Y,Z,],o,q,x,{-O-n-o.b.y/i/j/k/l/n/o/p/q/t/xQ!oSQ#jeQ#wsU$Yx%d'}S$h!U$kQ$t![Q$v!dQ$w!eQ$x!fQ$y!gQ$z!hQ${!iQ%f!{Q%k#OQ%q#SQ%r#TQ&e$PQ&}$iQ'd$uQ(j&TU(u&m(v*zW)Y&{)[+[+]Q*Z'wQ*d(WQ+Z)ZQ,V*lQ.w.^R/m/rQ!zXQ!}YQ$f!SQ$g!T^'v%a%h'y(R*]*`*bR+W)V[fOr#n$n)c+ch!wXY!S!T%a%h'y(R)V*]*`*bQ#RZQ#mhS$Ov|Q$]}W$d!R$X'O)`S$p!X$lW$|!j'h*O+vQ%S!lQ%x#^`&U#k&R(i(k(s*x,]/qQ&f$QQ&g$SQ&h$UQ'e%OQ'o%TQ'u%_W(V%m(X*e*iQ(Z%oQ(d%yQ(o&`S(r&d/oQ(x&oQ(y&pU)R&w)S+SQ)h'VY)k'Y)l+j+k,oQ)|'g^*Q'k*S+z+{,{-o.bQ*W'mQ*X'nS*Y'r/pW*k(_*f,S,WW*o(b*q,Y,ZQ+t)vQ+y*RQ+}*VQ,X*pQ,^*{Q,p+nQ,y+wQ,z+xQ,},OQ-R,UQ-[,qQ-m,xR.a-nhTOr#k#n$n&R&d'r(i(k)c+c$z!vXYZhv|}!R!S!T!X!j!l#^$Q$S$U$X$l%O%T%_%a%h%m%o%y&`&o&p&w'O'V'Y'g'h'k'm'n'y(R(X(_(b(s)S)V)`)l)v*O*R*S*V*]*`*b*e*f*i*p*q*x*{+S+j+k+n+v+w+x+z+{,O,S,U,W,Y,Z,],o,q,x,{-n-o.b/o/p/qQ#xtW%X!p!t/j/tQ%Y!qQ%Z!rQ%]!uQ%g/iS'q%[/nQ's/kQ't/lQ,P*^Q-Q,QS-q-O.yR/v/xU#|u-s/wR(p&b[gOr#n$n)c+cX!yX#^$U$XQ#WZQ$RvR$[|Q%c!zQ%j!}Q%p#RQ'e$|Q(Q%fQ(U%kQ(^%qQ(a%rQ*h(ZQ-P,PQ-u-QR.d-tQ$ZxQ'|%dR*_'}Q-t-OR/T.yR#QYR#VZR%R!jQ%P!jV)}'h*O+v!]!mP!o#j#w$Y$h$t$v$w$x$y$z${%f%k%q%r&e&}'d(j(u)Y*Z*d+Z,V.w/mR%U!lR%z#^Q(g%zR*w(hQ$e!RQ&l$XQ)_'OR+_)`Q#rlQ$^!OQ$a!PR&t$`Q(z&sR+Q(}Q(z&sQ+P(|R+Q(}R$c!QXpOr)c+cQ$j!UR'P$kQ$q!XR'Q$lR)u'^Q)s'^V,r+q,s-]Q-l,wQ.W-fR.X-gU-e,w-f-gQ.]-iQ.h-{Q.m.RU.o.T.p/PQ.t.YQ/S.uQ/U.zU/W.{/Y/bQ/c/[Q/g/aR/h/dR.[-hR.j-{",nodeNames:"\u26a0 print Comment Script AssignStatement * BinaryExpression BitOp BitOp BitOp BitOp ArithOp ArithOp @ ArithOp ** UnaryExpression ArithOp BitOp AwaitExpression await ) ( ParenthesizedExpression BinaryExpression or and CompareOp in not is UnaryExpression ConditionalExpression if else LambdaExpression lambda ParamList VariableName AssignOp , : NamedExpression AssignOp YieldExpression yield from TupleExpression ComprehensionExpression async for LambdaExpression ] [ ArrayExpression ArrayComprehensionExpression } { DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression CallExpression ArgList AssignOp MemberExpression . PropertyName Number String FormatString FormatReplacement FormatConversion FormatSpec ContinuedString Ellipsis None Boolean TypeDef AssignOp UpdateStatement UpdateOp ExpressionStatement DeleteStatement del PassStatement pass BreakStatement break ContinueStatement continue ReturnStatement return YieldStatement PrintStatement RaiseStatement raise ImportStatement import as ScopeStatement global nonlocal AssertStatement assert StatementGroup ; IfStatement Body elif WhileStatement while ForStatement TryStatement try except finally WithStatement with FunctionDefinition def ParamList AssignOp TypeDef ClassDefinition class DecoratedStatement Decorator At MatchStatement match MatchBody MatchClause case CapturePattern LiteralPattern ArithOp ArithOp AsPattern OrPattern LogicOp AttributePattern SequencePattern MappingPattern StarPattern ClassPattern PatternArgList KeywordPattern KeywordPattern Guard",maxTerm:267,context:Jm,nodeProps:[["group",-14,4,80,82,83,85,87,89,91,93,94,95,97,100,103,"Statement Statement",-22,6,16,19,23,38,47,48,54,55,58,59,60,61,62,65,68,69,70,74,75,76,77,"Expression",-10,105,107,110,112,113,117,119,124,126,129,"Statement",-9,134,135,138,139,141,142,143,144,145,"Pattern"],["openedBy",21,"(",52,"[",56,"{"],["closedBy",22,")",53,"]",57,"}"]],propSources:[tv],skippedNodes:[0,2],repeatNodeCount:38,tokenData:"&JdMgR!^OX$}XY!&]Y[$}[]!&]]p$}pq!&]qr!(grs!,^st!IYtu$}uv$5[vw$7nwx$8zxy%'vyz%(|z{%*S{|%,r|}%.O}!O%/U!O!P%1k!P!Q%<q!Q!R%?a!R![%Cc![!]%N_!]!^&!q!^!_&#w!_!`&&g!`!a&'s!a!b$}!b!c&*`!c!d&+n!d!e&-`!e!h&+n!h!i&7[!i!t&+n!t!u&@j!u!w&+n!w!x&5j!x!}&+n!}#O&Bt#O#P!'u#P#Q&Cz#Q#R&EQ#R#S&+n#S#T$}#T#U&+n#U#V&-`#V#Y&+n#Y#Z&7[#Z#f&+n#f#g&@j#g#i&+n#i#j&5j#j#o&+n#o#p&F^#p#q&GS#q#r&H`#r#s&I^#s$g$}$g~&+n<r%`Z&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}<Q&^Z&^7[&TS&Z`&d!bOr'PrsFisw'Pwx(Rx#O'P#O#PAe#P#o'P#o#pEu#p#q'P#q#rAy#r~'P<Q'`Z&^7[&TS&WW&Z`&d!b&f#tOr'Prs&Rsw'Pwx(Rx#O'P#O#PAe#P#o'P#o#pEu#p#q'P#q#rAy#r~'P;p([Z&^7[&WW&f#tOr(}rs)}sw(}wx={x#O(}#O#P2]#P#o(}#o#p:X#p#q(}#q#r2q#r~(};p)[Z&^7[&TS&WW&d!b&f#tOr(}rs)}sw(}wx(Rx#O(}#O#P2]#P#o(}#o#p:X#p#q(}#q#r2q#r~(};p*WZ&^7[&TS&d!bOr(}rs*ysw(}wx(Rx#O(}#O#P2]#P#o(}#o#p:X#p#q(}#q#r2q#r~(};p+SZ&^7[&TS&d!bOr(}rs+usw(}wx(Rx#O(}#O#P2]#P#o(}#o#p:X#p#q(}#q#r2q#r~(}8r,OX&^7[&TS&d!bOw+uwx,kx#O+u#O#P.]#P#o+u#o#p0d#p#q+u#q#r.q#r~+u8r,pX&^7[Ow+uwx-]x#O+u#O#P.]#P#o+u#o#p0d#p#q+u#q#r.q#r~+u8r-bX&^7[Ow+uwx-}x#O+u#O#P.]#P#o+u#o#p0d#p#q+u#q#r.q#r~+u7[.SR&^7[O#o-}#p#q-}#r~-}8r.bT&^7[O#o+u#o#p.q#p#q+u#q#r.q#r~+u!f.xV&TS&d!bOw.qwx/_x#O.q#O#P0^#P#o.q#o#p0d#p~.q!f/bVOw.qwx/wx#O.q#O#P0^#P#o.q#o#p0d#p~.q!f/zUOw.qx#O.q#O#P0^#P#o.q#o#p0d#p~.q!f0aPO~.q!f0iV&TSOw1Owx1dx#O1O#O#P2V#P#o1O#o#p.q#p~1OS1TT&TSOw1Owx1dx#O1O#O#P2V#P~1OS1gTOw1Owx1vx#O1O#O#P2V#P~1OS1ySOw1Ox#O1O#O#P2V#P~1OS2YPO~1O;p2bT&^7[O#o(}#o#p2q#p#q(}#q#r2q#r~(}%d2|X&TS&WW&d!b&f#tOr2qrs3isw2qwx5Px#O2q#O#P:R#P#o2q#o#p:X#p~2q%d3pX&TS&d!bOr2qrs4]sw2qwx5Px#O2q#O#P:R#P#o2q#o#p:X#p~2q%d4dX&TS&d!bOr2qrs.qsw2qwx5Px#O2q#O#P:R#P#o2q#o#p:X#p~2q%d5WX&WW&f#tOr2qrs3isw2qwx5sx#O2q#O#P:R#P#o2q#o#p:X#p~2q%d5zX&WW&f#tOr2qrs3isw2qwx6gx#O2q#O#P:R#P#o2q#o#p:X#p~2q#|6nV&WW&f#tOr6grs7Ts#O6g#O#P8S#P#o6g#o#p8Y#p~6g#|7WVOr6grs7ms#O6g#O#P8S#P#o6g#o#p8Y#p~6g#|7pUOr6gs#O6g#O#P8S#P#o6g#o#p8Y#p~6g#|8VPO~6g#|8_V&WWOr8trs9Ys#O8t#O#P9{#P#o8t#o#p6g#p~8tW8yT&WWOr8trs9Ys#O8t#O#P9{#P~8tW9]TOr8trs9ls#O8t#O#P9{#P~8tW9oSOr8ts#O8t#O#P9{#P~8tW:OPO~8t%d:UPO~2q%d:`X&TS&WWOr:{rs;isw:{wx<ox#O:{#O#P=u#P#o:{#o#p2q#p~:{[;SV&TS&WWOr:{rs;isw:{wx<ox#O:{#O#P=u#P~:{[;nV&TSOr:{rs<Tsw:{wx<ox#O:{#O#P=u#P~:{[<YV&TSOr:{rs1Osw:{wx<ox#O:{#O#P=u#P~:{[<tV&WWOr:{rs;isw:{wx=Zx#O:{#O#P=u#P~:{[=`V&WWOr:{rs;isw:{wx8tx#O:{#O#P=u#P~:{[=xPO~:{;p>UZ&^7[&WW&f#tOr(}rs)}sw(}wx>wx#O(}#O#P2]#P#o(}#o#p:X#p#q(}#q#r2q#r~(}:Y?QX&^7[&WW&f#tOr>wrs?ms#O>w#O#PAP#P#o>w#o#p8Y#p#q>w#q#r6g#r~>w:Y?rX&^7[Or>wrs@_s#O>w#O#PAP#P#o>w#o#p8Y#p#q>w#q#r6g#r~>w:Y@dX&^7[Or>wrs-}s#O>w#O#PAP#P#o>w#o#p8Y#p#q>w#q#r6g#r~>w:YAUT&^7[O#o>w#o#p6g#p#q>w#q#r6g#r~>w<QAjT&^7[O#o'P#o#pAy#p#q'P#q#rAy#r~'P%tBWX&TS&WW&Z`&d!b&f#tOrAyrsBsswAywx5Px#OAy#O#PEo#P#oAy#o#pEu#p~Ay%tB|X&TS&Z`&d!bOrAyrsCiswAywx5Px#OAy#O#PEo#P#oAy#o#pEu#p~Ay%tCrX&TS&Z`&d!bOrAyrsD_swAywx5Px#OAy#O#PEo#P#oAy#o#pEu#p~Ay!vDhV&TS&Z`&d!bOwD_wx/_x#OD_#O#PD}#P#oD_#o#pET#p~D_!vEQPO~D_!vEYV&TSOw1Owx1dx#O1O#O#P2V#P#o1O#o#pD_#p~1O%tErPO~Ay%tE|X&TS&WWOr:{rs;isw:{wx<ox#O:{#O#P=u#P#o:{#o#pAy#p~:{<QFtZ&^7[&TS&Z`&d!bOr'PrsGgsw'Pwx(Rx#O'P#O#PAe#P#o'P#o#pEu#p#q'P#q#rAy#r~'P9SGrX&^7[&TS&Z`&d!bOwGgwx,kx#OGg#O#PH_#P#oGg#o#pET#p#qGg#q#rD_#r~Gg9SHdT&^7[O#oGg#o#pD_#p#qGg#q#rD_#r~Gg<bIOZ&^7[&WW&ap&f#tOrIqrs)}swIqwx! wx#OIq#O#PJs#P#oIq#o#p! T#p#qIq#q#rKX#r~Iq<bJQZ&^7[&TS&WW&ap&d!b&f#tOrIqrs)}swIqwxHsx#OIq#O#PJs#P#oIq#o#p! T#p#qIq#q#rKX#r~Iq<bJxT&^7[O#oIq#o#pKX#p#qIq#q#rKX#r~Iq&UKfX&TS&WW&ap&d!b&f#tOrKXrs3iswKXwxLRx#OKX#O#PN}#P#oKX#o#p! T#p~KX&UL[X&WW&ap&f#tOrKXrs3iswKXwxLwx#OKX#O#PN}#P#oKX#o#p! T#p~KX&UMQX&WW&ap&f#tOrKXrs3iswKXwxMmx#OKX#O#PN}#P#oKX#o#p! T#p~KX$nMvV&WW&ap&f#tOrMmrs7Ts#OMm#O#PN]#P#oMm#o#pNc#p~Mm$nN`PO~Mm$nNhV&WWOr8trs9Ys#O8t#O#P9{#P#o8t#o#pMm#p~8t&U! QPO~KX&U! [X&TS&WWOr:{rs;isw:{wx<ox#O:{#O#P=u#P#o:{#o#pKX#p~:{<b!!SZ&^7[&WW&ap&f#tOrIqrs)}swIqwx!!ux#OIq#O#PJs#P#oIq#o#p! T#p#qIq#q#rKX#r~Iq:z!#QX&^7[&WW&ap&f#tOr!!urs?ms#O!!u#O#P!#m#P#o!!u#o#pNc#p#q!!u#q#rMm#r~!!u:z!#rT&^7[O#o!!u#o#pMm#p#q!!u#q#rMm#r~!!u<r!$WT&^7[O#o$}#o#p!$g#p#q$}#q#r!$g#r~$}&f!$vX&TS&WW&Z`&ap&d!b&f#tOr!$grsBssw!$gwxLRx#O!$g#O#P!%c#P#o!$g#o#p!%i#p~!$g&f!%fPO~!$g&f!%pX&TS&WWOr:{rs;isw:{wx<ox#O:{#O#P=u#P#o:{#o#p!$g#p~:{Mg!&pa&^7[&TS&WW%[1s&Z`&ap&d!b&f#tOX$}XY!&]Y[$}[]!&]]p$}pq!&]qr$}rs&Rsw$}wxHsx#O$}#O#P!'u#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Mg!'zX&^7[OY$}YZ!&]Z]$}]^!&]^#o$}#o#p!$g#p#q$}#q#r!$g#r~$}<u!(xb&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!_$}!_!`!*Q!`#O$}#O#P!$R#P#T$}#T#U!+W#U#f$}#f#g!+W#g#h!+W#h#o$}#o#p!%i#p#q$}#q#r!$g#r~$}<u!*eZkR&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}<u!+kZ!jR&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}G{!,m_&bp&^7[&TS&R,X&Z`&d!bOY!-lYZ'PZ]!-l]^'P^r!-lrs!G^sw!-lwx!/|x#O!-l#O#P!Cp#P#o!-l#o#p!F[#p#q!-l#q#r!DU#r~!-lGZ!-}_&^7[&TS&WW&R,X&Z`&d!b&f#tOY!-lYZ'PZ]!-l]^'P^r!-lrs!.|sw!-lwx!/|x#O!-l#O#P!Cp#P#o!-l#o#p!F[#p#q!-l#q#r!DU#r~!-lGZ!/ZZ&^7[&TS&R,X&Z`&d!bOr'PrsFisw'Pwx(Rx#O'P#O#PAe#P#o'P#o#pEu#p#q'P#q#rAy#r~'PFy!0X_&^7[&WW&R,X&f#tOY!1WYZ(}Z]!1W]^(}^r!1Wrs!2fsw!1Wwx!@Yx#O!1W#O#P!3d#P#o!1W#o#p!;t#p#q!1W#q#r!3x#r~!1WFy!1g_&^7[&TS&WW&R,X&d!b&f#tOY!1WYZ(}Z]!1W]^(}^r!1Wrs!2fsw!1Wwx!/|x#O!1W#O#P!3d#P#o!1W#o#p!;t#p#q!1W#q#r!3x#r~!1WFy!2qZ&^7[&TS&R,X&d!bOr(}rs*ysw(}wx(Rx#O(}#O#P2]#P#o(}#o#p:X#p#q(}#q#r2q#r~(}Fy!3iT&^7[O#o!1W#o#p!3x#p#q!1W#q#r!3x#r~!1W0m!4V]&TS&WW&R,X&d!b&f#tOY!3xYZ2qZ]!3x]^2q^r!3xrs!5Osw!3xwx!5tx#O!3x#O#P!;n#P#o!3x#o#p!;t#p~!3x0m!5XX&TS&R,X&d!bOr2qrs4]sw2qwx5Px#O2q#O#P:R#P#o2q#o#p:X#p~2q0m!5}]&WW&R,X&f#tOY!3xYZ2qZ]!3x]^2q^r!3xrs!5Osw!3xwx!6vx#O!3x#O#P!;n#P#o!3x#o#p!;t#p~!3x0m!7P]&WW&R,X&f#tOY!3xYZ2qZ]!3x]^2q^r!3xrs!5Osw!3xwx!7xx#O!3x#O#P!;n#P#o!3x#o#p!;t#p~!3x/V!8RZ&WW&R,X&f#tOY!7xYZ6gZ]!7x]^6g^r!7xrs!8ts#O!7x#O#P!9`#P#o!7x#o#p!9f#p~!7x/V!8yV&R,XOr6grs7ms#O6g#O#P8S#P#o6g#o#p8Y#p~6g/V!9cPO~!7x/V!9mZ&WW&R,XOY!:`YZ8tZ]!:`]^8t^r!:`rs!;Ss#O!:`#O#P!;h#P#o!:`#o#p!7x#p~!:`,a!:gX&WW&R,XOY!:`YZ8tZ]!:`]^8t^r!:`rs!;Ss#O!:`#O#P!;h#P~!:`,a!;XT&R,XOr8trs9ls#O8t#O#P9{#P~8t,a!;kPO~!:`0m!;qPO~!3x0m!;}]&TS&WW&R,XOY!<vYZ:{Z]!<v]^:{^r!<vrs!=rsw!<vwx!>`x#O!<v#O#P!@S#P#o!<v#o#p!3x#p~!<v,e!=PZ&TS&WW&R,XOY!<vYZ:{Z]!<v]^:{^r!<vrs!=rsw!<vwx!>`x#O!<v#O#P!@S#P~!<v,e!=yV&TS&R,XOr:{rs<Tsw:{wx<ox#O:{#O#P=u#P~:{,e!>gZ&WW&R,XOY!<vYZ:{Z]!<v]^:{^r!<vrs!=rsw!<vwx!?Yx#O!<v#O#P!@S#P~!<v,e!?aZ&WW&R,XOY!<vYZ:{Z]!<v]^:{^r!<vrs!=rsw!<vwx!:`x#O!<v#O#P!@S#P~!<v,e!@VPO~!<vFy!@e_&^7[&WW&R,X&f#tOY!1WYZ(}Z]!1W]^(}^r!1Wrs!2fsw!1Wwx!Adx#O!1W#O#P!3d#P#o!1W#o#p!;t#p#q!1W#q#r!3x#r~!1WEc!Ao]&^7[&WW&R,X&f#tOY!AdYZ>wZ]!Ad]^>w^r!Adrs!Bhs#O!Ad#O#P!C[#P#o!Ad#o#p!9f#p#q!Ad#q#r!7x#r~!AdEc!BoX&^7[&R,XOr>wrs@_s#O>w#O#PAP#P#o>w#o#p8Y#p#q>w#q#r6g#r~>wEc!CaT&^7[O#o!Ad#o#p!7x#p#q!Ad#q#r!7x#r~!AdGZ!CuT&^7[O#o!-l#o#p!DU#p#q!-l#q#r!DU#r~!-l0}!De]&TS&WW&R,X&Z`&d!b&f#tOY!DUYZAyZ]!DU]^Ay^r!DUrs!E^sw!DUwx!5tx#O!DU#O#P!FU#P#o!DU#o#p!F[#p~!DU0}!EiX&TS&R,X&Z`&d!bOrAyrsCiswAywx5Px#OAy#O#PEo#P#oAy#o#pEu#p~Ay0}!FXPO~!DU0}!Fe]&TS&WW&R,XOY!<vYZ:{Z]!<v]^:{^r!<vrs!=rsw!<vwx!>`x#O!<v#O#P!@S#P#o!<v#o#p!DU#p~!<vGZ!GkZ&^7[&TS&R,X&Z`&d!bOr'Prs!H^sw'Pwx(Rx#O'P#O#PAe#P#o'P#o#pEu#p#q'P#q#rAy#r~'PGZ!HmX&X#|&^7[&TS&V,X&Z`&d!bOwGgwx,kx#OGg#O#PH_#P#oGg#o#pET#p#qGg#q#rD_#r~GgMg!Im_Q1s&^7[&TS&WW&Z`&ap&d!b&f#tOY!IYYZ$}Z]!IY]^$}^r!IYrs!Jlsw!IYwx$$[x#O!IY#O#P$1v#P#o!IY#o#p$4Y#p#q!IY#q#r$2j#r~!IYLu!Jy_Q1s&^7[&TS&Z`&d!bOY!KxYZ'PZ]!Kx]^'P^r!Kxrs$ Usw!Kxwx!MYx#O!Kx#O#P#G^#P#o!Kx#o#p#NS#p#q!Kx#q#r#HQ#r~!KxLu!LZ_Q1s&^7[&TS&WW&Z`&d!b&f#tOY!KxYZ'PZ]!Kx]^'P^r!Kxrs!Jlsw!Kxwx!MYx#O!Kx#O#P#G^#P#o!Kx#o#p#NS#p#q!Kx#q#r#HQ#r~!KxLe!Me_Q1s&^7[&WW&f#tOY!NdYZ(}Z]!Nd]^(}^r!Ndrs# rsw!Ndwx#B[x#O!Nd#O#P#/f#P#o!Nd#o#p#<b#p#q!Nd#q#r#0Y#r~!NdLe!Ns_Q1s&^7[&TS&WW&d!b&f#tOY!NdYZ(}Z]!Nd]^(}^r!Ndrs# rsw!Ndwx!MYx#O!Nd#O#P#/f#P#o!Nd#o#p#<b#p#q!Nd#q#r#0Y#r~!NdLe# }_Q1s&^7[&TS&d!bOY!NdYZ(}Z]!Nd]^(}^r!Ndrs#!|sw!Ndwx!MYx#O!Nd#O#P#/f#P#o!Nd#o#p#<b#p#q!Nd#q#r#0Y#r~!NdLe##X_Q1s&^7[&TS&d!bOY!NdYZ(}Z]!Nd]^(}^r!Ndrs#$Wsw!Ndwx!MYx#O!Nd#O#P#/f#P#o!Nd#o#p#<b#p#q!Nd#q#r#0Y#r~!NdIg#$c]Q1s&^7[&TS&d!bOY#$WYZ+uZ]#$W]^+u^w#$Wwx#%[x#O#$W#O#P#(^#P#o#$W#o#p#,Q#p#q#$W#q#r#)Q#r~#$WIg#%c]Q1s&^7[OY#$WYZ+uZ]#$W]^+u^w#$Wwx#&[x#O#$W#O#P#(^#P#o#$W#o#p#,Q#p#q#$W#q#r#)Q#r~#$WIg#&c]Q1s&^7[OY#$WYZ+uZ]#$W]^+u^w#$Wwx#'[x#O#$W#O#P#(^#P#o#$W#o#p#,Q#p#q#$W#q#r#)Q#r~#$WHP#'cXQ1s&^7[OY#'[YZ-}Z]#'[]^-}^#o#'[#o#p#(O#p#q#'[#q#r#(O#r~#'[1s#(TRQ1sOY#(OZ]#(O^~#(OIg#(eXQ1s&^7[OY#$WYZ+uZ]#$W]^+u^#o#$W#o#p#)Q#p#q#$W#q#r#)Q#r~#$W3Z#)ZZQ1s&TS&d!bOY#)QYZ.qZ]#)Q]^.q^w#)Qwx#)|x#O#)Q#O#P#+l#P#o#)Q#o#p#,Q#p~#)Q3Z#*RZQ1sOY#)QYZ.qZ]#)Q]^.q^w#)Qwx#*tx#O#)Q#O#P#+l#P#o#)Q#o#p#,Q#p~#)Q3Z#*yZQ1sOY#)QYZ.qZ]#)Q]^.q^w#)Qwx#(Ox#O#)Q#O#P#+l#P#o#)Q#o#p#,Q#p~#)Q3Z#+qTQ1sOY#)QYZ.qZ]#)Q]^.q^~#)Q3Z#,XZQ1s&TSOY#,zYZ1OZ]#,z]^1O^w#,zwx#-nx#O#,z#O#P#/Q#P#o#,z#o#p#)Q#p~#,z1w#-RXQ1s&TSOY#,zYZ1OZ]#,z]^1O^w#,zwx#-nx#O#,z#O#P#/Q#P~#,z1w#-sXQ1sOY#,zYZ1OZ]#,z]^1O^w#,zwx#.`x#O#,z#O#P#/Q#P~#,z1w#.eXQ1sOY#,zYZ1OZ]#,z]^1O^w#,zwx#(Ox#O#,z#O#P#/Q#P~#,z1w#/VTQ1sOY#,zYZ1OZ]#,z]^1O^~#,zLe#/mXQ1s&^7[OY!NdYZ(}Z]!Nd]^(}^#o!Nd#o#p#0Y#p#q!Nd#q#r#0Y#r~!Nd6X#0g]Q1s&TS&WW&d!b&f#tOY#0YYZ2qZ]#0Y]^2q^r#0Yrs#1`sw#0Ywx#3dx#O#0Y#O#P#;|#P#o#0Y#o#p#<b#p~#0Y6X#1i]Q1s&TS&d!bOY#0YYZ2qZ]#0Y]^2q^r#0Yrs#2bsw#0Ywx#3dx#O#0Y#O#P#;|#P#o#0Y#o#p#<b#p~#0Y6X#2k]Q1s&TS&d!bOY#0YYZ2qZ]#0Y]^2q^r#0Yrs#)Qsw#0Ywx#3dx#O#0Y#O#P#;|#P#o#0Y#o#p#<b#p~#0Y6X#3m]Q1s&WW&f#tOY#0YYZ2qZ]#0Y]^2q^r#0Yrs#1`sw#0Ywx#4fx#O#0Y#O#P#;|#P#o#0Y#o#p#<b#p~#0Y6X#4o]Q1s&WW&f#tOY#0YYZ2qZ]#0Y]^2q^r#0Yrs#1`sw#0Ywx#5hx#O#0Y#O#P#;|#P#o#0Y#o#p#<b#p~#0Y4q#5qZQ1s&WW&f#tOY#5hYZ6gZ]#5h]^6g^r#5hrs#6ds#O#5h#O#P#8S#P#o#5h#o#p#8h#p~#5h4q#6iZQ1sOY#5hYZ6gZ]#5h]^6g^r#5hrs#7[s#O#5h#O#P#8S#P#o#5h#o#p#8h#p~#5h4q#7aZQ1sOY#5hYZ6gZ]#5h]^6g^r#5hrs#(Os#O#5h#O#P#8S#P#o#5h#o#p#8h#p~#5h4q#8XTQ1sOY#5hYZ6gZ]#5h]^6g^~#5h4q#8oZQ1s&WWOY#9bYZ8tZ]#9b]^8t^r#9brs#:Us#O#9b#O#P#;h#P#o#9b#o#p#5h#p~#9b1{#9iXQ1s&WWOY#9bYZ8tZ]#9b]^8t^r#9brs#:Us#O#9b#O#P#;h#P~#9b1{#:ZXQ1sOY#9bYZ8tZ]#9b]^8t^r#9brs#:vs#O#9b#O#P#;h#P~#9b1{#:{XQ1sOY#9bYZ8tZ]#9b]^8t^r#9brs#(Os#O#9b#O#P#;h#P~#9b1{#;mTQ1sOY#9bYZ8tZ]#9b]^8t^~#9b6X#<RTQ1sOY#0YYZ2qZ]#0Y]^2q^~#0Y6X#<k]Q1s&TS&WWOY#=dYZ:{Z]#=d]^:{^r#=drs#>`sw#=dwx#@Sx#O#=d#O#P#Av#P#o#=d#o#p#0Y#p~#=d2P#=mZQ1s&TS&WWOY#=dYZ:{Z]#=d]^:{^r#=drs#>`sw#=dwx#@Sx#O#=d#O#P#Av#P~#=d2P#>gZQ1s&TSOY#=dYZ:{Z]#=d]^:{^r#=drs#?Ysw#=dwx#@Sx#O#=d#O#P#Av#P~#=d2P#?aZQ1s&TSOY#=dYZ:{Z]#=d]^:{^r#=drs#,zsw#=dwx#@Sx#O#=d#O#P#Av#P~#=d2P#@ZZQ1s&WWOY#=dYZ:{Z]#=d]^:{^r#=drs#>`sw#=dwx#@|x#O#=d#O#P#Av#P~#=d2P#ATZQ1s&WWOY#=dYZ:{Z]#=d]^:{^r#=drs#>`sw#=dwx#9bx#O#=d#O#P#Av#P~#=d2P#A{TQ1sOY#=dYZ:{Z]#=d]^:{^~#=dLe#Bg_Q1s&^7[&WW&f#tOY!NdYZ(}Z]!Nd]^(}^r!Ndrs# rsw!Ndwx#Cfx#O!Nd#O#P#/f#P#o!Nd#o#p#<b#p#q!Nd#q#r#0Y#r~!NdJ}#Cq]Q1s&^7[&WW&f#tOY#CfYZ>wZ]#Cf]^>w^r#Cfrs#Djs#O#Cf#O#P#Fj#P#o#Cf#o#p#8h#p#q#Cf#q#r#5h#r~#CfJ}#Dq]Q1s&^7[OY#CfYZ>wZ]#Cf]^>w^r#Cfrs#Ejs#O#Cf#O#P#Fj#P#o#Cf#o#p#8h#p#q#Cf#q#r#5h#r~#CfJ}#Eq]Q1s&^7[OY#CfYZ>wZ]#Cf]^>w^r#Cfrs#'[s#O#Cf#O#P#Fj#P#o#Cf#o#p#8h#p#q#Cf#q#r#5h#r~#CfJ}#FqXQ1s&^7[OY#CfYZ>wZ]#Cf]^>w^#o#Cf#o#p#5h#p#q#Cf#q#r#5h#r~#CfLu#GeXQ1s&^7[OY!KxYZ'PZ]!Kx]^'P^#o!Kx#o#p#HQ#p#q!Kx#q#r#HQ#r~!Kx6i#Ha]Q1s&TS&WW&Z`&d!b&f#tOY#HQYZAyZ]#HQ]^Ay^r#HQrs#IYsw#HQwx#3dx#O#HQ#O#P#Mn#P#o#HQ#o#p#NS#p~#HQ6i#Ie]Q1s&TS&Z`&d!bOY#HQYZAyZ]#HQ]^Ay^r#HQrs#J^sw#HQwx#3dx#O#HQ#O#P#Mn#P#o#HQ#o#p#NS#p~#HQ6i#Ji]Q1s&TS&Z`&d!bOY#HQYZAyZ]#HQ]^Ay^r#HQrs#Kbsw#HQwx#3dx#O#HQ#O#P#Mn#P#o#HQ#o#p#NS#p~#HQ3k#KmZQ1s&TS&Z`&d!bOY#KbYZD_Z]#Kb]^D_^w#Kbwx#)|x#O#Kb#O#P#L`#P#o#Kb#o#p#Lt#p~#Kb3k#LeTQ1sOY#KbYZD_Z]#Kb]^D_^~#Kb3k#L{ZQ1s&TSOY#,zYZ1OZ]#,z]^1O^w#,zwx#-nx#O#,z#O#P#/Q#P#o#,z#o#p#Kb#p~#,z6i#MsTQ1sOY#HQYZAyZ]#HQ]^Ay^~#HQ6i#N]]Q1s&TS&WWOY#=dYZ:{Z]#=d]^:{^r#=drs#>`sw#=dwx#@Sx#O#=d#O#P#Av#P#o#=d#o#p#HQ#p~#=dLu$ c_Q1s&^7[&TS&Z`&d!bOY!KxYZ'PZ]!Kx]^'P^r!Kxrs$!bsw!Kxwx!MYx#O!Kx#O#P#G^#P#o!Kx#o#p#NS#p#q!Kx#q#r#HQ#r~!KxIw$!o]Q1s&^7[&TS&Z`&d!bOY$!bYZGgZ]$!b]^Gg^w$!bwx#%[x#O$!b#O#P$#h#P#o$!b#o#p#Lt#p#q$!b#q#r#Kb#r~$!bIw$#oXQ1s&^7[OY$!bYZGgZ]$!b]^Gg^#o$!b#o#p#Kb#p#q$!b#q#r#Kb#r~$!bMV$$i_Q1s&^7[&WW&ap&f#tOY$%hYZIqZ]$%h]^Iq^r$%hrs# rsw$%hwx$.px#O$%h#O#P$&x#P#o$%h#o#p$-n#p#q$%h#q#r$'l#r~$%hMV$%y_Q1s&^7[&TS&WW&ap&d!b&f#tOY$%hYZIqZ]$%h]^Iq^r$%hrs# rsw$%hwx$$[x#O$%h#O#P$&x#P#o$%h#o#p$-n#p#q$%h#q#r$'l#r~$%hMV$'PXQ1s&^7[OY$%hYZIqZ]$%h]^Iq^#o$%h#o#p$'l#p#q$%h#q#r$'l#r~$%h6y$'{]Q1s&TS&WW&ap&d!b&f#tOY$'lYZKXZ]$'l]^KX^r$'lrs#1`sw$'lwx$(tx#O$'l#O#P$-Y#P#o$'l#o#p$-n#p~$'l6y$)P]Q1s&WW&ap&f#tOY$'lYZKXZ]$'l]^KX^r$'lrs#1`sw$'lwx$)xx#O$'l#O#P$-Y#P#o$'l#o#p$-n#p~$'l6y$*T]Q1s&WW&ap&f#tOY$'lYZKXZ]$'l]^KX^r$'lrs#1`sw$'lwx$*|x#O$'l#O#P$-Y#P#o$'l#o#p$-n#p~$'l5c$+XZQ1s&WW&ap&f#tOY$*|YZMmZ]$*|]^Mm^r$*|rs#6ds#O$*|#O#P$+z#P#o$*|#o#p$,`#p~$*|5c$,PTQ1sOY$*|YZMmZ]$*|]^Mm^~$*|5c$,gZQ1s&WWOY#9bYZ8tZ]#9b]^8t^r#9brs#:Us#O#9b#O#P#;h#P#o#9b#o#p$*|#p~#9b6y$-_TQ1sOY$'lYZKXZ]$'l]^KX^~$'l6y$-w]Q1s&TS&WWOY#=dYZ:{Z]#=d]^:{^r#=drs#>`sw#=dwx#@Sx#O#=d#O#P#Av#P#o#=d#o#p$'l#p~#=dMV$.}_Q1s&^7[&WW&ap&f#tOY$%hYZIqZ]$%h]^Iq^r$%hrs# rsw$%hwx$/|x#O$%h#O#P$&x#P#o$%h#o#p$-n#p#q$%h#q#r$'l#r~$%hKo$0Z]Q1s&^7[&WW&ap&f#tOY$/|YZ!!uZ]$/|]^!!u^r$/|rs#Djs#O$/|#O#P$1S#P#o$/|#o#p$,`#p#q$/|#q#r$*|#r~$/|Ko$1ZXQ1s&^7[OY$/|YZ!!uZ]$/|]^!!u^#o$/|#o#p$*|#p#q$/|#q#r$*|#r~$/|Mg$1}XQ1s&^7[OY!IYYZ$}Z]!IY]^$}^#o!IY#o#p$2j#p#q!IY#q#r$2j#r~!IY7Z$2{]Q1s&TS&WW&Z`&ap&d!b&f#tOY$2jYZ!$gZ]$2j]^!$g^r$2jrs#IYsw$2jwx$(tx#O$2j#O#P$3t#P#o$2j#o#p$4Y#p~$2j7Z$3yTQ1sOY$2jYZ!$gZ]$2j]^!$g^~$2j7Z$4c]Q1s&TS&WWOY#=dYZ:{Z]#=d]^:{^r#=drs#>`sw#=dwx#@Sx#O#=d#O#P#Av#P#o#=d#o#p$2j#p~#=dGz$5o]%jQ&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!_$}!_!`$6h!`#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gz$6{Z!s,W&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gz$8R]%dQ&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!_$}!_!`$6h!`#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}G{$9Z_&_`&^7[&WW&R,X&ap&f#tOY$:YYZIqZ]$:Y]^Iq^r$:Yrs$;jsw$:Ywx%%zx#O$:Y#O#P%!^#P#o$:Y#o#p%$x#p#q$:Y#q#r%!r#r~$:YGk$:k_&^7[&TS&WW&R,X&ap&d!b&f#tOY$:YYZIqZ]$:Y]^Iq^r$:Yrs$;jsw$:Ywx% ^x#O$:Y#O#P%!^#P#o$:Y#o#p%$x#p#q$:Y#q#r%!r#r~$:YFy$;u_&^7[&TS&R,X&d!bOY$<tYZ(}Z]$<t]^(}^r$<trs$Kvsw$<twx$>Sx#O$<t#O#P$?Q#P#o$<t#o#p$Gb#p#q$<t#q#r$?f#r~$<tFy$=T_&^7[&TS&WW&R,X&d!b&f#tOY$<tYZ(}Z]$<t]^(}^r$<trs$;jsw$<twx$>Sx#O$<t#O#P$?Q#P#o$<t#o#p$Gb#p#q$<t#q#r$?f#r~$<tFy$>_Z&^7[&WW&R,X&f#tOr(}rs)}sw(}wx={x#O(}#O#P2]#P#o(}#o#p:X#p#q(}#q#r2q#r~(}Fy$?VT&^7[O#o$<t#o#p$?f#p#q$<t#q#r$?f#r~$<t0m$?s]&TS&WW&R,X&d!b&f#tOY$?fYZ2qZ]$?f]^2q^r$?frs$@lsw$?fwx$Ffx#O$?f#O#P$G[#P#o$?f#o#p$Gb#p~$?f0m$@u]&TS&R,X&d!bOY$?fYZ2qZ]$?f]^2q^r$?frs$Answ$?fwx$Ffx#O$?f#O#P$G[#P#o$?f#o#p$Gb#p~$?f0m$Aw]&TS&R,X&d!bOY$?fYZ2qZ]$?f]^2q^r$?frs$Bpsw$?fwx$Ffx#O$?f#O#P$G[#P#o$?f#o#p$Gb#p~$?f-o$ByZ&TS&R,X&d!bOY$BpYZ.qZ]$Bp]^.q^w$Bpwx$Clx#O$Bp#O#P$DW#P#o$Bp#o#p$D^#p~$Bp-o$CqV&R,XOw.qwx/wx#O.q#O#P0^#P#o.q#o#p0d#p~.q-o$DZPO~$Bp-o$DeZ&TS&R,XOY$EWYZ1OZ]$EW]^1O^w$EWwx$Ezx#O$EW#O#P$F`#P#o$EW#o#p$Bp#p~$EW,]$E_X&TS&R,XOY$EWYZ1OZ]$EW]^1O^w$EWwx$Ezx#O$EW#O#P$F`#P~$EW,]$FPT&R,XOw1Owx1vx#O1O#O#P2V#P~1O,]$FcPO~$EW0m$FoX&WW&R,X&f#tOr2qrs3isw2qwx5sx#O2q#O#P:R#P#o2q#o#p:X#p~2q0m$G_PO~$?f0m$Gk]&TS&WW&R,XOY$HdYZ:{Z]$Hd]^:{^r$Hdrs$I`sw$Hdwx$KSx#O$Hd#O#P$Kp#P#o$Hd#o#p$?f#p~$Hd,e$HmZ&TS&WW&R,XOY$HdYZ:{Z]$Hd]^:{^r$Hdrs$I`sw$Hdwx$KSx#O$Hd#O#P$Kp#P~$Hd,e$IgZ&TS&R,XOY$HdYZ:{Z]$Hd]^:{^r$Hdrs$JYsw$Hdwx$KSx#O$Hd#O#P$Kp#P~$Hd,e$JaZ&TS&R,XOY$HdYZ:{Z]$Hd]^:{^r$Hdrs$EWsw$Hdwx$KSx#O$Hd#O#P$Kp#P~$Hd,e$KZV&WW&R,XOr:{rs;isw:{wx=Zx#O:{#O#P=u#P~:{,e$KsPO~$HdFy$LR_&^7[&TS&R,X&d!bOY$<tYZ(}Z]$<t]^(}^r$<trs$MQsw$<twx$>Sx#O$<t#O#P$?Q#P#o$<t#o#p$Gb#p#q$<t#q#r$?f#r~$<tC{$M]]&^7[&TS&R,X&d!bOY$MQYZ+uZ]$MQ]^+u^w$MQwx$NUx#O$MQ#O#P$Nx#P#o$MQ#o#p$D^#p#q$MQ#q#r$Bp#r~$MQC{$N]X&^7[&R,XOw+uwx-]x#O+u#O#P.]#P#o+u#o#p0d#p#q+u#q#r.q#r~+uC{$N}T&^7[O#o$MQ#o#p$Bp#p#q$MQ#q#r$Bp#r~$MQGk% kZ&^7[&WW&R,X&ap&f#tOrIqrs)}swIqwx! wx#OIq#O#PJs#P#oIq#o#p! T#p#qIq#q#rKX#r~IqGk%!cT&^7[O#o$:Y#o#p%!r#p#q$:Y#q#r%!r#r~$:Y1_%#R]&TS&WW&R,X&ap&d!b&f#tOY%!rYZKXZ]%!r]^KX^r%!rrs$@lsw%!rwx%#zx#O%!r#O#P%$r#P#o%!r#o#p%$x#p~%!r1_%$VX&WW&R,X&ap&f#tOrKXrs3iswKXwxLwx#OKX#O#PN}#P#oKX#o#p! T#p~KX1_%$uPO~%!r1_%%R]&TS&WW&R,XOY$HdYZ:{Z]$Hd]^:{^r$Hdrs$I`sw$Hdwx$KSx#O$Hd#O#P$Kp#P#o$Hd#o#p%!r#p~$HdGk%&XZ&^7[&WW&R,X&ap&f#tOrIqrs)}swIqwx%&zx#OIq#O#PJs#P#oIq#o#p! T#p#qIq#q#rKX#r~IqGk%'ZX&U!f&^7[&WW&S,X&ap&f#tOr!!urs?ms#O!!u#O#P!#m#P#o!!u#o#pNc#p#q!!u#q#rMm#r~!!uG{%(ZZf,X&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}<u%)aZeR&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}G{%*g_T,X&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsxz$}z{%+f{!_$}!_!`$6h!`#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}G{%+y]_R&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!_$}!_!`$6h!`#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}G{%-V]%g,X&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!_$}!_!`$6h!`#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}<u%.cZxR&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Mg%/i^%h,X&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!_$}!_!`$6h!`!a%0e!a#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}B^%0xZ&q&j&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}G{%2O_!dQ&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!O$}!O!P%2}!P!Q$}!Q![%5_![#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}G{%3`]&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!O$}!O!P%4X!P#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}G{%4lZ!m,X&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gy%5rg!f,V&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!Q$}!Q![%5_![!g$}!g!h%7Z!h!l$}!l!m%;k!m#O$}#O#P!$R#P#R$}#R#S%5_#S#X$}#X#Y%7Z#Y#^$}#^#_%;k#_#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gy%7la&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx{$}{|%8q|}$}}!O%8q!O!Q$}!Q![%9{![#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gy%9S]&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!Q$}!Q![%9{![#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gy%:`c!f,V&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!Q$}!Q![%9{![!l$}!l!m%;k!m#O$}#O#P!$R#P#R$}#R#S%9{#S#^$}#^#_%;k#_#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gy%<OZ!f,V&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}G{%=U_%iR&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!P$}!P!Q%>T!Q!_$}!_!`$6h!`#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gz%>h]%kQ&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!_$}!_!`$6h!`#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gy%?tu!f,V&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!O$}!O!P%BX!P!Q$}!Q![%Cc![!d$}!d!e%Ee!e!g$}!g!h%7Z!h!l$}!l!m%;k!m!q$}!q!r%H_!r!z$}!z!{%KR!{#O$}#O#P!$R#P#R$}#R#S%Cc#S#U$}#U#V%Ee#V#X$}#X#Y%7Z#Y#^$}#^#_%;k#_#c$}#c#d%H_#d#l$}#l#m%KR#m#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gy%Bj]&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!Q$}!Q![%5_![#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gy%Cvi!f,V&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!O$}!O!P%BX!P!Q$}!Q![%Cc![!g$}!g!h%7Z!h!l$}!l!m%;k!m#O$}#O#P!$R#P#R$}#R#S%Cc#S#X$}#X#Y%7Z#Y#^$}#^#_%;k#_#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gy%Ev`&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!Q$}!Q!R%Fx!R!S%Fx!S#O$}#O#P!$R#P#R$}#R#S%Fx#S#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gy%G]`!f,V&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!Q$}!Q!R%Fx!R!S%Fx!S#O$}#O#P!$R#P#R$}#R#S%Fx#S#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gy%Hp_&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!Q$}!Q!Y%Io!Y#O$}#O#P!$R#P#R$}#R#S%Io#S#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gy%JS_!f,V&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!Q$}!Q!Y%Io!Y#O$}#O#P!$R#P#R$}#R#S%Io#S#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gy%Kdc&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!Q$}!Q![%Lo![!c$}!c!i%Lo!i#O$}#O#P!$R#P#R$}#R#S%Lo#S#T$}#T#Z%Lo#Z#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gy%MSc!f,V&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!Q$}!Q![%Lo![!c$}!c!i%Lo!i#O$}#O#P!$R#P#R$}#R#S%Lo#S#T$}#T#Z%Lo#Z#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Mg%Nr]y1s&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!_$}!_!`& k!`#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}<u&!OZ%sR&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}G{&#UZ#^,X&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}G{&$[_kR&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!^$}!^!_&%Z!_!`!*Q!`!a!*Q!a#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gz&%n]%eQ&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!_$}!_!`$6h!`#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}G{&&z]%r,X&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!_$}!_!`!*Q!`#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}G{&(W^kR&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!_$}!_!`!*Q!`!a&)S!a#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gz&)g]%fQ&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!_$}!_!`$6h!`#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}G{&*u]]Q#tP&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!_$}!_!`$6h!`#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Mg&,Tc&^7[&TS&WW&Q&j&Z`&ap&d!b&f#t%m,XOr$}rs&Rsw$}wxHsx!Q$}!Q![&+n![!c$}!c!}&+n!}#O$}#O#P!$R#P#R$}#R#S&+n#S#T$}#T#o&+n#o#p!%i#p#q$}#q#r!$g#r$g$}$g~&+nMg&-ug&^7[&TS&WW&Q&j&Z`&ap&d!b&f#t%m,XOr$}rs&/^sw$}wx&2dx!Q$}!Q![&+n![!c$}!c!t&+n!t!u&5j!u!}&+n!}#O$}#O#P!$R#P#R$}#R#S&+n#S#T$}#T#f&+n#f#g&5j#g#o&+n#o#p!%i#p#q$}#q#r!$g#r$g$}$g~&+nGZ&/k_&^7[&TS&R,X&Z`&d!bOY!-lYZ'PZ]!-l]^'P^r!-lrs&0jsw!-lwx!/|x#O!-l#O#P!Cp#P#o!-l#o#p!F[#p#q!-l#q#r!DU#r~!-lGZ&0wZ&^7[&TS&R,X&Z`&d!bOr'Prs&1jsw'Pwx(Rx#O'P#O#PAe#P#o'P#o#pEu#p#q'P#q#rAy#r~'PD]&1wX&^7[&TS&V,X&Z`&d!bOwGgwx,kx#OGg#O#PH_#P#oGg#o#pET#p#qGg#q#rD_#r~GgGk&2q_&^7[&WW&R,X&ap&f#tOY$:YYZIqZ]$:Y]^Iq^r$:Yrs$;jsw$:Ywx&3px#O$:Y#O#P%!^#P#o$:Y#o#p%$x#p#q$:Y#q#r%!r#r~$:YGk&3}Z&^7[&WW&R,X&ap&f#tOrIqrs)}swIqwx&4px#OIq#O#PJs#P#oIq#o#p! T#p#qIq#q#rKX#r~IqFT&4}X&^7[&WW&S,X&ap&f#tOr!!urs?ms#O!!u#O#P!#m#P#o!!u#o#pNc#p#q!!u#q#rMm#r~!!uMg&6Pc&^7[&TS&WW&Q&j&Z`&ap&d!b&f#t%m,XOr$}rs&/^sw$}wx&2dx!Q$}!Q![&+n![!c$}!c!}&+n!}#O$}#O#P!$R#P#R$}#R#S&+n#S#T$}#T#o&+n#o#p!%i#p#q$}#q#r!$g#r$g$}$g~&+nMg&7qg&^7[&TS&WW&Q&j&Z`&ap&d!b&f#t%m,XOr$}rs&9Ysw$}wx&<Qx!Q$}!Q![&+n![!c$}!c!t&+n!t!u&>x!u!}&+n!}#O$}#O#P!$R#P#R$}#R#S&+n#S#T$}#T#f&+n#f#g&>x#g#o&+n#o#p!%i#p#q$}#q#r!$g#r$g$}$g~&+nGZ&9gZ&^7[&TS&Z`&d!b&`,XOr'Prs&:Ysw'Pwx(Rx#O'P#O#PAe#P#o'P#o#pEu#p#q'P#q#rAy#r~'PGZ&:eZ&^7[&TS&Z`&d!bOr'Prs&;Wsw'Pwx(Rx#O'P#O#PAe#P#o'P#o#pEu#p#q'P#q#rAy#r~'PD]&;eX&^7[&TS&e,X&Z`&d!bOwGgwx,kx#OGg#O#PH_#P#oGg#o#pET#p#qGg#q#rD_#r~GgGk&<_Z&^7[&WW&ap&f#t&Y,XOrIqrs)}swIqwx&=Qx#OIq#O#PJs#P#oIq#o#p! T#p#qIq#q#rKX#r~IqGk&=]Z&^7[&WW&ap&f#tOrIqrs)}swIqwx&>Ox#OIq#O#PJs#P#oIq#o#p! T#p#qIq#q#rKX#r~IqFT&>]X&^7[&WW&c,X&ap&f#tOr!!urs?ms#O!!u#O#P!#m#P#o!!u#o#pNc#p#q!!u#q#rMm#r~!!uMg&?_c&^7[&TS&WW&Q&j&Z`&ap&d!b&f#t%m,XOr$}rs&9Ysw$}wx&<Qx!Q$}!Q![&+n![!c$}!c!}&+n!}#O$}#O#P!$R#P#R$}#R#S&+n#S#T$}#T#o&+n#o#p!%i#p#q$}#q#r!$g#r$g$}$g~&+nMg&APk&^7[&TS&WW&Q&j&Z`&ap&d!b&f#t%m,XOr$}rs&/^sw$}wx&2dx!Q$}!Q![&+n![!c$}!c!h&+n!h!i&>x!i!t&+n!t!u&5j!u!}&+n!}#O$}#O#P!$R#P#R$}#R#S&+n#S#T$}#T#U&+n#U#V&5j#V#Y&+n#Y#Z&>x#Z#o&+n#o#p!%i#p#q$}#q#r!$g#r$g$}$g~&+nG{&CXZ!V,X&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}<u&D_Z!UR&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gz&Ee]%cQ&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!_$}!_!`$6h!`#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}Gy&FgX&TS&WW!ZGmOr:{rs;isw:{wx<ox#O:{#O#P=u#P#o:{#o#p!$g#p~:{G{&Gg]%bR&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx!_$}!_!`$6h!`#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}<u&HqX!Y7_&TS&WW&Z`&ap&d!b&f#tOr!$grsBssw!$gwxLRx#O!$g#O#P!%c#P#o!$g#o#p!%i#p~!$gGy&IqZ%l,V&^7[&TS&WW&Z`&ap&d!b&f#tOr$}rs&Rsw$}wxHsx#O$}#O#P!$R#P#o$}#o#p!%i#p#q$}#q#r!$g#r~$}",tokenizers:[ev,Qm,0,1,2,3,4,5,6,7,8,9,10,zm],topRules:{Script:[0,3]},specialized:[{term:213,get:function(e){return nv[e]||-1}}],tokenPrec:7282}),iv=new xu,ov=new Set(["Script","Body","FunctionDefinition","ClassDefinition","LambdaExpression","ForStatement","MatchClause"]);function sv(e){return function(t,n,r){if(r)return!1;var i=t.node.getChild("VariableName");return i&&n(i,e),!0}}var av={FunctionDefinition:sv("function"),ClassDefinition:sv("class"),ForStatement:function(e,t,n){if(n)for(var r=e.node.firstChild;r;r=r.nextSibling)if("VariableName"==r.name)t(r,"variable");else if("in"==r.name)break},ImportStatement:function(e,t){for(var n,r,i=e.node,o="from"==(null===(n=i.firstChild)||void 0===n?void 0:n.name),s=i.getChild("import");s;s=s.nextSibling)"VariableName"==s.name&&"as"!=(null===(r=s.nextSibling)||void 0===r?void 0:r.name)&&t(s,o?"variable":"namespace")},AssignStatement:function(e,t){for(var n=e.node.firstChild;n;n=n.nextSibling)if("VariableName"==n.name)t(n,"variable");else if(":"==n.name||"AssignOp"==n.name)break},ParamList:function(e,t){for(var n=null,r=e.node.firstChild;r;r=r.nextSibling)"VariableName"!=r.name||n&&/\*|AssignOp/.test(n.name)||t(r,"variable"),n=r},CapturePattern:sv("variable"),AsPattern:sv("variable"),__proto__:null};function lv(e,t){var n=iv.get(t);if(n)return n;console.log("get scope for",t.name);var r=[],i=!0;function o(t,n){var i=e.sliceString(t.from,t.to);r.push({label:i,type:n})}return t.cursor(hu.IncludeAnonymous).iterate((function(t){if(t.name){var n=av[t.name];if(n&&n(t,o,i)||!i&&ov.has(t.name))return console.log("bail for",t.name),!1;i=!1}else if(t.to-t.from>8192){var s,a=(0,_n.Z)(lv(e,t.node));try{for(a.s();!(s=a.n()).done;){var l=s.value;r.push(l)}}catch(c){a.e(c)}finally{a.f()}return!1}})),iv.set(t,r),r}var cv=/^[\w\xa1-\uffff][\w\d\xa1-\uffff]*$/,uv=["String","FormatString","Comment","PropertyName"];function hv(e){var t=dh(e.state).resolveInner(e.pos,-1);if(uv.indexOf(t.name)>-1)return null;var n="VariableName"==t.name||t.to-t.from<20&&cv.test(e.state.sliceDoc(t.from,t.to));if(!n&&!e.explicit)return null;for(var r=[],i=t;i;i=i.parent)ov.has(i.name)&&(r=r.concat(lv(e.state.doc,i)));return{options:r,from:n?t.from:e.pos,validFor:cv}}var pv=["__annotations__","__builtins__","__debug__","__doc__","__import__","__name__","__loader__","__package__","__spec__","False","None","True"].map((function(e){return{label:e,type:"constant"}})).concat(["ArithmeticError","AssertionError","AttributeError","BaseException","BlockingIOError","BrokenPipeError","BufferError","BytesWarning","ChildProcessError","ConnectionAbortedError","ConnectionError","ConnectionRefusedError","ConnectionResetError","DeprecationWarning","EOFError","Ellipsis","EncodingWarning","EnvironmentError","Exception","FileExistsError","FileNotFoundError","FloatingPointError","FutureWarning","GeneratorExit","IOError","ImportError","ImportWarning","IndentationError","IndexError","InterruptedError","IsADirectoryError","KeyError","KeyboardInterrupt","LookupError","MemoryError","ModuleNotFoundError","NameError","NotADirectoryError","NotImplemented","NotImplementedError","OSError","OverflowError","PendingDeprecationWarning","PermissionError","ProcessLookupError","RecursionError","ReferenceError","ResourceWarning","RuntimeError","RuntimeWarning","StopAsyncIteration","StopIteration","SyntaxError","SyntaxWarning","SystemError","SystemExit","TabError","TimeoutError","TypeError","UnboundLocalError","UnicodeDecodeError","UnicodeEncodeError","UnicodeError","UnicodeTranslateError","UnicodeWarning","UserWarning","ValueError","Warning","ZeroDivisionError"].map((function(e){return{label:e,type:"type"}}))).concat(["bool","bytearray","bytes","classmethod","complex","float","frozenset","int","list","map","memoryview","object","range","set","staticmethod","str","super","tuple","type"].map((function(e){return{label:e,type:"class"}}))).concat(["abs","aiter","all","anext","any","ascii","bin","breakpoint","callable","chr","compile","delattr","dict","dir","divmod","enumerate","eval","exec","exit","filter","format","getattr","globals","hasattr","hash","help","hex","id","input","isinstance","issubclass","iter","len","license","locals","max","min","next","oct","open","ord","pow","print","property","quit","repr","reversed","round","setattr","slice","sorted","sum","vars","zip"].map((function(e){return{label:e,type:"function"}}))),dv=[lg("def ${name}(${params}):\n\t${}",{label:"def",detail:"function",type:"keyword"}),lg("for ${name} in ${collection}:\n\t${}",{label:"for",detail:"loop",type:"keyword"}),lg("while ${}:\n\t${}",{label:"while",detail:"loop",type:"keyword"}),lg("try:\n\t${}\nexcept ${error}:\n\t${}",{label:"try",detail:"/ except block",type:"keyword"}),lg("if ${}:\n\t\n",{label:"if",detail:"block",type:"keyword"}),lg("if ${}:\n\t${}\nelse:\n\t${}",{label:"if",detail:"/ else block",type:"keyword"}),lg("class ${name}:\n\tdef __init__(self, ${params}):\n\t\t\t${}",{label:"class",detail:"definition",type:"keyword"}),lg("import ${module}",{label:"import",detail:"statement",type:"keyword"}),lg("from ${module} import ${names}",{label:"from",detail:"import",type:"keyword"})],fv=m_(uv,g_(pv.concat(dv)));function _v(e,t){var n=e.lineIndent(t.from),r=e.lineAt(e.pos,-1),i=r.from+r.text.length;return!/\S/.test(r.text)&&e.node.to<i+100&&!/\S/.test(e.state.sliceDoc(i,e.node.to))&&e.lineIndent(e.pos,-1)<=n||/^\s*(else:|elif |except |finally:)/.test(e.textAfter)&&e.lineIndent(e.pos,-1)>n?null:n+e.unit}var gv=ph.define({name:"python",parser:rv.configure({props:[Ah.add({Body:function(e){var t;return null!==(t=_v(e,e.node))&&void 0!==t?t:e.continue()},IfStatement:function(e){return/^\s*(else:|elif )/.test(e.textAfter)?e.baseIndent:e.continue()},TryStatement:function(e){return/^\s*(except |finally:|else:)/.test(e.textAfter)?e.baseIndent:e.continue()},"TupleExpression ComprehensionExpression ParamList ArgList ParenthesizedExpression":Ph({closing:")"}),"DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression":Ph({closing:"}"}),"ArrayExpression ArrayComprehensionExpression":Ph({closing:"]"}),"String FormatString":function(){return null},Script:function(e){if(e.pos+/\s*/.exec(e.textAfter)[0].length>=e.node.to){for(var t=null,n=e.node,r=n.to;(n=n.lastChild)&&n.to==r;)"Body"==n.type.name&&(t=n);if(t){var i=_v(e,t);if(null!=i)return i}}return e.continue()}}),Fh.add({"ArrayExpression DictionaryExpression SetExpression TupleExpression":function(e){var t=e.firstChild,n=e.lastChild;return t&&t.to<n.from?{from:t.to,to:n.type.isError?e.to:n.from}:null},Body:function(e,t){return{from:e.from+1,to:e.to-(e.to==t.doc.length?0:1)}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"'''",'"""'],stringPrefixes:["f","fr","rf","r","u","b","br","rb","F","FR","RF","R","U","B","BR","RB"]},commentTokens:{line:"#"},indentOnInput:/^\s*([\}\]\)]|else:|elif |except |finally:)$/}});var mv=function(e){var t=e.isOpen,n=g((function(e){return e.pyCode})),r=n.code,i=g((function(e){return e.colorTheme})),o=i.isDark;return(0,A.jsxs)("div",{className:"content-panel content-3 ".concat(t?"active":""),children:[(0,A.jsx)("h1",{style:{textAlign:"center"},children:"Python"}),(0,A.jsx)("pre",{id:"content_python",className:"content"}),(0,A.jsx)("div",{className:"code-mirror-content",children:(0,A.jsx)(bm,{readOnly:!0,value:r,extensions:[new Oh(gv,[gv.data.of({autocomplete:hv}),gv.data.of({autocomplete:fv})])],theme:o?"dark":"light"})})]})},vv=function(e){var t=e.isOpen,n=e.droneType;return(0,A.jsx)("div",{className:"content-panel content-5 ".concat(t?"active":""),children:"cde"===n&&(0,A.jsx)("iframe",{title:"CDE Blockly Docs",id:"iframeDocs",src:"https://docs.robolink.com/docs/codrone-edu/blockly/reference/library-junior/",frameBorder:"0"})})};var yv,Tv=(0,S.g)(),Ev=function(e){e.isOpen;return(0,A.jsxs)("div",{className:"content-panel content-2",children:[(0,A.jsx)("h1",{style:{textAlign:"center"},children:"JavaScript"}),(0,A.jsx)("pre",{id:"content_javascript",className:"content"})]})},bv=function(t){var n=t.isOpen,r=t.setIsOpen,i=t.panelWidth,s=t.setPanelWidth,a=(0,e.useContext)(x).msg,l=o((0,e.useState)(""),2),c=l[0],u=l[1],h=o((0,e.useState)(!1),2),p=h[0],d=h[1],f=(0,e.useRef)(null),_=function(e){u(""),r(!1)},g=function(e){"sensors"===e&&document.querySelector("#rightPanel-1").clientWidth<670&&s("670px"),n?e===c?_():u(e):(u(e),r(!0))},m=function(e){d(!1)};return(0,A.jsxs)("div",{id:"rightPanel-1",className:n?"active":"",style:{width:n?i:""},ref:f,children:[(0,A.jsx)("div",{className:"resizer-left ".concat(p?"wide":""),onMouseDown:function(e){d(!0),yv=setTimeout((function(){m()}),200)},onMouseMove:p?function(e){var t=window.innerWidth-e.clientX;try{document.querySelector(".content-4").classList.contains("active")&&t<670&&(t=670)}catch(e){console.log(e)}s("".concat(t,"px")),clearTimeout(yv),yv=setTimeout((function(){m()}),200)}:null,onMouseUp:p?m:null}),(0,A.jsx)("span",{tabIndex:"-1",className:"close-right-panel",onClick:_,children:(0,A.jsx)("img",{src:zt,alt:"x"})}),(0,A.jsxs)("button",{className:"show-right-panel basecamp ".concat("basecamp"===c?"active":""),"data-panel-id":"1","data-tab":"basecamp",onClick:function(){return g("basecamp")},children:[(0,A.jsx)("img",{className:"cap",src:window.location.pathname+"/images/icons/lesson.svg",alt:"Lessons"}),a.PANEL_LESSONS]}),(0,A.jsxs)("button",{className:"show-right-panel python ".concat("python"===c?"active":""),"data-panel-id":"3","data-tab":"python",onClick:function(){return g("python")},children:[(0,A.jsx)("img",{src:window.location.pathname+"/images/icons/python.svg",alt:"Python"}),a.PANEL_PYTHON]}),"cde"===Tv&&(0,A.jsxs)("button",{className:"show-right-panel sensors ".concat("sensors"===c?"active":""),"data-panel-id":"4",onClick:function(){return g("sensors")},children:[(0,A.jsx)("img",{className:"sensor",src:window.location.pathname+"/images/icons/sensors.svg",alt:"Sensors"}),a.PANEL_SENSORS]}),"cde"===Tv&&(0,A.jsxs)("button",{className:"show-right-panel basecamp ".concat("docs"===c?"active":""),"data-panel-id":"5","data-tab":"docs",onClick:function(){return g("docs")},children:[(0,A.jsx)("img",{className:"cap",src:window.location.pathname+"/images/icons/docs.svg",alt:"Docs"}),a.PANEL_DOCS]}),(0,A.jsx)(Jt,{isOpen:"basecamp"===c,droneType:Tv}),(0,A.jsx)(Ev,{isOpen:"javascript"===c}),(0,A.jsx)(mv,{isOpen:"python"===c}),"cde"===Tv&&(0,A.jsx)(dn,{isOpen:"sensors"===c}),(0,A.jsx)(vv,{isOpen:"docs"===c,droneType:Tv})]})},Ov=__webpack_require__(3366),kv=__webpack_require__(7462),wv=__webpack_require__(6123),Sv=__webpack_require__.n(wv),Iv=!("undefined"===typeof window||!window.document||!window.document.createElement),Rv=!1,Cv=!1;try{var Av={get passive(){return Rv=!0},get once(){return Cv=Rv=!0}};Iv&&(window.addEventListener("test",Av,Av),window.removeEventListener("test",Av,!0))}catch(Bw){}var xv=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!Cv){var i=r.once,o=r.capture,s=n;!Cv&&i&&(s=n.__once||function e(r){this.removeEventListener(t,e,o),n.call(this,r)},n.__once=s),e.addEventListener(t,s,Rv?r:o)}e.addEventListener(t,n,r)};function Mv(e){return e&&e.ownerDocument||document}var Nv,Lv=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};function Dv(e){if((!Nv&&0!==Nv||e)&&Iv){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Nv=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Nv}var Pv=function(t){var n=(0,e.useRef)(t);return(0,e.useEffect)((function(){n.current=t}),[t]),n};function Bv(t){var n=Pv(t);return(0,e.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}function Uv(t){var n=function(t){var n=(0,e.useRef)(t);return n.current=t,n}(t);(0,e.useEffect)((function(){return function(){return n.current()}}),[])}function Fv(e,t){return function(e){var t=Mv(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Wv=/([A-Z])/g;var Hv=/^ms-/;function Gv(e){return function(e){return e.replace(Wv,"-$1").toLowerCase()}(e).replace(Hv,"-ms-")}var Vv=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var jv=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(Gv(t))||Fv(e).getPropertyValue(Gv(t));Object.keys(t).forEach((function(i){var o=t[i];o||0===o?!function(e){return!(!e||!Vv.test(e))}(i)?n+=Gv(i)+": "+o+";":r+=i+"("+o+") ":e.style.removeProperty(Gv(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};var Zv=function(e,t,n,r){return xv(e,t,n,r),function(){Lv(e,t,n,r)}};function qv(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),o=Zv(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),o()}}function Xv(e,t,n,r){null==n&&(n=function(e){var t=jv(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=qv(e,n,r),o=Zv(e,"transitionend",t);return function(){i(),o()}}function $v(e){void 0===e&&(e=Mv());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(Bw){return e.body}}function Yv(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}var zv=__webpack_require__(5192),Qv=__webpack_require__.n(zv);function Kv(e,t){e.classList?e.classList.add(t):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function Jv(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function ey(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=Jv(e.className,t):e.setAttribute("class",Jv(e.className&&e.className.baseVal||"",t))}function ty(e){return"window"in e&&e.window===e?e:"nodeType"in(t=e)&&t.nodeType===document.DOCUMENT_NODE&&e.defaultView||!1;var t}function ny(e){var t;return ty(e)||(t=e)&&"body"===t.tagName.toLowerCase()?function(e){var t=ty(e)?Mv():Mv(e),n=ty(e)||t.defaultView;return t.body.clientWidth<n.innerWidth}(e):e.scrollHeight>e.clientHeight}var ry=["template","script","style"],iy=function(e,t,n){[].forEach.call(e.children,(function(e){-1===t.indexOf(e)&&function(e){var t=e.nodeType,n=e.tagName;return 1===t&&-1===ry.indexOf(n.toLowerCase())}(e)&&n(e)}))};function oy(e,t){t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))}var sy,ay=function(){function e(e){var t=void 0===e?{}:e,n=t.hideSiblingNodes,r=void 0===n||n,i=t.handleContainerOverflow,o=void 0===i||i;this.hideSiblingNodes=void 0,this.handleContainerOverflow=void 0,this.modals=void 0,this.containers=void 0,this.data=void 0,this.scrollbarSize=void 0,this.hideSiblingNodes=r,this.handleContainerOverflow=o,this.modals=[],this.containers=[],this.data=[],this.scrollbarSize=Dv()}var t=e.prototype;return t.isContainerOverflowing=function(e){var t=this.data[this.containerIndexFromModal(e)];return t&&t.overflowing},t.containerIndexFromModal=function(e){return function(e,t){var n=-1;return e.some((function(e,r){return!!t(e,r)&&(n=r,!0)})),n}(this.data,(function(t){return-1!==t.modals.indexOf(e)}))},t.setContainerStyle=function(e,t){var n={overflow:"hidden"};e.style={overflow:t.style.overflow,paddingRight:t.style.paddingRight},e.overflowing&&(n.paddingRight=parseInt(jv(t,"paddingRight")||"0",10)+this.scrollbarSize+"px"),jv(t,n)},t.removeContainerStyle=function(e,t){Object.assign(t.style,e.style)},t.add=function(e,t,n){var r=this.modals.indexOf(e),i=this.containers.indexOf(t);if(-1!==r)return r;if(r=this.modals.length,this.modals.push(e),this.hideSiblingNodes&&function(e,t){var n=t.dialog,r=t.backdrop;iy(e,[n,r],(function(e){return oy(!0,e)}))}(t,e),-1!==i)return this.data[i].modals.push(e),r;var o={modals:[e],classes:n?n.split(/\s+/):[],overflowing:ny(t)};return this.handleContainerOverflow&&this.setContainerStyle(o,t),o.classes.forEach(Kv.bind(null,t)),this.containers.push(t),this.data.push(o),r},t.remove=function(e){var t=this.modals.indexOf(e);if(-1!==t){var n=this.containerIndexFromModal(e),r=this.data[n],i=this.containers[n];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(t,1),0===r.modals.length)r.classes.forEach(ey.bind(null,i)),this.handleContainerOverflow&&this.removeContainerStyle(r,i),this.hideSiblingNodes&&function(e,t){var n=t.dialog,r=t.backdrop;iy(e,[n,r],(function(e){return oy(!1,e)}))}(i,e),this.containers.splice(n,1),this.data.splice(n,1);else if(this.hideSiblingNodes){var o=r.modals[r.modals.length-1],s=o.backdrop;oy(!1,o.dialog),oy(!1,s)}}},t.isTopModal=function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e},e}(),ly=ay,cy=function(e){var t;return"undefined"===typeof document?null:null==e?Mv().body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(t=e)&&t.nodeType&&e||null)};function uy(t){var n=t||(sy||(sy=new ly),sy),r=(0,e.useRef)({dialog:null,backdrop:null});return Object.assign(r.current,{add:function(e,t){return n.add(r.current,e,t)},remove:function(){return n.remove(r.current)},isTopModal:function(){return n.isTopModal(r.current)},setDialogRef:(0,e.useCallback)((function(e){r.current.dialog=e}),[]),setBackdropRef:(0,e.useCallback)((function(e){r.current.backdrop=e}),[])})}var hy=(0,e.forwardRef)((function(n,r){var i=n.show,o=void 0!==i&&i,s=n.role,a=void 0===s?"dialog":s,l=n.className,c=n.style,u=n.children,h=n.backdrop,p=void 0===h||h,d=n.keyboard,f=void 0===d||d,_=n.onBackdropClick,g=n.onEscapeKeyDown,m=n.transition,v=n.backdropTransition,y=n.autoFocus,T=void 0===y||y,E=n.enforceFocus,b=void 0===E||E,O=n.restoreFocus,k=void 0===O||O,w=n.restoreFocusOptions,S=n.renderDialog,I=n.renderBackdrop,R=void 0===I?function(t){return e.createElement("div",t)}:I,C=n.manager,A=n.container,x=n.containerClassName,M=n.onShow,N=n.onHide,L=void 0===N?function(){}:N,D=n.onExit,P=n.onExited,B=n.onExiting,U=n.onEnter,F=n.onEntering,W=n.onEntered,H=(0,Ov.Z)(n,["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","containerClassName","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"]),G=function(t,n){var r=(0,e.useState)((function(){return cy(t)})),i=r[0],o=r[1];if(!i){var s=cy(t);s&&o(s)}return(0,e.useEffect)((function(){n&&i&&n(i)}),[n,i]),(0,e.useEffect)((function(){var e=cy(t);e!==i&&o(e)}),[t,i]),i}(A),V=uy(C),j=function(){var t=(0,e.useRef)(!0),n=(0,e.useRef)((function(){return t.current}));return(0,e.useEffect)((function(){return function(){t.current=!1}}),[]),n.current}(),Z=function(t){var n=(0,e.useRef)(null);return(0,e.useEffect)((function(){n.current=t})),n.current}(o),q=(0,e.useState)(!o),X=q[0],$=q[1],Y=(0,e.useRef)(null);(0,e.useImperativeHandle)(r,(function(){return V}),[V]),Iv&&!Z&&o&&(Y.current=$v()),m||o||X?o&&X&&$(!1):$(!0);var z=Bv((function(){if(V.add(G,x),ne.current=Zv(document,"keydown",ee),te.current=Zv(document,"focus",(function(){return setTimeout(K)}),!0),M&&M(),T){var e=$v(document);V.dialog&&e&&!Yv(V.dialog,e)&&(Y.current=e,V.dialog.focus())}})),Q=Bv((function(){var e;(V.remove(),null==ne.current||ne.current(),null==te.current||te.current(),k)&&(null==(e=Y.current)||null==e.focus||e.focus(w),Y.current=null)}));(0,e.useEffect)((function(){o&&G&&z()}),[o,G,z]),(0,e.useEffect)((function(){X&&Q()}),[X,Q]),Uv((function(){Q()}));var K=Bv((function(){if(b&&j()&&V.isTopModal()){var e=$v();V.dialog&&e&&!Yv(V.dialog,e)&&V.dialog.focus()}})),J=Bv((function(e){e.target===e.currentTarget&&(null==_||_(e),!0===p&&L())})),ee=Bv((function(e){f&&27===e.keyCode&&V.isTopModal()&&(null==g||g(e),e.defaultPrevented||L())})),te=(0,e.useRef)(),ne=(0,e.useRef)(),re=m;if(!G||!(o||re&&!X))return null;var ie=(0,kv.Z)({role:a,ref:V.setDialogRef,"aria-modal":"dialog"===a||void 0},H,{style:c,className:l,tabIndex:-1}),oe=S?S(ie):e.createElement("div",ie,e.cloneElement(u,{role:"document"}));re&&(oe=e.createElement(re,{appear:!0,unmountOnExit:!0,in:!!o,onExit:D,onExiting:B,onExited:function(){$(!0);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];null==P||P.apply(void 0,t)},onEnter:U,onEntering:F,onEntered:W},oe));var se=null;if(p){var ae=v;se=R({ref:V.setBackdropRef,onClick:J}),ae&&(se=e.createElement(ae,{appear:!0,in:!!o},se))}return e.createElement(e.Fragment,null,t.createPortal(e.createElement(e.Fragment,null,se,oe),G))})),py={show:Qv().bool,container:Qv().any,onShow:Qv().func,onHide:Qv().func,backdrop:Qv().oneOfType([Qv().bool,Qv().oneOf(["static"])]),renderDialog:Qv().func,renderBackdrop:Qv().func,onEscapeKeyDown:Qv().func,onBackdropClick:Qv().func,containerClassName:Qv().string,keyboard:Qv().bool,transition:Qv().elementType,backdropTransition:Qv().elementType,autoFocus:Qv().bool,enforceFocus:Qv().bool,restoreFocus:Qv().bool,restoreFocusOptions:Qv().shape({preventScroll:Qv().bool}),onEnter:Qv().func,onEntering:Qv().func,onEntered:Qv().func,onExit:Qv().func,onExiting:Qv().func,onExited:Qv().func,manager:Qv().instanceOf(ly)};hy.displayName="Modal",hy.propTypes=py;var dy=Object.assign(hy,{Manager:ly}),fy=(__webpack_require__(1024),__webpack_require__(4578)),_y=Function.prototype.bind.call(Function.prototype.call,[].slice);function gy(e,t){return _y(e.querySelectorAll(t))}var my=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",vy=".sticky-top",yy=".navbar-toggler",Ty=function(e){function t(){return e.apply(this,arguments)||this}(0,fy.Z)(t,e);var n=t.prototype;return n.adjustAndStore=function(e,t,n){var r,i=t.style[e];t.dataset[e]=i,jv(t,((r={})[e]=parseFloat(jv(t,e))+n+"px",r))},n.restore=function(e,t){var n,r=t.dataset[e];void 0!==r&&(delete t.dataset[e],jv(t,((n={})[e]=r,n)))},n.setContainerStyle=function(t,n){var r=this;if(e.prototype.setContainerStyle.call(this,t,n),t.overflowing){var i=Dv();gy(n,my).forEach((function(e){return r.adjustAndStore("paddingRight",e,i)})),gy(n,vy).forEach((function(e){return r.adjustAndStore("marginRight",e,-i)})),gy(n,yy).forEach((function(e){return r.adjustAndStore("marginRight",e,i)}))}},n.removeContainerStyle=function(t,n){var r=this;e.prototype.removeContainerStyle.call(this,t,n),gy(n,my).forEach((function(e){return r.restore("paddingRight",e)})),gy(n,vy).forEach((function(e){return r.restore("marginRight",e)})),gy(n,yy).forEach((function(e){return r.restore("marginRight",e)}))},t}(ly),Ey=!1,by=e.createContext(null),Oy="unmounted",ky="exited",wy="entering",Sy="entered",Iy="exiting",Ry=function(n){function r(e,t){var r;r=n.call(this,e,t)||this;var i,o=t&&!t.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?o?(i=ky,r.appearStatus=wy):i=Sy:i=e.unmountOnExit||e.mountOnEnter?Oy:ky,r.state={status:i},r.nextCallback=null,r}(0,fy.Z)(r,n),r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Oy?{status:ky}:null};var i=r.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==wy&&n!==Sy&&(t=wy):n!==wy&&n!==Sy||(t=Iy)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},i.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===wy?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===ky&&this.setState({status:Oy})},i.performEnter=function(e){var n=this,r=this.props.enter,i=this.context?this.context.isMounting:e,o=this.props.nodeRef?[i]:[t.findDOMNode(this),i],s=o[0],a=o[1],l=this.getTimeouts(),c=i?l.appear:l.enter;!e&&!r||Ey?this.safeSetState({status:Sy},(function(){n.props.onEntered(s)})):(this.props.onEnter(s,a),this.safeSetState({status:wy},(function(){n.props.onEntering(s,a),n.onTransitionEnd(c,(function(){n.safeSetState({status:Sy},(function(){n.props.onEntered(s,a)}))}))})))},i.performExit=function(){var e=this,n=this.props.exit,r=this.getTimeouts(),i=this.props.nodeRef?void 0:t.findDOMNode(this);n&&!Ey?(this.props.onExit(i),this.safeSetState({status:Iy},(function(){e.props.onExiting(i),e.onTransitionEnd(r.exit,(function(){e.safeSetState({status:ky},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:ky},(function(){e.props.onExited(i)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(e,n){this.setNextCallback(n);var r=this.props.nodeRef?this.props.nodeRef.current:t.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(r&&!i){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],s=o[0],a=o[1];this.props.addEndListener(s,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},i.render=function(){var t=this.state.status;if(t===Oy)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,(0,Ov.Z)(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(by.Provider,{value:null},"function"===typeof r?r(t,i):e.cloneElement(e.Children.only(r),i))},r}(e.Component);function Cy(){}Ry.contextType=by,Ry.propTypes={},Ry.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Cy,onEntering:Cy,onEntered:Cy,onExit:Cy,onExiting:Cy,onExited:Cy},Ry.UNMOUNTED=Oy,Ry.EXITED=ky,Ry.ENTERING=wy,Ry.ENTERED=Sy,Ry.EXITING=Iy;var Ay=Ry;function xy(e,t){var n=jv(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function My(e,t){var n=xy(e,"transitionDuration"),r=xy(e,"transitionDelay"),i=Xv(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var Ny,Ly=["className","children"],Dy=((Ny={}).entering="show",Ny.entered="show",Ny),Py=e.forwardRef((function(t,n){var r=t.className,i=t.children,o=(0,Ov.Z)(t,Ly),s=(0,e.useCallback)((function(e){!function(e){e.offsetHeight}(e),o.onEnter&&o.onEnter(e)}),[o]);return e.createElement(Ay,(0,kv.Z)({ref:n,addEndListener:My},o,{onEnter:s}),(function(t,n){return e.cloneElement(i,(0,kv.Z)({},n,{className:Sv()("fade",r,i.props.className,Dy[t])}))}))}));Py.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Py.displayName="Fade";var By=Py,Uy=/-(.)/g;var Fy=e.createContext({});Fy.Consumer,Fy.Provider;function Wy(t,n){var r=(0,e.useContext)(Fy);return t||r[n]||n}var Hy=["className","bsPrefix","as"],Gy=function(e){return e[0].toUpperCase()+function(e){return e.replace(Uy,(function(e,t){return t.toUpperCase()}))}(e).slice(1)};function Vy(t,n){var r=void 0===n?{}:n,i=r.displayName,o=void 0===i?Gy(t):i,s=r.Component,a=r.defaultProps,l=e.forwardRef((function(n,r){var i=n.className,o=n.bsPrefix,a=n.as,l=void 0===a?s||"div":a,c=(0,Ov.Z)(n,Hy),u=Wy(o,t);return e.createElement(l,(0,kv.Z)({ref:r,className:Sv()(i,u)},c))}));return l.defaultProps=a,l.displayName=o,l}var jy=Vy("modal-body"),Zy=e.createContext({onHide:function(){}}),qy=["bsPrefix","className","contentClassName","centered","size","children","scrollable"],Xy=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.contentClassName,s=t.centered,a=t.size,l=t.children,c=t.scrollable,u=(0,Ov.Z)(t,qy),h=(r=Wy(r,"modal"))+"-dialog";return e.createElement("div",(0,kv.Z)({},u,{ref:n,className:Sv()(h,i,a&&r+"-"+a,s&&h+"-centered",c&&h+"-scrollable")}),e.createElement("div",{className:Sv()(r+"-content",o)},l))}));Xy.displayName="ModalDialog";var $y=Xy,Yy=Vy("modal-footer"),zy=["label","onClick","className"],Qy={label:Qv().string.isRequired,onClick:Qv().func},Ky=e.forwardRef((function(t,n){var r=t.label,i=t.onClick,o=t.className,s=(0,Ov.Z)(t,zy);return e.createElement("button",(0,kv.Z)({ref:n,type:"button",className:Sv()("close",o),onClick:i},s),e.createElement("span",{"aria-hidden":"true"},"\xd7"),e.createElement("span",{className:"sr-only"},r))}));Ky.displayName="CloseButton",Ky.propTypes=Qy,Ky.defaultProps={label:"Close"};var Jy=Ky,eT=["bsPrefix","closeLabel","closeButton","onHide","className","children"],tT=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.closeLabel,o=t.closeButton,s=t.onHide,a=t.className,l=t.children,c=(0,Ov.Z)(t,eT);r=Wy(r,"modal-header");var u=(0,e.useContext)(Zy),h=Bv((function(){u&&u.onHide(),s&&s()}));return e.createElement("div",(0,kv.Z)({ref:n},c,{className:Sv()(a,r)}),l,o&&e.createElement(Jy,{label:i,onClick:h}))}));tT.displayName="ModalHeader",tT.defaultProps={closeLabel:"Close",closeButton:!1};var nT,rT,iT=tT,oT=(nT="h4",e.forwardRef((function(t,n){return e.createElement("div",(0,kv.Z)({},t,{ref:n,className:Sv()(t.className,nT)}))}))),sT=Vy("modal-title",{Component:oT}),aT=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],lT={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:$y};function cT(t){return e.createElement(By,(0,kv.Z)({},t,{timeout:null}))}function uT(t){return e.createElement(By,(0,kv.Z)({},t,{timeout:null}))}var hT=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.style,s=t.dialogClassName,a=t.contentClassName,l=t.children,c=t.dialogAs,u=t["aria-labelledby"],h=t.show,p=t.animation,d=t.backdrop,f=t.keyboard,_=t.onEscapeKeyDown,g=t.onShow,m=t.onHide,v=t.container,y=t.autoFocus,T=t.enforceFocus,E=t.restoreFocus,b=t.restoreFocusOptions,O=t.onEntered,k=t.onExit,w=t.onExiting,S=t.onEnter,I=t.onEntering,R=t.onExited,C=t.backdropClassName,A=t.manager,x=(0,Ov.Z)(t,aT),M=(0,e.useState)({}),N=M[0],L=M[1],D=(0,e.useState)(!1),P=D[0],B=D[1],U=(0,e.useRef)(!1),F=(0,e.useRef)(!1),W=(0,e.useRef)(null),H=(0,e.useState)(null),G=H[0],V=H[1],j=Bv(m);r=Wy(r,"modal"),(0,e.useImperativeHandle)(n,(function(){return{get _modal(){return G}}}),[G]);var Z=(0,e.useMemo)((function(){return{onHide:j}}),[j]);function q(){return A||(rT||(rT=new Ty),rT)}function X(e){if(Iv){var t=q().isContainerOverflowing(G),n=e.scrollHeight>Mv(e).documentElement.clientHeight;L({paddingRight:t&&!n?Dv():void 0,paddingLeft:!t&&n?Dv():void 0})}}var $=Bv((function(){G&&X(G.dialog)}));Uv((function(){Lv(window,"resize",$),W.current&&W.current()}));var Y=function(){U.current=!0},z=function(e){U.current&&G&&e.target===G.dialog&&(F.current=!0),U.current=!1},Q=function(){B(!0),W.current=Xv(G.dialog,(function(){B(!1)}))},K=function(e){"static"!==d?F.current||e.target!==e.currentTarget?F.current=!1:null==m||m():function(e){e.target===e.currentTarget&&Q()}(e)},J=(0,e.useCallback)((function(t){return e.createElement("div",(0,kv.Z)({},t,{className:Sv()(r+"-backdrop",C,!p&&"show")}))}),[p,C,r]),ee=(0,kv.Z)({},o,N);p||(ee.display="block");return e.createElement(Zy.Provider,{value:Z},e.createElement(dy,{show:h,ref:V,backdrop:d,container:v,keyboard:!0,autoFocus:y,enforceFocus:T,restoreFocus:E,restoreFocusOptions:b,onEscapeKeyDown:function(e){f||"static"!==d?f&&_&&_(e):(e.preventDefault(),Q())},onShow:g,onHide:m,onEnter:function(e,t){e&&(e.style.display="block",X(e)),null==S||S(e,t)},onEntering:function(e,t){null==I||I(e,t),xv(window,"resize",$)},onEntered:O,onExit:function(e){null==W.current||W.current(),null==k||k(e)},onExiting:w,onExited:function(e){e&&(e.style.display=""),null==R||R(e),Lv(window,"resize",$)},manager:q(),containerClassName:r+"-open",transition:p?cT:void 0,backdropTransition:p?uT:void 0,renderBackdrop:J,renderDialog:function(t){return e.createElement("div",(0,kv.Z)({role:"dialog"},t,{style:ee,className:Sv()(i,r,P&&r+"-static"),onClick:d?K:void 0,onMouseUp:z,"aria-labelledby":u}),e.createElement(c,(0,kv.Z)({},x,{onMouseDown:Y,className:s,contentClassName:a}),l))}}))}));hT.displayName="Modal",hT.defaultProps=lT,hT.Body=jy,hT.Header=iT,hT.Title=sT,hT.Footer=Yy,hT.Dialog=$y,hT.TRANSITION_DURATION=300,hT.BACKDROP_TRANSITION_DURATION=150;var pT=hT,dT=(0,e.createContext)(),fT=function(t){var n=o((0,e.useState)(""),2),r=n[0],i=n[1],s=o((0,e.useState)(!1),2),a=s[0],l=s[1],c=o((0,e.useState)(!1),2),u=c[0],h=c[1],p=o((0,e.useState)(0),2),d=p[0],f=p[1],_=o((0,e.useState)(0),2),g=_[0],m=_[1];return(0,e.useEffect)((function(){}),[d,g]),(0,A.jsx)(dT.Provider,{value:{projectName:r,setProjectName:i,serverIsOpen:a,setServerIsOpen:l,showAlertModal:u,setShowAlertModal:h,roll:d,pitch:g,setRollValue:f,setPitchValue:m},children:t.children})},_T=function(t){var n=(0,e.useContext)(dT),r=n.showAlertModal,i=n.setShowAlertModal;return(0,A.jsxs)(pT,{centered:!0,className:"alert-modal",show:r,onHide:function(){return i(!1)},children:[(0,A.jsx)(pT.Header,{closeButton:!0,children:(0,A.jsx)(pT.Title,{children:"Could not open XML"})}),(0,A.jsx)(pT.Body,{children:(0,A.jsx)("span",{})}),(0,A.jsx)(pT.Footer,{children:(0,A.jsx)("button",{onClick:function(){return i(!1)},children:"Close"})})]})};var gT=(0,S.g)(),mT=(0,B.FY)(),vT=function(e){var t=e.isOpen,n=e.close;return(0,A.jsxs)("div",{id:"HowToPair",className:"".concat(t?"":"hide"),onClick:function(e){e.target.closest(".content-overlay")||n()},children:[(0,A.jsx)("div",{className:"close",children:(0,A.jsx)("img",{src:zt,alt:"x",onClick:n})}),(0,A.jsxs)("div",{className:"content-overlay",children:[(0,A.jsxs)("h4",{children:["How to pair with ","cde"===gT?"CoDrone EDU":"cdm"===gT?"CoDrone Mini":"CoDrone"]}),(0,A.jsx)("span",{className:"orange",onClick:function(){try{"cde"===gT?"ko"===mT?window.open("https://learn.robolink.com/ko/lesson/pairing-to-blockly-kor/","_blank"):window.open("https://learn.robolink.com/lesson/intro-to-blockly-cde/","_blank"):"cdm"===gT?window.open("https://learn.robolink.com/lesson/cdmb-pairing/","_blank"):window.open("https://learn.robolink.com/lesson/intro-to-blockly-cde/","_blank")}catch(Bw){window.open("https://learn.robolink.com/lesson/intro-to-blockly-cde/","_blank")}},children:'Go to  "How to Pair with Blockly" tutorial on Basecamp'}),(0,A.jsx)("div",{children:(0,A.jsx)("iframe",{title:"HowToPair",src:"cde"===gT?"https://www.youtube.com/embed/FY9zmES-GTE":"cdm"===gT?"https://drive.google.com/file/d/1R-rLwWl0vMEj4PSTcaSUHf2ZK3dmYaD6/preview":"https://www.youtube.com/embed/FY9zmES-GTE",width:"100%",height:"400px",frameBorder:0})})]})]})},yT=Mt({name:"battNotif",initialState:{isOpen:!1},reducers:{openBattNotifModal:function(e){e.isOpen=!0},closeBattNotifModal:function(e){e.isOpen=!1}}}),TT=yT.actions,ET=TT.openBattNotifModal,bT=TT.closeBattNotifModal,OT=yT.reducer;var kT=__webpack_require__.p+"static/media/no_batt.69c57447f27cefe1c5538f3a7f6691a0.svg";var wT=__webpack_require__.p+"static/media/usbcable.0360dd0c364647f31377dd98480d10db.svg",ST=function(){var t=w(),n=(0,e.useContext)(x).msg,r=g((function(e){return e.battNotif})),i=r.isOpen;return(0,A.jsx)("div",{id:"batt-notif-bg",className:"".concat(i?"":"hide"),onClick:function(){return t(bT())},children:(0,A.jsxs)("div",{className:"batt-notif",children:[(0,A.jsx)("div",{className:"md-header",children:(0,A.jsx)("div",{className:"title",children:n.CONN_BATT_ALERT_TEXT1})}),(0,A.jsxs)("div",{className:"md-body",children:[(0,A.jsxs)("div",{className:"row",children:[(0,A.jsx)("div",{className:"col-6",children:(0,A.jsx)("img",{src:kT,alt:"aa batteries"})}),(0,A.jsx)("div",{className:"col-6",children:(0,A.jsx)("img",{src:wT,alt:"cable"})})]}),(0,A.jsxs)("div",{className:"row txt",children:[(0,A.jsx)("div",{className:"col-6",children:n.CONN_BATT_ALERT_TEXT2}),(0,A.jsx)("div",{className:"col-6",children:(0,A.jsx)("div",{children:n.CONN_BATT_ALERT_TEXT3})})]})]})]})})},IT=__webpack_require__(9656);function RT(e){return CT.apply(this,arguments)}function CT(){return(CT=(0,en.Z)(nn().mark((function e(t){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,AT(t);case 2:__webpack_require__.g.BATTERY_INTERVAL=setInterval((0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,AT(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("Disconnected");case 8:case"end":return e.stop()}}),e,null,[[0,5]])}))),5e3);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function AT(e){return xT.apply(this,arguments)}function xT(){return(xT=(0,en.Z)(nn().mark((function e(t){var n;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,__webpack_require__.g.getBatteryPercentage();case 2:n=e.sent,t(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var MT=__webpack_require__.p+"static/media/drone_image.398142ffcf48e37f16909cba966b6d1e.svg";var NT=__webpack_require__.p+"static/media/codrone_mini.12e602f523480d77592171d5910e5d49.svg";var LT=__webpack_require__.p+"static/media/battery_full.bcbd0dc07e12d9582503bceea8c9717d.svg",DT=__webpack_require__(639),PT=__webpack_require__(5366),BT=__webpack_require__(1604),UT=__webpack_require__(3591);var FT=__webpack_require__.p+"static/media/battery_unreadable.b892a5b57c444d0713437eb5e4cb37cf.svg",WT=__webpack_require__(4269),HT=(0,S.g)(),GT=(0,B.FY)(),VT=function(t){var n=t.enableRunButton,r=t.disableRunButton,i=w(),s=(0,e.useContext)(x).msg,a=o((0,e.useState)("disconnected"),2),l=a[0],c=a[1],u=o((0,e.useState)(0),2),h=u[0],p=u[1],d=o((0,e.useState)(0),2),f=d[0],_=d[1],g=o((0,e.useState)(0),2),m=g[0],v=g[1],y=function(t){var n=o((0,e.useState)(t),2),r=n[0],i=n[1];return rn((function(){__webpack_require__.g.setSpeed(r)}),[r]),[r,i]}(2),T=o(y,2),E=T[0],b=T[1],O=o((0,e.useState)(FT),2),k=O[0],S=O[1],I=o((0,e.useState)(!1),2),R=I[0],C=I[1],M=o((0,e.useState)(!1),2),N=M[0],L=M[1],D=o((0,e.useState)(!1),2);D[0],D[1];(0,e.useEffect)((function(){var e;e=V,__webpack_require__.g.showDisconnectedUI=e,function(e){__webpack_require__.g.updateRollPitchInConnectionBox=e}(H)}),[]),(0,e.useEffect)((function(){S(null!==h?h>=91&&h<=100?LT:h>=66&&h<=90?DT:h>=36&&h<=65?PT:h>=11&&h<=35?BT:h<=10?UT:FT:FT)}),[h]);var P=function(e){if("pitch"===e){var t=m<100?parseInt(m)+1:100;v(t),G(e,t)}else if("roll"===e){var n=f<100?parseInt(f)+1:100;_(n),G(e,n)}},B=function(e){if("pitch"===e){var t=m>-100?parseInt(m)-1:-100;v(t),G(e,t)}else if("roll"===e){var n=f>-100?parseInt(f)-1:-100;_(n),G(e,n)}},U=function(e){var t=parseInt(e.target.value);G("pitch",t)},F=function(e){var t=parseInt(e.target.value);G("roll",t)},W=function(e){__webpack_require__.g.setRoll(e.roll),__webpack_require__.g.setPitch(e.pitch),_(e.roll),v(e.pitch)},H=function(e,t){console.log("update roll pitch",e,t),__webpack_require__.g.setRoll(e),__webpack_require__.g.setPitch(t),v(t),_(e)},G=function(e,t){if("cdm"===HT){if("roll"===e){var n=__webpack_require__.g.getPitch();__webpack_require__.g.moveTrim(t,n,0,0)}else if("pitch"===e){var r=__webpack_require__.g.getRoll();__webpack_require__.g.moveTrim(r,t,0,0)}}else if("roll"===e){var i=__webpack_require__.g.getPitch();__webpack_require__.g.setTrim(t,i)}else if("pitch"===e){var o=__webpack_require__.g.getRoll();__webpack_require__.g.setTrim(o,t)}},V=function(){c("disconnected")},j=function(){var e=(0,en.Z)(nn().mark((function e(){var t,r;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="cde","en"===GT&&i(ET()),r=null,e.prev=3,e.next=6,(0,IT.fS)(t);case 6:r=e.sent,e.next=14;break;case 9:return e.prev=9,e.t0=e.catch(3),console.log(e.t0),i(bT()),e.abrupt("return");case 14:return e.prev=14,e.next=17,(0,IT.Vg)(r);case 17:e.next=26;break;case 19:return e.prev=19,e.t1=e.catch(14),e.next=23,(0,IT.o4)(r);case 23:return c("unable"),console.log("FAil to pair: ",e.t1),e.abrupt("return");case 26:return i(bT()),c("connecting"),(0,IT.hG)(r,t),c("paired"),e.next=32,RT(p);case 32:return e.next=34,(0,IT.bu)(c);case 34:return e.next=36,new Promise((function(e){return setTimeout(e,250)}));case 36:return e.prev=36,e.next=39,(0,IT.jQ)(W,t);case 39:n(),(0,on.Im)(),e.next=48;break;case 43:return e.prev=43,e.t2=e.catch(36),(0,IT.S3)(e.t2),c("disconnected"),e.abrupt("return");case 48:case"end":return e.stop()}}),e,null,[[3,9],[14,19],[36,43]])})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=(0,en.Z)(nn().mark((function e(){var t,r;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="cdm",r=null,e.next=4,(0,IT.fS)(t);case 4:return r=e.sent,e.next=7,(0,IT.Vg)(r);case 7:return c("connecting"),(0,IT.hG)(r,t),e.next=11,RT(p);case 11:return e.next=13,new Promise((function(e){return setTimeout(e,250)}));case 13:return e.next=15,(0,IT.jQ)(W,t);case 15:n(),c("paired");case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(0,IT.zd)()){e.next=8;break}return c("disconnected"),r(),e.next=6,(0,IT.DN)();case 6:e.next=27;break;case 8:if(e.prev=8,"cdm"!==HT){e.next=15;break}return e.next=12,Z();case 12:return e.abrupt("return",e.sent);case 15:return e.next=17,j();case 17:return e.abrupt("return",e.sent);case 18:e.next=27;break;case 20:return e.prev=20,e.t0=e.catch(8),c("unable"),e.next=25,new Promise((function(e){return setTimeout(e,3e3)}));case 25:return c("disconnected"),e.abrupt("return");case 27:e.next=32;break;case 29:e.prev=29,e.t1=e.catch(0),c("disconnected");case 32:case"end":return e.stop()}}),e,null,[[0,29],[8,20]])})));return function(){return e.apply(this,arguments)}}();return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("div",{id:"connectMenu",className:"".concat("paired"===l||"dropped"===l?"connected":""," ").concat(R?"hide-info":""),children:(0,A.jsxs)("div",{children:[(0,A.jsx)("div",{className:"toggle-drone-info",children:(0,A.jsx)("span",{onClick:function(){C((function(e){return!e}))}})}),(0,A.jsxs)("p",{className:"not-paired-text",children:[(0,A.jsx)("span",{className:"circle"}),s.CONN_NOT_PAIRED,(0,A.jsx)("span",{className:"how-to-pair-btn",onClick:function(){L(!0)},children:s.CONN_HOW_TO_PAIR})]}),(0,A.jsxs)("p",{className:"paired-text",children:[(0,A.jsx)("span",{className:"circle"}),s.CONN_PAIRED,": CoDrone ","cdm"===HT?"Mini":"EDU"]}),(0,A.jsxs)("div",{id:"drones-info",className:"drones-info",children:["cde"===HT&&(0,A.jsxs)("div",{className:"set-speed",children:[(0,A.jsxs)("label",{children:[s.CONN_SPEED," : "]}),(0,A.jsxs)("select",{value:E,onChange:function(e){var t=e.target.value;b(t)},children:[(0,A.jsx)("option",{value:1,children:"1"},1),(0,A.jsx)("option",{value:2,children:"2"},2),(0,A.jsx)("option",{value:3,children:"3"},3)]})]}),(0,A.jsx)("span",{className:"info1",children:s.CONN_TRIMMING}),(0,A.jsxs)("div",{className:"drone drone2",children:[(0,A.jsx)("img",{className:"img-arrow",src:"cdm"===HT?NT:MT,alt:"CoDrone EDU"}),(0,A.jsxs)("div",{className:"arrow",children:[(0,A.jsx)("button",{className:"trim-btn pPlus",onClick:function(){return P("pitch")},children:(0,A.jsx)("span",{children:"+"})}),(0,A.jsx)("input",{id:"trimPitch",type:"range",min:"-100",max:"100",value:m,onChange:function(e){var t=parseInt(e.target.value);v(t)},onMouseUp:U,onTouchEnd:U,className:"range2",orient:"vertical"}),(0,A.jsx)("button",{className:"trim-btn pMinus",onClick:function(){return B("pitch")},children:(0,A.jsx)("span",{children:"-"})}),(0,A.jsxs)("span",{className:"pitch-span",children:[s.CONN_PITCH,": ",m]})]}),(0,A.jsxs)("div",{className:"arrow2",children:[(0,A.jsx)("div",{children:(0,A.jsxs)("span",{className:"roll-span",children:[s.CONN_ROLL,": ",f]})}),(0,A.jsx)("button",{className:"trim-btn rPlus",onClick:function(){return P("roll")},children:(0,A.jsx)("span",{children:"+"})}),(0,A.jsx)("input",{type:"range",min:"-100",id:"trimRoll",max:"100",value:f,onChange:function(e){var t=parseInt(e.target.value);_(t)},onMouseUp:F,onTouchEnd:F,className:"range3"}),(0,A.jsx)("button",{className:"trim-btn rMinus",onClick:function(){return B("roll")},children:(0,A.jsx)("span",{children:"-"})})]})]})]}),(0,A.jsx)("button",{type:"button",onClick:"connecting"!==l?(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q();case 2:case"end":return e.stop()}}),e)}))):null,id:"scanButton",className:"btn btn-default navbar-btn",children:"connecting"===l?(0,A.jsxs)("div",{className:"lds-ellipsis",children:[(0,A.jsx)("div",{}),(0,A.jsx)("div",{}),(0,A.jsx)("div",{}),(0,A.jsx)("div",{})]}):(0,A.jsx)("span",{children:"paired"===l|"dropped"===l?s.CONN_DISCONNECT:s.CONN_PAIR})}),(0,A.jsxs)("div",{className:"battery",children:[(0,A.jsx)("img",{id:"batteryIndicator",className:"",src:k,alt:""}),(0,A.jsxs)("span",{id:"batteryIndicatorSpan",children:[h," ",null!==h?"%":""]})]}),(0,A.jsxs)("div",{id:"Notice",className:"notice ".concat("unable"===l?"":"hide"),children:[(0,A.jsx)("img",{className:"img-arrow",src:WT,alt:""}),(0,A.jsxs)("p",{children:["Unable to pair with selected device.",(0,A.jsx)("br",{}),"Please try another device."]})]}),(0,A.jsxs)("div",{id:"dropped",className:"dropped ".concat("dropped"===l?"":"hide"),children:[(0,A.jsx)("img",{className:"img-arrow",src:WT,alt:""}),(0,A.jsx)("p",{children:"Dropped signal"})]})]})}),(0,A.jsx)(vT,{isOpen:N,close:function(){L(!1)}}),(0,A.jsx)(ST,{})]})},jT=function(t){var n=t.isOpen,r=t.handleToggle,i=t.clearPos,o=(0,e.useContext)(x).msg;return(0,A.jsx)("div",{id:"console",children:(0,A.jsxs)("div",{id:"console-container",className:"container-fluid console-container ".concat(n?"":"closed"),children:[(0,A.jsx)("div",{className:"btn-console tabbed round",onClick:r,children:(0,A.jsx)("ul",{children:(0,A.jsx)("li",{className:"tab",children:(0,A.jsx)("span",{children:o.CONSOLE_TAB})})})}),(0,A.jsx)("div",{className:"row",children:(0,A.jsxs)("div",{className:"col-9 console",children:[(0,A.jsx)("div",{id:"consoleContent",className:n?"show":"hide"}),(0,A.jsx)("div",{id:"clear-console",className:"clear-console",onClick:function(e){document.getElementById("consoleContent").innerHTML=""},style:{right:i},children:(0,A.jsx)("span",{children:o.CONSOLE_CLEAR})}),(0,A.jsxs)("div",{className:"input-console",children:[(0,A.jsx)("label",{htmlFor:"console",children:">"}),(0,A.jsx)("input",{type:"text",id:"console"})]})]})})]})})},ZT=__webpack_require__(5375),qT=__webpack_require__(3883),XT=__webpack_require__(2463),$T=[{id:0,name:"cde",imgSrc:ZT,imgAlt:"CoDrone EDU"},{id:1,name:"cdm",imgSrc:qT,imgAlt:"CoDrone MINI"},{id:2,name:"cdp",imgSrc:XT,imgAlt:"CoDrone Pro"}],YT=(0,S.g)(),zT=function(){var t=(0,e.useContext)(x).msg,n=o((0,e.useState)(!1),2),r=n[0],i=n[1];(0,e.useEffect)((function(){var e=function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(new Image).src=ZT,(new Image).src=qT,(new Image).src=XT;case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(e(),!new URLSearchParams(window.location.search).has("option"))return sessionStorage.getItem("which-drone")||i(!0),sessionStorage.getItem("which-drone")&&"cde"!==sessionStorage.getItem("which-drone")&&i(!0),function(){};i(!1)}),[]);var s=function(e){sessionStorage.setItem("which-drone","cde"),i(!1)};return(0,A.jsx)("div",{className:"".concat(r?"which-drone-modal-bg":"which-drone-modal-bg hide"),onClick:s,children:(0,A.jsxs)("div",{className:"which-drone-modal",onClick:function(e){e.preventDefault(),e.stopPropagation()},children:[(0,A.jsx)("div",{className:"md-header",children:(0,A.jsx)("span",{children:t.ALERT_WHICH_DRONE})}),(0,A.jsx)("div",{className:"md-body",children:$T.map((function(e){return(0,A.jsx)("div",{className:"drone",onClick:function(){var t;(t=e.name)!==YT?window.location.href="cde"===t?"https://codrone.robolink.com/edu/blockly/?option=edu/blockly/":"cdm"===t?"https://codrone.robolink.com/mini/blockly/?option=mini/blockly/":"cdp"===t?"https://codrone.robolink.com/pro/blockly/?option=pro/blockly/":"https://codrone.robolink.com/edu/blockly/":s()},children:(0,A.jsx)("img",{src:e.imgSrc,alt:e.imgAlt})},e.id)}))})]})})};function QT(e,t){return Math.sqrt(function(e,t){for(var n=0,r=0;r<e.length;r++)n+=(e[r]-t[r])*(e[r]-t[r]);return n}(e,t))}function KT(e,t,n){this.obj=e,this.left=null,this.right=null,this.parent=n,this.dimension=t}var JT=function(){function e(t,n){if((0,En.Z)(this,e),Array.isArray(t)){this.dimensions=new Array(t[0].length);for(var r=0;r<this.dimensions.length;r++)this.dimensions[r]=r;this.root=tE(t,0,null,this.dimensions)}else this.dimensions=t.dimensions,this.root=t,nE(this.root);this.metric=n}return(0,bn.Z)(e,[{key:"toJSON",value:function(){var e=eE(this.root);return e.dimensions=this.dimensions,e}},{key:"nearest",value:function(e,t,n){var r,i=this.metric,o=this.dimensions,s=new rE((function(e){return-e[1]}));if(n)for(r=0;r<t;r+=1)s.push([null,n]);this.root&&function n(r){var a,l,c,u,h=o[r.dimension],p=i(e,r.obj),d={};function f(e,n){s.push([e,n]),s.size()>t&&s.pop()}for(u=0;u<o.length;u+=1)u===r.dimension?d[o[u]]=e[o[u]]:d[o[u]]=r.obj[o[u]];l=i(d,r.obj),null!==r.right||null!==r.left?(n(a=null===r.right?r.left:null===r.left?r.right:e[h]<r.obj[h]?r.left:r.right),(s.size()<t||p<s.peek()[1])&&f(r,p),(s.size()<t||Math.abs(l)<s.peek()[1])&&null!==(c=a===r.left?r.right:r.left)&&n(c)):(s.size()<t||p<s.peek()[1])&&f(r,p)}(this.root);var a=[];for(r=0;r<Math.min(t,s.content.length);r+=1)s.content[r][0]&&a.push([s.content[r][0].obj,s.content[r][1]]);return a}}]),e}();function eE(e){var t=new KT(e.obj,e.dimension,null);return e.left&&(t.left=eE(e.left)),e.right&&(t.right=eE(e.right)),t}function tE(e,t,n,r){var i=t%r.length;if(0===e.length)return null;if(1===e.length)return new KT(e[0],i,n);e.sort((function(e,t){return e[r[i]]-t[r[i]]}));var o=Math.floor(e.length/2),s=new KT(e[o],i,n);return s.left=tE(e.slice(0,o),t+1,s,r),s.right=tE(e.slice(o+1),t+1,s,r),s}function nE(e){e.left&&(e.left.parent=e,nE(e.left)),e.right&&(e.right.parent=e,nE(e.right))}var rE=function(){function e(t){(0,En.Z)(this,e),this.content=[],this.scoreFunction=t}return(0,bn.Z)(e,[{key:"push",value:function(e){this.content.push(e),this.bubbleUp(this.content.length-1)}},{key:"pop",value:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.sinkDown(0)),e}},{key:"peek",value:function(){return this.content[0]}},{key:"size",value:function(){return this.content.length}},{key:"bubbleUp",value:function(e){for(var t=this.content[e];e>0;){var n=Math.floor((e+1)/2)-1,r=this.content[n];if(!(this.scoreFunction(t)<this.scoreFunction(r)))break;this.content[n]=t,this.content[e]=r,e=n}}},{key:"sinkDown",value:function(e){for(var t=this.content.length,n=this.content[e],r=this.scoreFunction(n);;){var i=2*(e+1),o=i-1,s=null;if(o<t){var a=this.content[o],l=this.scoreFunction(a);l<r&&(s=o)}if(i<t){var c=this.content[i];this.scoreFunction(c)<(null===s?r:l)&&(s=i)}if(null===s)break;this.content[e]=this.content[s],this.content[s]=n,e=s}}}]),e}(),iE=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if((0,En.Z)(this,e),!0===t){var i=n;return this.kdTree=new JT(i.kdTree,r),this.k=i.k,this.classes=new Set(i.classes),void(this.isEuclidean=i.isEuclidean)}for(var o=new Set(n),s=r.distance,a=void 0===s?QT:s,l=r.k,c=void 0===l?o.size+1:l,u=new Array(t.length),h=0;h<u.length;++h)u[h]=t[h].slice();for(h=0;h<n.length;++h)u[h].push(n[h]);this.kdTree=new JT(u,a),this.k=c,this.classes=o,this.isEuclidean=a===QT}return(0,bn.Z)(e,[{key:"toJSON",value:function(){return{name:"KNN",kdTree:this.kdTree,k:this.k,classes:Array.from(this.classes),isEuclidean:this.isEuclidean}}},{key:"predict",value:function(e){if(Array.isArray(e)){if("number"===typeof e[0])return oE(this,e);if(Array.isArray(e[0])&&"number"===typeof e[0][0]){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=oE(this,e[n]);return t}}throw new TypeError("dataset to predict must be an array or a matrix")}}],[{key:"load",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:QT;if("KNN"!==t.name)throw new Error("invalid model: ".concat(t.name));if(!t.isEuclidean&&n===QT)throw new Error("a custom distance function was used to create the model. Please provide it again");if(t.isEuclidean&&n!==QT)throw new Error("the model was created with the default distance function. Do not load it with another one");return new e(!0,t,n)}}]),e}();function oE(e,t){var n,r=e.kdTree.nearest(t,e.k),i={},o=-1,s=-1,a=r[0][0].length-1,l=(0,_n.Z)(e.classes);try{for(l.s();!(n=l.n()).done;){i[n.value]=0}}catch(p){l.e(p)}finally{l.f()}for(var c=0;c<r.length;++c){var u=r[c][0][a],h=++i[u];h>s&&(o=u,s=h)}return o}var sE=__webpack_require__(658),aE=__webpack_require__.n(sE),lE=__webpack_require__(8925),cE=__webpack_require__.n(lE);__webpack_require__.g.knn=null;var uE=(0,B.FY)(),hE=[];hE="ko"===uE?[{label:"\ube68\uac15",data:[]},{label:"\ub178\ub791",data:[]},{label:"\ucd08\ub85d",data:[]},{label:"\ud558\ub298",data:[]},{label:"\ud30c\ub791",data:[]},{label:"\ubcf4\ub77c",data:[]},{label:"\ud558\uc591",data:[]},{label:"\uac80\uc815",data:[]}]:[{label:"red",data:[]},{label:"yellow",data:[]},{label:"green",data:[]},{label:"lightblue",data:[]},{label:"blue",data:[]},{label:"purple",data:[]},{label:"white",data:[]},{label:"black",data:[]}];var pE=function(){var e=(0,en.Z)(nn().mark((function e(t){var n;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=5;break}return n=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(n,r){var i;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,__webpack_require__.g.getCardColorHSVL("front","hsvl");case 3:i=e.sent,hE[t].data.push(i),n(hE[t].data),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error!"),n();case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",n);case 5:console.log("Not connected");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var dE=__webpack_require__.p+"static/media/add.db9427c3212dcee8d5bb1ccf1e3478c5.svg";var fE=__webpack_require__.p+"static/media/close.ddd56733e28f8350595ed5d15291b8cc.svg",_E=null,gE=(0,B.FY)(),mE=function(){var t=(0,e.useContext)(x).msg,n=o((0,e.useState)(!1),2),r=n[0],i=n[1],s=o((0,e.useState)(0),2),a=s[0],l=s[1],c=o((0,e.useState)([]),2),u=c[0],h=c[1],p=o((0,e.useState)(0),2),d=p[0],f=p[1],_=o((0,e.useState)(""),2),g=_[0],m=_[1],v=o((0,e.useState)([]),2),y=v[0],T=v[1],E=o((0,e.useState)(""),2),b=E[0],O=E[1],k=o((0,e.useState)(10),2),w=k[0],S=k[1],I=o((0,e.useState)(0),2),R=I[0],C=I[1],M=o((0,e.useState)(!1),2),N=M[0],L=M[1],D=o((0,e.useState)(!1),2),P=D[0],U=D[1];(0,e.useEffect)((function(){var e;e=F,__webpack_require__.g.openColorModal=e;var t=new Array(hE.length).fill(0);return T(t),h((0,fi.Z)(hE)),function(){Z()}}),[]);var F=function(){i(!0)},W=function(){i(!1),V()},H=function(){var e=(0,en.Z)(nn().mark((function e(){var t,n;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L(!0),t=0;case 2:if(!(t<w)){e.next=9;break}try{C(parseInt(t/w*100))}catch(Bw){C(0)}return e.next=6,pE(d);case 6:t++,e.next=2;break;case 9:C(100),(n=(0,fi.Z)(y))[d]+=w,T(n),L(!1),C(0);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){U(!0);var e=function(){try{var e,t=[],n=[],r=(0,_n.Z)(hE);try{for(r.s();!(e=r.n()).done;){var i=e.value;for(var o in i.data)t.push(i.data[o]),n.push(i.label)}}catch(s){r.e(s)}finally{r.f()}return __webpack_require__.g.knn=new iE(t,n),!0}catch(Bw){return console.log(Bw),!1}}();e?(l(5),j()):alert("Something went wrong"),U(!1)},V=function(){f(0),m("");var e=new Array(hE.length).fill(0);T(e),O(""),S(10),L(!1),U(!1),l(0),Z()},j=function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_E=setInterval((0,en.Z)(nn().mark((function e(){var t;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,__webpack_require__.g.predictColor("front");case 2:t=e.sent,m(t);case 4:case"end":return e.stop()}}),e)}))),500);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){_E&&(clearInterval(_E),_E=null)};return(0,A.jsx)("div",{className:"color-training-modal-bg ".concat(r?"":"hide"),id:"color-training-modal-bg",onClick:function(e){W()},children:(0,A.jsxs)("div",{className:"color-training-modal ".concat(gE),onClick:function(e){e.preventDefault(),e.stopPropagation()},children:[(0,A.jsxs)("div",{className:"md-header",children:[(0,A.jsx)("span",{className:"close-btn",onClick:W,children:(0,A.jsx)("img",{src:fE,alt:"X"})}),(0,A.jsx)("span",{children:t.COLOR_HEADER})]}),(0,A.jsxs)("div",{className:"md-body",children:[0===a&&(0,A.jsxs)("div",{className:"page-0",children:[(0,A.jsx)("button",{className:"cde-bg",onClick:function(){if(localStorage.getItem("cde-color-model")){if(!window.confirm(t.COLOR_WARNING_NEW))return;!function(){try{window.localStorage.removeItem("cde-color-model"),window.localStorage.removeItem("cde-color-model-name"),hE="ko"===uE?[{label:"\ube68\uac15",data:[]},{label:"\ub178\ub791",data:[]},{label:"\ucd08\ub85d",data:[]},{label:"\ud558\ub298",data:[]},{label:"\ud30c\ub791",data:[]},{label:"\ubcf4\ub77c",data:[]},{label:"\ud558\uc591",data:[]},{label:"\uac80\uc815",data:[]}]:[{label:"red",data:[]},{label:"yellow",data:[]},{label:"green",data:[]},{label:"lightblue",data:[]},{label:"blue",data:[]},{label:"purple",data:[]},{label:"white",data:[]},{label:"black",data:[]}],__webpack_require__.g.knn=null}catch(Bw){console.log(Bw)}}()}l(1)},children:t.COLOR_MAIN_BTN_NEW}),(0,A.jsx)("button",{className:"cde-bg",onClick:function(){setTimeout((function(){var e,t=[],n=(0,_n.Z)(hE);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r.data.length)}}catch(i){n.e(i)}finally{n.f()}T(t),O(localStorage.getItem("cde-color-model-name")),l(3)}),1e3)},children:t.COLOR_MAIN_BTN_EXISTING})]}),1===a&&(0,A.jsxs)("div",{children:[(0,A.jsx)("p",{children:t.COLOR_TITLE_COLOR_SET_NAME}),(0,A.jsx)("input",{type:"text",value:b,onChange:function(e){return O(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),b&&l(3))}})]}),3===a&&(0,A.jsxs)("div",{children:[(0,A.jsxs)("div",{className:"collect-color",children:[u.map((function(e,t){return(0,A.jsxs)("div",{className:"color-info color-info-".concat(u.length),children:[(0,A.jsxs)("div",{className:t===d?"label current":"label",children:[(0,A.jsx)("input",{onClick:function(){f(t)},value:e.label,onChange:function(e){return function(e,t){var n=e.target.value,r=u.map((function(e,r){return r===t?(0,Je.Z)((0,Je.Z)({},e),{},{label:n}):e}));h(r),hE[t].label=n}(e,t)}}),u.length>1&&(0,A.jsx)("img",{className:"delete",onClick:function(){return function(e){hE.splice(e,1);var t=(0,fi.Z)(hE);h(t);var n,r=[],i=(0,_n.Z)(hE);try{for(i.s();!(n=i.n()).done;){var o=n.value;r.push(o.data.length)}}catch(s){i.e(s)}finally{i.f()}T(r),f(0)}(t)},src:fE,alt:"x"})]}),(0,A.jsx)("div",{className:"count",children:y[t]})]},t)})),u.length<8&&(0,A.jsx)("div",{className:"add-label",onClick:function(){hE.push({label:"color".concat(hE.length+1),data:[]});var e=(0,fi.Z)(hE);h(e);var t,n=[],r=(0,_n.Z)(hE);try{for(r.s();!(t=r.n()).done;){var i=t.value;n.push(i.data.length)}}catch(o){r.e(o)}finally{r.f()}T(n),f(0)},children:(0,A.jsx)("img",{src:dE,alt:"+"})})]}),(0,A.jsxs)("div",{children:[(0,A.jsxs)("p",{children:[t.COLOR_TITLE_COLLECT_SAMPLE.split("%1")[0],(0,A.jsx)("strong",{children:u[d].label}),t.COLOR_TITLE_COLLECT_SAMPLE.split("%1")[1]]}),(0,A.jsx)("input",{className:"small-input",type:"number",min:"1",max:"50",value:w,onChange:function(e){return N?null:S(parseInt(e.target.value))}})]}),N?(0,A.jsx)("div",{className:"progress-bar",children:(0,A.jsx)("div",{className:"progress-fill",style:{width:"".concat(R,"%")}})}):(0,A.jsx)("div",{className:"progress-bar empty"})]}),4===a&&P&&(0,A.jsx)("div",{children:t.COLOR_CALIBRATING}),5===a&&(0,A.jsxs)("div",{className:"detecting",children:[(0,A.jsx)("div",{children:t.COLOR_TITLE_DETECTING}),(0,A.jsx)("div",{children:g})]})]}),(0,A.jsxs)("div",{className:"md-footer",children:[1===a&&(0,A.jsx)("button",{onClick:function(){return b?l(3):null},className:b?"cde-bg":"cde-bg deactivated",children:t.COLOR_BTN_NEXT}),3===a&&(0,A.jsx)("button",{onClick:N?null:H,className:N?"cde-bg deactivated":"cde-bg",children:t.COLOR_BTN_COLLECT}),3===a&&(0,A.jsx)("button",{className:-1!==y.indexOf(0)?"cde-bg deactivated":"cde-bg",onClick:-1!==y.indexOf(0)?null:G,children:t.COLOR_BTN_CALIBRATE}),4===a&&!P&&(0,A.jsx)("button",{onClick:G,children:t.COLOR_BTN_CALIBRATE}),5===a&&(0,A.jsxs)("div",{children:[(0,A.jsx)("button",{className:"cde-bg",onClick:function(){V()},children:t.COLOR_BTN_STARTOVER}),(0,A.jsx)("button",{className:"cde-bg",onClick:function(){!function(e){var t,n={},r=(0,_n.Z)(hE);try{for(r.s();!(t=r.n()).done;){var i,o=t.value,s=(0,fi.Z)(o.data),a="",l=(0,_n.Z)(s);try{for(l.s();!(i=l.n()).done;){var c=i.value;a+=[].concat((0,fi.Z)(c),(0,fi.Z)(c)).join(" ")+"\n"}}catch(u){l.e(u)}finally{l.f()}n[o.label]=a}}catch(u){r.e(u)}finally{r.f()}window.localStorage.setItem("cde-color-model",JSON.stringify(n)),window.localStorage.setItem("cde-color-model-name",e)}(b),(0,B.QP)(),W(),V()},children:t.COLOR_BTN_USE}),(0,A.jsx)("button",{className:"cde-bg",onClick:function(){return function(e){console.log("download color data",e);var t,n={},r=[],i=0,o=hE.length-1,s=new(aE()),a=(0,_n.Z)(hE);try{for(a.s();!(t=a.n()).done;){var l=t.value,c=l.data;console.log(c);var u,h="",p=(0,_n.Z)(c);try{for(p.s();!(u=p.n()).done;){var d=u.value;h+=[].concat((0,fi.Z)(d),(0,fi.Z)(d)).join(" ")+"\n"}}catch(_){p.e(_)}finally{p.f()}n[l.label]=h;var f=new Blob([h],{type:"text/plain;charset=utf-8"});s.file("".concat(l.label,".txt"),h),r.push(f),i===o&&s.generateAsync({type:"blob"}).then((function(t){cE().saveAs(t,e)})),i+=1}}catch(_){a.e(_)}finally{a.f()}window.localStorage.setItem("cde-color-model",JSON.stringify(n)),window.localStorage.setItem("cde-color-model-name",e)}(b)},children:t.COLOR_BTN_DOWNLOAD})]})]})]})})};var vE=__webpack_require__.p+"static/media/close.b01879904fbeb89c8098ba6bd0e09ea1.svg",yE=function(){var t=(0,e.useContext)(x).msg,n=o((0,e.useState)(!1),2),r=n[0],i=n[1];(0,e.useEffect)((function(){return sessionStorage.getItem("minimum-requirements")||(i(!0),sessionStorage.setItem("minimum-requirements",!0)),function(){sessionStorage.removeItem("minimum-requirements")}}),[]);return(0,A.jsxs)("div",{className:"minimum-requirements",style:{display:r?"":"none"},children:[(0,A.jsxs)("div",{children:[t.WARN_REQUIREMENTS.split("%1")[0],(0,A.jsx)("a",{className:"link",href:"https://shop.robolink.com/pages/min-requirements",target:"_blank",rel:"noreferrer",children:t.WARN_MINIMUM}),t.WARN_REQUIREMENTS.split("%1")[1],(0,A.jsx)("span",{className:"close-notification",children:(0,A.jsx)("i",{className:"glyphicon glyphicon-remove"})})]}),(0,A.jsx)("div",{className:"close-btn",onClick:function(){i(!1)},children:(0,A.jsx)("img",{src:vE,alt:"X"})})]})};__webpack_require__.p,__webpack_require__(3611);var TE=__webpack_require__.p+"static/media/arrow_front.28c6245dc37b8d61967201aad12451b9.svg";var EE=__webpack_require__.p+"static/media/arrow_back.afd0c0e0cb8973efceed48296ff9fbfc.svg";var bE=__webpack_require__.p+"static/media/cleanup.50fc914dfe4887bfc3706d973740b48c.svg",OE=function(){return(0,A.jsxs)("div",{className:"icon-collection",children:[(0,A.jsx)("img",{className:"icon",src:EE,alt:"undo",onClick:function(){P().getMainWorkspace().undo()}}),(0,A.jsx)("img",{className:"icon",src:TE,alt:"redo",onClick:function(){P().getMainWorkspace().undo(!0)}}),(0,A.jsx)("img",{id:"cleanup-icon",src:bE,alt:"clean up",onClick:function(){P().getMainWorkspace().cleanUp()}})]})},kE=__webpack_require__(5066),wE=__webpack_require__(2132),SE=__webpack_require__(5431),IE=(0,S.g)(),RE=[{id:0,name:"cde",fullname:"CoDrone EDU"},{id:1,name:"cdm",fullname:"CoDrone Mini"},{id:2,name:"cdp",fullname:"CoDrone Pro/Lite"}],CE=function(){var t=o((0,e.useState)(!1),2),n=t[0],r=t[1],i=function(e){return"cde"===e?kE:"cdm"===e?wE:"cdp"===e?SE:kE}(IE),s=function(){r(!1)};return(0,A.jsxs)("div",{className:"Header",children:[(0,A.jsxs)("div",{style:{display:"inline"},onMouseLeave:s,children:[(0,A.jsx)("div",{style:{display:"inline"},onMouseOver:function(){r(!0)},children:(0,A.jsx)("img",{className:"title-cde",src:i,alt:"drone"})}),(0,A.jsxs)("div",{className:"dropdown ".concat(n?"show":""),children:[(0,A.jsx)("div",{className:"tool-tip"}),(0,A.jsx)("div",{className:"dropdown-li",children:RE.map((function(e){return(0,A.jsx)("div",{className:"dropdown-item",onClick:function(){var t;(t=e.name)!==IE?window.location.href="cde"===t?"https://codrone.robolink.com/edu/blockly/?option=edu/blockly/":"cdm"===t?"https://codrone.robolink.com/mini/blockly/?option=mini/blockly/":"cdp"===t?"https://codrone.robolink.com/pro/blockly/":"https://codrone.robolink.com/edu/blockly/":s()},children:e.fullname},e.id)}))})]})]}),(0,A.jsxs)("div",{style:{display:"inline"},children:[(0,A.jsx)("img",{className:"title-logo",src:window.location.pathname+"/images/blockly_for_rl_transparent_v2.png",alt:"logo",style:{width:"147px"}}),(0,A.jsxs)("span",{className:"version",children:["v",$.S]})]})]})},AE=function(t){var n=t.type,r=t.changeType,i=(0,e.useContext)(x).msg;return(0,A.jsx)("div",{id:"navbar",children:(0,A.jsxs)("div",{className:"navbar-btn-xml",children:[(0,A.jsx)("button",{className:"buttonTab ".concat("junior"===n&&"active"),id:"juniorXmlBtn",onClick:function(){return r("junior")},children:i.XML_JUNIOR}),(0,A.jsx)("button",{className:"buttonTab ".concat("senior"===n&&"active"),id:"seniorXmlBtn",onClick:function(){return r("senior")},children:i.XML_SENIOR})]})})};function xE(e,t){if(null==e)return{};var n,r,i=(0,Ov.Z)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ME=__webpack_require__(947),NE=__webpack_require__.n(ME);function LE(e,t){e.emptyBackpack&&function(e){var t=e.configureContextMenu;e.configureContextMenu=function(n,r){var i=e.getComponentManager().getComponent("backpack");if(i&&i.getClientRect().contains(r.clientX,r.clientY)){n.length=0;var o={text:ME.Msg.EMPTY_BACKPACK,enabled:!!i.getCount(),callback:function(){i.empty()}};n.push(o)}else t&&t.call(null,n,r)}}(t),e.removeFromBackpack&&function(){if(!ME.ContextMenuRegistry.registry.getItem("remove_from_backpack")){var e={displayText:ME.Msg.REMOVE_FROM_BACKPACK,preconditionFn:function(e){var t=e.block.workspace;if(t.isFlyout&&t.targetWorkspace){var n=t.targetWorkspace.getComponentManager().getComponent("backpack");if(n&&n.getFlyout().getWorkspace().id===t.id)return"enabled"}return"hidden"},callback:function(e){e.block.workspace.targetWorkspace.getComponentManager().getComponent("backpack").removeBlock(e.block)},scopeType:ME.ContextMenuRegistry.ScopeType.BLOCK,id:"remove_from_backpack",weight:200};ME.ContextMenuRegistry.registry.register(e)}}(),e.copyToBackpack&&function(e){if(!ME.ContextMenuRegistry.registry.getItem("copy_to_backpack")){var t={displayText:function(e){if(e.block){var t=e.block.workspace.getComponentManager().getComponent("backpack").getCount();return"".concat(ME.Msg.COPY_TO_BACKPACK," (").concat(t,")")}},preconditionFn:function(t){var n=t.block.workspace;if(!n.isFlyout){var r=n.getComponentManager().getComponent("backpack");if(r)return e?"enabled":r.containsBlock(t.block)?"disabled":"enabled"}return"hidden"},callback:function(e){e.block.workspace.getComponentManager().getComponent("backpack").addBlock(e.block)},scopeType:ME.ContextMenuRegistry.ScopeType.BLOCK,id:"copy_to_backpack",weight:200};ME.ContextMenuRegistry.registry.register(t)}}(e.disablePreconditionChecks),e.copyAllToBackpack&&function(){if(!ME.ContextMenuRegistry.registry.getItem("copy_all_to_backpack")){var e={displayText:ME.Msg.COPY_ALL_TO_BACKPACK,preconditionFn:function(e){var t=e.workspace;return!t.isFlyout&&t.getComponentManager().getComponent("backpack")?"enabled":"hidden"},callback:function(e){var t=e.workspace;t.getComponentManager().getComponent("backpack").addBlocks(t.getTopBlocks())},scopeType:ME.ContextMenuRegistry.ScopeType.WORKSPACE,id:"copy_all_to_backpack",weight:200};ME.ContextMenuRegistry.registry.register(e)}}(),e.pasteAllToBackpack&&function(){if(!ME.ContextMenuRegistry.registry.getItem("paste_all_from_backpack")){var e={displayText:function(e){if(e.workspace){var t=e.workspace.getComponentManager().getComponent("backpack").getCount();return"".concat(ME.Msg.PASTE_ALL_FROM_BACKPACK," (").concat(t,")")}},preconditionFn:function(e){var t=e.workspace;return!t.isFlyout&&t.getComponentManager().getComponent("backpack")?"enabled":"hidden"},callback:function(e){var t=e.workspace;t.getComponentManager().getComponent("backpack").getContents().forEach((function(e){ME.Xml.domToBlock(ME.Xml.textToDom(e),t).scheduleSnapAndBump()}))},scopeType:ME.ContextMenuRegistry.ScopeType.WORKSPACE,id:"paste_all_from_backpack",weight:200};ME.ContextMenuRegistry.registry.register(e)}}()}ME.Msg.COPY_ALL_TO_BACKPACK="Copy All Blocks to Backpack",ME.Msg.COPY_TO_BACKPACK="Copy to Backpack",ME.Msg.EMPTY_BACKPACK="Empty",ME.Msg.PASTE_ALL_FROM_BACKPACK="Paste All Blocks from Backpack",ME.Msg.REMOVE_FROM_BACKPACK="Remove from Backpack";var DE="backpack_open",PE=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r){var i;return(0,En.Z)(this,n),(i=t.call(this,r)).isOpen=e,i.type=DE,i}return(0,bn.Z)(n,[{key:"toJson",value:function(){var e=vn((0,gn.Z)(n.prototype),"toJson",this).call(this);return e.isOpen=this.isOpen,e}},{key:"fromJson",value:function(e){vn((0,gn.Z)(n.prototype),"fromJson",this).call(this,e),this.isOpen=e.isOpen}}]),n}(ME.Events.UiBase);ME.registry.register(ME.registry.Type.EVENT,DE,PE);var BE="backpack_change",UE=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e){var r;return(0,En.Z)(this,n),(r=t.call(this,e)).type=BE,r}return(0,bn.Z)(n)}(ME.Events.UiBase);ME.registry.register(ME.registry.Type.EVENT,BE,UE);var FE=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r){var i;return(0,En.Z)(this,n),(i=t.call(this)).workspace_=e,i.id="backpack",i.options_=function(e){var t,n={allowEmptyBackpackOpen:!0,contextMenu:{emptyBackpack:!0,removeFromBackpack:!0,copyToBackpack:!0,copyAllToBackpack:!1,pasteAllToBackpack:!1,disablePreconditionChecks:!1}};if(!e)return n;var r={};return r.contextMenu=(0,Je.Z)((0,Je.Z)({},n.contextMenu),e.contextMenu),r.allowEmptyBackpackOpen=null!==(t=e.allowEmptyBackpackOpen)&&void 0!==t?t:n.allowEmptyBackpackOpen,r}(r),i.flyout_=null,i.contents_=[],i.boundEvents_=[],i.left_=0,i.top_=0,i.WIDTH_=40,i.HEIGHT_=60,i.MARGIN_VERTICAL_=20,i.MARGIN_HORIZONTAL_=20,i.HOTSPOT_MARGIN_=10,i.svgGroup_=null,i.SPRITE_TOP_=10,i.SPRITE_LEFT_=20,i.SPRITE_SIZE_=80,i}return(0,bn.Z)(n,[{key:"init",value:function(){this.workspace_.getComponentManager().addComponent({component:this,weight:2,capabilities:[ME.ComponentManager.Capability.AUTOHIDEABLE,ME.ComponentManager.Capability.DRAG_TARGET,ME.ComponentManager.Capability.POSITIONABLE]}),this.initFlyout_(),this.createDom_(),this.attachListeners_(),LE(this.options_.contextMenu,this.workspace_),this.initialized_=!0,this.workspace_.resize()}},{key:"dispose",value:function(){this.svgGroup_&&ME.utils.dom.removeNode(this.svgGroup_);var e,t=(0,_n.Z)(this.boundEvents_);try{for(t.s();!(e=t.n()).done;){var n=e.value;ME.unbindEvent_(n)}}catch(r){t.e(r)}finally{t.f()}this.boundEvents_.length=0}},{key:"initFlyout_",value:function(){var e=new ME.Options({scrollbars:!0,parentWorkspace:this.workspace_,rtl:this.workspace_.RTL,oneBasedIndex:this.workspace_.options.oneBasedIndex,renderer:this.workspace_.options.renderer,rendererOverrides:this.workspace_.options.rendererOverrides,move:{scrollbars:!0}});if(this.workspace_.horizontalLayout){e.toolboxPosition=this.workspace_.toolboxPosition===ME.utils.toolbox.Position.TOP?ME.utils.toolbox.Position.BOTTOM:ME.utils.toolbox.Position.TOP;var t=ME.registry.getClassFromOptions(ME.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX,this.workspace_.options,!0);this.flyout_=new t(e)}else{e.toolboxPosition=this.workspace_.toolboxPosition===ME.utils.toolbox.Position.RIGHT?ME.utils.toolbox.Position.LEFT:ME.utils.toolbox.Position.RIGHT;var n=ME.registry.getClassFromOptions(ME.registry.Type.FLYOUTS_VERTICAL_TOOLBOX,this.workspace_.options,!0);this.flyout_=new n(e)}this.workspace_.getParentSvg().parentNode.appendChild(this.flyout_.createDom(ME.utils.Svg.SVG)),this.flyout_.init(this.workspace_)}},{key:"createDom_",value:function(){this.svgGroup_=ME.utils.dom.createSvgElement(ME.utils.Svg.G,{},null);var e=ME.utils.genUid(),t=ME.utils.dom.createSvgElement(ME.utils.Svg.CLIPPATH,{id:"blocklyBackpackClipPath"+e},this.svgGroup_);ME.utils.dom.createSvgElement(ME.utils.Svg.RECT,{width:this.WIDTH_,height:this.HEIGHT_},t),this.svgImg_=ME.utils.dom.createSvgElement(ME.utils.Svg.IMAGE,{class:"blocklyBackpack","clip-path":"url(#blocklyBackpackClipPath"+e+")",width:this.SPRITE_SIZE_+"px",x:-this.SPRITE_LEFT_,height:this.SPRITE_SIZE_+"px",y:-this.SPRITE_TOP_},this.svgGroup_),this.svgImg_.setAttributeNS(ME.utils.dom.XLINK_NS,"xlink:href",WE),ME.utils.dom.insertAfter(this.svgGroup_,this.workspace_.getBubbleCanvas())}},{key:"attachListeners_",value:function(){this.addEvent_(this.svgGroup_,"mousedown",this,this.blockMouseDownWhenOpenable_),this.addEvent_(this.svgGroup_,"mouseup",this,this.onClick_),this.addEvent_(this.svgGroup_,"mouseover",this,this.onMouseOver_),this.addEvent_(this.svgGroup_,"mouseout",this,this.onMouseOut_)}},{key:"addEvent_",value:function(e,t,n,r){var i=ME.browserEvents.bind(e,t,n,r);this.boundEvents_.push(i)}},{key:"getFlyout",value:function(){return this.flyout_}},{key:"getClientRect",value:function(){if(!this.svgGroup_)return null;var e=this.svgGroup_.getBoundingClientRect(),t=e.top+this.SPRITE_TOP_-this.HOTSPOT_MARGIN_,n=t+this.HEIGHT_+2*this.HOTSPOT_MARGIN_,r=e.left+this.SPRITE_LEFT_-this.HOTSPOT_MARGIN_,i=r+this.WIDTH_+2*this.HOTSPOT_MARGIN_;return new ME.utils.Rect(t,n,r,i)}},{key:"getBoundingRectangle",value:function(){return new ME.utils.Rect(this.top_,this.top_+this.HEIGHT_,this.left_,this.left_+this.WIDTH_)}},{key:"position",value:function(e,t){if(this.initialized_){var n=this.workspace_.scrollbar&&this.workspace_.scrollbar.canScrollHorizontally(),r=this.workspace_.scrollbar&&this.workspace_.scrollbar.canScrollVertically();e.toolboxMetrics.position===ME.TOOLBOX_AT_LEFT||this.workspace_.horizontalLayout&&!this.workspace_.RTL?(this.left_=e.absoluteMetrics.left+e.viewMetrics.width-this.WIDTH_-this.MARGIN_HORIZONTAL_,n&&!this.workspace_.RTL&&(this.left_-=ME.Scrollbar.scrollbarThickness)):(this.left_=this.MARGIN_HORIZONTAL_,n&&this.workspace_.RTL&&(this.left_+=ME.Scrollbar.scrollbarThickness));var i=e.toolboxMetrics.position===ME.TOOLBOX_AT_BOTTOM;i?(this.top_=e.absoluteMetrics.top+e.viewMetrics.height-this.HEIGHT_-this.MARGIN_VERTICAL_,r&&(this.top_-=ME.Scrollbar.scrollbarThickness)):this.top_=e.absoluteMetrics.top+this.MARGIN_VERTICAL_;for(var o,s=this.getBoundingRectangle(),a=0;o=t[a];a++)s.intersects(o)&&(this.top_=i?o.top-this.HEIGHT_-this.MARGIN_VERTICAL_:o.bottom+this.MARGIN_VERTICAL_,s=this.getBoundingRectangle(),a=-1);this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")")}}},{key:"getCount",value:function(){return this.contents_.length}},{key:"getContents",value:function(){return(0,fi.Z)(this.contents_)}},{key:"onDrop",value:function(e){e instanceof ME.BlockSvg&&this.addBlock(e)}},{key:"blockToCleanXmlString_",value:function(e){return function(e){for(var t=e.cloneNode(!0),n=t;n;){n.removeAttribute&&(n.removeAttribute("x"),n.removeAttribute("y"),n.removeAttribute("id"),n.removeAttribute("disabled"),"comment"==n.nodeName&&(n.removeAttribute("h"),n.removeAttribute("w"),n.removeAttribute("pinned")));var r=n.firstChild||n.nextSibling;if(!r)for(r=n.parentNode;r;){if(r.nextSibling){r=r.nextSibling;break}r=r.parentNode}n=r}return ME.Xml.domToText(t)}(ME.Xml.blockToDom(e))}},{key:"containsBlock",value:function(e){var t=this.blockToCleanXmlString_(e);return-1!==this.contents_.indexOf(t)}},{key:"addBlock",value:function(e){this.addItem(this.blockToCleanXmlString_(e))}},{key:"addBlocks",value:function(e){var t=e.map(this.blockToCleanXmlString_);this.addItems(t)}},{key:"removeBlock",value:function(e){this.removeItem(this.blockToCleanXmlString_(e))}},{key:"addItem",value:function(e){this.addItems([e])}},{key:"addItems",value:function(e){var t,n=this.filterDuplicates_(e);n.length&&((t=this.contents_).unshift.apply(t,(0,fi.Z)(n)),this.onContentChange_())}},{key:"removeItem",value:function(e){var t=this.contents_.indexOf(e);-1!==t&&(this.contents_.splice(t,1),this.onContentChange_())}},{key:"setContents",value:function(e){this.contents_=[],this.contents_=this.filterDuplicates_(e),this.onContentChange_()}},{key:"empty",value:function(){this.getCount()&&(this.contents_.length&&(this.contents_=[],this.onContentChange_()),this.close())}},{key:"onContentChange_",value:function(){this.maybeRefreshFlyoutContents_(),ME.Events.fire(new UE(this.workspace_.id))}},{key:"filterDuplicates_",value:function(e){var t=this;return e.filter((function(n,r){return e.indexOf(n)===r&&-1===t.contents_.indexOf(n)}))}},{key:"isOpenable_",value:function(){return!(this.isOpen()||!this.options_.allowEmptyBackpackOpen)||this.getCount()>0}},{key:"isOpen",value:function(){return this.flyout_.isVisible()}},{key:"open",value:function(){if(this.isOpenable_()){var e=this.contents_.map((function(e){return ME.Xml.textToDom(e)}));this.flyout_.show(e),ME.Events.fire(new PE(!0,this.workspace_.id))}}},{key:"maybeRefreshFlyoutContents_",value:function(){if(this.isOpen()){var e=this.contents_.map((function(e){return ME.Xml.textToDom(e)}));this.flyout_.show(e)}}},{key:"close",value:function(){this.isOpen()&&(this.flyout_.hide(),ME.Events.fire(new PE(!1,this.workspace_.id)))}},{key:"autoHide",value:function(e){e||this.close()}},{key:"onClick_",value:function(e){if(!ME.utils.isRightButton(e)){this.open();var t=new(ME.Events.get(ME.Events.CLICK))(null,this.workspace_.id,"backpack");ME.Events.fire(t)}}},{key:"onDragEnter",value:function(e){e instanceof ME.BlockSvg&&this.updateHoverStying_(!0)}},{key:"onDragExit",value:function(e){this.updateHoverStying_(!1)}},{key:"onMouseOver_",value:function(){this.isOpenable_()&&this.updateHoverStying_(!0)}},{key:"onMouseOut_",value:function(){this.updateHoverStying_(!1)}},{key:"updateHoverStying_",value:function(e){var t="blocklyBackpackDarken";e?ME.utils.dom.addClass(this.svgImg_,t):ME.utils.dom.removeClass(this.svgImg_,t)}},{key:"shouldPreventMove",value:function(e){return e instanceof ME.BlockSvg}},{key:"blockMouseDownWhenOpenable_",value:function(e){!ME.utils.isRightButton(e)&&this.isOpenable_()&&e.stopPropagation()}}]),n}(ME.DragTarget),WE="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDI0IDI0IiBoZWlnaHQ9IjI0cHgiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0cHgiIGZpbGw9IiM0NTVBNjQiPjxnPjxyZWN0IGZpbGw9Im5vbmUiIGhlaWdodD0iMjQiIHdpZHRoPSIyNCIvPjwvZz48Zz48Zy8+PGc+PHBhdGggZD0iTTEzLjk3LDUuMzRDMTMuOTgsNS4yMywxNCw1LjEyLDE0LDVjMC0xLjEtMC45LTItMi0ycy0yLDAuOS0yLDJjMCwwLjEyLDAuMDIsMC4yMywwLjAzLDAuMzRDNy42OSw2LjE1LDYsOC4zOCw2LDExdjggYzAsMS4xLDAuOSwyLDIsMmg4YzEuMSwwLDItMC45LDItMnYtOEMxOCw4LjM4LDE2LjMxLDYuMTUsMTMuOTcsNS4zNHogTTExLDVjMC0wLjU1LDAuNDUtMSwxLTFzMSwwLjQ1LDEsMSBjMCwwLjAzLTAuMDEsMC4wNi0wLjAyLDAuMDlDMTIuNjYsNS4wMywxMi4zNCw1LDEyLDVzLTAuNjYsMC4wMy0wLjk4LDAuMDlDMTEuMDEsNS4wNiwxMSw1LjAzLDExLDV6IE0xNiwxM3YxdjAuNSBjMCwwLjI4LTAuMjIsMC41LTAuNSwwLjVTMTUsMTQuNzgsMTUsMTQuNVYxNHYtMUg4di0xaDdoMVYxM3oiLz48L2c+PC9nPjwvc3ZnPg==";ME.Css.register([".blocklyBackpack {\n    opacity: .4;\n  }\n  .blocklyBackpackDarken {\n    opacity: .6;\n  }\n  .blocklyBackpack:active {\n    opacity: .8;\n  }"]);var HE=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(){var e;return(0,En.Z)(this,n),(e=t.call(this)).MEDIUM_PADDING=10,e}return(0,bn.Z)(n)}(NE().blockRendering.ConstantProvider),GE=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(){return(0,En.Z)(this,n),t.apply(this,arguments)}return(0,bn.Z)(n,[{key:"makeConstants_",value:function(){return new HE}}]),n}(NE().blockRendering.Renderer),VE=GE,jE=["initialXml","children","media"],ZE=(0,S.g)(),qE=function(t){var n=t.initialXml,r=t.children,i=(t.media,xE(t,jE)),o=(w(),g((function(e){return e.colorTheme}))),s=o.isDark,a=(0,e.useRef)(null),l=(0,e.useRef)(null);return(0,e.useEffect)((function(){NE().blockRendering.register("custom_renderer",VE);var e=s?NE().Themes.CoDroneDark:NE().Themes.CoDrone,r=s?"#333333":"#efefef",o=NE().inject(a.current,(0,Je.Z)({toolbox:l.current,theme:e,grid:{spacing:20,length:40,colour:r,snap:!0},media:window.location.pathname+"/images/",renderer:"custom_renderer",zoom:{controls:!0,wheel:!0}},i));n&&NE().Xml.domToWorkspace(NE().Xml.textToDom(n),o),o.addChangeListener(t.refreshTab);var c=new FE(o);c.MARGIN_HORIZONTAL_=80,c.init()}),[]),rn((function(){var e=s?NE().Themes.CoDroneDark:NE().Themes.CoDrone,r=s?"#333333":"#efefef";NE().getMainWorkspace().dispose();var o=NE().inject(a.current,(0,Je.Z)({toolbox:l.current,theme:e,grid:{spacing:20,length:40,colour:r,snap:!0},media:window.location.pathname+"/images/",renderer:"custom_renderer",zoom:{controls:!0,wheel:!0}},i));n&&NE().Xml.domToWorkspace(NE().Xml.textToDom(n),o),o.addChangeListener(t.refreshTab);var c=new FE(o);c.MARGIN_HORIZONTAL_=80,c.init(),(0,B.mK)(),(0,B.Ru)(ZE);var u=(0,B.FY)();document.querySelector(".blocklyToolboxDiv").classList.add(u)}),[s]),(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("div",{ref:a,id:"blocklyDiv"}),(0,A.jsx)("xml",{xmlns:"https://developers.google.com/blockly/xml",is:"blockly",style:{display:"none"},ref:l,children:r})]})},XE=["children"],$E=["children"],YE=["children"],zE=["children"],QE=["children"],KE=["children"],JE=qE,eb=function(t){var n=t.children,r=xE(t,XE);return r.is="blockly",e.createElement("xml",r,n)},tb=function(t){var n=t.children,r=xE(t,$E);return r.is="blockly",e.createElement("block",r,n)},nb=function(t){var n=t.children,r=xE(t,YE);return r.is="blockly",r.name=r.id?B.GH[r.id]:r.name,e.createElement("category",r,n)},rb=function(t){var n=t.children,r=xE(t,zE);return r.is="blockly",e.createElement("value",r,n)},ib=function(t){var n=t.children,r=xE(t,QE);return r.is="blockly",e.createElement("field",r,n)},ob=function(t){var n=t.children,r=xE(t,KE);return r.is="blockly",e.createElement("shadow",r,n)},sb=__webpack_require__(5702),ab=__webpack_require__.n(sb),lb=__webpack_require__(4173),cb=__webpack_require__.n(lb),ub=(0,A.jsxs)(e.Fragment,{children:[(0,A.jsxs)(nb,{name:"Flight Commands",id:"CAT_FLIGHT_COMMANDS",children:[(0,A.jsx)(tb,{type:"take_off_junior"}),(0,A.jsx)(tb,{type:"land_junior"}),(0,A.jsx)(tb,{type:"emergencyStop_junior"}),(0,A.jsx)(tb,{type:"hover_junior",children:(0,A.jsx)(rb,{name:"NUM0",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"1"})})})}),(0,A.jsxs)(tb,{type:"go_direction_junior_3",children:[(0,A.jsx)(rb,{name:"NUM0",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"1"})})}),(0,A.jsx)(rb,{name:"NUM1",children:(0,A.jsx)(tb,{type:"limit_0_To_100_50"})})]}),(0,A.jsx)(tb,{type:"turn_junior",children:(0,A.jsx)(rb,{name:"NUM0",children:(0,A.jsx)(tb,{type:"limit_0_To_180"})})}),(0,A.jsxs)(tb,{type:"turn_power_junior",children:[(0,A.jsx)(rb,{name:"SECONDS",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"1"})})}),(0,A.jsx)(rb,{name:"POWER",children:(0,A.jsx)(tb,{type:"limit_0_To_100_50"})})]})]}),(0,A.jsx)(nb,{name:"Flight Sequences",id:"CAT_FLIGHT_SEQUENCES",children:(0,A.jsx)(tb,{type:"flip_junior"})}),(0,A.jsx)(nb,{name:"Status Checkers",id:"CAT_STATUS_CHECKERS",children:(0,A.jsx)(tb,{type:"isCodeRunning_junior"})}),(0,A.jsxs)(nb,{name:"Lights",id:"CAT_LIGHTS",children:[(0,A.jsx)(tb,{type:"set_drone_LED_junior",children:(0,A.jsx)(rb,{name:"brightness",children:(0,A.jsx)(tb,{type:"limit_0_To_255_255"})})}),(0,A.jsx)(tb,{type:"drone_LED_off_junior"}),(0,A.jsx)(tb,{type:"set_controller_LED_junior",children:(0,A.jsx)(rb,{name:"brightness",children:(0,A.jsx)(tb,{type:"limit_0_To_255_255"})})}),(0,A.jsx)(tb,{type:"controller_LED_off_junior"})]}),(0,A.jsxs)(nb,{name:"Sounds",id:"CAT_SOUND",children:[(0,A.jsx)(tb,{type:"drone_buzzer_junior",children:(0,A.jsx)(rb,{name:"NUM0",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"1"})})})}),(0,A.jsx)(tb,{type:"controller_buzzer_junior",children:(0,A.jsx)(rb,{name:"NUM0",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"1"})})})})]}),(0,A.jsxs)(nb,{name:"Events",id:"CAT_EVENTS",children:[(0,A.jsx)(tb,{type:"start_flag"}),(0,A.jsx)(tb,{type:"whenKeyPress_junior"}),(0,A.jsx)(tb,{type:"whenKeyPressGet_junior"})]}),(0,A.jsxs)(nb,{name:"Input/Output",id:"CAT_IO",children:[(0,A.jsx)(tb,{type:"text_print"}),(0,A.jsx)(tb,{type:"text"}),(0,A.jsx)(tb,{type:"text_join"}),(0,A.jsx)(tb,{type:"text_clear_console"})]}),(0,A.jsxs)(nb,{name:"Logic",id:"CAT_LOGIC",children:[(0,A.jsx)(tb,{type:"controls_if"}),(0,A.jsx)(tb,{type:"logic_compare"}),(0,A.jsx)(tb,{type:"logic_operation"}),(0,A.jsx)(tb,{type:"logic_negate"}),(0,A.jsx)(tb,{type:"logic_boolean"})]}),(0,A.jsxs)(nb,{name:"Loops",id:"CAT_LOOPS",children:[(0,A.jsx)(tb,{type:"controls_repeat_ext",children:(0,A.jsx)(rb,{name:"TIMES",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"10"})})})}),(0,A.jsx)(tb,{type:"controls_whileUntil"}),(0,A.jsxs)(tb,{type:"controls_for",children:[(0,A.jsx)(rb,{name:"FROM",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"1"})})}),(0,A.jsx)(rb,{name:"TO",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"10"})})}),(0,A.jsx)(rb,{name:"BY",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"1"})})})]}),(0,A.jsx)(tb,{type:"controls_forEach"}),(0,A.jsx)(tb,{type:"controls_flow_statements"})]}),(0,A.jsxs)(nb,{name:"Math",id:"CAT_MATH",children:[(0,A.jsx)(tb,{type:"math_number"}),(0,A.jsxs)(tb,{type:"math_arithmetic",children:[(0,A.jsx)(rb,{name:"A",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"1"})})}),(0,A.jsx)(rb,{name:"B",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"1"})})})]}),(0,A.jsx)(tb,{type:"math_single",children:(0,A.jsx)(rb,{name:"NUM",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"9"})})})}),(0,A.jsx)(tb,{type:"math_trig",children:(0,A.jsx)(rb,{name:"NUM",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"45"})})})}),(0,A.jsx)(tb,{type:"math_constant"}),(0,A.jsx)(tb,{type:"math_number_property",children:(0,A.jsx)(rb,{name:"NUMBER_TO_CHECK",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"0"})})})}),(0,A.jsx)(tb,{type:"math_round",children:(0,A.jsx)(rb,{name:"NUM",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"3.1"})})})}),(0,A.jsx)(tb,{type:"math_on_list"}),(0,A.jsxs)(tb,{type:"math_modulo",children:[(0,A.jsx)(rb,{name:"DIVIDEND",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"64"})})}),(0,A.jsx)(rb,{name:"DIVISOR",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"10"})})})]}),(0,A.jsxs)(tb,{type:"math_constrain",children:[(0,A.jsx)(rb,{name:"VALUE",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"50"})})}),(0,A.jsx)(rb,{name:"LOW",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"1"})})}),(0,A.jsx)(rb,{name:"HIGH",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"100"})})})]}),(0,A.jsxs)(tb,{type:"math_random_int",children:[(0,A.jsx)(rb,{name:"FROM",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"1"})})}),(0,A.jsx)(rb,{name:"TO",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"100"})})})]}),(0,A.jsx)(tb,{type:"math_random_float"})]}),(0,A.jsxs)(nb,{name:"Timing",id:"CAT_TIMING",children:[(0,A.jsx)(tb,{type:"wait_junior",children:(0,A.jsx)(rb,{name:"NUM0",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"0"})})})}),(0,A.jsx)(tb,{type:"get_time_now"})]}),(0,A.jsx)(nb,{name:"Variables",custom:"VARIABLE",id:"CAT_VARS",children:(0,A.jsx)(tb,{type:"variables_get_blah"})}),(0,A.jsxs)(nb,{name:"Lists",children:[(0,A.jsx)(tb,{type:"lists_create_empty"}),(0,A.jsx)(tb,{type:"lists_create_with"}),(0,A.jsx)(tb,{type:"lists_repeat"}),(0,A.jsx)(tb,{type:"lists_length"}),(0,A.jsx)(tb,{type:"lists_isEmpty"}),(0,A.jsx)(tb,{type:"lists_indexOf"}),(0,A.jsx)(tb,{type:"lists_getIndex"}),(0,A.jsx)(tb,{type:"lists_setIndex"}),(0,A.jsx)(tb,{type:"lists_getSublist"}),(0,A.jsx)(tb,{type:"lists_sort"}),(0,A.jsx)(tb,{type:"lists_split"}),(0,A.jsx)(tb,{type:"lists_reverse"})]})]}),hb=(0,A.jsxs)(e.Fragment,{children:[(0,A.jsxs)(nb,{name:"Flight Commands",id:"CAT_FLIGHT_COMMANDS",children:[(0,A.jsx)(tb,{type:"take_off_senior"}),(0,A.jsx)(tb,{type:"land_senior"}),(0,A.jsx)(tb,{type:"emergencyStop_senior"}),(0,A.jsx)(tb,{type:"hover_senior",children:(0,A.jsx)(rb,{name:"NUM0",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"1"})})})}),(0,A.jsxs)(tb,{type:"move_senior",children:[(0,A.jsx)(rb,{name:"NUM0",children:(0,A.jsx)(tb,{type:"limit_0_To_100_decimal"})}),(0,A.jsx)(rb,{name:"ROLL",children:(0,A.jsx)(tb,{type:"only_integers_limit_100"})}),(0,A.jsx)(rb,{name:"PITCH",children:(0,A.jsx)(tb,{type:"only_integers_limit_100"})}),(0,A.jsx)(rb,{name:"YAW",children:(0,A.jsx)(tb,{type:"only_integers_limit_100"})}),(0,A.jsx)(rb,{name:"THROTTLE",children:(0,A.jsx)(tb,{type:"only_integers_limit_100"})})]}),(0,A.jsx)(tb,{type:"flip_senior"}),(0,A.jsx)(tb,{type:"turn_degree_senior"}),(0,A.jsx)(tb,{type:"avoid_wall_senior"}),(0,A.jsxs)(tb,{type:"move_direction_senior",children:[(0,A.jsx)(rb,{name:"DISTANCE",children:(0,A.jsx)(tb,{type:"only_integers_limit_100"})}),(0,A.jsx)(rb,{name:"SPEED",children:(0,A.jsx)(tb,{type:"only_integers_limit_100"})})]})]}),(0,A.jsxs)(nb,{name:"Flight Variables",id:"CAT_FLIGHT_VARIABLES",children:[(0,A.jsx)(tb,{type:"setRoll_senior",children:(0,A.jsx)(rb,{name:"ROLL",children:(0,A.jsx)(tb,{type:"only_integers_limit_100"})})}),(0,A.jsx)(tb,{type:"setPitch_senior",children:(0,A.jsx)(rb,{name:"PITCH",children:(0,A.jsx)(tb,{type:"only_integers_limit_100"})})}),(0,A.jsx)(tb,{type:"setYaw_senior",children:(0,A.jsx)(rb,{name:"YAW",children:(0,A.jsx)(tb,{type:"only_integers_limit_100"})})}),(0,A.jsx)(tb,{type:"setThrottle_senior",children:(0,A.jsx)(rb,{name:"THROTTLE",children:(0,A.jsx)(tb,{type:"only_integers_limit_100"})})}),(0,A.jsx)(tb,{type:"move_no_param_senior"}),(0,A.jsx)(tb,{type:"move_duration_senior",children:(0,A.jsx)(rb,{name:"NUM0",children:(0,A.jsx)(tb,{type:"limit_0_To_100_decimal"})})}),(0,A.jsxs)(tb,{type:"set_trim_senior",children:[(0,A.jsx)(rb,{name:"roll",children:(0,A.jsx)(tb,{type:"only_integers_limit_100"})}),(0,A.jsx)(rb,{name:"pitch",children:(0,A.jsx)(tb,{type:"only_integers_limit_100"})})]}),(0,A.jsx)(tb,{type:"get_trim_senior"}),(0,A.jsx)(tb,{type:"reset_trim_senior"})]}),(0,A.jsx)(nb,{name:"Status Checkers",id:"CAT_STATUS_CHECKERS",children:(0,A.jsx)(tb,{type:"isCodeRunning_junior"})}),(0,A.jsxs)(nb,{name:"Sensors",id:"CAT_SENSORS",children:[(0,A.jsx)(tb,{type:"get_range_senior"}),(0,A.jsx)(tb,{type:"get_angle_senior"}),(0,A.jsx)(tb,{type:"get_gyro_senior"}),(0,A.jsx)(tb,{type:"get_accel_senior"}),(0,A.jsx)(tb,{type:"get_pos_senior"}),(0,A.jsx)(tb,{type:"get_battery_senior"}),(0,A.jsx)(tb,{type:"get_height_senior"}),(0,A.jsx)(tb,{type:"get_pressure_senior"}),(0,A.jsx)(tb,{type:"get_temperature_senior"}),(0,A.jsx)(tb,{type:"get_elevation_senior"}),(0,A.jsx)(tb,{type:"get_color_senior"}),(0,A.jsx)(tb,{type:"get_color_hsvl_senior"}),(0,A.jsx)(tb,{type:"get_state_senior"}),(0,A.jsx)(tb,{type:"reset_sensor"})]}),(0,A.jsxs)(nb,{name:"Lights",id:"CAT_LIGHTS",children:[(0,A.jsxs)(tb,{type:"set_drone_LED_senior",children:[(0,A.jsx)(rb,{name:"red",children:(0,A.jsx)(tb,{type:"limit_0_To_255"})}),(0,A.jsx)(rb,{name:"green",children:(0,A.jsx)(tb,{type:"limit_0_To_255"})}),(0,A.jsx)(rb,{name:"blue",children:(0,A.jsx)(tb,{type:"limit_0_To_255"})}),(0,A.jsx)(rb,{name:"brightness",children:(0,A.jsx)(tb,{type:"limit_0_To_255_255"})})]}),(0,A.jsx)(tb,{type:"drone_LED_off_senior"}),(0,A.jsxs)(tb,{type:"set_controller_LED_senior",children:[(0,A.jsx)(rb,{name:"red",children:(0,A.jsx)(tb,{type:"limit_0_To_255"})}),(0,A.jsx)(rb,{name:"green",children:(0,A.jsx)(tb,{type:"limit_0_To_255"})}),(0,A.jsx)(rb,{name:"blue",children:(0,A.jsx)(tb,{type:"limit_0_To_255"})}),(0,A.jsx)(rb,{name:"brightness",children:(0,A.jsx)(tb,{type:"limit_0_To_255_255"})})]}),(0,A.jsx)(tb,{type:"controller_LED_off_senior"})]}),(0,A.jsxs)(nb,{name:"Sounds",id:"CAT_SOUND",children:[(0,A.jsx)(tb,{type:"drone_buzzer_senior",children:(0,A.jsx)(rb,{name:"NUM0",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"1000"})})})}),(0,A.jsxs)(tb,{type:"drone_buzzer_hertz_senior",children:[(0,A.jsx)(rb,{name:"HERTZ",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"500"})})}),(0,A.jsx)(rb,{name:"MILLISECONDS",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"1000"})})})]}),(0,A.jsx)(tb,{type:"controller_buzzer_senior",children:(0,A.jsx)(rb,{name:"NUM0",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"1000"})})})}),(0,A.jsxs)(tb,{type:"controller_buzzer_hertz_senior",children:[(0,A.jsx)(rb,{name:"HERTZ",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"500"})})}),(0,A.jsx)(rb,{name:"MILLISECONDS",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"1000"})})})]})]}),(0,A.jsxs)(nb,{name:"Screen",id:"CAT_SCREEN",children:[(0,A.jsxs)(tb,{type:"controller_draw_line",children:[(0,A.jsx)(rb,{name:"X1",children:(0,A.jsx)(tb,{type:"limit_2_bytes"})}),(0,A.jsx)(rb,{name:"X2",children:(0,A.jsx)(tb,{type:"limit_2_bytes"})}),(0,A.jsx)(rb,{name:"Y1",children:(0,A.jsx)(tb,{type:"limit_2_bytes"})}),(0,A.jsx)(rb,{name:"Y2",children:(0,A.jsx)(tb,{type:"limit_2_bytes"})})]}),(0,A.jsxs)(tb,{type:"controller_draw_string",children:[(0,A.jsx)(rb,{name:"X_START",children:(0,A.jsx)(tb,{type:"limit_0_To_255"})}),(0,A.jsx)(rb,{name:"Y_START",children:(0,A.jsx)(tb,{type:"limit_0_To_255"})})]}),(0,A.jsxs)(tb,{type:"controller_draw_rectangle",children:[(0,A.jsx)(rb,{name:"X_START",children:(0,A.jsx)(tb,{type:"limit_2_bytes"})}),(0,A.jsx)(rb,{name:"Y_START",children:(0,A.jsx)(tb,{type:"limit_2_bytes"})}),(0,A.jsx)(rb,{name:"WIDTH",children:(0,A.jsx)(tb,{type:"limit_2_bytes"})}),(0,A.jsx)(rb,{name:"HEIGHT",children:(0,A.jsx)(tb,{type:"limit_2_bytes"})})]}),(0,A.jsxs)(tb,{type:"controller_draw_square",children:[(0,A.jsx)(rb,{name:"X_START",children:(0,A.jsx)(tb,{type:"limit_2_bytes"})}),(0,A.jsx)(rb,{name:"Y_START",children:(0,A.jsx)(tb,{type:"limit_2_bytes"})}),(0,A.jsx)(rb,{name:"WIDTH",children:(0,A.jsx)(tb,{type:"limit_2_bytes"})})]}),(0,A.jsxs)(tb,{type:"controller_draw_point",children:[(0,A.jsx)(rb,{name:"X",children:(0,A.jsx)(tb,{type:"limit_2_bytes"})}),(0,A.jsx)(rb,{name:"Y",children:(0,A.jsx)(tb,{type:"limit_2_bytes"})})]}),(0,A.jsx)(tb,{type:"controller_clear_screen"})]}),(0,A.jsx)(nb,{name:"Color",custom:"colorTraining",id:"CAT_COLOR"}),(0,A.jsxs)(nb,{name:"Events",children:[(0,A.jsx)(tb,{type:"start_flag"}),(0,A.jsx)(tb,{type:"whenKeyPress_junior"}),(0,A.jsx)(tb,{type:"whenKeyPressGet_junior"})]}),(0,A.jsxs)(nb,{name:"Input/Output",id:"CAT_IO",children:[(0,A.jsx)(tb,{type:"text_print"}),(0,A.jsx)(tb,{type:"text"}),(0,A.jsx)(tb,{type:"text_join"}),(0,A.jsx)(tb,{type:"text_clear_console"})]}),(0,A.jsxs)(nb,{name:"Logic",id:"CAT_LOGIC",children:[(0,A.jsx)(tb,{type:"controls_if"}),(0,A.jsx)(tb,{type:"logic_compare"}),(0,A.jsx)(tb,{type:"logic_operation"}),(0,A.jsx)(tb,{type:"logic_negate"}),(0,A.jsx)(tb,{type:"logic_boolean"}),(0,A.jsx)(tb,{type:"logic_null"}),(0,A.jsx)(tb,{type:"logic_ternary"})]}),(0,A.jsxs)(nb,{name:"Loops",id:"CAT_LOOPS",children:[(0,A.jsx)(tb,{type:"controls_repeat_ext",children:(0,A.jsx)(rb,{name:"TIMES",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"10"})})})}),(0,A.jsx)(tb,{type:"controls_whileUntil"}),(0,A.jsxs)(tb,{type:"controls_for",children:[(0,A.jsx)(rb,{name:"FROM",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"1"})})}),(0,A.jsx)(rb,{name:"TO",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"10"})})}),(0,A.jsx)(rb,{name:"BY",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"1"})})})]}),(0,A.jsx)(tb,{type:"controls_forEach"}),(0,A.jsx)(tb,{type:"controls_flow_statements"})]}),(0,A.jsxs)(nb,{name:"Math",id:"CAT_MATH",children:[(0,A.jsx)(tb,{type:"math_number"}),(0,A.jsxs)(tb,{type:"math_arithmetic",children:[(0,A.jsx)(rb,{name:"A",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"1"})})}),(0,A.jsx)(rb,{name:"B",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"1"})})})]}),(0,A.jsx)(tb,{type:"math_single",children:(0,A.jsx)(rb,{name:"NUM",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"9"})})})}),(0,A.jsx)(tb,{type:"math_trig",children:(0,A.jsx)(rb,{name:"NUM",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"45"})})})}),(0,A.jsx)(tb,{type:"math_constant"}),(0,A.jsx)(tb,{type:"math_number_property",children:(0,A.jsx)(rb,{name:"NUMBER_TO_CHECK",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"0"})})})}),(0,A.jsx)(tb,{type:"math_round",children:(0,A.jsx)(rb,{name:"NUM",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"3.1"})})})}),(0,A.jsx)(tb,{type:"math_on_list"}),(0,A.jsxs)(tb,{type:"math_modulo",children:[(0,A.jsx)(rb,{name:"DIVIDEND",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"64"})})}),(0,A.jsx)(rb,{name:"DIVISOR",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"10"})})})]}),(0,A.jsxs)(tb,{type:"math_constrain",children:[(0,A.jsx)(rb,{name:"VALUE",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"50"})})}),(0,A.jsx)(rb,{name:"LOW",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"1"})})}),(0,A.jsx)(rb,{name:"HIGH",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"100"})})})]}),(0,A.jsxs)(tb,{type:"math_random_int",children:[(0,A.jsx)(rb,{name:"FROM",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"1"})})}),(0,A.jsx)(rb,{name:"TO",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"100"})})})]}),(0,A.jsx)(tb,{type:"math_random_float"}),(0,A.jsx)(tb,{type:"math_convert_unit_to_unit",children:(0,A.jsx)(rb,{name:"CONVERSION_UNITS",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"0"})})})})]}),(0,A.jsxs)(nb,{name:"Timing",id:"CAT_TIMING",children:[(0,A.jsx)(tb,{type:"wait_junior",children:(0,A.jsx)(rb,{name:"NUM0",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"0"})})})}),(0,A.jsx)(tb,{type:"get_time_now"})]}),(0,A.jsx)(nb,{name:"Variables",custom:"VARIABLE",id:"CAT_VARS",children:(0,A.jsx)(tb,{type:"variables_get_blah"})}),(0,A.jsx)(nb,{name:"Functions",custom:"PROCEDURE",id:"CAT_FUNC"})]}),pb=(0,A.jsxs)(e.Fragment,{children:[(0,A.jsxs)(nb,{name:"Flight Commands",children:[(0,A.jsx)(tb,{type:"take_off_junior"}),(0,A.jsx)(tb,{type:"land_junior"}),(0,A.jsx)(tb,{type:"emergencyStop_junior"}),(0,A.jsx)(tb,{type:"go_direction_junior",children:(0,A.jsx)(rb,{name:"NUM0",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM0",children:"0"})})})}),(0,A.jsxs)(tb,{type:"go_direction_junior_3",children:[(0,A.jsx)(rb,{name:"NUM0",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM0",children:"0"})})}),(0,A.jsx)(rb,{name:"NUM1",children:(0,A.jsx)(tb,{type:"limit_0_To_100"})})]}),(0,A.jsxs)(tb,{type:"turn_junior_3",children:[(0,A.jsx)(rb,{name:"NUM0",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM0",children:"0"})})}),(0,A.jsx)(rb,{name:"NUM1",children:(0,A.jsx)(tb,{type:"limit_0_To_100"})})]}),(0,A.jsx)(tb,{type:"hover_junior",children:(0,A.jsx)(rb,{name:"NUM0",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM0",children:"0"})})})})]}),(0,A.jsxs)(nb,{name:"Flight Sequences",children:[(0,A.jsx)(tb,{type:"flip_left_junior"}),(0,A.jsx)(tb,{type:"flip_right_junior"}),(0,A.jsx)(tb,{type:"flip_backward_junior"}),(0,A.jsx)(tb,{type:"flip_forward_junior"})]}),(0,A.jsx)(nb,{name:"Status Checkers",children:(0,A.jsx)(tb,{type:"isCodeRunning_junior"})}),(0,A.jsxs)(nb,{name:"Lights",children:[(0,A.jsx)(tb,{type:"setLEDColor_junior",children:(0,A.jsx)(rb,{name:"INTERVAL",children:(0,A.jsx)(tb,{type:"limit_0_To_100"})})}),(0,A.jsx)(tb,{type:"setLEDPattern_junior"}),(0,A.jsx)(tb,{type:"led_off_junior"}),(0,A.jsx)(tb,{type:"reset_leds_junior"})]}),(0,A.jsx)(nb,{name:"Sounds",children:(0,A.jsx)(tb,{type:"playsound_junior",children:(0,A.jsx)(rb,{name:"NUM0",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM0",children:"0"})})})})}),(0,A.jsxs)(nb,{name:"Input/Output",children:[(0,A.jsx)(tb,{type:"whenKeyPress_junior"}),(0,A.jsx)(tb,{type:"whenKeyPressGet_junior"}),(0,A.jsx)(tb,{type:"text_print"}),(0,A.jsx)(tb,{type:"text"}),(0,A.jsx)(tb,{type:"text_join"})]}),(0,A.jsxs)(nb,{name:"Logic",children:[(0,A.jsx)(tb,{type:"controls_if"}),(0,A.jsx)(tb,{type:"logic_compare"}),(0,A.jsx)(tb,{type:"logic_operation"}),(0,A.jsx)(tb,{type:"logic_negate"}),(0,A.jsx)(tb,{type:"logic_boolean"})]}),(0,A.jsxs)(nb,{name:"Loops",children:[(0,A.jsx)(tb,{type:"controls_repeat_ext",children:(0,A.jsx)(rb,{name:"TIMES",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"10"})})})}),(0,A.jsx)(tb,{type:"controls_whileUntil"}),(0,A.jsxs)(tb,{type:"controls_for",children:[(0,A.jsx)(rb,{name:"FROM",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"1"})})}),(0,A.jsx)(rb,{name:"TO",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"10"})})}),(0,A.jsx)(rb,{name:"BY",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"1"})})})]}),(0,A.jsx)(tb,{type:"controls_forEach"}),(0,A.jsx)(tb,{type:"controls_flow_statements"})]}),(0,A.jsxs)(nb,{name:"Math",children:[(0,A.jsx)(tb,{type:"math_number"}),(0,A.jsxs)(tb,{type:"math_arithmetic",children:[(0,A.jsx)(rb,{name:"A",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"1"})})}),(0,A.jsx)(rb,{name:"B",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"1"})})})]}),(0,A.jsx)(tb,{type:"math_single",children:(0,A.jsx)(rb,{name:"NUM",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"9"})})})}),(0,A.jsx)(tb,{type:"math_trig",children:(0,A.jsx)(rb,{name:"NUM",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"45"})})})}),(0,A.jsx)(tb,{type:"math_constant"}),(0,A.jsx)(tb,{type:"math_number_property",children:(0,A.jsx)(rb,{name:"NUMBER_TO_CHECK",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"0"})})})}),(0,A.jsx)(tb,{type:"math_round",children:(0,A.jsx)(rb,{name:"NUM",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"3.1"})})})}),(0,A.jsx)(tb,{type:"math_on_list"}),(0,A.jsxs)(tb,{type:"math_modulo",children:[(0,A.jsx)(rb,{name:"DIVIDEND",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"64"})})}),(0,A.jsx)(rb,{name:"DIVISOR",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"10"})})})]}),(0,A.jsxs)(tb,{type:"math_constrain",children:[(0,A.jsx)(rb,{name:"VALUE",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"50"})})}),(0,A.jsx)(rb,{name:"LOW",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"1"})})}),(0,A.jsx)(rb,{name:"HIGH",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"100"})})})]}),(0,A.jsxs)(tb,{type:"math_random_int",children:[(0,A.jsx)(rb,{name:"FROM",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"1"})})}),(0,A.jsx)(rb,{name:"TO",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"100"})})})]}),(0,A.jsx)(tb,{type:"math_random_float"})]}),(0,A.jsx)(nb,{name:"Timing",children:(0,A.jsx)(tb,{type:"wait_junior",children:(0,A.jsx)(rb,{name:"NUM0",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM0",children:"0"})})})})}),(0,A.jsx)(nb,{name:"Variables",custom:"VARIABLE",children:(0,A.jsx)(tb,{type:"variables_get_blah"})})]}),db=(0,A.jsxs)(e.Fragment,{children:[(0,A.jsxs)(nb,{name:"Flight Commands",children:[(0,A.jsx)(tb,{type:"take_off_senior"}),(0,A.jsx)(tb,{type:"land_senior"}),(0,A.jsx)(tb,{type:"emergencyStop_senior"}),(0,A.jsx)(tb,{type:"move_senior",children:(0,A.jsx)(rb,{name:"NUM0",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM0",children:"0"})})})}),(0,A.jsxs)(tb,{type:"turn_senior",children:[(0,A.jsx)(rb,{name:"NUM0",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM0",children:"0"})})}),(0,A.jsx)(rb,{name:"NUM1",children:(0,A.jsx)(tb,{type:"limit_0_To_100"})})]}),(0,A.jsx)(tb,{type:"hover_senior",children:(0,A.jsx)(rb,{name:"NUM0",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM0",children:"0"})})})})]}),(0,A.jsxs)(nb,{name:"Flight Variables",children:[(0,A.jsx)(tb,{type:"setRoll_senior",children:(0,A.jsx)(rb,{name:"ROLL",children:(0,A.jsx)(tb,{type:"limit_100_To_100"})})}),(0,A.jsx)(tb,{type:"setPitch_senior",children:(0,A.jsx)(rb,{name:"VAL",children:(0,A.jsx)(tb,{type:"limit_100_To_100"})})}),(0,A.jsx)(tb,{type:"setYaw_senior",children:(0,A.jsx)(rb,{name:"VAL",children:(0,A.jsx)(tb,{type:"limit_100_To_100"})})}),(0,A.jsx)(tb,{type:"setThrottle_senior",children:(0,A.jsx)(rb,{name:"VAL",children:(0,A.jsx)(tb,{type:"limit_100_To_100"})})}),(0,A.jsx)(tb,{type:"moveFlight_senior",children:(0,A.jsx)(rb,{name:"NUM0",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM0",children:"0"})})})}),(0,A.jsx)(tb,{type:"moveNoParams_senior"}),(0,A.jsxs)(tb,{type:"set_trim_senior",children:[(0,A.jsx)(rb,{name:"roll",children:(0,A.jsx)(tb,{type:"only_integers_limit_100"})}),(0,A.jsx)(rb,{name:"pitch",children:(0,A.jsx)(tb,{type:"only_integers_limit_100"})})]}),(0,A.jsx)(tb,{type:"get_trim_senior"}),(0,A.jsx)(tb,{type:"reset_trim_senior"}),(0,A.jsx)(tb,{type:"getRoll_senior"}),(0,A.jsx)(tb,{type:"getPitch_senior"}),(0,A.jsx)(tb,{type:"getYaw_senior"}),(0,A.jsx)(tb,{type:"getThrottle_senior"})]}),(0,A.jsx)(nb,{name:"Status Checkers",children:(0,A.jsx)(tb,{type:"isCodeRunning_senior"})}),(0,A.jsxs)(nb,{name:"Sensors",children:[(0,A.jsx)(tb,{type:"getAngles_senior"}),(0,A.jsx)(tb,{type:"getBatteryPercentage_senior"}),(0,A.jsx)(tb,{type:"getDroneTemp_senior"}),(0,A.jsx)(tb,{type:"getHeight_senior"}),(0,A.jsx)(tb,{type:"getPressure_senior"}),(0,A.jsx)(tb,{type:"reset_sensor"})]}),(0,A.jsxs)(nb,{name:"Lights",children:[(0,A.jsxs)(tb,{type:"setDroneColor_senior",children:[(0,A.jsx)(rb,{name:"red",children:(0,A.jsx)(tb,{type:"limit_0_To_250"})}),(0,A.jsx)(rb,{name:"green",children:(0,A.jsx)(tb,{type:"limit_0_To_250"})}),(0,A.jsx)(rb,{name:"blue",children:(0,A.jsx)(tb,{type:"limit_0_To_250"})}),(0,A.jsx)(rb,{name:"INTERVAL",children:(0,A.jsx)(tb,{type:"limit_0_To_100"})})]}),(0,A.jsxs)(tb,{type:"led_pattern_senior",children:[(0,A.jsx)(rb,{name:"red",children:(0,A.jsx)(tb,{type:"limit_0_To_250"})}),(0,A.jsx)(rb,{name:"green",children:(0,A.jsx)(tb,{type:"limit_0_To_250"})}),(0,A.jsx)(rb,{name:"blue",children:(0,A.jsx)(tb,{type:"limit_0_To_250"})}),(0,A.jsx)(rb,{name:"INTERVAL",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"INTERVAL",children:"0"})})})]}),(0,A.jsx)(tb,{type:"led_off_senior"}),(0,A.jsx)(tb,{type:"reset_leds_senior"})]}),(0,A.jsxs)(nb,{name:"Sounds",children:[(0,A.jsxs)(tb,{type:"playsound_senior",children:[(0,A.jsx)(rb,{name:"NOTE",children:(0,A.jsx)(tb,{type:"limit_0_To_1500"})}),(0,A.jsx)(rb,{name:"NUM0",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM0",children:"0"})})})]}),(0,A.jsx)(tb,{type:"playsound_senior_2",children:(0,A.jsx)(rb,{name:"NUM0",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM0",children:"0"})})})})]}),(0,A.jsxs)(nb,{name:"Input/Output",children:[(0,A.jsx)(tb,{type:"whenKeyPress_junior"}),(0,A.jsx)(tb,{type:"whenKeyPressGet_junior"}),(0,A.jsx)(tb,{type:"text_print"}),(0,A.jsx)(tb,{type:"text"}),(0,A.jsx)(tb,{type:"text_join"})]}),(0,A.jsxs)(nb,{name:"Logic",children:[(0,A.jsx)(tb,{type:"controls_if"}),(0,A.jsx)(tb,{type:"logic_compare"}),(0,A.jsx)(tb,{type:"logic_operation"}),(0,A.jsx)(tb,{type:"logic_negate"}),(0,A.jsx)(tb,{type:"logic_boolean"}),(0,A.jsx)(tb,{type:"logic_null"}),(0,A.jsx)(tb,{type:"logic_ternary"})]}),(0,A.jsxs)(nb,{name:"Loops",children:[(0,A.jsx)(tb,{type:"controls_repeat_ext",children:(0,A.jsx)(rb,{name:"TIMES",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"10"})})})}),(0,A.jsx)(tb,{type:"controls_whileUntil"}),(0,A.jsxs)(tb,{type:"controls_for",children:[(0,A.jsx)(rb,{name:"FROM",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"1"})})}),(0,A.jsx)(rb,{name:"TO",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"10"})})}),(0,A.jsx)(rb,{name:"BY",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"1"})})})]}),(0,A.jsx)(tb,{type:"controls_forEach"}),(0,A.jsx)(tb,{type:"controls_flow_statements"})]}),(0,A.jsxs)(nb,{name:"Math",children:[(0,A.jsx)(tb,{type:"math_number"}),(0,A.jsxs)(tb,{type:"math_arithmetic",children:[(0,A.jsx)(rb,{name:"A",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"1"})})}),(0,A.jsx)(rb,{name:"B",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"1"})})})]}),(0,A.jsx)(tb,{type:"math_single",children:(0,A.jsx)(rb,{name:"NUM",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"9"})})})}),(0,A.jsx)(tb,{type:"math_trig",children:(0,A.jsx)(rb,{name:"NUM",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"45"})})})}),(0,A.jsx)(tb,{type:"math_constant"}),(0,A.jsx)(tb,{type:"math_number_property",children:(0,A.jsx)(rb,{name:"NUMBER_TO_CHECK",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"0"})})})}),(0,A.jsx)(tb,{type:"math_round",children:(0,A.jsx)(rb,{name:"NUM",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"3.1"})})})}),(0,A.jsx)(tb,{type:"math_on_list"}),(0,A.jsxs)(tb,{type:"math_modulo",children:[(0,A.jsx)(rb,{name:"DIVIDEND",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"64"})})}),(0,A.jsx)(rb,{name:"DIVISOR",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"10"})})})]}),(0,A.jsxs)(tb,{type:"math_constrain",children:[(0,A.jsx)(rb,{name:"VALUE",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"50"})})}),(0,A.jsx)(rb,{name:"LOW",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"1"})})}),(0,A.jsx)(rb,{name:"HIGH",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"100"})})})]}),(0,A.jsxs)(tb,{type:"math_random_int",children:[(0,A.jsx)(rb,{name:"FROM",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"1"})})}),(0,A.jsx)(rb,{name:"TO",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM",children:"100"})})})]}),(0,A.jsx)(tb,{type:"math_random_float"})]}),(0,A.jsx)(nb,{name:"Timing",children:(0,A.jsx)(tb,{type:"wait_senior",children:(0,A.jsx)(rb,{name:"NUM0",children:(0,A.jsx)(ob,{type:"math_number",children:(0,A.jsx)(ib,{name:"NUM0",children:"100"})})})})}),(0,A.jsx)(nb,{name:"Variables",custom:"VARIABLE",children:(0,A.jsx)(tb,{type:"variables_get_blah"})}),(0,A.jsx)(nb,{name:"Functions",custom:"PROCEDURE"})]}),fb=Mt({name:"pyCode",initialState:{code:""},reducers:{updatePyCode:function(e,t){e.code=t.payload}}}),_b=fb.actions.updatePyCode,gb=fb.reducer,mb=__webpack_require__(4773),vb=__webpack_require__(2744),yb=new Uint8Array([10,85,17,2,112,16,7,17,54,129]),Tb=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(){return(0,En.Z)(this,n),t.call(this,yb,"takeOff command")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendSerialCommand();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(vb.Z),Eb=new Uint8Array([10,85,17,2,128,16,1,0,205,182]),bb=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(){return(0,En.Z)(this,n),t.call(this,Eb,"EmergencyStop")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendSerialCommand();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(vb.Z),Ob=__webpack_require__(4067),kb=Ob.Ei,wb=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r){switch((0,En.Z)(this,n),r=r||50,e){case __webpack_require__.g.Direction.FORWARD:kb[6]=0,kb[7]=r,kb[8]=0,kb[9]=0;break;case __webpack_require__.g.Direction.BACKWARD:kb[6]=0,kb[7]=-1*r,kb[8]=0,kb[9]=0;break;case __webpack_require__.g.Direction.UP:kb[6]=0,kb[7]=0,kb[8]=0,kb[9]=r;break;case __webpack_require__.g.Direction.DOWN:kb[6]=0,kb[7]=0,kb[8]=0,kb[9]=-1*r;break;case __webpack_require__.g.Direction.LEFT:kb[6]=-1*r,kb[7]=0,kb[8]=0,kb[9]=0;break;case __webpack_require__.g.Direction.RIGHT:kb[6]=r,kb[7]=0,kb[8]=0,kb[9]=0}return t.call(this,kb,"Go")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(vb.Z),Sb=new Uint8Array([10,85,17,2,112,16,7,18,85,177]),Ib=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(){return(0,En.Z)(this,n),t.call(this,Sb,"land command")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendSerialCommand();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(vb.Z),Rb=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r){(0,En.Z)(this,n);var i=e-r,o=Math.abs(i),s=1;o>0&&(s=i/o);var a,l=360-o,c=0;o<=l?(a=parseInt(o/360*100),(a=parseInt(7*a))>100?a=100:a<-100&&(a=-100),c=parseInt(s*a)):(a=parseInt(l/360*100),(a=parseInt(7*a))>100?a=100:a<-100&&(a=-100),c=parseInt(-1*s*a));var u=new Uint8Array((0,fi.Z)(Ob.Ei));return u[6]=0,u[7]=0,u[8]=c,u[9]=0,t.call(this,u,"Turn")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:return e.next=5,__webpack_require__.g.delay(.01);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(vb.Z),Cb=new Uint8Array([10,85,16,4,112,16,0,0,0,0,0,0]),Ab=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r){(0,En.Z)(this,n);var i=r;return e===__webpack_require__.g.Direction.RIGHT&&(i=parseInt(-1*r)),Cb[6]=0,Cb[7]=0,Cb[8]=i,Cb[9]=0,t.call(this,Cb,"Turn")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:return e.next=5,__webpack_require__.g.delay(.01);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(vb.Z),xb=Ob.Ei,Mb=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r){(0,En.Z)(this,n);var i=r-e;i>100?i=100:i<-100&&(i=-100);var o=parseInt(.2*i);return console.log(o),xb[6]=0,xb[7]=o,xb[8]=0,xb[9]=0,t.call(this,xb,"moveTowardsWall")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:return e.next=5,__webpack_require__.g.delay(.01);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(vb.Z),Nb=new Uint8Array([10,85,16,4,112,16,0,0,0,0,180,189]),Lb=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e){var r;return(0,En.Z)(this,n),(r=t.call(this,Nb,"hover command")).time=e,r}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendSerialCommand();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(vb.Z),Db=Ob.Ei,Pb=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(){return(0,En.Z)(this,n),Db[6]=0,Db[7]=0,Db[8]=0,Db[9]=0,t.call(this,Ob.Ei,"resetState")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(vb.Z),Bb=Ob.Ei,Ub=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r,i,o){return(0,En.Z)(this,n),Bb[6]=e,Bb[7]=r,Bb[8]=-1*i,Bb[9]=o,t.call(this,Bb,"move")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(vb.Z),Fb=__webpack_require__(2029),Wb=Ob.kq,Hb=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r){return(0,En.Z)(this,n),Wb[6]=255&e,Wb[7]=e>>8&255,Wb[8]=255&r,Wb[9]=r>>8&255,t.call(this,Wb,"move trim")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),this.setUint8Array(),e.next=4,this.sendSerialCommand();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(vb.Z),Gb=[10,85,17,2,112,16,4,0,0,0],Vb=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e){return(0,En.Z)(this,n),Gb[7]=e,t.call(this,new Uint8Array(Gb),"controlSpeed")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(vb.Z),jb=new Uint8Array([10,85,97,3,112,16,0,0,0,0,0]),Zb=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r){return(0,En.Z)(this,n),jb[6]=e,jb[8]=25*r>>4&255,jb[9]=25*r&255,t.call(this,jb,"sendMotorSingle command")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(vb.Z),qb=[10,85,17,2,112,32,10,128,0,0],Xb=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e){return(0,En.Z)(this,n),t.call(this,new Uint8Array(qb),"controllerState")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(vb.Z),$b=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r){var i;(0,En.Z)(this,n);var o=(0,fi.Z)(Ob.A$);o[6]=113;var s=new Uint8Array(o);return(i=t.call(this,s,"get joystick data")).direction=e,i.type=r,i}return(0,bn.Z)(n,[{key:"getData",value:function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r,i,o=this;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.generateCRC();try{70,r=0,i=setInterval((0,en.Z)(nn().mark((function e(){var s;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(++r>70)){e.next=5;break}return clearInterval(i),n(),e.abrupt("return");case 5:if(!Code.droneData.joystick){e.next=13;break}s=Code.droneData.joystick,Code.droneData.joystick=!1,clearInterval(i),console.log(s),t(s[o.direction][o.type]),e.next=15;break;case 13:return e.next=15,o.getState();case 15:case"end":return e.stop()}}),e)}))),10)}catch(s){n(s)}case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(vb.Z),Yb={0:"None_",1:"Down",2:"Press",3:"Up",4:"EndContinuePress"},zb=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e){var r;(0,En.Z)(this,n);var i=(0,fi.Z)(Ob.A$);i[6]=112;var o=new Uint8Array(i);return(r=t.call(this,o,"get button data")).type=e,r}return(0,bn.Z)(n,[{key:"getData",value:function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r,i,o=this;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.generateCRC();try{70,r=0,i=setInterval((0,en.Z)(nn().mark((function e(){var s;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(++r>70)){e.next=5;break}return clearInterval(i),n(),e.abrupt("return");case 5:if(!Code.droneData.button){e.next=14;break}s=Code.droneData.button,Code.droneData.button=!1,clearInterval(i),s.event=Yb[s.event],console.log(s),t(s),e.next=16;break;case 14:return e.next=16,o.getState();case 16:case"end":return e.stop()}}),e)}))),10)}catch(s){n(s)}case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(vb.Z),Qb=__webpack_require__(4255),Kb=__webpack_require__.n(Qb),Jb=new Uint8Array([10,85,16,20,112,16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),eO=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r,i,o,s,a){(0,En.Z)(this,n);for(var l=Kb().pack("<ffffhh",e,r,i,o,s,a),c=0;c<20;c++)Jb[c+6]=l[c];return t.call(this,Jb,"send absolute position")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(vb.Z);function tO(){__webpack_require__.g.resetState=(0,en.Z)(nn().mark((function e(){var t;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=5;break}return t=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new Pb,mb.j.addCommand(r),t();case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)}))),__webpack_require__.g.takeoff=(0,en.Z)(nn().mark((function e(){var t;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,__webpack_require__.g.moveInternal(0,0,0,0);case 2:if(!__webpack_require__.g.isSerialRunning()){e.next=9;break}if(__webpack_require__.g.RUNNING){e.next=5;break}return e.abrupt("return");case 5:return t=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Code.executionInProgress=!0,e.next=3,__webpack_require__.g.resetState();case 3:return e.next=5,__webpack_require__.g.delay(.5);case 5:return r=new Tb,mb.j.addCommand(r),e.next=9,__webpack_require__.g.delay(.1);case 9:return mb.j.addCommand(r),e.next=12,__webpack_require__.g.delay(.1);case 12:mb.j.addCommand(r),setTimeout((function(){Code.executionInProgress=!1,t()}),5e3);case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 9:console.log("Not connected");case 10:case"end":return e.stop()}}),e)}))),__webpack_require__.g.emergencyStop=(0,en.Z)(nn().mark((function e(){var t;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()||!__webpack_require__.g.RUNNING){e.next=5;break}return t=new Promise((function(e,t){var n=new bb;mb.j.addCommand(n),mb.j.addCommand(n),mb.j.addCommand(n),mb.j.addCommand(n),mb.j.addCommand(n),__webpack_require__.g.RUNNING=!1,e()})),e.abrupt("return",t);case 5:console.log("Not Running");case 6:case"end":return e.stop()}}),e)}))),__webpack_require__.g.land=(0,en.Z)(nn().mark((function e(){var t,n,r,i;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,__webpack_require__.g.moveInternal(0,0,0,0);case 2:if(!__webpack_require__.g.isSerialRunning()){e.next=16;break}if(__webpack_require__.g.RUNNING){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,__webpack_require__.g.getPos("all","m");case 7:return t=e.sent,n=__webpack_require__.g.getPreviousLand(),r=[n[0]+t.x,n[1]+t.y],e.next=12,__webpack_require__.g.setPreviousLand(r);case 12:return i=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Code.executionInProgress=!0,r=new Ib,mb.j.addCommand(r),e.next=5,__webpack_require__.g.delay(.1);case 5:return mb.j.addCommand(r),e.next=8,__webpack_require__.g.delay(.1);case 8:return mb.j.addCommand(r),e.next=11,__webpack_require__.g.delay(.1);case 11:return mb.j.addCommand(r),e.next=14,__webpack_require__.g.delay(.1);case 14:mb.j.addCommand(r),setTimeout((function(){Code.executionInProgress=!1,t()}),5e3);case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",i);case 16:console.log("Not Connected");case 17:case"end":return e.stop()}}),e)}))),__webpack_require__.g.go=function(){var e=(0,en.Z)(nn().mark((function e(t,n,r){var i;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=7;break}if(__webpack_require__.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return i=new Promise((function(e,i){if(0!==n){Code.executionInProgress=!0;var o=setInterval((0,en.Z)(nn().mark((function e(){var n;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:__webpack_require__.g.RUNNING?(n=new wb(t,r),mb.j.addCommand(n)):clearInterval(o);case 1:case"end":return e.stop()}}),e)}))),20);setTimeout((0,en.Z)(nn().mark((function t(){return nn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return clearInterval(o),mb.j.cleanStack(),t.next=4,__webpack_require__.g.hover(.5);case 4:Code.executionInProgress=!1,e();case 6:case"end":return t.stop()}}),t)}))),1e3*n)}else e()})),e.abrupt("return",i);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),__webpack_require__.g.turn=function(){var e=(0,en.Z)(nn().mark((function e(t){var n,r,i;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Turn degree : ",t),n=3,!__webpack_require__.g.isSerialRunning()){e.next=12;break}return __webpack_require__.g.RUNNING||console.log("code is not running"),e.next=6,__webpack_require__.g.hover(.01);case 6:return(r=t)>=180?r=180:r<=-180&&(r=-180),i=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(t,i){var o;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Code.executionInProgress=!0,o=setInterval((0,en.Z)(nn().mark((function e(){var t,n;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.RUNNING){e.next=8;break}return e.next=3,__webpack_require__.g.getAngle("z");case 3:t=e.sent,n=new Rb(r,t),mb.j.addCommand(n),e.next=9;break;case 8:clearInterval(o);case 9:case"end":return e.stop()}}),e)}))),300),setTimeout((0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return clearInterval(o),e.next=3,__webpack_require__.g.hover(.05);case 3:Code.executionInProgress=!1,mb.j.cleanStack(),t();case 6:case"end":return e.stop()}}),e)}))),1e3*n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",i);case 12:console.log("Not Connected");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),__webpack_require__.g.turnLeft=function(){var e=(0,en.Z)(nn().mark((function e(t){var n,r,i,o;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=parseInt(Math.abs(t)))>=180&&(n=179),e.next=4,__webpack_require__.g.getAngle("z");case 4:if(r=e.sent,!((i=n+r)>180)){e.next=13;break}return o=-(360-i),e.next=10,__webpack_require__.g.turn(o);case 10:case 15:return e.abrupt("return",e.sent);case 13:return e.next=15,__webpack_require__.g.turn(i);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),__webpack_require__.g.turnRight=function(){var e=(0,en.Z)(nn().mark((function e(t){var n,r,i,o;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=parseInt(Math.abs(t)))>=180&&(n=179),e.next=4,__webpack_require__.g.getAngle("z");case 4:if(r=e.sent,!((i=r-n)<-180)){e.next=13;break}return o=360+i,e.next=10,__webpack_require__.g.turn(o);case 10:case 15:return e.abrupt("return",e.sent);case 13:return e.next=15,__webpack_require__.g.turn(i);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),__webpack_require__.g.turnPower=function(){var e=(0,en.Z)(nn().mark((function e(t,n,r){var i;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=9;break}if(__webpack_require__.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,__webpack_require__.g.hover(.01);case 5:return i=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(i,o){var s;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Code.executionInProgress=!0,s=setInterval((0,en.Z)(nn().mark((function e(){var n;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:__webpack_require__.g.RUNNING?(n=new Ab(t,r),mb.j.addCommand(n)):clearInterval(s);case 1:case"end":return e.stop()}}),e)}))),300),setTimeout((0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return clearInterval(s),e.next=3,__webpack_require__.g.hover(.05);case 3:Code.executionInProgress=!1,mb.j.cleanStack(),i();case 6:case"end":return e.stop()}}),e)}))),1e3*n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",i);case 9:console.log("Not Connected");case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),__webpack_require__.g.avoidWall=(0,en.Z)(nn().mark((function e(){var t,n,r,i,o=arguments;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:10,n=o.length>1&&void 0!==o[1]?o[1]:20,!__webpack_require__.g.isSerialRunning()){e.next=15;break}if(__webpack_require__.g.RUNNING){e.next=5;break}return e.abrupt("return");case 5:if(0!==t&&0!==n){e.next=8;break}return resolve(),e.abrupt("return");case 8:return r=0,0,Code.executionInProgress=!0,i=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(i,o){var s,a;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=0,a=setInterval((0,en.Z)(nn().mark((function e(){var t,i,o;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.RUNNING||20===s){e.next=10;break}return e.next=3,__webpack_require__.g.getRange("front","cm");case 3:t=e.sent,r-t,r=t,50,t>n+50||t<n-50?(i=new Mb(n,t),mb.j.addCommand(i)):(o=new Lb(.5),mb.j.addCommand(o),s++),e.next=11;break;case 10:clearInterval(a);case 11:case"end":return e.stop()}}),e)}))),700),setTimeout((0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return clearInterval(a),mb.j.cleanStack(),e.next=4,__webpack_require__.g.hover(.01);case 4:Code.executionInProgress=!1,i();case 6:case"end":return e.stop()}}),e)}))),1e3*t);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",i);case 15:console.log("Not Connected");case 16:case"end":return e.stop()}}),e)}))),__webpack_require__.g.detectWall=(0,en.Z)(nn().mark((function e(){var t,n=arguments;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:500,e.next=3,__webpack_require__.g.getRange("front","mm");case 3:if(!(e.sent<t)){e.next=8;break}return e.abrupt("return",!0);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)}))),__webpack_require__.g.keepDistance=(0,en.Z)(nn().mark((function e(){var t,n,r,i,o=arguments;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:2,n=o.length>1&&void 0!==o[1]?o[1]:500,!__webpack_require__.g.isSerialRunning()){e.next=14;break}if(__webpack_require__.g.RUNNING){e.next=5;break}return e.abrupt("return");case 5:if(0!==t&&0!==n){e.next=8;break}return resolve(),e.abrupt("return");case 8:return r=n,Code.executionInProgress=!0,i=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(n,i){var o,s;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=0,s=setInterval((0,en.Z)(nn().mark((function e(){var t,n,i;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.RUNNING||20===o){e.next=8;break}return e.next=3,__webpack_require__.g.getRange("front","mm");case 3:t=e.sent,10,t>r+10||t<r-10?(n=new Mb(r,t),mb.j.addCommand(n)):(i=new Lb(.5),mb.j.addCommand(i),o++),e.next=9;break;case 8:clearInterval(s);case 9:case"end":return e.stop()}}),e)}))),500),setTimeout((0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return clearInterval(s),mb.j.cleanStack(),e.next=4,__webpack_require__.g.hover(.01);case 4:Code.executionInProgress=!1,n();case 6:case"end":return e.stop()}}),e)}))),1e3*t);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",i);case 14:console.log("Not Connected");case 15:case"end":return e.stop()}}),e)}))),__webpack_require__.g.hover=function(){var e=(0,en.Z)(nn().mark((function e(t){var n;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=7;break}if(__webpack_require__.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return n=new Promise((function(e,n){if(0!==t){Code.executionInProgress=!0;var r=setInterval((0,en.Z)(nn().mark((function e(){var n;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:__webpack_require__.g.RUNNING?(n=new Lb(t),mb.j.addCommand(n)):clearInterval(r);case 1:case"end":return e.stop()}}),e)}))),20);setTimeout((0,en.Z)(nn().mark((function t(){return nn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:clearInterval(r),mb.j.cleanStack(),setTimeout((0,en.Z)(nn().mark((function t(){return nn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Code.executionInProgress=!1,e();case 2:case"end":return t.stop()}}),t)}))),0);case 3:case"end":return t.stop()}}),t)}))),1e3*t)}else e()})),e.abrupt("return",n);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),__webpack_require__.g.moveInternal=function(){var e=(0,en.Z)(nn().mark((function e(t,n,r,i){var o;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=8;break}if(__webpack_require__.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return Code.executionInProgress=!0,o=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(o,s){var a;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=new Ub(t,n,r,i),mb.j.addCommand(a),Code.executionInProgress=!1,o();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",o);case 8:console.log("Not Connected");case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),__webpack_require__.g.move=function(){var e=(0,en.Z)(nn().mark((function e(t,n,r,i,o){var s;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("move",t,n,r,i,o),i&&(i*=-1),!t||n||r||i||o){e.next=9;break}n=Fb.K.roll,r=Fb.K.pitch,i=Fb.K.yaw,o=Fb.K.throttle,e.next=19;break;case 9:if(t||n||r||i||o){e.next=15;break}return e.next=12,__webpack_require__.g.moveInternal(Fb.K.roll,Fb.K.pitch,Fb.K.yaw,Fb.K.throttle);case 12:return e.abrupt("return",e.sent);case 15:if(t||!n&&!r){e.next=19;break}return e.next=18,__webpack_require__.g.moveInternal(n,r,i,o);case 18:return e.abrupt("return",e.sent);case 19:if(!__webpack_require__.g.isSerialRunning()){e.next=24;break}return s=new Promise((function(e,s){if(0!==t){Code.executionInProgress=!0;var a=setInterval((0,en.Z)(nn().mark((function e(){var t;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:__webpack_require__.g.RUNNING?(t=new Ub(n,r,i,o),mb.j.addCommand(t)):clearInterval(a);case 1:case"end":return e.stop()}}),e)}))),20);setTimeout((0,en.Z)(nn().mark((function t(){return nn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:clearInterval(a),mb.j.cleanStack(),setTimeout((0,en.Z)(nn().mark((function t(){return nn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Code.executionInProgress=!1,e();case 2:case"end":return t.stop()}}),t)}))),1e3);case 3:case"end":return t.stop()}}),t)}))),1e3*t)}else e()})),e.abrupt("return",s);case 24:console.log("Not Connected");case 25:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}(),__webpack_require__.g.setTrim=function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("setTrim : ",t,n),__webpack_require__.g.updateRollPitchInConnectionBox(t,n),!__webpack_require__.g.isSerialRunning()){e.next=7;break}return r=new Promise((function(e,r){__webpack_require__.g.loopInProgress=!1;var i=function(){var r=(0,en.Z)(nn().mark((function r(){return nn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:setTimeout((0,en.Z)(nn().mark((function r(){var o;return nn().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=new Hb(t,n),r.next=3,o.run();case 3:if(!__webpack_require__.g.loopInProgress||!__webpack_require__.g.RUNNING){r.next=7;break}i(),r.next=12;break;case 7:return __webpack_require__.g.loopInProgress=!1,r.next=10,__webpack_require__.g.delay(.05);case 10:return e(),r.abrupt("return");case 12:case"end":return r.stop()}}),r)}))),50);case 1:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();__webpack_require__.g.loopInProgress=!0,setTimeout((function(){__webpack_require__.g.loopInProgress=!1}),500),i()})),e.abrupt("return",r);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),__webpack_require__.g.resetTrim=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,__webpack_require__.g.setTrim(0,0);case 2:case"end":return e.stop()}}),e)}))),__webpack_require__.g.setSpeed=function(){var e=(0,en.Z)(nn().mark((function e(t){var n;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=5;break}return n=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(n,r){var i;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=new Vb(t),mb.j.addCommand(i),Code.executionInProgress=!1,n();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",n);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),__webpack_require__.g.sendMotorSingle=function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=5;break}return r=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(n,r){var i;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Code.executionInProgress=!0,i=new Zb(t,200),e.next=4,i.run();case 4:return e.next=6,__webpack_require__.g.delay(1);case 6:return i=new Zb(t,0),e.next=9,i.run();case 9:Code.executionInProgress=!1,n();case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",r);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),__webpack_require__.g.setControllerMode=(0,en.Z)(nn().mark((function e(){var t,n,r=arguments;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:"LINK",!__webpack_require__.g.isSerialRunning()){e.next=6;break}return n=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(n,r){var i;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=new Xb(t),mb.j.addCommand(i),Code.executionInProgress=!1,n();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",n);case 6:console.log("Not Connected");case 7:case"end":return e.stop()}}),e)}))),__webpack_require__.g.circle=(0,en.Z)(nn().mark((function e(){var t,n,r,i=arguments;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:75,n=i.length>1&&void 0!==i[1]?i[1]:1,!__webpack_require__.g.isSerialRunning()){e.next=7;break}return r=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(r,i){var o;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Code.executionInProgress=!0,o=new Ub(0,t,n*t,0),mb.j.addCommand(o),Code.executionInProgress=!1,r();case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",r);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)}))),__webpack_require__.g.circle_turn=(0,en.Z)(nn().mark((function e(){var t,n,r,i,o,s=arguments;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:30,n=s.length>1&&void 0!==s[1]?s[1]:1,s.length>2&&void 0!==s[2]?s[2]:1,r=t,i=0,!__webpack_require__.g.isSerialRunning()){e.next=10;break}return o=new Promise((function(e,t){if(0!==n){Code.executionInProgress=!0;var o=0,s=setInterval((0,en.Z)(nn().mark((function t(){var n;return nn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:__webpack_require__.g.RUNNING?(n=new Ub(i,r,0,0),mb.j.addCommand(n),o>=0&&o<4?(i+=10,r-=10):o>=4&&o<8?(i-=10,r-=10):o>=8&&o<12?(i-=10,r+=10):o>=12&&o<16?(i+=10,r+=10):(clearInterval(s),mb.j.cleanStack(),Code.executionInProgress=!1,e()),o+=1):clearInterval(s);case 1:case"end":return t.stop()}}),t)}))),400);setTimeout((0,en.Z)(nn().mark((function t(){return nn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:clearInterval(s),mb.j.cleanStack(),setTimeout((0,en.Z)(nn().mark((function t(){return nn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Code.executionInProgress=!1,e();case 2:case"end":return t.stop()}}),t)}))),10);case 3:case"end":return t.stop()}}),t)}))),8e3)}else e()})),e.abrupt("return",o);case 10:console.log("Not Connected");case 11:case"end":return e.stop()}}),e)}))),__webpack_require__.g.getJoystickData=function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=7;break}return Code.executionInProgress=!0,r=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(r,i){var o;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new $b(t,n),e.next=3,o.getData(r,i);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Code.executionInProgress=!1,e.abrupt("return",r);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),__webpack_require__.g.getButtonData=(0,en.Z)(nn().mark((function e(){var t;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=7;break}return Code.executionInProgress=!0,t=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new zb,e.next=3,r.getData(t,n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Code.executionInProgress=!1,e.abrupt("return",t);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)}))),__webpack_require__.g.l1Pressed=(0,en.Z)(nn().mark((function e(){var t,n,r;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,__webpack_require__.g.getButtonData();case 2:if(t=e.sent,n=t.button,r=t.event,1!==n||"Press"!==r&&"Down"!==r){e.next=9;break}return e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)}))),__webpack_require__.g.l2Pressed=(0,en.Z)(nn().mark((function e(){var t,n,r;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,__webpack_require__.g.getButtonData();case 2:if(t=e.sent,n=t.button,r=t.event,2!==n||"Press"!==r&&"Down"!==r){e.next=9;break}return e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)}))),__webpack_require__.g.r1Pressed=(0,en.Z)(nn().mark((function e(){var t,n,r;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,__webpack_require__.g.getButtonData();case 2:if(t=e.sent,n=t.button,r=t.event,4!==n||"Press"!==r&&"Down"!==r){e.next=9;break}return e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)}))),__webpack_require__.g.moveDirection=function(){var e=(0,en.Z)(nn().mark((function e(t,n,r,i){var o,s,a,l,c;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n,"cm"===r?o=n/100:"ft"===r?o=n/3.28084:"in"===r?o=n/39.37:"m"===r&&(o=1*n),i>2?i=2:i<0&&(i=0),e.next=5,__webpack_require__.g.getPos("all","m");case 5:if(s=e.sent,a=s.x,l=s.y,c=s.z,"forward"!==t){e.next=15;break}return e.next=12,__webpack_require__.g.send_absolute_position(a+o,l,c,i);case 12:case 18:case 24:case 30:return e.abrupt("return",e.sent);case 15:if("backward"!==t){e.next=21;break}return e.next=18,__webpack_require__.g.send_absolute_position(a-o,l,c,i);case 21:if("left"!==t){e.next=27;break}return e.next=24,__webpack_require__.g.send_absolute_position(a,l+o,c,i);case 27:if("right"!==t){e.next=31;break}return e.next=30,__webpack_require__.g.send_absolute_position(a,l-o,c,i);case 31:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),__webpack_require__.g.send_absolute_position=function(){var e=(0,en.Z)(nn().mark((function e(t,n,r,i){var o,s,a,l,c,u,h,p,d,f,_,g=arguments;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=g.length>4&&void 0!==g[4]?g[4]:0,s=g.length>5&&void 0!==g[5]?g[5]:0,!__webpack_require__.g.isSerialRunning()||!__webpack_require__.g.RUNNING){e.next=17;break}return a=__webpack_require__.g.getPreviousLand(),e.next=6,__webpack_require__.g.getPos("all","m");case 6:return l=e.sent,c=l.x,u=l.y,h=l.z,p=t-(a[0]+c),d=n-(a[1]+u),f=r-h,_=new Promise((function(e,t){var n=new eO(p,d,f,i,o,s);mb.j.addCommand(n),e()})),e.abrupt("return",_);case 17:console.log("Not Running");case 18:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()}var nO=new Uint8Array([10,85,4,1,128,16,64,95,143]),rO=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(){return(0,En.Z)(this,n),t.call(this,nO,"get battery percentage")}return(0,bn.Z)(n,[{key:"getBattery",value:function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r,i,o=this;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{74,r=0,i=setInterval((0,en.Z)(nn().mark((function e(){var s;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(++r>74)){e.next=5;break}return clearInterval(i),n(),e.abrupt("return");case 5:if(!Code.droneData.battery){e.next=12;break}s=Code.droneData.battery,Code.droneData.battery=!1,clearInterval(i),t(parseInt(s)),e.next=14;break;case 12:return e.next=14,o.getState();case 14:case"end":return e.stop()}}),e)}))),10)}catch(s){U.Z.error("Error: get battery",s),n(s)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(vb.Z),iO=Ob.wf,oO=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(){return(0,En.Z)(this,n),iO[6]=5,t.call(this,iO,"resetSensor")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(vb.Z),sO=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(){(0,En.Z)(this,n);var e=new Uint8Array([10,85,4,1,128,16,82,0,0]);return t.call(this,e,"get trim")}return(0,bn.Z)(n,[{key:"getData",value:function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r,i,o=this;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.generateCRC();try{70,r=0,i=setInterval((0,en.Z)(nn().mark((function e(){var s;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(++r>70)){e.next=5;break}return clearInterval(i),n(),e.abrupt("return");case 5:if(!Code.droneData.trim){e.next=13;break}s=Code.droneData.trim,Code.droneData.trim=!1,clearInterval(i),__webpack_require__.g.updateRollPitchInConnectionBox(s.roll,s.pitch),t(s),e.next=15;break;case 13:return e.next=15,o.getState();case 15:case"end":return e.stop()}}),e)}))),100)}catch(s){n(s)}case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(vb.Z),aO=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(){(0,En.Z)(this,n);var e=(0,fi.Z)(Ob.A$);e[6]=69;var r=new Uint8Array(e);return t.call(this,r,"get range")}return(0,bn.Z)(n,[{key:"getData",value:function(){var e=(0,en.Z)(nn().mark((function e(t,n,r,i){var o,s,a=this;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.generateCRC();try{70,o=0,s=setInterval((0,en.Z)(nn().mark((function e(){var l,c;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(++o>70)){e.next=5;break}return clearInterval(s),n(),e.abrupt("return");case 5:if(!Code.droneData.range){e.next=13;break}l=Code.droneData.range,Code.droneData.range=!1,clearInterval(s),"front"===r?c=l.front:"bottom"===r?c=l.bottom:t(l),t("cm"===i?parseFloat(.1*c).toFixed(1):"in"===i?parseFloat(.039*c).toFixed(2):"m"===i?parseFloat(.001*c).toFixed(3):parseInt(c)),e.next=15;break;case 13:return e.next=15,a.getState();case 15:case"end":return e.stop()}}),e)}))),10)}catch(l){n(l)}case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()}]),n}(vb.Z),lO=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e){var r;(0,En.Z)(this,n);var i=(0,fi.Z)(Ob.A$);i[6]=68;var o=new Uint8Array(i);return(r=t.call(this,o,"get motion")).type=e,r}return(0,bn.Z)(n,[{key:"getData",value:function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r,i,o=this;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.generateCRC();try{70,r=0,i=setInterval((0,en.Z)(nn().mark((function e(){var s;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(++r>70)){e.next=5;break}return clearInterval(i),n(),e.abrupt("return");case 5:if(!Code.droneData.motion){e.next=12;break}s=Code.droneData.motion,Code.droneData.motion=!1,clearInterval(i),t(s[o.type]),e.next=14;break;case 12:return e.next=14,o.getState();case 14:case"end":return e.stop()}}),e)}))),10)}catch(s){n(s)}case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(vb.Z),cO=(Ob.A$,function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e){var r;(0,En.Z)(this,n);var i=(0,fi.Z)(Ob.A$);i[6]=67;var o=new Uint8Array(i);return(r=t.call(this,o,"get altitude")).type=e,r}return(0,bn.Z)(n,[{key:"getData",value:function(){var e=(0,en.Z)(nn().mark((function e(t,n,r){var i,o,s=this;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"temp"===this.type?r=r||"Celsius":"pressure"===this.type?r=r||"pascal":"elevation"===this.type&&(r=r||"m"),this.generateCRC();try{70,i=0,o=setInterval((0,en.Z)(nn().mark((function e(){var a;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(++i>70)){e.next=5;break}return clearInterval(o),n(),e.abrupt("return");case 5:if(!Code.droneData.altitude){e.next=12;break}a=Code.droneData.altitude,Code.droneData.altitude=!1,clearInterval(o),"height"===s.type?t(100*a[s.type]):"temp"===s.type&&"Fahrenheit"===r?t(parseFloat(9*a[s.type]/5+32).toFixed(1)):"temp"===s.type&&"Celsius"===r?t(parseFloat(a[s.type]).toFixed(1)):"temp"===s.type&&"Kelvin"===r?t(parseFloat(a[s.type]+273.15).toFixed(2)):"pressure"===s.type&&"pascal"===r?t(parseFloat(a[s.type]).toFixed(1)):"pressure"===s.type&&"millibar"===r?t(parseFloat(.01*a[s.type]).toFixed(1)):"elevation"===s.type&&"m"===r?t(parseFloat(Math.round(100*a.altitude)/100)):"elevation"===s.type&&"km"===r?t(1e3*a.altitude):"elevation"===s.type&&"ft"===r?t(3.28084*a.altitude):"elevation"===s.type&&"mi"===r&&t(a.altitude/1609.34),e.next=14;break;case 12:return e.next=14,s.getState();case 14:case"end":return e.stop()}}),e)}))),10)}catch(a){n(a)}case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),n}(vb.Z)),uO=(Ob.A$,function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(){(0,En.Z)(this,n);var e=(0,fi.Z)(Ob.A$);e[6]=66;var r=new Uint8Array(e);return t.call(this,r,"get position")}return(0,bn.Z)(n,[{key:"getData",value:function(){var e=(0,en.Z)(nn().mark((function e(t,n,r,i){var o,s,a=this;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.generateCRC();try{70,o=0,s=setInterval((0,en.Z)(nn().mark((function e(){var l,c;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(++o>70)){e.next=5;break}return clearInterval(s),n(),e.abrupt("return");case 5:if(!Code.droneData.position){e.next=13;break}l=Code.droneData.position,Code.droneData.position=!1,clearInterval(s),"x"===r?c=l.x:"y"===r?c=-1*l.y:"z"===r?c=l.z:t(l),t("cm"===i?parseFloat(100*c).toFixed(1):"in"===i?parseFloat(39.37*c).toFixed(2):"mm"===i?parseInt(1e3*c):parseFloat(c).toFixed(3)),e.next=15;break;case 13:return e.next=15,a.getState();case 15:case"end":return e.stop()}}),e)}))),10)}catch(l){n(l)}case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()}]),n}(vb.Z)),hO=(Ob.A$,function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e){var r;(0,En.Z)(this,n);var i=(0,fi.Z)(Ob.A$);i[6]=49;var o=new Uint8Array(i);return(r=t.call(this,o,"get flow")).type=e,r}return(0,bn.Z)(n,[{key:"getData",value:function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r,i,o=this;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.generateCRC();try{70,r=0,i=setInterval((0,en.Z)(nn().mark((function e(){var s;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(++r>70)){e.next=5;break}return clearInterval(i),n(),e.abrupt("return");case 5:if(!Code.droneData.flow){e.next=12;break}s=Code.droneData.flow,Code.droneData.flow=!1,clearInterval(i),t(s[o.type]),e.next=14;break;case 12:return e.next=14,o.getState();case 14:case"end":return e.stop()}}),e)}))),100)}catch(s){n(s)}case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(vb.Z)),pO=(Ob.A$,{h:0,s:1,v:2,l:3}),dO=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r){var i;(0,En.Z)(this,n);var o=(0,fi.Z)(Ob.A$);o[6]=147;var s=new Uint8Array(o);return(i=t.call(this,s,"get card color")).type=e,i.hsvl=r,i}return(0,bn.Z)(n,[{key:"getData",value:function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r,i,o=this;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.generateCRC();try{70,r=0,i=setInterval((0,en.Z)(nn().mark((function e(){var s,a,l,c,u,h;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(++r>70)){e.next=5;break}return clearInterval(i),n(),e.abrupt("return");case 5:if(!Code.droneData.cardColor){e.next=13;break}s=Code.droneData.cardColor,Code.droneData.cardColor=!1,clearInterval(i),"all"===o.type&&t([0].concat((0,fi.Z)(s.frontHSVL),(0,fi.Z)(s.backHSVL),[s.front,s.back,null])),""===o.hsvl?t(s[o.type]):"hsv"===o.hsvl?(a=o.type+"HSVL",l=s[a],t([l[0],l[1],l[2]])):"hsvl"===o.hsvl?(c=o.type+"HSVL",t(s[c])):(u=o.type+"HSVL",h=pO[o.hsvl],t(s[u][h])),e.next=15;break;case 13:return e.next=15,o.getState();case 15:case"end":return e.stop()}}),e)}))),10)}catch(s){n(s)}case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(vb.Z),fO=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r){var i;return(0,En.Z)(this,n),(i=t.call(this)).meter=e,i.conversion=r,i}return(0,bn.Z)(n,[{key:"getData",value:function(){var e=(0,en.Z)(nn().mark((function e(t,n){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{"cm"===this.conversion?t(parseFloat(100*this.meter).toFixed(2)):"in"===this.conversion?t(parseFloat(39.37*this.meter).toFixed(2)):"mm"===this.conversion?t(parseFloat(1e3*this.meter).toFixed(2)):t(this.meter)}catch(r){n(r)}case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(vb.Z),_O=new Uint8Array([10,85,4,1,128,16,64,95,143]),gO={0:"None",16:"Ready",17:"Start",18:"Takeoff",19:"Flight",20:"Landing",21:"Flip",22:"Reverse",32:"Stop",48:"Accident",49:"Error",64:"Test",65:"EndOfType"},mO={0:"None",1:"Ready",2:"Hovering",3:"Moving",4:"ReturnHome"},vO=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(){return(0,En.Z)(this,n),t.call(this,_O,"get state sensor")}return(0,bn.Z)(n,[{key:"getStateSensor",value:function(){var e=(0,en.Z)(nn().mark((function e(t,n,r){var i,o,s=this;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{74,i=0,o=setInterval((0,en.Z)(nn().mark((function e(){var a;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(++i>74)){e.next=5;break}return clearInterval(o),n(),e.abrupt("return");case 5:if(!Code.droneData.state){e.next=13;break}a=Code.droneData.state,Code.droneData.state=!1,clearInterval(o),"modeFlight"===r?t(gO[a[r]]):"modeMovement"===r&&t(mO[a[r]]),t(a[r]),e.next=15;break;case 13:return e.next=15,s.getState();case 15:case"end":return e.stop()}}),e)}))),10)}catch(a){console.log("error get state",a),n(a)}case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),n}(vb.Z),yO=new Uint8Array([10,85,4,1,128,32,64,0,0]),TO=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(){return(0,En.Z)(this,n),t.call(this,yO,"get lost connection")}return(0,bn.Z)(n,[{key:"getData",value:function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r,i,o=this;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.generateCRC();try{70,r=0,i=setInterval((0,en.Z)(nn().mark((function e(){var s;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(++r>70)){e.next=5;break}return clearInterval(i),n(),e.abrupt("return");case 5:if(!Code.droneData.connection){e.next=13;break}s=Code.droneData.connection,Code.droneData.connection=!1,clearInterval(i),t(9===s),e.next=15;break;case 13:return e.next=15,o.getState();case 15:case"end":return e.stop()}}),e)}))),10)}catch(s){console.log("error get state",s),n(s)}case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(vb.Z);function EO(){__webpack_require__.g.getBatteryPercentage=(0,en.Z)(nn().mark((function e(){var t;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=5;break}return t=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new rO,e.next=3,r.getBattery(t,n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)}))),__webpack_require__.g.getMotion=function(){var e=(0,en.Z)(nn().mark((function e(t){var n;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=7;break}return Code.executionInProgress=!0,n=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(n,r){var i;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new lO(t),e.next=3,i.getData(n,r);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Code.executionInProgress=!1,e.abrupt("return",n);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),__webpack_require__.g.getAngle=function(){var e=(0,en.Z)(nn().mark((function e(t){var n,r=arguments;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],__webpack_require__.g.activateOrNot("gyro",n),"x"!==t){e.next=8;break}return e.next=5,__webpack_require__.g.getMotion("angleRoll");case 5:return e.abrupt("return",e.sent);case 8:if("y"!==t){e.next=14;break}return e.next=11,__webpack_require__.g.getMotion("anglePitch");case 11:return e.abrupt("return",e.sent);case 14:if("z"!==t){e.next=20;break}return e.next=17,__webpack_require__.g.getMotion("angleYaw");case 17:return e.abrupt("return",e.sent);case 20:console.log("wrong command");case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),__webpack_require__.g.getGyro=function(){var e=(0,en.Z)(nn().mark((function e(t){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("x"!==t){e.next=6;break}return e.next=3,__webpack_require__.g.getMotion("gyroRoll");case 3:return e.abrupt("return",e.sent);case 6:if("y"!==t){e.next=12;break}return e.next=9,__webpack_require__.g.getMotion("gyroPitch");case 9:return e.abrupt("return",e.sent);case 12:if("z"!==t){e.next=18;break}return e.next=15,__webpack_require__.g.getMotion("gyroYaw");case 15:return e.abrupt("return",e.sent);case 18:console.log("wrong command");case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),__webpack_require__.g.getAccel=function(){var e=(0,en.Z)(nn().mark((function e(t){var n,r=arguments;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],__webpack_require__.g.activateOrNot("accel",n),"x"!==t){e.next=8;break}return e.next=5,__webpack_require__.g.getMotion("accelX");case 5:return e.abrupt("return",e.sent);case 8:if("y"!==t){e.next=14;break}return e.next=11,__webpack_require__.g.getMotion("accelY");case 11:return e.abrupt("return",e.sent);case 14:if("z"!==t){e.next=20;break}return e.next=17,__webpack_require__.g.getMotion("accelZ");case 17:return e.abrupt("return",e.sent);case 20:console.log("wrong command");case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),__webpack_require__.g.getPos=function(){var e=(0,en.Z)(nn().mark((function e(t){var n,r,i,o=arguments;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:"cm",r=o.length>2&&void 0!==o[2]&&o[2],!__webpack_require__.g.isSerialRunning()){e.next=10;break}return Code.executionInProgress=!0,__webpack_require__.g.activateOrNot("position",r),i=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(r,i){var o;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new uO,e.next=3,o.getData(r,i,t,n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Code.executionInProgress=!1,e.abrupt("return",i);case 10:console.log("Not Connected");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),__webpack_require__.g.getFlow=function(){var e=(0,en.Z)(nn().mark((function e(t){var n;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=7;break}return Code.executionInProgress=!0,n=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(n,r){var i;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new hO(t),e.next=3,i.getData(n,r);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Code.executionInProgress=!1,e.abrupt("return",n);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),__webpack_require__.g.getDroneTemp=function(){var e=(0,en.Z)(nn().mark((function e(t){var n,r,i=arguments;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!__webpack_require__.g.isSerialRunning()){e.next=7;break}return __webpack_require__.g.activateOrNot("temp",n),r=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(n,r){var i;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new cO("temp"),e.next=3,i.getData(n,r,t);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",r);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),__webpack_require__.g.getHeight=(0,en.Z)(nn().mark((function e(){var t,n=arguments;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"cm",e.next=3,__webpack_require__.g.getRange("bottom",t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),__webpack_require__.g.getPressure=(0,en.Z)(nn().mark((function e(){var t,n,r,i=arguments;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:"pascal",n=i.length>1&&void 0!==i[1]&&i[1],!__webpack_require__.g.isSerialRunning()){e.next=8;break}return __webpack_require__.g.activateOrNot("altitude",n),r=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(n,r){var i;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new cO("pressure"),e.next=3,i.getData(n,r,t);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",r);case 8:console.log("Not Connected");case 9:case"end":return e.stop()}}),e)}))),__webpack_require__.g.getTrim=(0,en.Z)(nn().mark((function e(){var t;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=5;break}return t=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new sO,e.next=3,r.getData(t,n);case 3:return e.next=5,__webpack_require__.g.delay(.01);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)}))),__webpack_require__.g.reset_sensor=(0,en.Z)(nn().mark((function e(){var t;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=8;break}if(__webpack_require__.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return Code.executionInProgress=!0,t=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new oO,mb.j.addCommand(r),Code.executionInProgress=!1,e.next=5,__webpack_require__.g.delay(1.5);case 5:t();case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 8:console.log("Not Connected");case 9:case"end":return e.stop()}}),e)}))),__webpack_require__.g.getRange=function(){var e=(0,en.Z)(nn().mark((function e(t){var n,r,i,o=arguments;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:"cm",r=o.length>2&&void 0!==o[2]&&o[2],!__webpack_require__.g.isSerialRunning()){e.next=8;break}return"front"===t?__webpack_require__.g.activateOrNot("frontRange",r):__webpack_require__.g.activateOrNot("bottomRange",r),i=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(r,i){var o;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new aO,e.next=3,o.getData(r,i,t,n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",i);case 8:console.log("Not Connected");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),__webpack_require__.g.getAltitude=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,__webpack_require__.g.getRange("bottom","cm");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),__webpack_require__.g.getElevation=function(){var e=(0,en.Z)(nn().mark((function e(t){var n;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=5;break}return n=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(n,r){var i;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new cO("elevation"),e.next=3,i.getData(n,r,t);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",n);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),__webpack_require__.g.getCardColor=function(){var e=(0,en.Z)(nn().mark((function e(t){var n,r,i=arguments;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!__webpack_require__.g.isSerialRunning()){e.next=9;break}return Code.executionInProgress=!0,"front"===t?__webpack_require__.g.activateOrNot("frontColor",n):__webpack_require__.g.activateOrNot("rearColor",n),r=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(n,r){var i;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new dO(t,""),e.next=3,i.getData(n,r);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Code.executionInProgress=!1,e.abrupt("return",r);case 9:console.log("Not Connected");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),__webpack_require__.g.getFrontHSVL=function(){var e=(0,en.Z)(nn().mark((function e(t){var n,r=arguments;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]&&r[1],__webpack_require__.g.activateOrNot("frontColor",n),e.next=4,__webpack_require__.g.getCardColorHSVL("front",t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),__webpack_require__.g.getBackHSVL=function(){var e=(0,en.Z)(nn().mark((function e(t){var n,r=arguments;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]&&r[1],__webpack_require__.g.activateOrNot("rearColor",n),e.next=4,__webpack_require__.g.getCardColorHSVL("back",t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),__webpack_require__.g.getCardColorHSVL=function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=7;break}return Code.executionInProgress=!0,r=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(r,i){var o;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new dO(t,n),e.next=3,o.getData(r,i);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Code.executionInProgress=!1,e.abrupt("return",r);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),__webpack_require__.g.convertMeter=function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=5;break}return r=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(r,i){var o;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new fO(t,n),e.next=3,o.getData(r,i);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",r);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),__webpack_require__.g.getStateSensor=function(){var e=(0,en.Z)(nn().mark((function e(t){var n;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=5;break}return n=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(n,r){var i;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new vO,e.next=3,i.getStateSensor(n,r,t);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",n);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),__webpack_require__.g.checkLostConnection=(0,en.Z)(nn().mark((function e(){var t;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=5;break}return t=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new TO,e.next=3,r.getData(t,n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)}))),__webpack_require__.g.getAllSensorData=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,__webpack_require__.g.getAccel("x");case 3:return e.next=5,__webpack_require__.g.getAngle("x");case 5:return e.next=7,__webpack_require__.g.getRange("front","mm");case 7:return e.next=9,__webpack_require__.g.getDroneTemp("Fahrenheit");case 9:return e.next=11,__webpack_require__.g.getPos("x","mm");case 11:if(!__webpack_require__.g.knn){e.next=16;break}return e.next=14,__webpack_require__.g.predictColor("front");case 14:e.next=18;break;case 16:return e.next=18,__webpack_require__.g.getFrontHSVL("h");case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log(e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])}))),__webpack_require__.g.activateOrNot=function(e,t){t&&(__webpack_require__.g.FREEZEDASHBOARD=!0,__webpack_require__.g.activateSensor(e))}}var bO=Ob.p,OO=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:25;return(0,En.Z)(this,n),bO[5]=16,bO[6]=34,bO[7]=9*o>>4&255,bO[8]=0,bO[9]=e,bO[10]=r,bO[11]=i,t.call(this,new Uint8Array(bO),"ledColor")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(vb.Z),kO=Ob.p,wO=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r,i,o,s){return(0,En.Z)(this,n),kO[6]=o,kO[7]=255-25*s&255,kO[8]=255-25*s>>8&255,kO[9]=e,kO[10]=r,kO[11]=i,t.call(this,new Uint8Array(kO),"ledColorMode")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(vb.Z),SO=Ob.p,IO=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(){(0,En.Z)(this,n);return SO[6]=34,SO[7]=56,SO[8]=136,SO[9]=255,SO[10]=0,SO[11]=0,t.call(this,SO,"resetled")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(vb.Z),RO=Ob.cL,CO=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:25;return(0,En.Z)(this,n),RO[5]=32,RO[6]=34,RO[7]=9*o>>4&255,RO[8]=0,RO[9]=e,RO[10]=r,RO[11]=i,t.call(this,new Uint8Array(RO),"controllerLedColor")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(vb.Z);function AO(){__webpack_require__.g.setLEDColor=function(){var e=(0,en.Z)(nn().mark((function e(t,n,r,i){var o;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=8;break}if(__webpack_require__.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return Code.executionInProgress=!0,o=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(o,s){var a;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=new OO(t,n,r,i),mb.j.addCommand(a),Code.executionInProgress=!1,o();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",o);case 8:console.log("Not Connected");case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),__webpack_require__.g.setDroneLED=function(){var e=(0,en.Z)(nn().mark((function e(t,n,r,i){var o;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("set drone led"),!__webpack_require__.g.isSerialRunning()){e.next=9;break}if(__webpack_require__.g.RUNNING){e.next=4;break}return e.abrupt("return");case 4:return Code.executionInProgress=!0,o=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(o,s){var a;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=new OO(t,n,r,i),mb.j.addCommand(a),Code.executionInProgress=!1,o();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",o);case 9:console.log("Not Connected");case 10:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),__webpack_require__.g.resetLED=function(){var e=(0,en.Z)(nn().mark((function e(t,n,r,i){var o;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=8;break}if(__webpack_require__.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return Code.executionInProgress=!0,o=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new IO,mb.j.addCommand(r),Code.executionInProgress=!1,t();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",o);case 8:console.log("Not Connected");case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),__webpack_require__.g.setLEDPattern=function(){var e=(0,en.Z)(nn().mark((function e(t,n,r,i,o){var s;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=8;break}if(__webpack_require__.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return Code.executionInProgress=!0,s=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(s,a){var l;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=new wO(t,n,r,i,o),mb.j.addCommand(l),Code.executionInProgress=!1,s();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",s);case 8:console.log("Not Connected");case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}(),__webpack_require__.g.LED_pattern=function(){var e=(0,en.Z)(nn().mark((function e(t,n,r,i,o){var s;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=8;break}if(__webpack_require__.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return Code.executionInProgress=!0,s=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(s,a){var l;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=new wO(t,n,r,i,o),mb.j.addCommand(l),Code.executionInProgress=!1,s();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",s);case 8:console.log("Not Connected");case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}(),__webpack_require__.g.droneLEDOff=(0,en.Z)(nn().mark((function e(){var t;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("drone led off"),!__webpack_require__.g.isSerialRunning()){e.next=9;break}if(__webpack_require__.g.RUNNING){e.next=4;break}return e.abrupt("return");case 4:return Code.executionInProgress=!0,t=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new OO(0,0,0,0),mb.j.addCommand(r),Code.executionInProgress=!1,t();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 9:console.log("Not Connected");case 10:case"end":return e.stop()}}),e)}))),__webpack_require__.g.setControllerLED=function(){var e=(0,en.Z)(nn().mark((function e(t,n,r,i){var o;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("set controller LED"),!__webpack_require__.g.isSerialRunning()){e.next=9;break}if(__webpack_require__.g.RUNNING){e.next=4;break}return e.abrupt("return");case 4:return Code.executionInProgress=!0,o=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(o,s){var a;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=new CO(t,n,r,i),mb.j.addCommand(a),Code.executionInProgress=!1,o();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",o);case 9:console.log("Not Connected");case 10:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),__webpack_require__.g.controllerLEDOff=(0,en.Z)(nn().mark((function e(){var t;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("controller LED Off"),!__webpack_require__.g.isSerialRunning()){e.next=9;break}if(__webpack_require__.g.RUNNING){e.next=4;break}return e.abrupt("return");case 4:return Code.executionInProgress=!0,t=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new CO(0,0,0,0),mb.j.addCommand(r),Code.executionInProgress=!1,t();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 9:console.log("Not Connected");case 10:case"end":return e.stop()}}),e)})))}var xO=Ob.R9,MO=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e){return(0,En.Z)(this,n),xO[7]=e,t.call(this,xO,"Flip")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(vb.Z),NO=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e){var r;return(0,En.Z)(this,n),(r=t.call(this)).seconds=e,r}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){var t=this;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3*t.seconds)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),n}(vb.Z),LO=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e){var r;return(0,En.Z)(this,n),(r=t.call(this)).data=e,r}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("print: ",this.data),this.writeConsole();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"writeConsole",value:function(){if("object"!==typeof this.data||Array.isArray(this.data))Array.isArray(this.data)&&(this.data="["+this.data+"]");else{var e=[],t=this.data;Object.keys(this.data).forEach((function(n){e.push(n+":"+t[n])})),this.data="{"+e.join(", ")+"}"}document.getElementById("consoleContent").innerHTML="<span>".concat(this.data,"<br/></span>")+document.getElementById("consoleContent").innerHTML}}]),n}(vb.Z),DO={};function PO(){__webpack_require__.g.flipLeft=(0,en.Z)(nn().mark((function e(){var t,n;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=24;break}return e.next=3,__webpack_require__.g.getBatteryPercentage();case 3:if(t=e.sent,console.log(t),!(t<50)){e.next=19;break}return e.next=8,__webpack_require__.g.controllerBuzzer(Note.D5,100);case 8:return e.next=10,__webpack_require__.g.controllerBuzzer(Note.CS5,100);case 10:return e.next=12,__webpack_require__.g.controllerBuzzer(Note.C5,100);case 12:return e.next=14,__webpack_require__.g.controllerBuzzer(Note.B4,150);case 14:return e.next=16,__webpack_require__.g.delay(.3);case 16:return e.next=18,__webpack_require__.g.printConsole("Battery too low for flip.");case 18:return e.abrupt("return");case 19:return Code.executionInProgress=!0,n=new Promise((function(e,t){var n=new MO(__webpack_require__.g.flip.LEFT);mb.j.addCommand(n),Code.executionInProgress=!1,e()})),e.abrupt("return",n);case 24:console.log("Not Connected");case 25:case"end":return e.stop()}}),e)}))),__webpack_require__.g.flipRight=(0,en.Z)(nn().mark((function e(){var t,n;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=24;break}return e.next=3,__webpack_require__.g.getBatteryPercentage();case 3:if(t=e.sent,console.log(t),!(t<50)){e.next=19;break}return e.next=8,__webpack_require__.g.controllerBuzzer(Note.D5,100);case 8:return e.next=10,__webpack_require__.g.controllerBuzzer(Note.CS5,100);case 10:return e.next=12,__webpack_require__.g.controllerBuzzer(Note.C5,100);case 12:return e.next=14,__webpack_require__.g.controllerBuzzer(Note.B4,150);case 14:return e.next=16,__webpack_require__.g.delay(.3);case 16:return e.next=18,__webpack_require__.g.printConsole("Battery too low for flip.");case 18:return e.abrupt("return");case 19:return Code.executionInProgress=!0,n=new Promise((function(e,t){var n=new MO(__webpack_require__.g.flip.RIGHT);mb.j.addCommand(n),Code.executionInProgress=!1,e()})),e.abrupt("return",n);case 24:console.log("Not Connected");case 25:case"end":return e.stop()}}),e)}))),__webpack_require__.g.flipBack=function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r,i;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=24;break}return e.next=3,__webpack_require__.g.getBatteryPercentage();case 3:if(r=e.sent,console.log(r),!(r<50)){e.next=19;break}return e.next=8,__webpack_require__.g.controllerBuzzer(Note.D5,100);case 8:return e.next=10,__webpack_require__.g.controllerBuzzer(Note.CS5,100);case 10:return e.next=12,__webpack_require__.g.controllerBuzzer(Note.C5,100);case 12:return e.next=14,__webpack_require__.g.controllerBuzzer(Note.B4,150);case 14:return e.next=16,__webpack_require__.g.delay(.3);case 16:return e.next=18,__webpack_require__.g.printConsole("Battery too low for flip.");case 18:return e.abrupt("return");case 19:return Code.executionInProgress=!0,i=new Promise((function(e,t){var n=new MO(__webpack_require__.g.flip.REAR);mb.j.addCommand(n),Code.executionInProgress=!1,e()})),e.abrupt("return",i);case 24:console.log("Not Connected");case 25:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),__webpack_require__.g.flipFront=(0,en.Z)(nn().mark((function e(){var t,n;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=24;break}return e.next=3,__webpack_require__.g.getBatteryPercentage();case 3:if(t=e.sent,console.log(t),!(t<50)){e.next=19;break}return e.next=8,__webpack_require__.g.controllerBuzzer(Note.D5,100);case 8:return e.next=10,__webpack_require__.g.controllerBuzzer(Note.CS5,100);case 10:return e.next=12,__webpack_require__.g.controllerBuzzer(Note.C5,100);case 12:return e.next=14,__webpack_require__.g.controllerBuzzer(Note.B4,150);case 14:return e.next=16,__webpack_require__.g.delay(.3);case 16:return e.next=18,__webpack_require__.g.printConsole("Battery too low for flip.");case 18:return e.abrupt("return");case 19:return Code.executionInProgress=!0,n=new Promise((function(e,t){var n=new MO(__webpack_require__.g.flip.FRONT);mb.j.addCommand(n),Code.executionInProgress=!1,e()})),e.abrupt("return",n);case 24:console.log("Not Connected");case 25:case"end":return e.stop()}}),e)}))),__webpack_require__.g.delay=function(){var e=(0,en.Z)(nn().mark((function e(t){var n;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=9;break}if(__webpack_require__.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:if(0!==t){e.next=5;break}return e.abrupt("return");case 5:return n=new Promise((function(e,n){var r=setInterval((function(){if(__webpack_require__.g.RUNNING){Code.executionInProgress=!0;var e=new NO(0);mb.j.addCommand(e)}else clearInterval(r)}),10);setTimeout((0,en.Z)(nn().mark((function t(){return nn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:clearInterval(r),mb.j.cleanStack(),Code.executionInProgress=!1,e();case 4:case"end":return t.stop()}}),t)}))),1e3*t)})),e.abrupt("return",n);case 9:console.log("Not Connected");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),__webpack_require__.g.getTimeNow=(0,en.Z)(nn().mark((function e(){var t,n,r=arguments;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"seconds",Code.executionInProgress=!0,n=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(n,r){var i,o;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=new Date,o=i.getTime(),"seconds"===t&&(o=parseInt(.001*o)),n(o);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Code.executionInProgress=!1,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),__webpack_require__.g.getTimeFromStart=(0,en.Z)(nn().mark((function e(){var t,n,r=arguments;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"seconds",Code.executionInProgress=!0,n=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(n,r){var i;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Date.now()-__webpack_require__.g.START_TIME,"seconds"===t&&(i=parseInt(.001*i)),n(i);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Code.executionInProgress=!1,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),__webpack_require__.g.printConsole=function(){var e=(0,en.Z)(nn().mark((function e(t){var n;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(__webpack_require__.g.RUNNING){e.next=2;break}return e.abrupt("return");case 2:return __webpack_require__.g.showConsole(!0),Code.executionInProgress=!0,n=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(n,r){var i;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=new LO(t),mb.j.addCommand(i),Code.executionInProgress=!1,n();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),__webpack_require__.g.clearConsole=(0,en.Z)(nn().mark((function e(){var t;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(__webpack_require__.g.RUNNING){e.next=2;break}return e.abrupt("return");case 2:return t=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(t,n){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById("consoleContent").innerHTML="",Code.executionInProgress=!1,t();case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),__webpack_require__.g.flySequence=function(e){console.log("fly"),Code.executionInProgress=!0;var t=new Promise(function(){var t=(0,en.Z)(nn().mark((function t(n,r){return nn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e!==__webpack_require__.g.Sequence.SQUARE){t.next=5;break}return t.next=3,DO.square();case 3:t.next=35;break;case 5:if(e!==__webpack_require__.g.Sequence.CIRCLE){t.next=10;break}return t.next=8,DO.circle();case 8:t.next=35;break;case 10:if(e!==__webpack_require__.g.Sequence.TRIANGLE){t.next=15;break}return t.next=13,DO.triangle();case 13:t.next=35;break;case 15:if(e!==__webpack_require__.g.Sequence.ZIGZAG){t.next=20;break}return t.next=18,DO.zigzag();case 18:t.next=35;break;case 20:if(e!==__webpack_require__.g.Sequence.SWAY){t.next=25;break}return t.next=23,DO.sway();case 23:t.next=35;break;case 25:if(e!==__webpack_require__.g.Sequence.HOP){t.next=30;break}return t.next=28,DO.hop();case 28:t.next=35;break;case 30:if(e!==__webpack_require__.g.Sequence.SPIRAL){t.next=35;break}return t.next=33,DO.spiral();case 33:t.next=35;break;case 35:Code.executionInProgress=!1,n();case 37:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());return t},DO.square=function(){if(console.log("move in a square mini"),__webpack_require__.g.RUNNING){var e=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(t,n){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,__webpack_require__.g.go(Direction.RIGHT,1.5,30);case 2:return e.next=4,__webpack_require__.g.go(Direction.FORWARD,1.5,30);case 4:return e.next=6,__webpack_require__.g.go(Direction.LEFT,1.5,30);case 6:return e.next=8,__webpack_require__.g.go(Direction.BACKWARD,1.5,30);case 8:t();case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());return e}},DO.circle=function(){if(console.log("move in a circle mini"),__webpack_require__.g.RUNNING){var e=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(t,n){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,__webpack_require__.g.move(5,10,0,-10,0);case 2:t();case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());return e}},DO.triangle=function(){if(console.log("move in a triangle mini"),__webpack_require__.g.RUNNING){var e=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(t,n){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,__webpack_require__.g.move(1,-40,40,0,0);case 2:return e.next=4,__webpack_require__.g.hover(1);case 4:return e.next=6,__webpack_require__.g.move(1,50,40,0,0);case 6:return e.next=8,__webpack_require__.g.hover(1);case 8:return e.next=10,__webpack_require__.g.move(.8,-40,-40,0,0);case 10:return e.next=12,__webpack_require__.g.hover(1);case 12:t();case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());return e}}}var BO=[0,0];function UO(){__webpack_require__.g.setInitialTimeStampSensors=function(){var e=(0,en.Z)(nn().mark((function e(t){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Fb.I.value=t;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}().bind(this),__webpack_require__.g.getInitialTimeStampSensors=function(){return Fb.I.value},__webpack_require__.g.getTimeStampSensorsDiference=function(){return(new Date-Fb.I.value)/1e3}}function FO(){__webpack_require__.g.setRoll=function(){var e=(0,en.Z)(nn().mark((function e(t){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Fb.K.roll=t;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),__webpack_require__.g.setPitch=function(){var e=(0,en.Z)(nn().mark((function e(t){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("pitchValue",t),Fb.K.pitch=t;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),__webpack_require__.g.setYaw=function(){var e=(0,en.Z)(nn().mark((function e(t){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Fb.K.yaw=-1*t;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),__webpack_require__.g.setThrottle=function(){var e=(0,en.Z)(nn().mark((function e(t){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Fb.K.throttle=t;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),__webpack_require__.g.getRoll=function(){return Fb.K.roll},__webpack_require__.g.getPitch=function(){return Fb.K.pitch},__webpack_require__.g.getYaw=function(){return Fb.K.yaw},__webpack_require__.g.getThrottle=function(){return Fb.K.throttle},__webpack_require__.g.setPreviousLand=function(){var e=(0,en.Z)(nn().mark((function e(t){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:BO=(0,fi.Z)(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),__webpack_require__.g.getPreviousLand=function(e){return BO}}var WO=__webpack_require__(6612);function HO(){__webpack_require__.g.onKeyPressEvent=function(e,t){__webpack_require__.g.RUNNING&&WO.n.addKeyPressCode(e,t)}}var GO=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r){(0,En.Z)(this,n);var i=new Uint8Array(Ob.WM);i[6]=3;var o=Kb().pack("<HH",e,r);return i[7]=o[0],i[8]=o[1],i[9]=o[2],i[10]=o[3],t.call(this,i,"drone buzzer")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(vb.Z),VO=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r){(0,En.Z)(this,n);var i=new Uint8Array(Ob.HF);i[6]=3;var o=Kb().pack("<HH",e,r);return i[7]=o[0],i[8]=o[1],i[9]=o[2],i[10]=o[3],t.call(this,i,"controller buzzer")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(vb.Z),jO=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r){(0,En.Z)(this,n);var i=new Uint8Array(Ob.WM);i[6]=5;var o=Kb().pack("<HH",e,r);return i[7]=o[0],i[8]=o[1],i[9]=o[2],i[10]=o[3],t.call(this,i,"drone buzzer hz")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(vb.Z),ZO=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r){(0,En.Z)(this,n);var i=new Uint8Array(Ob.HF);i[6]=5;var o=Kb().pack("<HH",e,r);return i[7]=o[0],i[8]=o[1],i[9]=o[2],i[10]=o[3],t.call(this,i,"controller buzzer hz")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(vb.Z),qO=null,XO=null;function $O(){__webpack_require__.g.droneBuzzerNoteOnly=function(){var e=(0,en.Z)(nn().mark((function e(t){var n;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=6;break}return Code.executionInProgress=!0,n=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(n,r){var i;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=new GO(t,.25),mb.j.addCommand(i),Code.executionInProgress=!1,n();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",n);case 6:console.log("Not Connected");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),__webpack_require__.g.droneBuzzer=function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=7;break}if(__webpack_require__.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return r=new Promise((function(e,r){if(0!==n){Code.executionInProgress=!0;var i=new GO(t,n);mb.j.addCommand(i),qO=setInterval((0,en.Z)(nn().mark((function t(){return nn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!__webpack_require__.g.RUNNING){t.next=3;break}t.next=6;break;case 3:return t.next=5,__webpack_require__.g.stopDroneBuzzer();case 5:e();case 6:case"end":return t.stop()}}),t)}))),20),setTimeout((0,en.Z)(nn().mark((function t(){return nn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,__webpack_require__.g.stopDroneBuzzer();case 2:e();case 3:case"end":return t.stop()}}),t)}))),n)}else e()})),e.abrupt("return",r);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),__webpack_require__.g.droneBuzzerHz=function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=7;break}if(__webpack_require__.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return r=new Promise((function(e,r){if(0!==n){Code.executionInProgress=!0;var i=new jO(t,n);mb.j.addCommand(i),qO=setInterval((0,en.Z)(nn().mark((function t(){return nn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!__webpack_require__.g.RUNNING){t.next=3;break}t.next=6;break;case 3:return t.next=5,__webpack_require__.g.stopDroneBuzzer();case 5:e();case 6:case"end":return t.stop()}}),t)}))),20),setTimeout((0,en.Z)(nn().mark((function t(){return nn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,__webpack_require__.g.stopDroneBuzzer();case 2:e();case 3:case"end":return t.stop()}}),t)}))),n)}else e()})),e.abrupt("return",r);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),__webpack_require__.g.stopDroneBuzzer=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!qO){e.next=12;break}if(clearInterval(qO),qO=null,mb.j.cleanStack(),!__webpack_require__.g.isSerialRunning()){e.next=11;break}return e.next=7,__webpack_require__.g.droneBuzzerNoteOnly(Note.Fin);case 7:return e.next=9,__webpack_require__.g.droneBuzzerNoteOnly(Note.Fin);case 9:return e.next=11,__webpack_require__.g.droneBuzzerNoteOnly(Note.Fin);case 11:Code.executionInProgress=!1;case 12:case"end":return e.stop()}}),e)}))),__webpack_require__.g.controllerBuzzerNoteOnly=function(){var e=(0,en.Z)(nn().mark((function e(t){var n;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=6;break}return Code.executionInProgress=!0,n=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(n,r){var i;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=new VO(t,.25),mb.j.addCommand(i),Code.executionInProgress=!1,n();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",n);case 6:console.log("Not Connected");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),__webpack_require__.g.controllerBuzzer=function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=7;break}if(__webpack_require__.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return r=new Promise((function(e,r){if(0!==n){Code.executionInProgress=!0;var i=new VO(t,n);mb.j.addCommand(i),XO=setInterval((0,en.Z)(nn().mark((function t(){return nn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!__webpack_require__.g.RUNNING){t.next=3;break}t.next=6;break;case 3:return t.next=5,__webpack_require__.g.stopControllerBuzzer();case 5:e();case 6:case"end":return t.stop()}}),t)}))),20),setTimeout((0,en.Z)(nn().mark((function t(){return nn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,__webpack_require__.g.stopControllerBuzzer();case 2:e();case 3:case"end":return t.stop()}}),t)}))),n)}else e()})),e.abrupt("return",r);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),__webpack_require__.g.controllerBuzzerHz=function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=7;break}if(__webpack_require__.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return r=new Promise((function(e,r){if(0!==n){Code.executionInProgress=!0;var i=new ZO(t,n);mb.j.addCommand(i),XO=setInterval((0,en.Z)(nn().mark((function t(){return nn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!__webpack_require__.g.RUNNING){t.next=3;break}t.next=6;break;case 3:return t.next=5,__webpack_require__.g.stopControllerBuzzer();case 5:e();case 6:case"end":return t.stop()}}),t)}))),20),setTimeout((0,en.Z)(nn().mark((function t(){return nn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,__webpack_require__.g.stopControllerBuzzer();case 2:e();case 3:case"end":return t.stop()}}),t)}))),n)}else e()})),e.abrupt("return",r);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),__webpack_require__.g.stopControllerBuzzer=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!XO){e.next=12;break}if(clearInterval(XO),XO=null,mb.j.cleanStack(),!__webpack_require__.g.isSerialRunning()){e.next=11;break}return e.next=7,__webpack_require__.g.controllerBuzzerNoteOnly(Note.Fin);case 7:return e.next=9,__webpack_require__.g.controllerBuzzerNoteOnly(Note.Fin);case 9:return e.next=11,__webpack_require__.g.controllerBuzzerNoteOnly(Note.Fin);case 11:Code.executionInProgress=!1;case 12:case"end":return e.stop()}}),e)})))}var YO=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r){var i;return(0,En.Z)(this,n),(i=t.call(this)).millimeter=e,i.conversion=r,i}return(0,bn.Z)(n,[{key:"getData",value:function(){var e=(0,en.Z)(nn().mark((function e(t,n){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{"cm"===this.conversion?t(parseFloat(.1*this.millimeter).toFixed(2)):"in"===this.conversion?t(parseFloat(.03937*this.millimeter).toFixed(2)):"m"===this.conversion?t(parseFloat(.001*this.millimeter).toFixed(2)):t(this.millimeter)}catch(r){n(r)}case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(vb.Z);function zO(){__webpack_require__.g.convertMeter=function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=5;break}return r=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(r,i){var o;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new fO(t,n),e.next=3,o.getData(r,i);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",r);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),__webpack_require__.g.convertMillimeter=function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=5;break}return r=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(r,i){var o;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new YO(t,n),e.next=3,o.getData(r,i);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",r);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}var QO=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r,i,o,s,a){(0,En.Z)(this,n);var l=new Uint8Array(18);return l[0]=10,l[1]=85,l[2]=131,l[3]=10,l[4]=112,l[5]=32,l[6]=255&e,l[7]=e>>8&255,l[8]=255&r,l[9]=r>>8&255,l[10]=255&i,l[11]=i>>8&255,l[12]=255&o,l[13]=o>>8&255,l[14]=s,l[15]=a,l[16]=0,l[17]=0,t.call(this,l,"controllerDrawLine")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(vb.Z),KO=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r,i,o,s){(0,En.Z)(this,n);var a=Math.min(i.length,26),l=new Uint8Array(14+2*a);l[0]=10,l[1]=85,l[2]=134,l[3]=6+2*a&255,l[4]=112,l[5]=32,l[6]=255&e,l[7]=e>>8&255,l[8]=255&r,l[9]=r>>8&255,l[10]=o,l[11]=s;for(var c=0;c<a;++c){var u=i.charCodeAt(c);l[12+c]=255&u,l[12+c+1]=u>>8&255}return console.log(l),t.call(this,l,"controllerDrawString")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(vb.Z),JO=__webpack_require__(3703),ek=JO.e4,tk=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r,i,o,s){return(0,En.Z)(this,n),ek[6]=255&e,ek[7]=e>>8&255,ek[8]=255&r,ek[9]=r>>8&255,ek[10]=255&i,ek[11]=i>>8&255,ek[12]=255&o,ek[13]=o>>8&255,ek[14]=__webpack_require__.g.DisplayPixel.Black,ek[15]="false"===s?0:1,ek[16]=__webpack_require__.g.DisplayLine.Solid,console.log(ek),t.call(this,ek,"controllerDrawRect")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(vb.Z),nk=JO.JC,rk=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e){return(0,En.Z)(this,n),nk[6]=e,t.call(this,nk,"controllerClearScreen")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(vb.Z),ik=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r,i){(0,En.Z)(this,n);var o=new Uint8Array(13);return o[0]=10,o[1]=85,o[2]=130,o[3]=5,o[4]=112,o[5]=32,o[6]=255&e,o[7]=e>>8&255,o[8]=255&r,o[9]=r>>8&255,o[10]=i,o[11]=0,o[12]=0,t.call(this,o,"controllerDrawPoint")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(vb.Z),ok=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r,i,o,s){(0,En.Z)(this,n);var a=[10,85,136,0,112,32,0,0,0,0,0,0,0,0];a[3]=8+s.length,a[6]=255&e,a[7]=e>>8&255,a[8]=255&r,a[9]=r>>8&255,a[10]=255&i,a[11]=i>>8&255,a[12]=255&o,a[13]=o>>8&255,a=a.concat([].concat((0,fi.Z)(s),[0,0]));var l=new Uint8Array(a);return t.call(this,l,"controllerDrawImage")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(vb.Z);function sk(){__webpack_require__.g.controllerDrawLine=function(){var e=(0,en.Z)(nn().mark((function e(t,n,r,i){var o,s,a,l=arguments;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=l.length>4&&void 0!==l[4]?l[4]:__webpack_require__.g.DisplayPixel.Black,s=l.length>5&&void 0!==l[5]?l[5]:__webpack_require__.g.DisplayLine.Solid,!__webpack_require__.g.isSerialRunning()){e.next=9;break}if(__webpack_require__.g.RUNNING){e.next=5;break}return e.abrupt("return");case 5:return a=new Promise((function(e,a){Code.executionInProgress=!0;var l=new QO(t,n,r,i,o,s);mb.j.addCommand(l),Code.executionInProgress=!1,e()})),e.abrupt("return",a);case 9:console.log("Not Connected");case 10:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),__webpack_require__.g.controllerDrawString=function(){var e=(0,en.Z)(nn().mark((function e(t,n,r){var i,o,s,a=arguments;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a.length>3&&void 0!==a[3]?a[3]:__webpack_require__.g.DisplayFont.LiberationMono5x8,o=a.length>4&&void 0!==a[4]?a[4]:__webpack_require__.g.DisplayPixel.Black,!__webpack_require__.g.isSerialRunning()){e.next=9;break}if(__webpack_require__.g.RUNNING){e.next=5;break}return e.abrupt("return");case 5:return s=new Promise((function(e,s){Code.executionInProgress=!0;var a=new KO(t,n,r,i,o);mb.j.addCommand(a),Code.executionInProgress=!1,e()})),e.abrupt("return",s);case 9:console.log("Not Connected");case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),__webpack_require__.g.controllerDrawRectangle=function(){var e=(0,en.Z)(nn().mark((function e(t,n,r,i,o){var s;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=7;break}if(__webpack_require__.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return s=new Promise((function(e,s){Code.executionInProgress=!0;var a=new tk(t,n,r,i,o);mb.j.addCommand(a),Code.executionInProgress=!1,e()})),e.abrupt("return",s);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}(),__webpack_require__.g.controllerDrawSquare=function(){var e=(0,en.Z)(nn().mark((function e(t,n,r,i){var o;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=7;break}if(__webpack_require__.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return o=new Promise((function(e,o){Code.executionInProgress=!0;var s=new tk(t,n,r,r,i);mb.j.addCommand(s),Code.executionInProgress=!1,e()})),e.abrupt("return",o);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),__webpack_require__.g.controllerDrawPoint=function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r,i,o=arguments;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>2&&void 0!==o[2]?o[2]:__webpack_require__.g.DisplayPixel.Black,!__webpack_require__.g.isSerialRunning()){e.next=8;break}if(__webpack_require__.g.RUNNING){e.next=4;break}return e.abrupt("return");case 4:return i=new Promise((function(e,i){Code.executionInProgress=!0;var o=new ik(t,n,r);mb.j.addCommand(o),Code.executionInProgress=!1,e()})),e.abrupt("return",i);case 8:console.log("Not Connected");case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),__webpack_require__.g.controllerClearScreen=(0,en.Z)(nn().mark((function e(){var t,n,r=arguments;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]?r[0]:__webpack_require__.g.DisplayPixel.White,!__webpack_require__.g.isSerialRunning()){e.next=8;break}if(__webpack_require__.g.RUNNING){e.next=4;break}return e.abrupt("return");case 4:return n=new Promise((function(e,n){Code.executionInProgress=!0;var r=new rk(t);mb.j.addCommand(r),Code.executionInProgress=!1,setTimeout((function(){e()}),50)})),e.abrupt("return",n);case 8:console.log("Not Connected");case 9:case"end":return e.stop()}}),e)}))),__webpack_require__.g.loadImageData=function(e){var t=JSON.parse(sessionStorage.getItem("cde-image")).filter((function(t){return t.name===e}))[0].data;return t},__webpack_require__.g.imageProcess=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){r.src=e,console.log(r),t(r)},r.onerror=function(){n()}}))},__webpack_require__.g.dataUriToImage=function(){var e=(0,en.Z)(nn().mark((function e(t){var n;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Image).src=t,e.abrupt("return",n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),__webpack_require__.g.controllerDrawImageProtocol=function(){var e=(0,en.Z)(nn().mark((function e(t,n,r){var i;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=7;break}if(__webpack_require__.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return i=new Promise((function(e,i){Code.executionInProgress=!0;var o=new ok(t,n,128,8,r);mb.j.addCommand(o),setTimeout((function(){Code.executionInProgress=!1,e()}),1e3)})),e.abrupt("return",i);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),__webpack_require__.g.controllerDrawImage=function(){var e=(0,en.Z)(nn().mark((function e(t){var n,r,i,o,s,a,l,c,u,h,p,d,f,_;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=__webpack_require__.g.loadImageData(t),e.next=3,__webpack_require__.g.dataUriToImage(n);case 3:for(r=e.sent,i=document.createElement("canvas"),o=i.getContext("2d"),i.width=128,i.height=64,s=Math.min(i.width/r.width,i.height/r.height),a=i.width/2-r.width/2*s,l=i.height/2-r.height/2*s,o.drawImage(r,a,l,r.width*s,r.height*s),c=o.getImageData(0,0,128,64).data,u=Array.from(Array(8),(function(){return new Array(128).fill(0)})),h=0;h<c.length;h+=4)c[h]+c[h+1]+c[h+2]<510&&c[h+3]>50&&(p=parseInt(h/4%128),d=parseInt(h/4/128),f=parseInt(d/8),_=parseInt(d%8),u[f][p]+=Math.pow(2,_));u.forEach(function(){var e=(0,en.Z)(nn().mark((function e(t,n){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,__webpack_require__.g.controllerDrawImageProtocol(0,8*n,t);case 2:return console.log(n),e.next=5,__webpack_require__.g.delay(1);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),__webpack_require__.g.controllerDrawPolygon=function(){var e=(0,en.Z)(nn().mark((function e(t){var n;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(n,r){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Code.executionInProgress=!0,t.forEach(function(){var e=(0,en.Z)(nn().mark((function e(n,r){var i,o;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r===t.length-1?(console.log("run this"),i=new QO(t[r][0],t[r][1],t[0][0],t[0][1],__webpack_require__.g.DisplayPixel.Black,__webpack_require__.g.DisplayLine.Solid),mb.j.addCommand(i)):(console.log("run this 2"),o=new QO(t[r][0],t[r][1],t[r+1][0],t[r+1][1],__webpack_require__.g.DisplayPixel.Black,__webpack_require__.g.DisplayLine.Solid),mb.j.addCommand(o));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Code.executionInProgress=!1;case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function ak(){__webpack_require__.g.predictColor=(0,en.Z)(nn().mark((function e(){var t,n,r=arguments;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"front",e.next=3,__webpack_require__.g.getCardColorHSVL(t,"hsvl");case 3:return n=e.sent,e.abrupt("return",__webpack_require__.g.knn.predict(n));case 5:case"end":return e.stop()}}),e)})));var e=function(){for(var e,t=JSON.parse(localStorage.getItem("cde-color-model")),n=[],r=[],i=[],o=0,s=Object.keys(t);o<s.length;o++){var a=s[o];e=t[a].split("\n");var l,c=[],u=(0,_n.Z)(e);try{for(u.s();!(l=u.n()).done;){var h=l.value;if(""!==h){var p=h.split(" "),d=Number(p[0]),f=Number(p[1]),_=Number(p[2]),g=Number(p[3]);isNaN(d)||isNaN(f)||isNaN(_)||isNaN(g)?(console.log("data : ",h),console.log("tmp : ",p),console.log("hsvl",d,f,_,g),console.log("error!")):(n.push([d,f,_,g]),r.push(a),c.push([d,f,_,g]))}}}catch(v){u.e(v)}finally{u.f()}var m={label:a,data:c};i.push(m)}return function(e){hE=(0,fi.Z)(e)}(i),{x:n,y:r}};__webpack_require__.g.loadClassifier=function(){if(__webpack_require__.g.knn)console.log("knn model exist");else{var t=e(),n=t.x,r=t.y;console.log("x : ",n),console.log("y : ",r),__webpack_require__.g.knn=new iE(n,r)}}}var lk=__webpack_require__(3235),ck=__webpack_require__(2336),uk=new Uint8Array([10,85,17,2,112,16,7,17,54,129]),hk=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(){return(0,En.Z)(this,n),t.call(this,uk,"takeOff command")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendSerialCommand();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ck.Z),pk=new Uint8Array([10,85,17,2,128,16,1,0,205,182]),dk=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(){return(0,En.Z)(this,n),t.call(this,pk,"EmergencyStop")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendSerialCommand();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ck.Z),fk=__webpack_require__(7885),_k=fk.Ei,gk=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r){switch((0,En.Z)(this,n),r=r||50,e){case __webpack_require__.g.Direction.FORWARD:_k[6]=0,_k[7]=r,_k[8]=0,_k[9]=0;break;case __webpack_require__.g.Direction.BACKWARD:_k[6]=0,_k[7]=-1*r,_k[8]=0,_k[9]=0;break;case __webpack_require__.g.Direction.UP:_k[6]=0,_k[7]=0,_k[8]=0,_k[9]=r;break;case __webpack_require__.g.Direction.DOWN:_k[6]=0,_k[7]=0,_k[8]=0,_k[9]=-1*r;break;case __webpack_require__.g.Direction.LEFT:_k[6]=-1*r,_k[7]=0,_k[8]=0,_k[9]=0;break;case __webpack_require__.g.Direction.RIGHT:_k[6]=r,_k[7]=0,_k[8]=0,_k[9]=0}return t.call(this,_k,"Go")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ck.Z),mk=new Uint8Array([10,85,17,2,112,16,7,18,85,177]),vk=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(){return(0,En.Z)(this,n),t.call(this,mk,"land command")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendSerialCommand();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ck.Z),yk=fk.Ei,Tk=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r){switch((0,En.Z)(this,n),r=r||50,e){case __webpack_require__.g.Direction.RIGHT:yk[6]=0,yk[7]=0,yk[8]=-1*r,yk[9]=0;break;case __webpack_require__.g.Direction.LEFT:yk[6]=0,yk[7]=0,yk[8]=r,yk[9]=0}return t.call(this,yk,"Turn")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ck.Z),Ek=new Uint8Array([10,85,16,4,112,16,0,0,0,0,180,189]),bk=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e){var r;return(0,En.Z)(this,n),(r=t.call(this,Ek,"hover command")).time=e,r}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sendSerialCommand();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ck.Z),Ok=fk.Ei,kk=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(){return(0,En.Z)(this,n),Ok[6]=0,Ok[7]=0,Ok[8]=0,Ok[9]=0,t.call(this,fk.Ei,"resetState")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ck.Z),wk=fk.R9,Sk=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e){return(0,En.Z)(this,n),wk[7]=e,t.call(this,wk,"Flip")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ck.Z),Ik=fk.Ei,Rk=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r,i,o){return(0,En.Z)(this,n),Ik[6]=e,Ik[7]=r,Ik[8]=-1*i,Ik[9]=o,t.call(this,Ik,"move")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ck.Z),Ck=__webpack_require__(6882),Ak=fk.kq,xk=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r,i,o){return(0,En.Z)(this,n),Ak[6]=255&e,Ak[7]=e>>8&255,Ak[8]=255&r,Ak[9]=r>>8&255,Ak[10]=255&i,Ak[11]=i>>8&255,Ak[12]=255&o,Ak[13]=o>>8&255,Ck.K.roll=e,Ck.K.pitch=r,t.call(this,Ak,"move trim")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),this.setUint8Array(),e.next=4,this.sendSerialCommand();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ck.Z),Mk={};function Nk(){__webpack_require__.g.resetState=(0,en.Z)(nn().mark((function e(){var t;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=5;break}return t=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new kk,lk.C.addCommand(r),t();case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)}))),__webpack_require__.g.takeoff=function(){var e=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Code.executionInProgress=!0,e.next=3,__webpack_require__.g.resetState();case 3:return e.next=5,__webpack_require__.g.delay(.5);case 5:Code.executionInProgress=!1,Code.executionInProgress=!0,r=new hk,lk.C.addCommand(r),setTimeout(function(){Code.executionInProgress=!1,t()}.bind(this),5e3);case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}());return e},__webpack_require__.g.emergencyStop=(0,en.Z)(nn().mark((function e(){var t;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()||!__webpack_require__.g.RUNNING){e.next=5;break}return t=new Promise((function(e,t){lk.C.restartCommandConsumer();var n=new dk;lk.C.addCommand(n),e()})),e.abrupt("return",t);case 5:console.log("Not Running");case 6:case"end":return e.stop()}}),e)}))),__webpack_require__.g.land=function(){if(__webpack_require__.g.isSerialRunning()){if(!__webpack_require__.g.RUNNING)return;return Code.executionInProgress=!0,new Promise((function(e,t){var n=new vk;lk.C.addCommand(n),lk.C.addCommand(n),lk.C.addCommand(n),setTimeout(function(){Code.executionInProgress=!1,e()}.bind(this),500)}))}console.log("Not Connected")},__webpack_require__.g.go=function(e,t,n){if(__webpack_require__.g.isSerialRunning()){if(!__webpack_require__.g.RUNNING)return;return new Promise((function(r,i){0!==t?(Code.executionInProgress=!0,Mk.intervalId=setInterval((0,en.Z)(nn().mark((function t(){var r;return nn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:__webpack_require__.g.RUNNING?(r=new gk(e,n),lk.C.addCommand(r)):clearInterval(Mk.intervalId);case 1:case"end":return t.stop()}}),t)}))).bind(this),20),setTimeout((0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return clearInterval(Mk.intervalId),lk.C.cleanStack(),e.next=4,__webpack_require__.g.hover(.5);case 4:Code.executionInProgress=!1,r();case 6:case"end":return e.stop()}}),e)}))).bind(this),1e3*t)):r()}))}console.log("Not Connected")},__webpack_require__.g.turn=function(e,t,n){if(__webpack_require__.g.isSerialRunning()){if(!__webpack_require__.g.RUNNING)return;return 0===t?void resolve():(Code.executionInProgress=!0,new Promise((function(r,i){Mk.intervalId=setInterval(function(){if(__webpack_require__.g.RUNNING){var t=new Tk(e,n);lk.C.addCommand(t)}else clearInterval(Mk.intervalId)}.bind(this),10),setTimeout((0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return clearInterval(Mk.intervalId),lk.C.cleanStack(),e.next=4,__webpack_require__.g.hover(.5);case 4:Code.executionInProgress=!1,r();case 6:case"end":return e.stop()}}),e)}))).bind(this),1e3*t)})))}console.log("Not Connected")},__webpack_require__.g.hover=function(e){if(__webpack_require__.g.isSerialRunning()){if(!__webpack_require__.g.RUNNING)return;return new Promise((function(t,n){0!==e?(Code.executionInProgress=!0,Mk.intervalId=setInterval((0,en.Z)(nn().mark((function t(){var n;return nn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:__webpack_require__.g.RUNNING?(n=new bk(e),lk.C.addCommand(n)):clearInterval(Mk.intervalId);case 1:case"end":return t.stop()}}),t)}))).bind(this),20),setTimeout((0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:clearInterval(Mk.intervalId),lk.C.cleanStack(),setTimeout((0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Code.executionInProgress=!1,t();case 2:case"end":return e.stop()}}),e)}))).bind(this),0);case 3:case"end":return e.stop()}}),e,this)}))).bind(this),1e3*e)):t()}))}console.log("Not Connected")},__webpack_require__.g.moveInternal=function(){var e=(0,en.Z)(nn().mark((function e(t,n,r,i){var o;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=8;break}if(__webpack_require__.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return Code.executionInProgress=!0,o=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(o,s){var a;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=new Rk(t,n,r,i),lk.C.addCommand(a),Code.executionInProgress=!1,o();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",o);case 8:console.log("Not Connected");case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),__webpack_require__.g.move=function(){var e=(0,en.Z)(nn().mark((function e(t,n,r,i,o){var s;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("moveeee",t,n,r,i,o),!t||n||r||i||o){e.next=8;break}n=Ck.K.roll,r=Ck.K.pitch,i=Ck.K.yaw,o=Ck.K.throttle,e.next=14;break;case 8:if(t||n||r||i||o){e.next=12;break}return e.abrupt("return",__webpack_require__.g.moveInternal(Ck.K.roll,Ck.K.pitch,Ck.K.yaw,Ck.K.throttle));case 12:if(t||!n&&!r){e.next=14;break}return e.abrupt("return",moveInternal(n,r,i,o));case 14:if(!__webpack_require__.g.isSerialRunning()){e.next=19;break}return s=new Promise((function(e,s){0!==t?(Code.executionInProgress=!0,Mk.intervalId=setInterval((0,en.Z)(nn().mark((function e(){var t;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:__webpack_require__.g.RUNNING?(t=new Rk(n,r,i,o),lk.C.addCommand(t)):clearInterval(Mk.intervalId);case 1:case"end":return e.stop()}}),e)}))).bind(this),20),setTimeout((0,en.Z)(nn().mark((function t(){return nn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:clearInterval(Mk.intervalId),lk.C.cleanStack(),setTimeout((0,en.Z)(nn().mark((function t(){return nn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Code.executionInProgress=!1,e();case 2:case"end":return t.stop()}}),t)}))).bind(this),1e3);case 3:case"end":return t.stop()}}),t,this)}))).bind(this),1e3*t)):e()})),e.abrupt("return",s);case 19:console.log("Not Connected");case 20:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}(),__webpack_require__.g.moveTrim=function(){var e=(0,en.Z)(nn().mark((function e(t,n,r,i){var o;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=5;break}return o=new Promise((function(e,o){__webpack_require__.g.loopInProgress=!1,Mk.moveLoop=(0,en.Z)(nn().mark((function o(){return nn().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:setTimeout((0,en.Z)(nn().mark((function o(){var s;return nn().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return s=new xk(t,n,r,i),o.next=3,s.run();case 3:if(!__webpack_require__.g.loopInProgress||!__webpack_require__.g.RUNNING){o.next=7;break}Mk.moveLoop(),o.next=12;break;case 7:return __webpack_require__.g.loopInProgress=!1,o.next=10,__webpack_require__.g.delay(.05);case 10:return e(),o.abrupt("return");case 12:case"end":return o.stop()}}),o)}))),50);case 1:case"end":return o.stop()}}),o)}))),__webpack_require__.g.loopInProgress=!0,setTimeout(function(){__webpack_require__.g.loopInProgress=!1}.bind(this),500),Mk.moveLoop()})),e.abrupt("return",o);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()}var Lk=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(){(0,En.Z)(this,n);var e=new Uint8Array([10,85,4,1,128,16,64,95,143]);return t.call(this,e,"get battery percentage")}return(0,bn.Z)(n,[{key:"getBattery",value:function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r,i,o=this;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{74,r=0,i=setInterval((0,en.Z)(nn().mark((function e(){var s;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(++r>74)){e.next=5;break}return clearInterval(i),n(),e.abrupt("return");case 5:if(!Code.droneData.battery){e.next=12;break}s=Code.droneData.battery,Code.droneData.battery=!1,clearInterval(i),t(parseInt(s)),e.next=14;break;case 12:return e.next=14,o.getState();case 14:case"end":return e.stop()}}),e)}))),100)}catch(s){console.log("error get battery",s),n(s)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(ck.Z),Dk=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e){var r;(0,En.Z)(this,n);var i=(0,fi.Z)(fk.A$);i[6]=65;var o=new Uint8Array(i);return(r=t.call(this,o,"get gyro data")).type=e,r}return(0,bn.Z)(n,[{key:"getData",value:function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r,i,o=this;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.generateCRC();try{70,r=0,i=setInterval((0,en.Z)(nn().mark((function e(){var s;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(++r>70)){e.next=5;break}return clearInterval(i),n(),e.abrupt("return");case 5:if(!Code.droneData.angle){e.next=13;break}s=Code.droneData.angle,Code.droneData.angle=!1,clearInterval(i),console.log("this.type",o.type),t(parseFloat(s[o.type])),e.next=15;break;case 13:return e.next=15,o.getState();case 15:case"end":return e.stop()}}),e)}))),100)}catch(s){n(s)}case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(ck.Z),Pk=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e){var r;(0,En.Z)(this,n);var i=(0,fi.Z)(fk.A$);i[6]=67;var o=new Uint8Array(i);return(r=t.call(this,o,"get drone temp")).type=e,r}return(0,bn.Z)(n,[{key:"getData",value:function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r,i,o=this;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.generateCRC();try{70,r=0,i=setInterval((0,en.Z)(nn().mark((function e(){var s;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(++r>70)){e.next=5;break}return clearInterval(i),n(),e.abrupt("return");case 5:if(!Code.droneData.temp){e.next=14;break}s=Code.droneData.temp,Code.droneData.temp=!1,clearInterval(i),o.type===TEMPERATURE.fahrenheit&&(s=9*s/5+32),s=s.toFixed(1),t(parseFloat(s)),e.next=16;break;case 14:return e.next=16,o.getState();case 16:case"end":return e.stop()}}),e)}))),100)}catch(s){n(s)}case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(ck.Z),Bk=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(){(0,En.Z)(this,n);var e=(0,fi.Z)(fk.A$);e[6]=67;var r=new Uint8Array(e);return t.call(this,r,"get height")}return(0,bn.Z)(n,[{key:"getData",value:function(){var e=(0,en.Z)(nn().mark((function e(t,n,r){var i,o,s=this;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.generateCRC();try{70,i=0,o=setInterval((0,en.Z)(nn().mark((function e(){var a;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(++i>70)){e.next=5;break}return clearInterval(o),n(),e.abrupt("return");case 5:if(!Code.droneData.height){e.next=13;break}a=Code.droneData.height,Code.droneData.height=!1,clearInterval(o),r?Code.droneData.baseHeight=a:(a=100*(a-Code.droneData.baseHeight),console.log("ValueHeight",a)),t(parseFloat(a.toFixed(1))),e.next=15;break;case 13:return e.next=15,s.getState();case 15:case"end":return e.stop()}}),e)}))),100)}catch(a){n(a)}case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()}]),n}(ck.Z),Uk=fk.wf,Fk=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(){return(0,En.Z)(this,n),Uk[6]=5,t.call(this,Uk,"resetSensor")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ck.Z),Wk=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(){(0,En.Z)(this,n);var e=(0,fi.Z)(fk.A$);e[6]=67;var r=new Uint8Array(e);return t.call(this,r,"get pressure")}return(0,bn.Z)(n,[{key:"getData",value:function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r,i,o=this;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.generateCRC();try{70,r=0,i=setInterval((0,en.Z)(nn().mark((function e(){var s;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(++r>70)){e.next=5;break}return clearInterval(i),n(),e.abrupt("return");case 5:if(!Code.droneData.pressure){e.next=13;break}s=Code.droneData.pressure,Code.droneData.pressure=!1,clearInterval(i),s=s.toFixed(1),t(parseFloat(s)),e.next=15;break;case 13:return e.next=15,o.getState();case 15:case"end":return e.stop()}}),e)}))),100)}catch(s){n(s)}case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(ck.Z),Hk=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(){(0,En.Z)(this,n);var e=new Uint8Array([10,85,4,1,128,16,82,44,189]);return t.call(this,e,"get trim")}return(0,bn.Z)(n,[{key:"getTrim",value:function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r,i,o=this;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{70,r=0,i=setInterval((0,en.Z)(nn().mark((function e(){var s;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(++r>70)){e.next=5;break}return clearInterval(i),n(),e.abrupt("return");case 5:if(!Code.droneData.trim){e.next=13;break}s=Code.droneData.trim,Code.droneData.trim=!1,clearInterval(i),console.log(s),t(s),e.next=15;break;case 13:return e.next=15,o.getState();case 15:case"end":return e.stop()}}),e)}))),100)}catch(s){n(s)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(ck.Z);function Gk(){__webpack_require__.g.getBatteryPercentage=(0,en.Z)(nn().mark((function e(){var t;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=5;break}return t=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Lk,e.next=3,r.getBattery(t,n,!0);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)}))),__webpack_require__.g.getAngle=function(){var e=(0,en.Z)(nn().mark((function e(t){var n;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=7;break}return Code.executionInProgress=!0,n=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(n,r){var i;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new Dk(t),e.next=3,i.getData(n,r);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Code.executionInProgress=!1,e.abrupt("return",n);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),__webpack_require__.g.getDroneTemp=function(){var e=(0,en.Z)(nn().mark((function e(t){var n;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=5;break}return n=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(n,r){var i;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new Pk(t),e.next=3,i.getData(n,r);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",n);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),__webpack_require__.g.getHeight=(0,en.Z)(nn().mark((function e(){var t,n,r=arguments;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.length>0&&void 0!==r[0]&&r[0],console.log("get height",__webpack_require__.g.isSerialRunning(),t),!__webpack_require__.g.isSerialRunning()){e.next=7;break}return n=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(n,r){var i;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new Bk,e.next=3,i.getData(n,r,t);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",n);case 7:console.log("Not Connected");case 8:case"end":return e.stop()}}),e)}))),__webpack_require__.g.getPressure=(0,en.Z)(nn().mark((function e(){var t;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=5;break}return t=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Wk,e.next=3,r.getData(t,n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)}))),__webpack_require__.g.getBatteryPercentageInit=(0,en.Z)(nn().mark((function e(){var t;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=5;break}return t=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Lk,e.next=3,r.getBattery(t,n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)}))),__webpack_require__.g.getTrim=(0,en.Z)(nn().mark((function e(){var t;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=5;break}return t=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Hk,e.next=3,r.getTrim(t,n);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)}))),__webpack_require__.g.reset_sensor=(0,en.Z)(nn().mark((function e(){var t;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=8;break}if(__webpack_require__.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return Code.executionInProgress=!0,t=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Fk,lk.C.addCommand(r),Code.executionInProgress=!1,e.next=5,__webpack_require__.g.delay(1.5);case 5:t();case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 8:console.log("Not Connected");case 9:case"end":return e.stop()}}),e)})))}var Vk=fk.p,jk=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return(0,En.Z)(this,n),Vk[6]=34,Vk[7]=25*o>>4&255,Vk[8]=0,Vk[9]=e,Vk[10]=r,Vk[11]=i,t.call(this,new Uint8Array(Vk),"ledColor")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ck.Z),Zk=fk.p,qk=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r,i,o,s){return(0,En.Z)(this,n),Zk[6]=o,Zk[7]=255-25*s&255,Zk[8]=255-25*s>>8&255,Zk[9]=e,Zk[10]=r,Zk[11]=i,t.call(this,new Uint8Array(Zk),"ledColorMode")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ck.Z),Xk=fk.p,$k=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(){return(0,En.Z)(this,n),Xk[6]=32,t.call(this,new Uint8Array(Xk),"ledColorMode")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ck.Z),Yk=fk.p,zk=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(){(0,En.Z)(this,n);return Yk[6]=34,Yk[7]=56,Yk[8]=136,Yk[9]=255,Yk[10]=0,Yk[11]=0,t.call(this,Yk,"resetled")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ck.Z);function Qk(){__webpack_require__.g.setLEDColor=function(){var e=(0,en.Z)(nn().mark((function e(t,n,r,i){var o;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=8;break}if(__webpack_require__.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return Code.executionInProgress=!0,o=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(o,s){var a;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=new jk(t,n,r,i),lk.C.addCommand(a),Code.executionInProgress=!1,o();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",o);case 8:console.log("Not Connected");case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),__webpack_require__.g.LEDColor=function(){var e=(0,en.Z)(nn().mark((function e(t,n,r,i){var o;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=8;break}if(__webpack_require__.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return Code.executionInProgress=!0,o=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(o,s){var a;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=new jk(t,n,r,i),lk.C.addCommand(a),Code.executionInProgress=!1,o();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",o);case 8:console.log("Not Connected");case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),__webpack_require__.g.resetLED=function(){var e=(0,en.Z)(nn().mark((function e(t,n,r,i){var o;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=8;break}if(__webpack_require__.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return Code.executionInProgress=!0,o=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new zk,lk.C.addCommand(r),Code.executionInProgress=!1,t();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",o);case 8:console.log("Not Connected");case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),__webpack_require__.g.setLEDPattern=function(){var e=(0,en.Z)(nn().mark((function e(t,n,r,i,o){var s;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=8;break}if(__webpack_require__.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return Code.executionInProgress=!0,s=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(s,a){var l;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=new qk(t,n,r,i,o),lk.C.addCommand(l),Code.executionInProgress=!1,s();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",s);case 8:console.log("Not Connected");case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}(),__webpack_require__.g.LED_pattern=function(){var e=(0,en.Z)(nn().mark((function e(t,n,r,i,o){var s;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=8;break}if(__webpack_require__.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return Code.executionInProgress=!0,s=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(s,a){var l;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l=new qk(t,n,r,i,o),lk.C.addCommand(l),Code.executionInProgress=!1,s();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",s);case 8:console.log("Not Connected");case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}(),__webpack_require__.g.LEDOff=(0,en.Z)(nn().mark((function e(){var t;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=8;break}if(__webpack_require__.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return Code.executionInProgress=!0,t=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new $k,lk.C.addCommand(r),Code.executionInProgress=!1,t();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 8:console.log("Not Connected");case 9:case"end":return e.stop()}}),e)})))}var Kk=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e){var r;return(0,En.Z)(this,n),(r=t.call(this)).seconds=e,r}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){var t=this;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){return setTimeout(e,1e3*t.seconds)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),n}(ck.Z),Jk=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e){var r;return(0,En.Z)(this,n),(r=t.call(this)).data=e,r}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.writeConsole();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"writeConsole",value:function(){if("object"===typeof this.data){var e=[],t=this.data;Object.keys(this.data).forEach((function(n){e.push(n+":"+t[n])})),this.data="{"+e.join(", ")+"}"}document.getElementById("consoleContent").innerHTML="<span>".concat(this.data,"<br/></span>")+document.getElementById("consoleContent").innerHTML}}]),n}(ck.Z),ew={};function tw(){__webpack_require__.g.flipLeft=(0,en.Z)(nn().mark((function e(){var t;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=5;break}return t=new Promise((function(e,t){__webpack_require__.g.loopInProgress=!1,ew.goLoop=(0,en.Z)(nn().mark((function t(){var n;return nn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Sk(__webpack_require__.g.flip.LEFT),t.next=3,n.run();case 3:if(!__webpack_require__.g.loopInProgress||!__webpack_require__.g.RUNNING){t.next=7;break}ew.goLoop(),t.next=12;break;case 7:return __webpack_require__.g.loopInProgress=!1,t.next=10,__webpack_require__.g.hover(.5);case 10:return e(),t.abrupt("return");case 12:case"end":return t.stop()}}),t)}))),__webpack_require__.g.loopInProgress=!0,setTimeout(function(){__webpack_require__.g.loopInProgress=!1}.bind(this),30),ew.goLoop()})),e.abrupt("return",t);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)}))),__webpack_require__.g.flipRight=(0,en.Z)(nn().mark((function e(){var t;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=5;break}return t=new Promise((function(e,t){__webpack_require__.g.loopInProgress=!1,ew.goLoop=(0,en.Z)(nn().mark((function t(){var n;return nn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Sk(__webpack_require__.g.flip.RIGHT),t.next=3,n.run();case 3:if(!__webpack_require__.g.loopInProgress||!__webpack_require__.g.RUNNING){t.next=7;break}ew.goLoop(),t.next=12;break;case 7:return __webpack_require__.g.loopInProgress=!1,t.next=10,__webpack_require__.g.hover(.5);case 10:return e(),t.abrupt("return");case 12:case"end":return t.stop()}}),t)}))),__webpack_require__.g.loopInProgress=!0,setTimeout(function(){__webpack_require__.g.loopInProgress=!1}.bind(this),30),ew.goLoop()})),e.abrupt("return",t);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)}))),__webpack_require__.g.flipBackward=function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=5;break}return r=new Promise((function(e,t){__webpack_require__.g.loopInProgress=!1,ew.goLoop=(0,en.Z)(nn().mark((function t(){var n;return nn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Sk(__webpack_require__.g.flip.REAR),t.next=3,n.run();case 3:if(!__webpack_require__.g.loopInProgress||!__webpack_require__.g.RUNNING){t.next=7;break}ew.goLoop(),t.next=12;break;case 7:return __webpack_require__.g.loopInProgress=!1,t.next=10,__webpack_require__.g.hover(.5);case 10:return e(),t.abrupt("return");case 12:case"end":return t.stop()}}),t)}))),__webpack_require__.g.loopInProgress=!0,setTimeout(function(){__webpack_require__.g.loopInProgress=!1}.bind(this),30),ew.goLoop()})),e.abrupt("return",r);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),__webpack_require__.g.flipForward=(0,en.Z)(nn().mark((function e(){var t;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=5;break}return t=new Promise((function(e,t){__webpack_require__.g.loopInProgress=!1,ew.goLoop=(0,en.Z)(nn().mark((function t(){var n;return nn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Sk(__webpack_require__.g.flip.FRONT),t.next=3,n.run();case 3:if(!__webpack_require__.g.loopInProgress||!__webpack_require__.g.RUNNING){t.next=7;break}ew.goLoop(),t.next=12;break;case 7:return __webpack_require__.g.loopInProgress=!1,t.next=10,__webpack_require__.g.hover(.5);case 10:return e(),t.abrupt("return");case 12:case"end":return t.stop()}}),t)}))),__webpack_require__.g.loopInProgress=!0,setTimeout(function(){__webpack_require__.g.loopInProgress=!1}.bind(this),30),ew.goLoop()})),e.abrupt("return",t);case 5:console.log("Not Connected");case 6:case"end":return e.stop()}}),e)}))),__webpack_require__.g.delay=function(){var e=(0,en.Z)(nn().mark((function e(t){var n;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=9;break}if(__webpack_require__.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:if(0!==t){e.next=5;break}return e.abrupt("return");case 5:return n=new Promise((function(e,n){ew.intervalId=setInterval(function(){if(__webpack_require__.g.RUNNING){Code.executionInProgress=!0;var e=new Kk(0);lk.C.addCommand(e)}else clearInterval(ew.intervalId)}.bind(this),10),setTimeout((0,en.Z)(nn().mark((function t(){return nn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:clearInterval(ew.intervalId),lk.C.cleanStack(),Code.executionInProgress=!1,e();case 4:case"end":return t.stop()}}),t)}))).bind(this),1e3*t)})),e.abrupt("return",n);case 9:console.log("Not Connected");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),__webpack_require__.g.print=function(){var e=(0,en.Z)(nn().mark((function e(t){var n;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(__webpack_require__.g.RUNNING){e.next=2;break}return e.abrupt("return");case 2:return __webpack_require__.g.showConsole(!0),Code.executionInProgress=!0,n=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(n,r){var i;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=new Jk(t),lk.C.addCommand(i),Code.executionInProgress=!1,n();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),__webpack_require__.g.flySequence=function(e){console.log("fly"),Code.executionInProgress=!0;var t=new Promise(function(){var t=(0,en.Z)(nn().mark((function t(n,r){return nn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e!==__webpack_require__.g.Sequence.SQUARE){t.next=5;break}return t.next=3,ew.square();case 3:t.next=35;break;case 5:if(e!==__webpack_require__.g.Sequence.CIRCLE){t.next=10;break}return t.next=8,ew.circle();case 8:t.next=35;break;case 10:if(e!==__webpack_require__.g.Sequence.TRIANGLE){t.next=15;break}return t.next=13,ew.triangle();case 13:t.next=35;break;case 15:if(e!==__webpack_require__.g.Sequence.ZIGZAG){t.next=20;break}return t.next=18,ew.zigzag();case 18:t.next=35;break;case 20:if(e!==__webpack_require__.g.Sequence.SWAY){t.next=25;break}return t.next=23,ew.sway();case 23:t.next=35;break;case 25:if(e!==__webpack_require__.g.Sequence.HOP){t.next=30;break}return t.next=28,ew.hop();case 28:t.next=35;break;case 30:if(e!==__webpack_require__.g.Sequence.SPIRAL){t.next=35;break}return t.next=33,ew.spiral();case 33:t.next=35;break;case 35:Code.executionInProgress=!1,n();case 37:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}());return t},ew.square=function(){if(console.log("move in a square mini"),__webpack_require__.g.RUNNING){var e=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(t,n){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,__webpack_require__.g.go(Direction.RIGHT,1.5,30);case 2:return e.next=4,__webpack_require__.g.go(Direction.FORWARD,1.5,30);case 4:return e.next=6,__webpack_require__.g.go(Direction.LEFT,1.5,30);case 6:return e.next=8,__webpack_require__.g.go(Direction.BACKWARD,1.5,30);case 8:t();case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());return e}},ew.zigzag=(0,en.Z)(nn().mark((function e(){var t;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("move in a zigzag mini"),__webpack_require__.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return t=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(t,n){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,__webpack_require__.g.move(.5,-40,30,0,0);case 2:return __webpack_require__.g.delay(.2),e.next=5,__webpack_require__.g.move(.5,40,30,0,0);case 5:return __webpack_require__.g.delay(.2),e.next=8,__webpack_require__.g.move(.5,-40,30,0,0);case 8:return __webpack_require__.g.delay(.2),e.next=11,__webpack_require__.g.move(.5,40,30,0,0);case 11:return e.next=13,__webpack_require__.g.hover(1);case 13:t();case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),ew.spiral=(0,en.Z)(nn().mark((function e(){var t;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("move in a spiral mini"),__webpack_require__.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return t=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(t,n){var r;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:if(!(r<12)){e.next=13;break}return console.log("iterator: ",r),__webpack_require__.g.setRoll(parseInt(2*r+10)),console.log("yaw: ",parseInt(2*r+10)),__webpack_require__.g.setYaw(-30),e.next=8,__webpack_require__.g.move();case 8:return e.next=10,__webpack_require__.g.delay(.5);case 10:r++,e.next=1;break;case 13:__webpack_require__.g.setRoll(0),__webpack_require__.g.setYaw(0),t();case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),ew.hop=(0,en.Z)(nn().mark((function e(){var t;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("move in a hop mini"),__webpack_require__.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return t=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(t,n){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,__webpack_require__.g.move(.2,0,30,0,40);case 2:return e.next=4,__webpack_require__.g.move(.2,0,30,0,-40);case 4:return e.next=6,__webpack_require__.g.hover(1);case 6:t();case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),ew.sway=function(){if(console.log("move in a sway mini"),__webpack_require__.g.RUNNING){var e=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(t,n){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,__webpack_require__.g.move(.5,-40,0,0,0);case 2:return e.next=4,__webpack_require__.g.move(1,40,0,0,0);case 4:return e.next=6,__webpack_require__.g.move(1,-40,0,0,0);case 6:return e.next=8,__webpack_require__.g.move(.5,40,0,0,0);case 8:t();case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());return e}},ew.circle=function(){if(console.log("move in a circle mini"),__webpack_require__.g.RUNNING){var e=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(t,n){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,__webpack_require__.g.move(5,10,0,-10,0);case 2:t();case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());return e}}}function nw(){__webpack_require__.g.setRoll=function(){var e=(0,en.Z)(nn().mark((function e(t){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ck.K.roll=t;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}().bind(this),__webpack_require__.g.setPitch=function(){var e=(0,en.Z)(nn().mark((function e(t){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("pitchValue",t),Ck.K.pitch=t;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}().bind(this),__webpack_require__.g.setYaw=function(){var e=(0,en.Z)(nn().mark((function e(t){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ck.K.yaw=-1*t;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}().bind(this),__webpack_require__.g.setThrottle=function(){var e=(0,en.Z)(nn().mark((function e(t){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ck.K.throttle=t;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}().bind(this),__webpack_require__.g.getRoll=function(){return Ck.K.roll}.bind(this),__webpack_require__.g.getPitch=function(){return Ck.K.pitch}.bind(this),__webpack_require__.g.getYaw=function(){return Ck.K.yaw}.bind(this),__webpack_require__.g.getThrottle=function(){return Ck.K.throttle}.bind(this),__webpack_require__.g.setTrim=function(){var e=(0,en.Z)(nn().mark((function e(t,n){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return __webpack_require__.g.updateRollPitchInConnectionBox(t,n),e.next=3,__webpack_require__.g.moveTrim(t,n,0,0);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),__webpack_require__.g.resetTrim=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,__webpack_require__.g.setTrim(0,0);case 2:case"end":return e.stop()}}),e)})))}function rw(){__webpack_require__.g.onKeyPressEvent=function(e,t){__webpack_require__.g.RUNNING&&(WO.n.addKeyPressCode(e,t),__webpack_require__.g.delay(5))}}ew.triangle=function(){if(console.log("move in a triangle mini"),__webpack_require__.g.RUNNING){var e=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(t,n){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,__webpack_require__.g.move(.3,-40,40,0,0);case 2:return e.next=4,__webpack_require__.g.hover(1);case 4:return e.next=6,__webpack_require__.g.move(1,60,0,0,0);case 6:return e.next=8,__webpack_require__.g.hover(1);case 8:return e.next=11,__webpack_require__.g.move(.8,-40,-40,0,0);case 11:return e.next=13,__webpack_require__.g.hover(1);case 13:t();case 14:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());return e}};var iw=fk.ot,ow=function(e){(0,yn.Z)(n,e);var t=(0,Tn.Z)(n);function n(e,r){(0,En.Z)(this,n);var i=0;return isNaN(e)?i=Note[e]:(e>1500?e=1500:e<0&&(e=0),i=e),console.log("noteValue",i),console.log("time",r),r*=1e3,console.log("time",r),iw[6]=3,iw[7]=i,iw[8]=0,iw[9]=r,iw[10]=r>>8,t.call(this,new Uint8Array(iw),"playNote")}return(0,bn.Z)(n,[{key:"run",value:function(){var e=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.generateCRC(),e.next=3,this.sendSerialCommand();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ck.Z);function sw(){__webpack_require__.g.playOnlySound=function(){var e=(0,en.Z)(nn().mark((function e(t){var n;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()){e.next=8;break}if(__webpack_require__.g.RUNNING){e.next=3;break}return e.abrupt("return");case 3:return Code.executionInProgress=!0,n=new Promise(function(){var e=(0,en.Z)(nn().mark((function e(n,r){var i;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=new ow(t),lk.C.addCommand(i),Code.executionInProgress=!1,n();case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.abrupt("return",n);case 8:console.log("Not Connected");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),__webpack_require__.g.play_note=function(e,t){if(__webpack_require__.g.isSerialRunning()){if(!__webpack_require__.g.RUNNING)return;return new Promise((function(n,r){if(0!==t){Code.executionInProgress=!0;var i=new ow(e,t);lk.C.addCommand(i),__webpack_require__.g.soundInteface.intervalId=setInterval((0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:__webpack_require__.g.RUNNING||clearInterval(__webpack_require__.g.soundInteface.intervalId);case 1:case"end":return e.stop()}}),e)}))).bind(this),0),setTimeout((0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:clearInterval(__webpack_require__.g.soundInteface.intervalId),lk.C.cleanStack(),setTimeout((0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Code.executionInProgress=!1,n();case 2:case"end":return e.stop()}}),e)}))).bind(this),200);case 3:case"end":return e.stop()}}),e,this)}))).bind(this),1e3*t)}else n()}))}console.log("Not Connected")}}function aw(e){return lw.apply(this,arguments)}function lw(){return lw=(0,en.Z)(nn().mark((function e(t){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("cde"!==t){e.next=17;break}return U.Z.info("load CDE interfaces"),e.next=4,__webpack_require__.e(711).then(__webpack_require__.t.bind(__webpack_require__,9711,23));case 4:tO(),EO(),AO(),PO(),FO(),UO(),HO(),$O(),zO(),sk(),ak(),e.next=28;break;case 17:if("cdm"!==t){e.next=28;break}return U.Z.info("load CDM interfaces"),e.next=21,__webpack_require__.e(735).then(__webpack_require__.t.bind(__webpack_require__,6735,23));case 21:Nk(),Gk(),Qk(),tw(),nw(),rw(),sw();case 28:case"end":return e.stop()}}),e)}))),lw.apply(this,arguments)}__webpack_require__.g.soundInteface={};var cw=(0,S.g)(),uw=function(){var t=w(),n=(0,e.useContext)(x).msg,r=o((0,e.useState)("junior"),2),i=r[0],s=r[1];(0,e.useEffect)((function(){function e(){return e=(0,en.Z)(nn().mark((function e(){var t;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,aw(cw);case 2:return e.next=4,(0,B.J0)(cw);case 4:return e.next=6,(0,B.Ii)(cw);case 6:(0,B.Nq)(cw),(0,B.mK)(),(0,B.Ru)(cw),t=(0,B.FY)(),document.querySelector(".blocklyToolboxDiv").classList.add(t),localStorage.removeItem("droneData");case 12:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(AE,{type:i,changeType:function(e){var t;s(e),"cde"===cw?t="junior"===e?(0,A.jsx)(eb,{children:ub}):"senior"===e?(0,A.jsx)(eb,{children:hb}):(0,A.jsx)(eb,{children:ub}):"cdm"===cw&&(t="junior"===e?(0,A.jsx)(eb,{children:pb}):"senior"===e?(0,A.jsx)(eb,{children:db}):(0,A.jsx)(eb,{children:pb}));var n=(0,B.mB)(t);P().getMainWorkspace().updateToolbox(n),(0,B.mK)()}}),(0,A.jsxs)("div",{className:i,children:[(0,A.jsxs)(JE,{readOnly:!1,trashcan:!0,media:"https://blockly-demo.appspot.com/static/media/",move:{scrollbars:!0,drag:!0,wheel:!0},refreshTab:function(e){if(e.type!==P().Events.CHANGE&&e.type!==P().Events.MOVE||(0,B.fJ)(),e.type===P().Events.FINISHED_LOADING||e.type===P().Events.CHANGE||e.type===P().Events.MOVE||e.type===P().Events.CREATE){var r=(0,B.is)(null),i=(0,B.Yi)(),o="# ".concat(n.CODE_APPROXIMATION,"\n\nimport time\n").concat(r?"import keyboard\n":"","from codrone_edu.drone import *\n\n").concat(i?"start_time = time.time()\n\n":"","drone = Drone()\ndrone.open()\n\n");"cdm"===cw&&(o="import CoDrone_mini\nfrom CoDrone_mini import Direction, Note\n\ndrone = CoDrone_mini.CoDrone()\ndrone.pair()\n\n");var s=document.getElementById("content_python"),a=document.getElementById("content_javascript"),l=null,c=null;l=ab().workspaceToCode(P().getMainWorkspace()),l=(0,B.DU)(l),c=cb().workspaceToCode(P().getMainWorkspace()),U.Z.info(c),s.textContent=l,l=s.textContent,s.innerHTML=o+l+"\ndrone.close()",t(_b(o+l+"\ndrone.close()")),a.textContent=c,"function"==typeof PR.prettyPrintOne&&(c=a.textContent,c=(0,B.Gx)(c),c=PR.prettyPrintOne(c,"js"),a.innerHTML=c);var u=P().Xml.workspaceToDom(P().getMainWorkspace());localStorage.setItem(cw,P().Xml.domToText(u))}},children:["cde"===cw&&"junior"===i&&ub,"cde"===cw&&"senior"===i&&hb,"cdm"===cw&&"junior"===i&&pb,"cdm"===cw&&"senior"===i&&db]}),(0,A.jsx)("div",{id:"masterXml",className:"disabled"})]})]})};function hw(e){return pw.apply(this,arguments)}function pw(){return pw=(0,en.Z)(nn().mark((function e(t){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Code.device){e.next=2;break}return e.abrupt("return");case 2:if(__webpack_require__.g.RUNNING=!0,"cde"!==t){e.next=11;break}return __webpack_require__.g.FREEZEDASHBOARD=!1,__webpack_require__.g.disableRefreshBtn(),__webpack_require__.g.resetDataItem(),(0,on.Fc)(),e.next=10,__webpack_require__.g.setControllerMode();case 10:-1!==window.location.pathname.indexOf("staging")&&(__webpack_require__.g.START_TIME=Date.now());case 11:(0,B.zS)();case 12:case"end":return e.stop()}}),e)}))),pw.apply(this,arguments)}function dw(e){return fw.apply(this,arguments)}function fw(){return fw=(0,en.Z)(nn().mark((function e(t){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("cdm"!==t){e.next=5;break}return e.next=3,mw();case 3:e.next=7;break;case 5:return e.next=7,_w();case 7:case"end":return e.stop()}}),e)}))),fw.apply(this,arguments)}function _w(){return gw.apply(this,arguments)}function gw(){return(gw=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()||!__webpack_require__.g.RUNNING){e.next=13;break}return mb.j.cleanStack(),e.next=4,__webpack_require__.g.emergencyStop();case 4:return e.next=6,__webpack_require__.g.stopDroneBuzzer();case 6:return e.next=8,__webpack_require__.g.stopControllerBuzzer();case 8:__webpack_require__.g.RUNNING=!1,(0,on.Im)(),setTimeout((0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,__webpack_require__.g.droneBuzzerNoteOnly(Note.Fin);case 2:return e.next=4,__webpack_require__.g.controllerBuzzerNoteOnly(Note.Fin);case 4:case"end":return e.stop()}}),e)}))),1e3),e.next=16;break;case 13:return __webpack_require__.g.RUNNING=!0,e.next=16,__webpack_require__.g.emergencyStop();case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mw(){return vw.apply(this,arguments)}function vw(){return(vw=(0,en.Z)(nn().mark((function e(){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!__webpack_require__.g.isSerialRunning()||!__webpack_require__.g.RUNNING){e.next=12;break}return clearInterval(__webpack_require__.g.soundInteface.intervalId),lk.C.cleanStack(),e.next=5,__webpack_require__.g.play_note("Fin",1);case 5:return e.next=7,__webpack_require__.g.play_note("Fin",1);case 7:return e.next=9,__webpack_require__.g.emergencyStop();case 9:__webpack_require__.g.RUNNING=!1,e.next=15;break;case 12:return __webpack_require__.g.RUNNING=!0,e.next=15,__webpack_require__.g.emergencyStop();case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var yw=__webpack_require__.p+"static/media/spinner.bc68d3100442bef485c15d61a49c9ca6.svg",Tw=(0,S.g)(),Ew=function(t){var n=t.disabled,r=(0,e.useContext)(x).msg,i=o((0,e.useState)(!1),2),s=i[0],a=i[1];(0,e.useEffect)((function(){var e;e=u,__webpack_require__.g.enablePlayButton=e,__webpack_require__.g.RUNNING=!1}),[]);var l=function(){var e=(0,en.Z)(nn().mark((function e(t){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,hw(Tw);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=(0,en.Z)(nn().mark((function e(t){return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!1),e.next=3,dw(Tw);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){a(!1)};return(0,A.jsxs)("div",{className:"Execution",children:[(0,A.jsxs)("div",{className:"runButton",children:[(0,A.jsx)("button",{type:"button",id:"runButton",className:n||s?"blur":"",onClick:n||s?null:l}),s?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)("img",{className:"spinner",src:yw,alt:"spinner"}),(0,A.jsx)("span",{className:"running",children:r.BTN_RUNNING})]}):(0,A.jsx)("span",{className:"not-running",children:r.BTN_RUN})]}),(0,A.jsxs)("div",{className:"stopButton",children:[(0,A.jsx)("button",{type:"button",id:"stopButton",onClick:c}),(0,A.jsx)("span",{children:r.BTN_STOP})]})]})},bw=function(){var t=o((0,e.useState)(!1),2),n=t[0],r=t[1];(0,e.useEffect)((function(){var e;e=i,__webpack_require__.g.showDownloadNotif=e}),[]),(0,e.useEffect)((function(){n&&setTimeout((function(){r(!1)}),3e3)}),[n]);var i=function(){r(!0)};return(0,A.jsx)("div",{id:"notification",className:n?"show":"",children:(0,A.jsx)("div",{className:"alert alert-success",children:(0,A.jsx)("span",{children:"Downloaded"})})})};var Ow=__webpack_require__.p+"static/media/close.ddd56733e28f8350595ed5d15291b8cc.svg";var kw=__webpack_require__.p+"static/media/warning.eb7711743fe5ecd4a01bf32a5c98e494.svg",ww=function(e){var t=e.isOpen,n=e.close;return(0,A.jsx)("div",{id:"example-warning-bg",className:"".concat(t?"":"hide"),onClick:n,children:(0,A.jsxs)("div",{className:"example-warning",onClick:function(e){e.preventDefault(),e.stopPropagation()},children:[(0,A.jsx)("div",{className:"close",children:(0,A.jsx)("img",{src:Ow,alt:"x",onClick:n})}),(0,A.jsx)("div",{className:"md-header",children:(0,A.jsx)("div",{children:(0,A.jsx)("img",{src:kw,alt:""})})}),(0,A.jsx)("div",{className:"md-body",children:(0,A.jsx)("div",{className:"txt",children:"Opening this example and clearing your workspace will remove any blocks you have in your workspace. Be sure to download your code if you want to save your project."})}),(0,A.jsxs)("div",{className:"md-footer",children:[(0,A.jsx)("button",{onClick:n,children:"Cancel"}),(0,A.jsx)("button",{onClick:function(){var e=sessionStorage.getItem("copy-xml");e&&((0,B.GT)(e),__webpack_require__.g.toggleExWarn(!1),sessionStorage.removeItem("copy-xml"))},children:"Open"})]})]})})},Sw=Mt({name:"walkthrough",initialState:{isOpen:!1},reducers:{openWalkthrough:function(e){e.isOpen=!0},closeWalkThrough:function(e){e.isOpen=!1}}}),Iw=Sw.actions,Rw=(Iw.openWalkthrough,Iw.closeWalkThrough),Cw=Sw.reducer;__webpack_require__.p;__webpack_require__.p;var Aw=function(){var e=w(),t=g((function(e){return e.colorTheme})),n=t.isDark,r=g((function(e){return e.walkthrough})),i=r.isOpen;return(0,A.jsx)("div",{className:"walkthrough ".concat(n?"dark":"light"," ").concat(i?"":"hide"),onClick:function(){return e(Rw())}})},xw=(0,S.g)(),Mw=function(t){var n=g((function(e){return e.colorTheme})),r=n.isDark,i=o((0,e.useState)(!1),2),s=i[0],a=i[1],l=o((0,e.useState)(!1),2),c=l[0],u=l[1],h=o((0,e.useState)(!1),2),p=h[0],d=h[1],f=o((0,e.useState)("768px"),2),_=f[0],m=f[1],v=o((0,e.useState)(""),2),y=v[0],T=v[1],E=o((0,e.useState)(!0),2),b=E[0],O=E[1],k=o((0,e.useState)(!1),2),w=k[0],S=k[1];(0,e.useEffect)((function(){var e;fetch("https://pabl0xf.github.io/cde/images/icons/play.svg"),e=I,__webpack_require__.g.showConsole=e,function(e){__webpack_require__.g.disablePlayButton=e,__webpack_require__.g.RUNNING=!1}(R),function(e){__webpack_require__.g.toggleExWarn=e}(C);var t=window.innerWidth>1366?"768px":"50%";m(t)}),[]),(0,e.useEffect)((function(){if(p){var e="50%"===_?"calc(50% + 295px)":"".concat(parseInt(_)+295,"px");e.includes("px")&&parseInt(e)>window.innerWidth-275+130&&(e="".concat(window.innerWidth-275+130,"px")),T(e)}else T("")}),[p,_]);var I=function(e){u("boolean"===typeof e?e:function(e){return!e})},R=function(){O(!0)},C=function(e){"boolean"===typeof e&&S(e)};return(0,A.jsxs)("div",{className:"CoDroneBlockly ".concat(xw," ").concat(r?"dark":""),onClick:function(e){e.target.closest(".menu-btn")||e.target.closest(".menu-txt")||(e.target.closest(".menu")||a(!1))},onDragOver:B.$q,onDrop:B.Cw,children:[(0,A.jsx)(yE,{}),(0,A.jsx)(bw,{}),(0,A.jsx)(bv,{isOpen:p,setIsOpen:d,panelWidth:_,setPanelWidth:m}),(0,A.jsx)(ww,{isOpen:w,close:function(){return C(!1)}}),(0,A.jsx)(Yt,{isOpen:s,handleToggle:function(e){e.preventDefault(),e.stopPropagation(),a((function(e){return!e}))}}),(0,A.jsx)(Ew,{disabled:b}),(0,A.jsx)(_T,{}),(0,A.jsx)(zT,{}),(0,A.jsx)(mE,{}),(0,A.jsx)(CE,{}),(0,A.jsx)(uw,{}),(0,A.jsx)(VT,{enableRunButton:function(){O(!1)},disableRunButton:R}),(0,A.jsx)(jT,{isOpen:c,handleToggle:I,clearPos:y}),(0,A.jsx)(OE,{}),(0,A.jsx)(Aw,{})]})},Nw=(0,e.createContext)({drone:"cde"}),Lw=function(t){var n=o((0,e.useState)("cde"),2),r=n[0],i=n[1];return(0,e.useEffect)((function(){var e=window.location.href.match(/(?<=codrone.robolink.com\/)(.*?)(?=\/blockly)/);e&&i(e[0])}),[]),(0,A.jsx)(Nw.Provider,{value:{drone:r},children:t.children})},Dw=function(e){e&&e instanceof Function&&__webpack_require__.e(27).then(__webpack_require__.bind(__webpack_require__,4027)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),r(e),i(e),o(e),s(e)}))},Pw=function(e){var t,n=Ct(),r=e||{},i=r.reducer,o=void 0===i?void 0:i,s=r.middleware,a=void 0===s?n():s,l=r.devTools,c=void 0===l||l,u=r.preloadedState,h=void 0===u?void 0:u,p=r.enhancers,d=void 0===p?void 0:p;if("function"===typeof o)t=o;else{if(!St(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=st(o)}var f=a;"function"===typeof f&&(f=f(n));var _=lt.apply(void 0,f),g=at;c&&(g=wt(bt({trace:!1},"object"===typeof c&&c)));var m=[_];return Array.isArray(d)?m=ft([_],d):"function"===typeof d&&(m=d(m)),ot(t,h,g.apply(void 0,m))}({reducer:{battNotif:OT,colorTheme:Vt,pyCode:gb,walkthrough:Cw}});t.render((0,A.jsx)(e.StrictMode,{children:(0,A.jsx)(T,{store:Pw,children:(0,A.jsx)(fT,{children:(0,A.jsx)(Lw,{children:(0,A.jsx)(N,{children:(0,A.jsx)(Mw,{})})})})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/cde",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/cde","/service-worker.js");n?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var i=n.headers.get("content-type");404===n.status||null!=i&&-1===i.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):r(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):r(t,e)}))}}(),Dw()}()})();