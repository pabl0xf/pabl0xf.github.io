"use strict";(self.webpackChunkcodrone_blockly=self.webpackChunkcodrone_blockly||[]).push([[565],{4565:function(e,n,r){r.r(n);var t=r(5861),o=r(7757),c=r.n(o),s=r(2968);r.g.PR=window.PR,r.g.Code={},Code.droneData={battery:!1,trim:!1,angle:!1,temp:!1,height:!1,baseHeight:0,pressure:!1,range:!1,motion:!1,altitude:!1,position:!1,flow:!1,cardColor:!1,state:!1,allSensor:!1},Code.device=null,Code.listener=!1,Code.executionTimesCDE=0,Code.executionInProgress=!1,Code.commandManagerCDEInProgress=!1,Code.keypressInProgress=!1,r.g.RUNNING=!1,r.g.callstopExternalEvent=(0,t.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.g.enablePlayButton(),(0,s.Im)(),Code.keypressInProgress=!1;case 3:case"end":return e.stop()}}),e)}))),r.g.callStopFromCodeExecution=(0,t.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.g.RUNNING){e.next=5;break}return e.next=3,r.g.delay(1.5);case 3:r.g.enablePlayButton(),Code.keypressInProgress=!1;case 5:case"end":return e.stop()}}),e)}))),r.g.isSerialRunning=function(){return!(!Code.device||!Code.device.port)},r.g.disconnect=(0,t.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.g.emergencyStop();case 2:Code.listener=!1,setTimeout((0,t.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(0,s.Fc)(),clearInterval(r.g.BATTERY_INTERVAL),clearInterval(r.g.CONNECTION_INTERVAL),r.g.BATTERY_INTERVAL=null,r.g.CONNECTION_INTERVAL=null,e.next=8,r.g.stopDroneBuzzer();case 8:return e.next=10,r.g.stopControllerBuzzer();case 10:return r.g.RUNNING=!1,r.g.disablePlayButton(),r.g.showDisconnectedUI(),e.prev=13,e.next=16,Code.device.port.close();case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(13),Code.device=null;case 21:Code.device=null,e.next=27;break;case 24:e.prev=24,e.t1=e.catch(0),console.log(e.t1);case 27:case"end":return e.stop()}}),e,null,[[0,24],[13,18]])}))),500);case 4:case"end":return e.stop()}}),e)}))),r.g.codeIsRunning=(0,t.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.g.delay(.1);case 2:return e.abrupt("return",r.g.RUNNING);case 3:case"end":return e.stop()}}),e)}))),r.g.FREEZEDASHBOARD=!1,r.g.activateSensor=function(e){"frontColor"===e&&document.querySelector("#frontColor").classList.contains("inactive")||(r.g.changeSDMode(r.g.SDMode.PARTIALLY_ACTIVE),document.querySelector("#".concat(e)).classList.remove("inactive"))}}}]);